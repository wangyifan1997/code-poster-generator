<svg version="1.1"
                        viewBox="0 0 38900 30000"
                        width="38900" height="30000"
                        xml:space="preserve"
                        style="font-family: 'Source Code Pro'; font-size: 5px; font-weight: 500; white-space: normal;"
                        xmlns="http://www.w3.org/2000/svg"><text x="0" y="0"  fill="rgb(245 245 245)">import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfield</text><text x="0" y="5"  fill="rgb(245 245 245)">s: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id private keysInQuery: string[]; // all keys appeared in columns after being validated private transformation</text><text x="0" y="10"  fill="rgb(245 245 245)">Key: string[]; // keys appeared in transformation, if there is a transformation private allInsightDataset: InsightDataset[]; private mfields: string[]; private sfields: string[]; constructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.allInsightDataset = insightDatasets; } public validate(q: any): void { if (!q || !q</text><text x="0" y="15"  fill="rgb(245 245 245)">.WHERE || !q.OPTIONS) { throw new InsightError(); } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public validateTransformations(q: any): void { if (typeof q.</text><text x="0" y="20"  fill="rgb(245 245 245)">GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; || Object.keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should be an object, and should has at least one element } for (let key of q) { this.validateKey(key)</text><text x="0" y="25"  fill="rgb(245 245 245)">; this.transformationKey.push(key); // if the key is valid, push it to transformationKey } } private validateKey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightEr</text><text x="0" y="30"  fill="rgb(245 245 245)">ror(); } } private validateAPPLY(q: any): void { if (!Array.isArray(q)) { throw new InsightError(); // q should be an array, and should have at least one element } for (let applyrule of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } let applykey: string = Object.keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.le</text><text x="0" y="35"  fill="rgb(245 245 245)">ngth === 0 || applykey.includes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { throw new InsightError(); } this.transformationKey.push(applykey); if (Array.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new In</text><text x="0" y="40"  fill="rgb(245 245 245)">sightError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.m</text><text x="0" y="45"  fill="rgb(245 245 245)">fields.includes(key[1])))) { throw new InsightError(); } } } } public validateOptions(q: any): void { let keys: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw ne</text><text x="0" y="50"  fill="rgb(245 245 245)">w InsightError(); } for (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightError(); } } else { this.validateKey(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) {</text><text x="0" y="55"  fill="rgb(245 245 245)"> throw new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); } }</text><text x="0" y="60"  fill="rgb(245 245 245)"> } } public validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let value: any = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: t</text><text x="0" y="65"  fill="rgb(245 245 245)">his.validateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } this.validateFilter(value); } private validateIS(value: any)</text><text x="0" y="70"  fill="rgb(245 245 245)">: void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let str: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { thro</text><text x="0" y="75"  fill="rgb(245 245 245)">w new InsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== </text><text x="0" y="80"  fill="rgb(245 245 245)">2) { throw new InsightError(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: any): void { if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightErro</text><text x="0" y="85"  fill="rgb(245 245 245)">r(); } for (let innerObject of value) { this.validateFilter(innerObject); } } private validateIdstring(idstring: string): boolean { if (this.idInQuery.length === 0) { for (let insightDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.kind === InsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sf</text><text x="0" y="90"  fill="rgb(245 245 245)">ields = this.coursesfields; } else { this.mfields = this.roommfields; this.sfields = this.roomsfields; } return true; } } return false; } else { return this.idInQuery.includes(idstring); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly</text><text x="0" y="95"  fill="rgb(245 245 245)"> coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [</text><text x="0" y="100"  fill="rgb(245 245 245)">&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id private keysInQuery: string[]; // all keys appeared in columns after being validated private transformationKey: string[]; // keys appeared in transformation, if there is a transformation private allInsightDataset: InsightDataset[]; private mfie</text><text x="0" y="105"  fill="rgb(245 245 245)">lds: string[]; private sfields: string[]; constructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.allInsightDataset = insightDatasets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !==</text><text x="0" y="110"  fill="rgb(245 245 245)"> &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; || Object.keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(</text><text x="0" y="115"  fill="rgb(245 245 245)">q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should be an object, and should has at least one element } for (let key of q) { this.validateKey(key); this.transformationKey.push(key); // if the key is valid, push it to transformationKey } } private validateKey(key: string): void { let</text><text x="0" y="120"  fill="rgb(245 245 245)"> splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any): void { if (!Array.isArray(q)) { throw new InsightError(); // q should be an array, and should h</text><text x="0" y="125"  fill="rgb(245 245 245)">ave at least one element } for (let applyrule of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } let applykey: string = Object.keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { throw new InsightError(); } this.transformationKey.p</text><text x="0" y="130"  fill="rgb(245 245 245)">ush(applykey); if (Array.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.</text><text x="0" y="135"  fill="rgb(245 245 245)">includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightError(); } } } } public validateOptions(q: any): void { let keys: any[] = Object.keys(q); f</text><text x="0" y="140"  fill="rgb(245 245 245)">or (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColu</text><text x="594" y="140"  fill="rgb(246 246 246)">m</text><text x="597" y="140"  fill="rgb(247 247 246)">n</text><text x="600" y="140"  fill="rgb(247 248 247)">s</text><text x="603" y="140"  fill="rgb(249 250 248)">(q</text><text x="609" y="140"  fill="rgb(245 245 245)">: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw </text><text x="0" y="145"  fill="rgb(245 245 245)">new InsightError(); } } else { this.validateKey(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else if (type</text><text x="585" y="145"  fill="rgb(246 247 246)">o</text><text x="588" y="145"  fill="rgb(249 251 249)">f</text><text x="591" y="145"  fill="rgb(250 252 249)"> </text><text x="594" y="145"  fill="rgb(248 249 248)">q</text><text x="597" y="145"  fill="rgb(245 246 245)"> </text><text x="600" y="145"  fill="rgb(235 232 237)">=</text><text x="603" y="145"  fill="rgb(207 195 214)">=</text><text x="606" y="145"  fill="rgb(208 195 215)">=</text><text x="609" y="145"  fill="rgb(242 241 242)"> </text><text x="612" y="145"  fill="rgb(248 248 247)">&quot;</text><text x="615" y="145"  fill="rgb(245 245 245)">string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;</text><text x="0" y="150"  fill="rgb(245 245 245)">UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { if (!this.k</text><text x="576" y="150"  fill="rgb(246 246 246)">e</text><text x="579" y="150"  fill="rgb(250 251 249)">y</text><text x="582" y="150"  fill="rgb(254 255 253)">s</text><text x="585" y="150"  fill="rgb(251 253 250)">I</text><text x="588" y="150"  fill="rgb(242 242 243)">n</text><text x="591" y="150"  fill="rgb(227 220 230)">Q</text><text x="594" y="150"  fill="rgb(201 186 208)">u</text><text x="597" y="150"  fill="rgb(178 157 189)">e</text><text x="600" y="150"  fill="rgb(162 135 177)">r</text><text x="603" y="150"  fill="rgb(139 104 157)">y</text><text x="606" y="150"  fill="rgb(156 126 172)">.</text><text x="609" y="150"  fill="rgb(236 232 237)">i</text><text x="612" y="150"  fill="rgb(251 253 250)">n</text><text x="615" y="150"  fill="rgb(245 245 245)">cludes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { t</text><text x="0" y="155"  fill="rgb(245 245 245)">his.validateFilter(q); } } } private validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let value: any </text><text x="570" y="155"  fill="rgb(247 247 247)">=</text><text x="573" y="155"  fill="rgb(253 255 252)"> </text><text x="576" y="155"  fill="rgb(254 255 252)">O</text><text x="579" y="155"  fill="rgb(244 243 243)">b</text><text x="582" y="155"  fill="rgb(227 221 230)">j</text><text x="585" y="155"  fill="rgb(200 186 207)">e</text><text x="588" y="155"  fill="rgb(169 146 182)">c</text><text x="591" y="155"  fill="rgb(151 119 166)">t</text><text x="594" y="155"  fill="rgb(142 108 159)">.</text><text x="597" y="155"  fill="rgb(142 110 160)">v</text><text x="600" y="155"  fill="rgb(149 117 164)">a</text><text x="603" y="155"  fill="rgb(148 115 164)">l</text><text x="606" y="155"  fill="rgb(154 125 170)">u</text><text x="609" y="155"  fill="rgb(231 226 233)">e</text><text x="612" y="155"  fill="rgb(252 255 251)">s</text><text x="615" y="155"  fill="rgb(245 245 245)">(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value);</text><text x="0" y="160"  fill="rgb(245 245 245)"> break; case &quot;IS&quot;: this.validateIS(value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError()</text><text x="564" y="160"  fill="rgb(247 247 247)">;</text><text x="567" y="160"  fill="rgb(252 255 252)"> </text><text x="570" y="160"  fill="rgb(250 253 248)">}</text><text x="573" y="160"  fill="rgb(231 227 232)"> </text><text x="576" y="160"  fill="rgb(201 189 207)">t</text><text x="579" y="160"  fill="rgb(171 147 181)">h</text><text x="582" y="160"  fill="rgb(148 117 164)">i</text><text x="585" y="160"  fill="rgb(141 108 158)">s</text><text x="588" y="160"  fill="rgb(143 112 160)">.</text><text x="591" y="160"  fill="rgb(150 120 165)">v</text><text x="594" y="160"  fill="rgb(156 127 171)">a</text><text x="597" y="160"  fill="rgb(157 129 172)">l</text><text x="600" y="160"  fill="rgb(157 128 171)">i</text><text x="603" y="160"  fill="rgb(153 124 168)">d</text><text x="606" y="160"  fill="rgb(149 120 166)">a</text><text x="609" y="160"  fill="rgb(223 215 226)">t</text><text x="612" y="160"  fill="rgb(252 254 251)">e</text><text x="615" y="160"  fill="rgb(246 246 245)">F</text><text x="618" y="160"  fill="rgb(245 245 245)">ilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } </text><text x="0" y="165"  fill="rgb(245 245 245)">let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let str:</text><text x="555" y="165"  fill="rgb(247 248 247)"> </text><text x="558" y="165"  fill="rgb(249 250 248)">a</text><text x="561" y="165"  fill="rgb(251 253 250)">n</text><text x="564" y="165"  fill="rgb(240 240 240)">y</text><text x="567" y="165"  fill="rgb(212 204 216)"> </text><text x="570" y="165"  fill="rgb(180 163 190)">=</text><text x="573" y="165"  fill="rgb(152 124 165)"> </text><text x="576" y="165"  fill="rgb(140 109 157)">O</text><text x="579" y="165"  fill="rgb(142 110 157)">b</text><text x="582" y="165"  fill="rgb(149 117 163)">j</text><text x="585" y="165"  fill="rgb(156 126 169)">e</text><text x="588" y="165"  fill="rgb(157 130 171)">c</text><text x="591" y="165"  fill="rgb(156 129 171)">t</text><text x="594" y="165"  fill="rgb(155 127 170)">.</text><text x="597" y="165"  fill="rgb(156 126 170)">v</text><text x="600" y="165"  fill="rgb(156 127 170)">a</text><text x="603" y="165"  fill="rgb(154 126 169)">l</text><text x="606" y="165"  fill="rgb(149 118 165)">u</text><text x="609" y="165"  fill="rgb(211 200 217)">e</text><text x="612" y="165"  fill="rgb(250 252 249)">s</text><text x="615" y="165"  fill="rgb(246 246 246)">(</text><text x="618" y="165"  fill="rgb(245 245 245)">value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)</text><text x="0" y="170"  fill="rgb(245 245 245)">) { throw new InsightError(); } } } } private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let m</text><text x="546" y="170"  fill="rgb(245 244 245)">k</text><text x="549" y="170"  fill="rgb(248 248 247)">e</text><text x="552" y="170"  fill="rgb(255 255 253)">y</text><text x="555" y="170"  fill="rgb(254 254 252)">:</text><text x="558" y="170"  fill="rgb(231 228 232)"> </text><text x="561" y="170"  fill="rgb(196 183 202)">s</text><text x="564" y="170"  fill="rgb(167 145 177)">t</text><text x="567" y="170"  fill="rgb(145 117 160)">r</text><text x="570" y="170"  fill="rgb(141 110 157)">i</text><text x="573" y="170"  fill="rgb(145 116 160)">n</text><text x="576" y="170"  fill="rgb(152 125 166)">g</text><text x="579" y="170"  fill="rgb(156 130 170)">[</text><text x="582" y="170"  fill="rgb(157 131 170)">]</text><text x="585" y="170"  fill="rgb(156 129 169)"> </text><text x="588" y="170"  fill="rgb(156 127 170)">=</text><text x="591" y="170"  fill="rgb(156 127 169)"> </text><text x="594" y="170"  fill="rgb(155 128 170)">O</text><text x="597" y="170"  fill="rgb(156 128 170)">b</text><text x="600" y="170"  fill="rgb(156 127 170)">j</text><text x="603" y="170"  fill="rgb(157 128 171)">e</text><text x="606" y="170"  fill="rgb(147 115 163)">c</text><text x="609" y="170"  fill="rgb(200 186 208)">t</text><text x="612" y="170"  fill="rgb(248 249 247)">.</text><text x="615" y="170"  fill="rgb(246 247 246)">k</text><text x="618" y="170"  fill="rgb(245 245 245)">eys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)</text><text x="0" y="175"  fill="rgb(245 245 245)">[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: any): void </text><text x="540" y="175"  fill="rgb(244 244 244)">{</text><text x="543" y="175"  fill="rgb(245 245 245)"> </text><text x="546" y="175"  fill="rgb(255 255 255)">if</text><text x="552" y="175"  fill="rgb(230 225 233)"> </text><text x="555" y="175"  fill="rgb(144 123 158)">(</text><text x="558" y="175"  fill="rgb(105 69 126)">!</text><text x="561" y="175"  fill="rgb(145 116 160)">A</text><text x="564" y="175"  fill="rgb(150 122 162)">r</text><text x="567" y="175"  fill="rgb(152 124 164)">r</text><text x="570" y="175"  fill="rgb(154 129 167)">a</text><text x="573" y="175"  fill="rgb(156 131 169)">y.</text><text x="579" y="175"  fill="rgb(155 129 169)">isAr</text><text x="591" y="175"  fill="rgb(156 128 170)">ray(</text><text x="603" y="175"  fill="rgb(157 128 171)">v</text><text x="606" y="175"  fill="rgb(147 116 163)">a</text><text x="609" y="175"  fill="rgb(191 173 199)">l</text><text x="612" y="175"  fill="rgb(246 246 246)">u</text><text x="615" y="175"  fill="rgb(247 247 247)">e</text><text x="618" y="175"  fill="rgb(245 245 245)">) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { this.validateFilter(innerObject); } } private validateIdstring(idstring: string): boolean { if (t</text><text x="0" y="180"  fill="rgb(245 245 245)">his.idInQuery.length === 0) { for (let insightDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.kind ===</text><text x="537" y="180"  fill="rgb(245 244 245)"> </text><text x="540" y="180"  fill="rgb(252 253 251)">I</text><text x="543" y="180"  fill="rgb(255 255 255)">n</text><text x="546" y="180"  fill="rgb(241 239 240)">s</text><text x="549" y="180"  fill="rgb(166 142 178)">i</text><text x="552" y="180"  fill="rgb(77 39 102)">g</text><text x="555" y="180"  fill="rgb(26 0 59)">h</text><text x="558" y="180"  fill="rgb(74 30 101)">t</text><text x="561" y="180"  fill="rgb(161 136 173)">D</text><text x="564" y="180"  fill="rgb(160 136 172)">a</text><text x="567" y="180"  fill="rgb(157 130 169)">t</text><text x="570" y="180"  fill="rgb(156 130 168)">a</text><text x="573" y="180"  fill="rgb(156 130 169)">set</text><text x="582" y="180"  fill="rgb(155 129 169)">Kin</text><text x="591" y="180"  fill="rgb(156 129 169)">d</text><text x="594" y="180"  fill="rgb(157 128 170)">.</text><text x="597" y="180"  fill="rgb(156 129 170)">C</text><text x="600" y="180"  fill="rgb(157 128 170)">o</text><text x="603" y="180"  fill="rgb(156 129 170)">u</text><text x="606" y="180"  fill="rgb(149 119 165)">r</text><text x="609" y="180"  fill="rgb(179 159 189)">s</text><text x="612" y="180"  fill="rgb(242 242 243)">e</text><text x="615" y="180"  fill="rgb(247 248 247)">s</text><text x="618" y="180"  fill="rgb(245 245 245)">) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { this.mfields = this.roommfields; this.sfields = this.roomsfields; } return true; } } return false; }</text><text x="0" y="185"  fill="rgb(245 245 245)"> else { return this.idInQuery.includes(idstring); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError} from </text><text x="534" y="185"  fill="rgb(247 247 247)">&quot;</text><text x="537" y="185"  fill="rgb(255 255 253)">.</text><text x="540" y="185"  fill="rgb(250 254 248)">/</text><text x="543" y="185"  fill="rgb(194 179 200)">I</text><text x="546" y="185"  fill="rgb(95 57 116)">I</text><text x="549" y="185"  fill="rgb(36 0 69)">n</text><text x="552" y="185"  fill="rgb(41 0 72)">s</text><text x="555" y="185"  fill="rgb(50 0 78)">i</text><text x="558" y="185"  fill="rgb(89 40 111)">g</text><text x="561" y="185"  fill="rgb(160 136 172)">h</text><text x="564" y="185"  fill="rgb(159 136 172)">t</text><text x="567" y="185"  fill="rgb(155 130 169)">F</text><text x="570" y="185"  fill="rgb(156 132 169)">a</text><text x="573" y="185"  fill="rgb(156 130 169)">cade</text><text x="585" y="185"  fill="rgb(156 130 170)">&quot;; </text><text x="594" y="185"  fill="rgb(157 130 170)">e</text><text x="597" y="185"  fill="rgb(157 129 169)">x</text><text x="600" y="185"  fill="rgb(156 129 169)">p</text><text x="603" y="185"  fill="rgb(158 130 171)">o</text><text x="606" y="185"  fill="rgb(152 123 167)">r</text><text x="609" y="185"  fill="rgb(167 142 180)">t</text><text x="612" y="185"  fill="rgb(239 237 240)"> </text><text x="615" y="185"  fill="rgb(249 250 248)">d</text><text x="618" y="185"  fill="rgb(245 245 245)">efault class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructo</text><text x="0" y="190"  fill="rgb(245 245 245)">r&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;a</text><text x="528" y="190"  fill="rgb(246 246 246)">d</text><text x="531" y="190"  fill="rgb(250 251 249)">d</text><text x="534" y="190"  fill="rgb(248 250 246)">r</text><text x="537" y="190"  fill="rgb(211 203 214)">e</text><text x="540" y="190"  fill="rgb(128 96 144)">s</text><text x="543" y="190"  fill="rgb(53 6 81)">s</text><text x="546" y="190"  fill="rgb(36 0 67)">&quot;</text><text x="549" y="190"  fill="rgb(56 5 84)">,</text><text x="552" y="190"  fill="rgb(64 9 92)"> </text><text x="555" y="190"  fill="rgb(52 0 80)">&quot;</text><text x="558" y="190"  fill="rgb(83 37 106)">t</text><text x="561" y="190"  fill="rgb(158 134 170)">y</text><text x="564" y="190"  fill="rgb(161 139 173)">p</text><text x="567" y="190"  fill="rgb(156 132 168)">e&quot;</text><text x="573" y="190"  fill="rgb(156 131 168)">,</text><text x="576" y="190"  fill="rgb(156 131 169)"> &quot;f</text><text x="585" y="190"  fill="rgb(157 131 169)">ur</text><text x="591" y="190"  fill="rgb(156 130 169)">n</text><text x="594" y="190"  fill="rgb(156 130 170)">i</text><text x="597" y="190"  fill="rgb(157 130 170)">t</text><text x="600" y="190"  fill="rgb(157 129 170)">u</text><text x="603" y="190"  fill="rgb(157 130 170)">r</text><text x="606" y="190"  fill="rgb(155 127 168)">e</text><text x="609" y="190"  fill="rgb(160 133 174)">&quot;</text><text x="612" y="190"  fill="rgb(230 225 232)">,</text><text x="615" y="190"  fill="rgb(248 249 248)"> </text><text x="618" y="190"  fill="rgb(245 245 245)">&quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has</text><text x="0" y="195"  fill="rgb(245 245 245)"> one id private keysInQuery: string[]; // all keys appeared in columns after being validated private transformationKey: string[]; // keys appeared in transformation, if there</text><text x="522" y="195"  fill="rgb(246 246 246)"> </text><text x="525" y="195"  fill="rgb(249 250 248)">i</text><text x="528" y="195"  fill="rgb(248 250 246)">s</text><text x="531" y="195"  fill="rgb(224 222 225)"> </text><text x="534" y="195"  fill="rgb(161 141 172)">a</text><text x="537" y="195"  fill="rgb(82 39 105)"> </text><text x="540" y="195"  fill="rgb(41 0 72)">t</text><text x="543" y="195"  fill="rgb(48 0 78)">r</text><text x="546" y="195"  fill="rgb(63 11 89)">a</text><text x="549" y="195"  fill="rgb(65 11 91)">n</text><text x="552" y="195"  fill="rgb(63 10 90)">s</text><text x="555" y="195"  fill="rgb(53 0 82)">f</text><text x="558" y="195"  fill="rgb(76 28 100)">o</text><text x="561" y="195"  fill="rgb(152 128 164)">r</text><text x="564" y="195"  fill="rgb(164 142 174)">m</text><text x="567" y="195"  fill="rgb(157 133 169)">at</text><text x="573" y="195"  fill="rgb(156 132 168)">i</text><text x="576" y="195"  fill="rgb(157 133 169)">o</text><text x="579" y="195"  fill="rgb(156 132 168)">n</text><text x="582" y="195"  fill="rgb(156 132 169)"> </text><text x="585" y="195"  fill="rgb(156 131 169)">pr</text><text x="591" y="195"  fill="rgb(157 131 169)">i</text><text x="594" y="195"  fill="rgb(156 130 169)">v</text><text x="597" y="195"  fill="rgb(157 131 170)">at</text><text x="603" y="195"  fill="rgb(157 130 171)">e</text><text x="606" y="195"  fill="rgb(155 129 170)"> </text><text x="609" y="195"  fill="rgb(154 127 168)">a</text><text x="612" y="195"  fill="rgb(218 210 223)">l</text><text x="615" y="195"  fill="rgb(248 249 248)">l</text><text x="618" y="195"  fill="rgb(245 245 245)">InsightDataset: InsightDataset[]; private mfields: string[]; private sfields: string[]; constructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; th</text><text x="0" y="200"  fill="rgb(245 245 245)">is.transformationKey = []; this.allInsightDataset = insightDatasets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (</text><text x="516" y="200"  fill="rgb(246 246 245)">l</text><text x="519" y="200"  fill="rgb(249 249 248)">e</text><text x="522" y="200"  fill="rgb(250 253 248)">t</text><text x="525" y="200"  fill="rgb(239 241 238)"> </text><text x="528" y="200"  fill="rgb(198 188 202)">k</text><text x="531" y="200"  fill="rgb(121 88 137)">e</text><text x="534" y="200"  fill="rgb(57 6 84)">y</text><text x="537" y="200"  fill="rgb(44 0 74)"> </text><text x="540" y="200"  fill="rgb(57 8 86)">o</text><text x="543" y="200"  fill="rgb(63 12 91)">f</text><text x="546" y="200"  fill="rgb(62 12 91)"> </text><text x="549" y="200"  fill="rgb(62 10 89)">O</text><text x="552" y="200"  fill="rgb(63 10 89)">b</text><text x="555" y="200"  fill="rgb(55 0 83)">j</text><text x="558" y="200"  fill="rgb(71 20 97)">e</text><text x="561" y="200"  fill="rgb(149 123 162)">c</text><text x="564" y="200"  fill="rgb(166 145 176)">t</text><text x="567" y="200"  fill="rgb(156 132 168)">.</text><text x="570" y="200"  fill="rgb(157 133 169)">k</text><text x="573" y="200"  fill="rgb(156 132 168)">ey</text><text x="579" y="200"  fill="rgb(157 133 169)">s(</text><text x="585" y="200"  fill="rgb(156 133 169)">q</text><text x="588" y="200"  fill="rgb(156 132 170)">)</text><text x="591" y="200"  fill="rgb(157 131 170)">)</text><text x="594" y="200"  fill="rgb(158 131 169)"> </text><text x="597" y="200"  fill="rgb(157 131 170)">{ </text><text x="603" y="200"  fill="rgb(158 131 170)">i</text><text x="606" y="200"  fill="rgb(159 133 173)">f</text><text x="609" y="200"  fill="rgb(156 128 171)"> </text><text x="612" y="200"  fill="rgb(208 199 215)">(</text><text x="615" y="200"  fill="rgb(248 249 247)">k</text><text x="618" y="200"  fill="rgb(245 245 245)">ey !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.</text><text x="0" y="205"  fill="rgb(245 245 245)">TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot;</text><text x="510" y="205"  fill="rgb(246 245 246)"> |</text><text x="516" y="205"  fill="rgb(248 249 247)">|</text><text x="519" y="205"  fill="rgb(243 245 241)"> </text><text x="522" y="205"  fill="rgb(220 219 221)">O</text><text x="525" y="205"  fill="rgb(167 149 176)">b</text><text x="528" y="205"  fill="rgb(92 50 113)">j</text><text x="531" y="205"  fill="rgb(48 0 75)">e</text><text x="534" y="205"  fill="rgb(53 1 81)">c</text><text x="537" y="205"  fill="rgb(62 13 89)">t</text><text x="540" y="205"  fill="rgb(63 13 89)">.</text><text x="543" y="205"  fill="rgb(63 12 89)">k</text><text x="546" y="205"  fill="rgb(62 12 90)">ey</text><text x="552" y="205"  fill="rgb(62 13 90)">s</text><text x="555" y="205"  fill="rgb(56 3 85)">(</text><text x="558" y="205"  fill="rgb(65 11 90)">q</text><text x="561" y="205"  fill="rgb(141 112 155)">)</text><text x="564" y="205"  fill="rgb(167 146 177)">.</text><text x="567" y="205"  fill="rgb(157 133 168)">len</text><text x="576" y="205"  fill="rgb(157 133 169)">gth </text><text x="588" y="205"  fill="rgb(156 133 169)">!=</text><text x="594" y="205"  fill="rgb(157 132 169)">=</text><text x="597" y="205"  fill="rgb(158 132 170)"> </text><text x="600" y="205"  fill="rgb(160 135 173)">2</text><text x="603" y="205"  fill="rgb(163 139 175)">)</text><text x="606" y="205"  fill="rgb(162 137 175)"> </text><text x="609" y="205"  fill="rgb(147 117 161)">{</text><text x="612" y="205"  fill="rgb(186 170 196)"> </text><text x="615" y="205"  fill="rgb(248 248 248)">t</text><text x="618" y="205"  fill="rgb(245 246 245)">h</text><text x="621" y="205"  fill="rgb(245 245 245)">row new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new Insight</text><text x="0" y="210"  fill="rgb(245 245 245)">Error(); // q should be an object, and should has at least one element } for (let key of q) { this.validateKey(key); this.transformationKey.push(key); // if the key is va</text><text x="510" y="210"  fill="rgb(246 247 246)">l</text><text x="513" y="210"  fill="rgb(246 247 245)">i</text><text x="516" y="210"  fill="rgb(230 230 229)">d</text><text x="519" y="210"  fill="rgb(193 185 197)">,</text><text x="522" y="210"  fill="rgb(135 108 148)"> </text><text x="525" y="210"  fill="rgb(71 25 95)">p</text><text x="528" y="210"  fill="rgb(49 0 76)">u</text><text x="531" y="210"  fill="rgb(61 10 86)">s</text><text x="534" y="210"  fill="rgb(66 16 91)">h</text><text x="537" y="210"  fill="rgb(63 14 88)"> </text><text x="540" y="210"  fill="rgb(64 14 88)">i</text><text x="543" y="210"  fill="rgb(62 14 89)">t</text><text x="546" y="210"  fill="rgb(63 13 89)"> </text><text x="549" y="210"  fill="rgb(62 12 89)">t</text><text x="552" y="210"  fill="rgb(62 13 90)">o</text><text x="555" y="210"  fill="rgb(58 7 86)"> </text><text x="558" y="210"  fill="rgb(59 4 85)">t</text><text x="561" y="210"  fill="rgb(130 98 145)">r</text><text x="564" y="210"  fill="rgb(168 148 176)">a</text><text x="567" y="210"  fill="rgb(158 134 169)">nsf</text><text x="576" y="210"  fill="rgb(157 133 168)">or</text><text x="582" y="210"  fill="rgb(157 133 169)">m</text><text x="585" y="210"  fill="rgb(158 134 170)">a</text><text x="588" y="210"  fill="rgb(157 133 169)">t</text><text x="591" y="210"  fill="rgb(158 133 170)">i</text><text x="594" y="210"  fill="rgb(160 137 172)">o</text><text x="597" y="210"  fill="rgb(163 139 174)">n</text><text x="600" y="210"  fill="rgb(160 134 172)">K</text><text x="603" y="210"  fill="rgb(147 121 161)">e</text><text x="606" y="210"  fill="rgb(132 103 147)">y</text><text x="609" y="210"  fill="rgb(110 76 128)"> </text><text x="612" y="210"  fill="rgb(153 127 165)">}</text><text x="615" y="210"  fill="rgb(247 246 247)"> </text><text x="618" y="210"  fill="rgb(246 246 246)">}</text><text x="621" y="210"  fill="rgb(245 245 245)"> private validateKey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splitted</text><text x="0" y="215"  fill="rgb(245 245 245)">Key[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any): void { if (</text><text x="504" y="215"  fill="rgb(246 246 246)">!</text><text x="507" y="215"  fill="rgb(245 246 245)">A</text><text x="510" y="215"  fill="rgb(241 243 240)">r</text><text x="513" y="215"  fill="rgb(216 213 217)">r</text><text x="516" y="215"  fill="rgb(173 158 180)">a</text><text x="519" y="215"  fill="rgb(111 78 128)">y</text><text x="522" y="215"  fill="rgb(57 8 84)">.</text><text x="525" y="215"  fill="rgb(51 0 78)">i</text><text x="528" y="215"  fill="rgb(63 17 88)">s</text><text x="531" y="215"  fill="rgb(66 18 91)">A</text><text x="534" y="215"  fill="rgb(64 14 89)">r</text><text x="537" y="215"  fill="rgb(64 15 89)">r</text><text x="540" y="215"  fill="rgb(64 14 89)">ay</text><text x="546" y="215"  fill="rgb(63 14 90)">(</text><text x="549" y="215"  fill="rgb(63 13 89)">q</text><text x="552" y="215"  fill="rgb(62 12 89)">)</text><text x="555" y="215"  fill="rgb(62 10 87)">)</text><text x="558" y="215"  fill="rgb(52 0 82)"> </text><text x="561" y="215"  fill="rgb(117 82 135)">{</text><text x="564" y="215"  fill="rgb(168 149 177)"> </text><text x="567" y="215"  fill="rgb(158 134 169)">t</text><text x="570" y="215"  fill="rgb(157 134 168)">h</text><text x="573" y="215"  fill="rgb(158 134 168)">r</text><text x="576" y="215"  fill="rgb(158 134 169)">o</text><text x="579" y="215"  fill="rgb(157 133 168)">w </text><text x="585" y="215"  fill="rgb(158 135 169)">n</text><text x="588" y="215"  fill="rgb(162 138 173)">e</text><text x="591" y="215"  fill="rgb(163 140 174)">w</text><text x="594" y="215"  fill="rgb(155 131 168)"> </text><text x="597" y="215"  fill="rgb(141 114 155)">I</text><text x="600" y="215"  fill="rgb(126 97 141)">n</text><text x="603" y="215"  fill="rgb(116 86 132)">s</text><text x="606" y="215"  fill="rgb(114 83 130)">i</text><text x="609" y="215"  fill="rgb(109 76 128)">g</text><text x="612" y="215"  fill="rgb(132 102 147)">h</text><text x="615" y="215"  fill="rgb(233 230 233)">t</text><text x="618" y="215"  fill="rgb(247 248 247)">E</text><text x="621" y="215"  fill="rgb(245 245 245)">rror(); // q should be an array, and should have at least one element } for (let applyrule of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new Insi</text><text x="0" y="220"  fill="rgb(245 245 245)">ghtError(); } let applykey: string = Object.keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this.transf</text><text x="498" y="220"  fill="rgb(246 246 246)">o</text><text x="501" y="220"  fill="rgb(245 245 245)">r</text><text x="504" y="220"  fill="rgb(242 243 241)">m</text><text x="507" y="220"  fill="rgb(232 233 232)">a</text><text x="510" y="220"  fill="rgb(204 197 206)">t</text><text x="513" y="220"  fill="rgb(159 140 168)">i</text><text x="516" y="220"  fill="rgb(97 60 115)">o</text><text x="519" y="220"  fill="rgb(52 3 79)">n</text><text x="522" y="220"  fill="rgb(55 6 80)">K</text><text x="525" y="220"  fill="rgb(65 19 89)">e</text><text x="528" y="220"  fill="rgb(65 19 90)">y</text><text x="531" y="220"  fill="rgb(64 17 89)">.i</text><text x="537" y="220"  fill="rgb(64 16 89)">n</text><text x="540" y="220"  fill="rgb(64 15 89)">c</text><text x="543" y="220"  fill="rgb(64 14 89)">l</text><text x="546" y="220"  fill="rgb(64 15 89)">u</text><text x="549" y="220"  fill="rgb(64 15 90)">d</text><text x="552" y="220"  fill="rgb(63 14 90)">e</text><text x="555" y="220"  fill="rgb(63 13 90)">s</text><text x="558" y="220"  fill="rgb(50 0 80)">(</text><text x="561" y="220"  fill="rgb(101 63 121)">a</text><text x="564" y="220"  fill="rgb(164 146 175)">p</text><text x="567" y="220"  fill="rgb(161 138 171)">p</text><text x="570" y="220"  fill="rgb(157 134 168)">ly</text><text x="576" y="220"  fill="rgb(158 135 169)">k</text><text x="579" y="220"  fill="rgb(159 136 170)">e</text><text x="582" y="220"  fill="rgb(161 138 173)">y</text><text x="585" y="220"  fill="rgb(161 138 172)">)</text><text x="588" y="220"  fill="rgb(152 128 165)">)</text><text x="591" y="220"  fill="rgb(136 111 151)"> </text><text x="594" y="220"  fill="rgb(124 95 138)">{</text><text x="597" y="220"  fill="rgb(116 86 132)"> </text><text x="600" y="220"  fill="rgb(117 86 131)">t</text><text x="603" y="220"  fill="rgb(120 88 134)">h</text><text x="606" y="220"  fill="rgb(120 89 136)">r</text><text x="609" y="220"  fill="rgb(116 83 134)">o</text><text x="612" y="220"  fill="rgb(117 85 135)">w</text><text x="615" y="220"  fill="rgb(208 202 212)"> </text><text x="618" y="220"  fill="rgb(251 252 250)">n</text><text x="621" y="220"  fill="rgb(245 245 245)">ew InsightError(); } this.transformationKey.push(applykey); if (Array.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Ob</text><text x="0" y="225"  fill="rgb(245 245 245)">ject.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria[apply</text><text x="495" y="225"  fill="rgb(247 247 247)">t</text><text x="498" y="225"  fill="rgb(244 243 244)">o</text><text x="501" y="225"  fill="rgb(241 241 240)">k</text><text x="504" y="225"  fill="rgb(225 224 225)">e</text><text x="507" y="225"  fill="rgb(193 185 197)">n</text><text x="510" y="225"  fill="rgb(150 129 160)">]</text><text x="513" y="225"  fill="rgb(88 47 108)">.</text><text x="516" y="225"  fill="rgb(54 4 79)">s</text><text x="519" y="225"  fill="rgb(61 14 85)">p</text><text x="522" y="225"  fill="rgb(67 22 91)">l</text><text x="525" y="225"  fill="rgb(67 21 90)">i</text><text x="528" y="225"  fill="rgb(66 20 90)">t</text><text x="531" y="225"  fill="rgb(66 18 90)">(</text><text x="534" y="225"  fill="rgb(64 17 90)">&quot;</text><text x="537" y="225"  fill="rgb(64 17 89)">_&quot;</text><text x="543" y="225"  fill="rgb(64 16 89)">)</text><text x="546" y="225"  fill="rgb(64 15 89)">;</text><text x="549" y="225"  fill="rgb(64 15 90)"> if</text><text x="558" y="225"  fill="rgb(53 1 81)"> </text><text x="561" y="225"  fill="rgb(85 43 108)">(</text><text x="564" y="225"  fill="rgb(159 138 170)">k</text><text x="567" y="225"  fill="rgb(163 142 173)">e</text><text x="570" y="225"  fill="rgb(157 134 168)">y</text><text x="573" y="225"  fill="rgb(159 137 171)">.</text><text x="576" y="225"  fill="rgb(162 140 174)">l</text><text x="579" y="225"  fill="rgb(160 138 172)">e</text><text x="582" y="225"  fill="rgb(149 125 162)">n</text><text x="585" y="225"  fill="rgb(135 108 149)">g</text><text x="588" y="225"  fill="rgb(123 95 137)">t</text><text x="591" y="225"  fill="rgb(118 89 132)">h</text><text x="594" y="225"  fill="rgb(120 90 134)"> </text><text x="597" y="225"  fill="rgb(121 91 135)">!</text><text x="600" y="225"  fill="rgb(121 91 136)">=</text><text x="603" y="225"  fill="rgb(122 91 137)">=</text><text x="606" y="225"  fill="rgb(121 89 136)"> </text><text x="609" y="225"  fill="rgb(119 85 134)">2</text><text x="612" y="225"  fill="rgb(110 76 128)">)</text><text x="615" y="225"  fill="rgb(181 164 189)"> </text><text x="618" y="225"  fill="rgb(255 255 254)">{</text><text x="621" y="225"  fill="rgb(245 245 245)"> throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (t</text><text x="0" y="230"  fill="rgb(245 245 245)">his.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightEr</text><text x="489" y="230"  fill="rgb(246 246 245)">r</text><text x="492" y="230"  fill="rgb(247 247 247)">o</text><text x="495" y="230"  fill="rgb(242 242 242)">r</text><text x="498" y="230"  fill="rgb(238 239 238)">(</text><text x="501" y="230"  fill="rgb(219 217 220)">)</text><text x="504" y="230"  fill="rgb(181 169 187)">;</text><text x="507" y="230"  fill="rgb(140 116 152)"> </text><text x="510" y="230"  fill="rgb(80 39 101)">}</text><text x="513" y="230"  fill="rgb(53 5 78)"> </text><text x="516" y="230"  fill="rgb(65 20 89)">}</text><text x="519" y="230"  fill="rgb(68 22 91)"> </text><text x="522" y="230"  fill="rgb(67 22 91)">}</text><text x="525" y="230"  fill="rgb(67 21 90)"> }</text><text x="531" y="230"  fill="rgb(66 20 89)"> </text><text x="534" y="230"  fill="rgb(66 19 90)">p</text><text x="537" y="230"  fill="rgb(65 18 90)">u</text><text x="540" y="230"  fill="rgb(65 18 89)">b</text><text x="543" y="230"  fill="rgb(64 18 89)">l</text><text x="546" y="230"  fill="rgb(64 17 89)">i</text><text x="549" y="230"  fill="rgb(64 16 89)">c</text><text x="552" y="230"  fill="rgb(64 16 90)"> </text><text x="555" y="230"  fill="rgb(65 16 91)">v</text><text x="558" y="230"  fill="rgb(57 6 84)">a</text><text x="561" y="230"  fill="rgb(71 22 94)">l</text><text x="564" y="230"  fill="rgb(149 123 160)">i</text><text x="567" y="230"  fill="rgb(167 147 176)">d</text><text x="570" y="230"  fill="rgb(163 141 173)">a</text><text x="573" y="230"  fill="rgb(162 141 172)">t</text><text x="576" y="230"  fill="rgb(150 126 161)">e</text><text x="579" y="230"  fill="rgb(133 106 146)">O</text><text x="582" y="230"  fill="rgb(121 93 135)">p</text><text x="585" y="230"  fill="rgb(119 90 133)">t</text><text x="588" y="230"  fill="rgb(122 93 134)">i</text><text x="591" y="230"  fill="rgb(123 94 136)">o</text><text x="594" y="230"  fill="rgb(123 93 137)">n</text><text x="597" y="230"  fill="rgb(123 92 137)">s</text><text x="600" y="230"  fill="rgb(122 91 136)">(</text><text x="603" y="230"  fill="rgb(120 90 137)">q</text><text x="606" y="230"  fill="rgb(120 89 136)">:</text><text x="609" y="230"  fill="rgb(120 87 135)"> </text><text x="612" y="230"  fill="rgb(108 72 126)">a</text><text x="615" y="230"  fill="rgb(152 128 163)">n</text><text x="618" y="230"  fill="rgb(251 253 251)">y</text><text x="621" y="230"  fill="rgb(247 247 246)">)</text><text x="624" y="230"  fill="rgb(245 245 245)">: void { let keys: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.O</text><text x="0" y="235"  fill="rgb(245 245 245)">RDER) { this.validateOrder(q.ORDER); } } private validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (t</text><text x="489" y="235"  fill="rgb(247 247 247)">h</text><text x="492" y="235"  fill="rgb(239 239 240)">i</text><text x="495" y="235"  fill="rgb(235 235 234)">s</text><text x="498" y="235"  fill="rgb(212 208 213)">.</text><text x="501" y="235"  fill="rgb(172 158 179)">t</text><text x="504" y="235"  fill="rgb(131 106 143)">r</text><text x="507" y="235"  fill="rgb(72 29 93)">a</text><text x="510" y="235"  fill="rgb(56 9 80)">n</text><text x="513" y="235"  fill="rgb(68 25 90)">s</text><text x="516" y="235"  fill="rgb(67 23 90)">f</text><text x="519" y="235"  fill="rgb(67 22 90)">o</text><text x="522" y="235"  fill="rgb(66 22 90)">rm</text><text x="528" y="235"  fill="rgb(67 22 91)">at</text><text x="534" y="235"  fill="rgb(67 21 90)">i</text><text x="537" y="235"  fill="rgb(67 19 90)">o</text><text x="540" y="235"  fill="rgb(66 19 90)">n</text><text x="543" y="235"  fill="rgb(67 20 90)">K</text><text x="546" y="235"  fill="rgb(64 18 90)">ey</text><text x="552" y="235"  fill="rgb(64 17 89)">.</text><text x="555" y="235"  fill="rgb(64 18 89)">l</text><text x="558" y="235"  fill="rgb(63 15 88)">e</text><text x="561" y="235"  fill="rgb(58 7 85)">n</text><text x="564" y="235"  fill="rgb(134 105 149)">g</text><text x="567" y="235"  fill="rgb(170 151 179)">t</text><text x="570" y="235"  fill="rgb(151 129 163)">h</text><text x="573" y="235"  fill="rgb(133 109 145)"> </text><text x="576" y="235"  fill="rgb(121 94 135)">&gt;</text><text x="579" y="235"  fill="rgb(120 91 132)"> </text><text x="582" y="235"  fill="rgb(123 95 136)">0</text><text x="585" y="235"  fill="rgb(125 97 138)">)</text><text x="588" y="235"  fill="rgb(124 95 137)"> </text><text x="591" y="235"  fill="rgb(123 93 137)">{</text><text x="594" y="235"  fill="rgb(122 93 136)"> </text><text x="597" y="235"  fill="rgb(122 91 137)">i</text><text x="600" y="235"  fill="rgb(122 90 135)">f</text><text x="603" y="235"  fill="rgb(121 90 136)"> </text><text x="606" y="235"  fill="rgb(120 88 135)">(!</text><text x="612" y="235"  fill="rgb(110 75 128)">t</text><text x="615" y="235"  fill="rgb(125 96 142)">h</text><text x="618" y="235"  fill="rgb(227 223 228)">i</text><text x="621" y="235"  fill="rgb(253 254 251)">s</text><text x="624" y="235"  fill="rgb(245 245 245)">.transformationKey.includes(mskey)) { throw new InsightError(); } } else { this.validateKey(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Arr</text><text x="0" y="240"  fill="rgb(245 245 245)">ay.isArray(q)) { throw new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.d</text><text x="483" y="240"  fill="rgb(246 246 245)">i</text><text x="486" y="240"  fill="rgb(245 245 246)">r</text><text x="489" y="240"  fill="rgb(235 235 236)"> </text><text x="492" y="240"  fill="rgb(229 229 228)">|</text><text x="495" y="240"  fill="rgb(206 200 208)">|</text><text x="498" y="240"  fill="rgb(169 153 176)"> </text><text x="501" y="240"  fill="rgb(127 100 139)">!</text><text x="504" y="240"  fill="rgb(66 21 88)">q</text><text x="507" y="240"  fill="rgb(56 9 79)">.</text><text x="510" y="240"  fill="rgb(69 27 90)">k</text><text x="513" y="240"  fill="rgb(69 25 90)">e</text><text x="516" y="240"  fill="rgb(68 24 89)">y</text><text x="519" y="240"  fill="rgb(68 24 90)">s</text><text x="522" y="240"  fill="rgb(67 23 91)"> </text><text x="525" y="240"  fill="rgb(66 23 90)">|</text><text x="528" y="240"  fill="rgb(66 22 90)">|</text><text x="531" y="240"  fill="rgb(67 22 90)"> </text><text x="534" y="240"  fill="rgb(67 22 91)">O</text><text x="537" y="240"  fill="rgb(67 21 91)">b</text><text x="540" y="240"  fill="rgb(67 20 90)">je</text><text x="546" y="240"  fill="rgb(66 19 89)">c</text><text x="549" y="240"  fill="rgb(66 19 90)">t</text><text x="552" y="240"  fill="rgb(65 18 90)">.k</text><text x="558" y="240"  fill="rgb(65 19 90)">e</text><text x="561" y="240"  fill="rgb(56 6 83)">y</text><text x="564" y="240"  fill="rgb(104 69 124)">s</text><text x="567" y="240"  fill="rgb(142 119 153)">(</text><text x="570" y="240"  fill="rgb(124 98 136)">q</text><text x="573" y="240"  fill="rgb(119 92 133)">)</text><text x="576" y="240"  fill="rgb(123 95 137)">.</text><text x="579" y="240"  fill="rgb(126 98 138)">l</text><text x="582" y="240"  fill="rgb(125 97 137)">e</text><text x="585" y="240"  fill="rgb(124 96 137)">n</text><text x="588" y="240"  fill="rgb(124 95 137)">g</text><text x="591" y="240"  fill="rgb(122 93 136)">t</text><text x="594" y="240"  fill="rgb(121 92 136)">h</text><text x="597" y="240"  fill="rgb(120 91 135)"> </text><text x="600" y="240"  fill="rgb(120 91 136)">!</text><text x="603" y="240"  fill="rgb(121 90 136)">=</text><text x="606" y="240"  fill="rgb(120 88 135)">=</text><text x="609" y="240"  fill="rgb(119 87 136)"> </text><text x="612" y="240"  fill="rgb(113 80 132)">2</text><text x="615" y="240"  fill="rgb(109 74 127)">)</text><text x="618" y="240"  fill="rgb(197 183 202)"> </text><text x="621" y="240"  fill="rgb(255 255 255)">{</text><text x="624" y="240"  fill="rgb(245 245 245)"> throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new I</text><text x="0" y="245"  fill="rgb(245 245 245)">nsightError(); } for (let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { if </text><text x="480" y="245"  fill="rgb(247 247 247)">(</text><text x="483" y="245"  fill="rgb(245 245 245)">A</text><text x="486" y="245"  fill="rgb(232 232 233)">r</text><text x="489" y="245"  fill="rgb(225 225 225)">r</text><text x="492" y="245"  fill="rgb(201 194 203)">a</text><text x="495" y="245"  fill="rgb(167 152 175)">y</text><text x="498" y="245"  fill="rgb(125 97 138)">.</text><text x="501" y="245"  fill="rgb(65 21 86)">i</text><text x="504" y="245"  fill="rgb(57 10 80)">s</text><text x="507" y="245"  fill="rgb(71 28 92)">A</text><text x="510" y="245"  fill="rgb(71 27 91)">r</text><text x="513" y="245"  fill="rgb(70 26 91)">r</text><text x="516" y="245"  fill="rgb(69 25 90)">ay</text><text x="522" y="245"  fill="rgb(68 24 91)">(</text><text x="525" y="245"  fill="rgb(68 24 90)">q</text><text x="528" y="245"  fill="rgb(67 24 90)">)</text><text x="531" y="245"  fill="rgb(66 22 90)">) </text><text x="537" y="245"  fill="rgb(68 23 90)">{ </text><text x="543" y="245"  fill="rgb(67 20 91)">t</text><text x="546" y="245"  fill="rgb(67 20 90)">h</text><text x="549" y="245"  fill="rgb(67 19 89)">r</text><text x="552" y="245"  fill="rgb(67 19 90)">ow</text><text x="558" y="245"  fill="rgb(65 19 90)"> </text><text x="561" y="245"  fill="rgb(57 12 81)">n</text><text x="564" y="245"  fill="rgb(74 32 94)">e</text><text x="567" y="245"  fill="rgb(123 97 135)">w</text><text x="570" y="245"  fill="rgb(125 100 138)"> </text><text x="573" y="245"  fill="rgb(125 99 137)">I</text><text x="576" y="245"  fill="rgb(126 98 137)">n</text><text x="579" y="245"  fill="rgb(125 97 137)">s</text><text x="582" y="245"  fill="rgb(124 96 137)">ig</text><text x="588" y="245"  fill="rgb(124 94 137)">h</text><text x="591" y="245"  fill="rgb(123 94 136)">t</text><text x="594" y="245"  fill="rgb(121 92 135)">E</text><text x="597" y="245"  fill="rgb(120 91 136)">rr</text><text x="603" y="245"  fill="rgb(119 88 136)">o</text><text x="606" y="245"  fill="rgb(120 88 135)">r</text><text x="609" y="245"  fill="rgb(120 87 135)">(</text><text x="612" y="245"  fill="rgb(117 85 135)">)</text><text x="615" y="245"  fill="rgb(101 65 121)">;</text><text x="618" y="245"  fill="rgb(164 143 175)"> </text><text x="621" y="245"  fill="rgb(254 255 253)">}</text><text x="624" y="245"  fill="rgb(248 248 247)"> </text><text x="627" y="245"  fill="rgb(245 245 245)">else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else {</text><text x="0" y="250"  fill="rgb(245 245 245)"> let key: string = Object.keys(q)[0]; let value: any = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;:</text><text x="477" y="250"  fill="rgb(248 248 248)"> </text><text x="480" y="250"  fill="rgb(243 243 243)">t</text><text x="483" y="250"  fill="rgb(230 228 229)">h</text><text x="486" y="250"  fill="rgb(226 226 226)">i</text><text x="489" y="250"  fill="rgb(200 192 203)">s</text><text x="492" y="250"  fill="rgb(168 151 175)">.</text><text x="495" y="250"  fill="rgb(125 98 137)">v</text><text x="498" y="250"  fill="rgb(66 23 87)">a</text><text x="501" y="250"  fill="rgb(61 17 84)">l</text><text x="504" y="250"  fill="rgb(71 30 91)">i</text><text x="507" y="250"  fill="rgb(70 28 90)">d</text><text x="510" y="250"  fill="rgb(70 27 90)">a</text><text x="513" y="250"  fill="rgb(70 26 90)">t</text><text x="516" y="250"  fill="rgb(70 26 91)">eN</text><text x="522" y="250"  fill="rgb(69 25 91)">O</text><text x="525" y="250"  fill="rgb(68 24 90)">T</text><text x="528" y="250"  fill="rgb(68 24 91)">(</text><text x="531" y="250"  fill="rgb(67 23 90)">val</text><text x="540" y="250"  fill="rgb(68 23 90)">ue</text><text x="546" y="250"  fill="rgb(68 21 91)">)</text><text x="549" y="250"  fill="rgb(68 21 92)">;</text><text x="552" y="250"  fill="rgb(67 20 90)"> </text><text x="555" y="250"  fill="rgb(64 19 86)">b</text><text x="558" y="250"  fill="rgb(61 18 84)">r</text><text x="561" y="250"  fill="rgb(59 15 81)">e</text><text x="564" y="250"  fill="rgb(62 18 83)">a</text><text x="567" y="250"  fill="rgb(117 89 130)">k</text><text x="570" y="250"  fill="rgb(131 106 142)">;</text><text x="573" y="250"  fill="rgb(125 98 137)"> </text><text x="576" y="250"  fill="rgb(125 97 137)">ca</text><text x="582" y="250"  fill="rgb(124 96 137)">s</text><text x="585" y="250"  fill="rgb(124 95 137)">e</text><text x="588" y="250"  fill="rgb(123 94 137)"> </text><text x="591" y="250"  fill="rgb(122 92 136)">&quot;</text><text x="594" y="250"  fill="rgb(121 92 135)">G</text><text x="597" y="250"  fill="rgb(120 91 135)">T</text><text x="600" y="250"  fill="rgb(120 90 136)">&quot;</text><text x="603" y="250"  fill="rgb(119 89 136)">:</text><text x="606" y="250"  fill="rgb(119 87 135)"> c</text><text x="612" y="250"  fill="rgb(119 87 136)">a</text><text x="615" y="250"  fill="rgb(105 70 124)">s</text><text x="618" y="250"  fill="rgb(132 104 148)">e</text><text x="621" y="250"  fill="rgb(236 234 236)"> </text><text x="624" y="250"  fill="rgb(253 254 252)">&quot;</text><text x="627" y="250"  fill="rgb(245 245 245)">LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (ty</text><text x="0" y="255"  fill="rgb(245 245 245)">peof value !== &quot;object&quot;) { throw new InsightError(); } this.validateFilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { t</text><text x="474" y="255"  fill="rgb(247 247 247)">h</text><text x="477" y="255"  fill="rgb(243 243 243)">r</text><text x="480" y="255"  fill="rgb(227 226 227)">o</text><text x="483" y="255"  fill="rgb(227 227 226)">w</text><text x="486" y="255"  fill="rgb(199 191 202)"> </text><text x="489" y="255"  fill="rgb(165 148 171)">n</text><text x="492" y="255"  fill="rgb(127 100 139)">e</text><text x="495" y="255"  fill="rgb(67 24 87)">w</text><text x="498" y="255"  fill="rgb(64 22 86)"> </text><text x="501" y="255"  fill="rgb(72 31 92)">I</text><text x="504" y="255"  fill="rgb(70 29 91)">n</text><text x="507" y="255"  fill="rgb(69 29 90)">s</text><text x="510" y="255"  fill="rgb(69 28 90)">i</text><text x="513" y="255"  fill="rgb(70 28 90)">g</text><text x="516" y="255"  fill="rgb(70 27 91)">h</text><text x="519" y="255"  fill="rgb(71 27 91)">t</text><text x="522" y="255"  fill="rgb(70 26 91)">Er</text><text x="528" y="255"  fill="rgb(69 25 91)">r</text><text x="531" y="255"  fill="rgb(68 24 92)">o</text><text x="534" y="255"  fill="rgb(68 24 90)">r(</text><text x="540" y="255"  fill="rgb(67 23 90)">)</text><text x="543" y="255"  fill="rgb(68 24 91)">;</text><text x="546" y="255"  fill="rgb(69 24 91)"> </text><text x="549" y="255"  fill="rgb(67 22 89)">}</text><text x="552" y="255"  fill="rgb(63 20 84)"> </text><text x="555" y="255"  fill="rgb(62 19 83)">i</text><text x="558" y="255"  fill="rgb(62 18 84)">f</text><text x="561" y="255"  fill="rgb(61 18 83)"> </text><text x="564" y="255"  fill="rgb(56 11 79)">(</text><text x="567" y="255"  fill="rgb(100 67 116)">O</text><text x="570" y="255"  fill="rgb(132 107 143)">b</text><text x="573" y="255"  fill="rgb(125 97 137)">j</text><text x="576" y="255"  fill="rgb(124 97 138)">e</text><text x="579" y="255"  fill="rgb(123 96 137)">ct</text><text x="585" y="255"  fill="rgb(123 95 137)">.k</text><text x="591" y="255"  fill="rgb(122 93 135)">e</text><text x="594" y="255"  fill="rgb(121 91 136)">y</text><text x="597" y="255"  fill="rgb(120 91 135)">s</text><text x="600" y="255"  fill="rgb(120 89 136)">(</text><text x="603" y="255"  fill="rgb(119 88 135)">v</text><text x="606" y="255"  fill="rgb(120 87 135)">a</text><text x="609" y="255"  fill="rgb(119 87 135)">l</text><text x="612" y="255"  fill="rgb(119 87 136)">u</text><text x="615" y="255"  fill="rgb(112 79 130)">e</text><text x="618" y="255"  fill="rgb(109 73 127)">)</text><text x="621" y="255"  fill="rgb(208 199 213)">.</text><text x="624" y="255"  fill="rgb(255 255 255)">l</text><text x="627" y="255"  fill="rgb(245 245 245)">ength !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string =</text><text x="0" y="260"  fill="rgb(245 245 245)"> skey[0]; let sfield: string = skey[1]; let str: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.sl</text><text x="471" y="260"  fill="rgb(247 247 246)">i</text><text x="474" y="260"  fill="rgb(243 243 243)">c</text><text x="477" y="260"  fill="rgb(223 222 224)">e</text><text x="480" y="260"  fill="rgb(224 224 224)">(</text><text x="483" y="260"  fill="rgb(200 193 202)">1</text><text x="486" y="260"  fill="rgb(162 145 168)">,</text><text x="489" y="260"  fill="rgb(130 104 141)"> </text><text x="492" y="260"  fill="rgb(67 25 87)">-</text><text x="495" y="260"  fill="rgb(66 22 85)">1</text><text x="498" y="260"  fill="rgb(74 34 93)">)</text><text x="501" y="260"  fill="rgb(71 30 91)">.</text><text x="504" y="260"  fill="rgb(72 30 91)">i</text><text x="507" y="260"  fill="rgb(71 30 91)">nc</text><text x="513" y="260"  fill="rgb(69 29 90)">l</text><text x="516" y="260"  fill="rgb(69 28 90)">u</text><text x="519" y="260"  fill="rgb(71 29 91)">d</text><text x="522" y="260"  fill="rgb(71 28 91)">e</text><text x="525" y="260"  fill="rgb(70 27 91)">s</text><text x="528" y="260"  fill="rgb(70 26 92)">(</text><text x="531" y="260"  fill="rgb(70 25 92)">&quot;</text><text x="534" y="260"  fill="rgb(70 26 92)">*</text><text x="537" y="260"  fill="rgb(69 24 91)">&quot;</text><text x="540" y="260"  fill="rgb(70 26 92)">)</text><text x="543" y="260"  fill="rgb(67 24 90)">)</text><text x="546" y="260"  fill="rgb(63 23 86)"> </text><text x="549" y="260"  fill="rgb(61 21 82)">|</text><text x="552" y="260"  fill="rgb(62 20 82)">|</text><text x="555" y="260"  fill="rgb(62 20 83)"> </text><text x="558" y="260"  fill="rgb(63 19 83)">!</text><text x="561" y="260"  fill="rgb(63 18 84)">t</text><text x="564" y="260"  fill="rgb(57 11 80)">h</text><text x="567" y="260"  fill="rgb(78 39 98)">i</text><text x="570" y="260"  fill="rgb(128 102 140)">s</text><text x="573" y="260"  fill="rgb(126 99 138)">.</text><text x="576" y="260"  fill="rgb(125 98 137)">v</text><text x="579" y="260"  fill="rgb(123 96 136)">a</text><text x="582" y="260"  fill="rgb(122 95 136)">l</text><text x="585" y="260"  fill="rgb(123 95 137)">i</text><text x="588" y="260"  fill="rgb(121 93 136)">d</text><text x="591" y="260"  fill="rgb(122 94 136)">a</text><text x="594" y="260"  fill="rgb(121 92 136)">t</text><text x="597" y="260"  fill="rgb(120 90 135)">e</text><text x="600" y="260"  fill="rgb(120 89 135)">I</text><text x="603" y="260"  fill="rgb(120 87 135)">d</text><text x="606" y="260"  fill="rgb(118 87 135)">s</text><text x="609" y="260"  fill="rgb(119 86 135)">t</text><text x="612" y="260"  fill="rgb(118 86 135)">r</text><text x="615" y="260"  fill="rgb(117 85 136)">i</text><text x="618" y="260"  fill="rgb(100 62 120)">n</text><text x="621" y="260"  fill="rgb(170 150 180)">g</text><text x="624" y="260"  fill="rgb(252 252 251)">(</text><text x="627" y="260"  fill="rgb(248 249 247)">i</text><text x="630" y="260"  fill="rgb(245 245 245)">dstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).leng</text><text x="0" y="265"  fill="rgb(245 245 245)">th !== 1) { throw new InsightError(); } let mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { l</text><text x="468" y="265"  fill="rgb(247 247 247)">e</text><text x="471" y="265"  fill="rgb(242 243 243)">t</text><text x="474" y="265"  fill="rgb(221 219 222)"> </text><text x="477" y="265"  fill="rgb(221 219 221)">i</text><text x="480" y="265"  fill="rgb(202 196 205)">d</text><text x="483" y="265"  fill="rgb(165 150 172)">s</text><text x="486" y="265"  fill="rgb(134 111 145)">t</text><text x="489" y="265"  fill="rgb(68 28 88)">r</text><text x="492" y="265"  fill="rgb(62 21 83)">i</text><text x="495" y="265"  fill="rgb(75 34 92)">n</text><text x="498" y="265"  fill="rgb(73 32 91)">g</text><text x="501" y="265"  fill="rgb(73 32 92)">: </text><text x="507" y="265"  fill="rgb(72 31 92)">s</text><text x="510" y="265"  fill="rgb(72 31 91)">t</text><text x="513" y="265"  fill="rgb(71 30 91)">r</text><text x="516" y="265"  fill="rgb(70 29 91)">i</text><text x="519" y="265"  fill="rgb(71 30 91)">n</text><text x="522" y="265"  fill="rgb(70 29 91)">g </text><text x="528" y="265"  fill="rgb(70 28 92)">=</text><text x="531" y="265"  fill="rgb(71 27 91)"> </text><text x="534" y="265"  fill="rgb(70 27 92)">m</text><text x="537" y="265"  fill="rgb(71 26 92)">k</text><text x="540" y="265"  fill="rgb(67 24 88)">e</text><text x="543" y="265"  fill="rgb(62 22 83)">y</text><text x="546" y="265"  fill="rgb(62 21 82)">[</text><text x="549" y="265"  fill="rgb(61 21 83)">0</text><text x="552" y="265"  fill="rgb(62 21 84)">];</text><text x="558" y="265"  fill="rgb(63 21 84)"> </text><text x="561" y="265"  fill="rgb(63 19 84)">l</text><text x="564" y="265"  fill="rgb(59 16 82)">e</text><text x="567" y="265"  fill="rgb(63 18 83)">t</text><text x="570" y="265"  fill="rgb(114 84 128)"> </text><text x="573" y="265"  fill="rgb(129 104 141)">m</text><text x="576" y="265"  fill="rgb(123 96 137)">fi</text><text x="582" y="265"  fill="rgb(123 95 137)">e</text><text x="585" y="265"  fill="rgb(122 94 136)">l</text><text x="588" y="265"  fill="rgb(121 93 135)">d</text><text x="591" y="265"  fill="rgb(121 92 135)">:</text><text x="594" y="265"  fill="rgb(120 91 135)"> </text><text x="597" y="265"  fill="rgb(120 90 135)">st</text><text x="603" y="265"  fill="rgb(120 88 135)">r</text><text x="606" y="265"  fill="rgb(119 86 135)">i</text><text x="609" y="265"  fill="rgb(118 86 135)">n</text><text x="612" y="265"  fill="rgb(117 85 135)">g</text><text x="615" y="265"  fill="rgb(119 87 136)"> </text><text x="618" y="265"  fill="rgb(105 68 125)">=</text><text x="621" y="265"  fill="rgb(130 99 146)"> </text><text x="624" y="265"  fill="rgb(234 231 235)">m</text><text x="627" y="265"  fill="rgb(253 255 252)">k</text><text x="630" y="265"  fill="rgb(245 245 245)">ey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } }</text><text x="0" y="270"  fill="rgb(245 245 245)"> } private validateANDOR(value: any): void { if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { </text><text x="465" y="270"  fill="rgb(248 249 248)">t</text><text x="468" y="270"  fill="rgb(241 241 242)">h</text><text x="471" y="270"  fill="rgb(218 216 220)">i</text><text x="474" y="270"  fill="rgb(219 217 219)">s</text><text x="477" y="270"  fill="rgb(205 201 208)">.</text><text x="480" y="270"  fill="rgb(169 157 176)">v</text><text x="483" y="270"  fill="rgb(141 120 151)">a</text><text x="486" y="270"  fill="rgb(74 36 92)">l</text><text x="489" y="270"  fill="rgb(61 20 82)">i</text><text x="492" y="270"  fill="rgb(74 36 93)">d</text><text x="495" y="270"  fill="rgb(73 35 92)">a</text><text x="498" y="270"  fill="rgb(73 34 93)">t</text><text x="501" y="270"  fill="rgb(73 33 92)">eFil</text><text x="513" y="270"  fill="rgb(73 32 92)">t</text><text x="516" y="270"  fill="rgb(72 31 91)">e</text><text x="519" y="270"  fill="rgb(71 30 91)">r(</text><text x="525" y="270"  fill="rgb(70 29 90)">i</text><text x="528" y="270"  fill="rgb(70 29 92)">n</text><text x="531" y="270"  fill="rgb(71 29 93)">n</text><text x="534" y="270"  fill="rgb(70 28 90)">e</text><text x="537" y="270"  fill="rgb(66 26 87)">r</text><text x="540" y="270"  fill="rgb(64 23 84)">O</text><text x="543" y="270"  fill="rgb(63 23 83)">b</text><text x="546" y="270"  fill="rgb(64 23 85)">j</text><text x="549" y="270"  fill="rgb(63 22 85)">ec</text><text x="555" y="270"  fill="rgb(62 21 84)">t</text><text x="558" y="270"  fill="rgb(62 21 85)">)</text><text x="561" y="270"  fill="rgb(62 21 86)">;</text><text x="564" y="270"  fill="rgb(61 19 85)"> </text><text x="567" y="270"  fill="rgb(57 10 78)">}</text><text x="570" y="270"  fill="rgb(93 57 109)"> </text><text x="573" y="270"  fill="rgb(132 108 143)">}</text><text x="576" y="270"  fill="rgb(123 96 136)"> </text><text x="579" y="270"  fill="rgb(122 95 136)">p</text><text x="582" y="270"  fill="rgb(123 95 136)">r</text><text x="585" y="270"  fill="rgb(122 94 136)">i</text><text x="588" y="270"  fill="rgb(121 92 135)">va</text><text x="594" y="270"  fill="rgb(120 91 135)">t</text><text x="597" y="270"  fill="rgb(120 90 135)">e</text><text x="600" y="270"  fill="rgb(120 88 135)"> </text><text x="603" y="270"  fill="rgb(119 87 135)">v</text><text x="606" y="270"  fill="rgb(119 86 135)">a</text><text x="609" y="270"  fill="rgb(118 86 135)">l</text><text x="612" y="270"  fill="rgb(117 85 135)">i</text><text x="615" y="270"  fill="rgb(118 84 135)">d</text><text x="618" y="270"  fill="rgb(115 80 133)">a</text><text x="621" y="270"  fill="rgb(106 69 125)">t</text><text x="624" y="270"  fill="rgb(205 196 210)">e</text><text x="627" y="270"  fill="rgb(254 255 253)">I</text><text x="630" y="270"  fill="rgb(246 246 246)">d</text><text x="633" y="270"  fill="rgb(245 245 245)">string(idstring: string): boolean { if (this.idInQuery.length === 0) { for (let insightDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.p</text><text x="0" y="275"  fill="rgb(245 245 245)">ush(idstring); if (insightDataset.kind === InsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { th</text><text x="462" y="275"  fill="rgb(249 249 249)">i</text><text x="465" y="275"  fill="rgb(241 241 241)">s</text><text x="468" y="275"  fill="rgb(216 213 218)">.</text><text x="471" y="275"  fill="rgb(218 216 218)">m</text><text x="474" y="275"  fill="rgb(211 208 212)">f</text><text x="477" y="275"  fill="rgb(172 161 178)">i</text><text x="480" y="275"  fill="rgb(147 128 156)">e</text><text x="483" y="275"  fill="rgb(82 46 100)">l</text><text x="486" y="275"  fill="rgb(63 22 82)">d</text><text x="489" y="275"  fill="rgb(76 38 93)">s</text><text x="492" y="275"  fill="rgb(75 37 93)"> </text><text x="495" y="275"  fill="rgb(74 36 93)">=</text><text x="498" y="275"  fill="rgb(73 35 92)"> </text><text x="501" y="275"  fill="rgb(72 34 92)">t</text><text x="504" y="275"  fill="rgb(73 34 92)">h</text><text x="507" y="275"  fill="rgb(73 33 92)">is.r</text><text x="519" y="275"  fill="rgb(72 31 91)">o</text><text x="522" y="275"  fill="rgb(71 30 91)">o</text><text x="525" y="275"  fill="rgb(72 31 92)">m</text><text x="528" y="275"  fill="rgb(71 30 92)">m</text><text x="531" y="275"  fill="rgb(67 27 88)">f</text><text x="534" y="275"  fill="rgb(64 26 85)">i</text><text x="537" y="275"  fill="rgb(64 26 84)">e</text><text x="540" y="275"  fill="rgb(65 25 85)">l</text><text x="543" y="275"  fill="rgb(65 23 84)">d</text><text x="546" y="275"  fill="rgb(64 23 84)">s</text><text x="549" y="275"  fill="rgb(64 22 85)">;</text><text x="552" y="275"  fill="rgb(63 22 85)"> t</text><text x="558" y="275"  fill="rgb(62 21 84)">h</text><text x="561" y="275"  fill="rgb(62 21 85)">i</text><text x="564" y="275"  fill="rgb(61 20 85)">s</text><text x="567" y="275"  fill="rgb(56 11 80)">.</text><text x="570" y="275"  fill="rgb(71 30 92)">s</text><text x="573" y="275"  fill="rgb(125 99 137)">f</text><text x="576" y="275"  fill="rgb(126 101 139)">i</text><text x="579" y="275"  fill="rgb(122 95 135)">e</text><text x="582" y="275"  fill="rgb(122 94 135)">l</text><text x="585" y="275"  fill="rgb(121 94 135)">d</text><text x="588" y="275"  fill="rgb(121 92 135)">s </text><text x="594" y="275"  fill="rgb(120 91 135)">=</text><text x="597" y="275"  fill="rgb(120 89 135)"> </text><text x="600" y="275"  fill="rgb(120 87 135)">t</text><text x="603" y="275"  fill="rgb(119 87 135)">h</text><text x="606" y="275"  fill="rgb(119 86 135)">i</text><text x="609" y="275"  fill="rgb(118 86 135)">s</text><text x="612" y="275"  fill="rgb(118 85 135)">.</text><text x="615" y="275"  fill="rgb(117 83 135)">r</text><text x="618" y="275"  fill="rgb(117 84 135)">o</text><text x="621" y="275"  fill="rgb(103 64 123)">o</text><text x="624" y="275"  fill="rgb(163 143 173)">m</text><text x="627" y="275"  fill="rgb(248 249 247)">s</text><text x="630" y="275"  fill="rgb(248 248 247)">f</text><text x="633" y="275"  fill="rgb(245 245 245)">ields; } return true; } } return false; } else { return this.idInQuery.includes(idstring); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset</text><text x="0" y="280"  fill="rgb(245 245 245)">, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pa</text><text x="459" y="280"  fill="rgb(248 249 248)">s</text><text x="462" y="280"  fill="rgb(241 240 241)">s</text><text x="465" y="280"  fill="rgb(216 211 217)">&quot;</text><text x="468" y="280"  fill="rgb(216 214 217)">,</text><text x="471" y="280"  fill="rgb(219 217 219)"> </text><text x="474" y="280"  fill="rgb(173 161 179)">&quot;</text><text x="477" y="280"  fill="rgb(152 135 161)">f</text><text x="480" y="280"  fill="rgb(93 60 109)">a</text><text x="483" y="280"  fill="rgb(64 24 83)">i</text><text x="486" y="280"  fill="rgb(77 39 93)">l</text><text x="489" y="280"  fill="rgb(76 37 92)">&quot;</text><text x="492" y="280"  fill="rgb(75 37 93)">, </text><text x="498" y="280"  fill="rgb(75 36 94)">&quot;</text><text x="501" y="280"  fill="rgb(74 36 92)">a</text><text x="504" y="280"  fill="rgb(73 35 92)">u</text><text x="507" y="280"  fill="rgb(73 35 93)">d</text><text x="510" y="280"  fill="rgb(73 34 92)">it</text><text x="516" y="280"  fill="rgb(74 33 92)">&quot;,</text><text x="522" y="280"  fill="rgb(74 33 93)"> </text><text x="525" y="280"  fill="rgb(73 32 91)">&quot;</text><text x="528" y="280"  fill="rgb(68 28 86)">y</text><text x="531" y="280"  fill="rgb(63 25 84)">e</text><text x="534" y="280"  fill="rgb(63 26 83)">a</text><text x="537" y="280"  fill="rgb(64 26 85)">r</text><text x="540" y="280"  fill="rgb(64 25 84)">&quot;</text><text x="543" y="280"  fill="rgb(64 24 86)">]</text><text x="546" y="280"  fill="rgb(65 24 85)">;</text><text x="549" y="280"  fill="rgb(64 23 84)"> </text><text x="552" y="280"  fill="rgb(64 22 84)">p</text><text x="555" y="280"  fill="rgb(63 22 85)">riv</text><text x="564" y="280"  fill="rgb(62 20 85)">a</text><text x="567" y="280"  fill="rgb(59 17 83)">t</text><text x="570" y="280"  fill="rgb(58 13 80)">e</text><text x="573" y="280"  fill="rgb(104 72 119)"> </text><text x="576" y="280"  fill="rgb(133 109 144)">r</text><text x="579" y="280"  fill="rgb(122 94 134)">e</text><text x="582" y="280"  fill="rgb(122 94 135)">a</text><text x="585" y="280"  fill="rgb(121 93 135)">d</text><text x="588" y="280"  fill="rgb(122 93 135)">o</text><text x="591" y="280"  fill="rgb(120 91 135)">n</text><text x="594" y="280"  fill="rgb(120 90 135)">l</text><text x="597" y="280"  fill="rgb(120 88 135)">y</text><text x="600" y="280"  fill="rgb(119 87 135)"> c</text><text x="606" y="280"  fill="rgb(119 86 135)">o</text><text x="609" y="280"  fill="rgb(117 85 135)">u</text><text x="612" y="280"  fill="rgb(117 84 135)">r</text><text x="615" y="280"  fill="rgb(117 83 134)">s</text><text x="618" y="280"  fill="rgb(116 82 134)">e</text><text x="621" y="280"  fill="rgb(109 72 129)">s</text><text x="624" y="280"  fill="rgb(125 93 142)">f</text><text x="627" y="280"  fill="rgb(234 231 235)">i</text><text x="630" y="280"  fill="rgb(250 252 249)">e</text><text x="633" y="280"  fill="rgb(245 245 245)">lds: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullna</text><text x="0" y="285"  fill="rgb(245 245 245)">me&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private </text><text x="456" y="285"  fill="rgb(248 248 248)">r</text><text x="459" y="285"  fill="rgb(241 240 241)">e</text><text x="462" y="285"  fill="rgb(215 212 216)">a</text><text x="465" y="285"  fill="rgb(213 210 214)">d</text><text x="468" y="285"  fill="rgb(223 221 223)">o</text><text x="471" y="285"  fill="rgb(176 165 182)">n</text><text x="474" y="285"  fill="rgb(154 138 163)">l</text><text x="477" y="285"  fill="rgb(103 74 118)">y</text><text x="480" y="285"  fill="rgb(64 27 84)"> </text><text x="483" y="285"  fill="rgb(76 40 94)">m</text><text x="486" y="285"  fill="rgb(75 39 94)">s</text><text x="489" y="285"  fill="rgb(76 39 94)">t</text><text x="492" y="285"  fill="rgb(76 37 92)">o</text><text x="495" y="285"  fill="rgb(75 37 92)">k</text><text x="498" y="285"  fill="rgb(76 37 94)">e</text><text x="501" y="285"  fill="rgb(76 37 93)">n</text><text x="504" y="285"  fill="rgb(75 37 93)">:</text><text x="507" y="285"  fill="rgb(73 35 92)"> </text><text x="510" y="285"  fill="rgb(73 36 93)">s</text><text x="513" y="285"  fill="rgb(72 35 92)">t</text><text x="516" y="285"  fill="rgb(74 35 93)">r</text><text x="519" y="285"  fill="rgb(74 34 93)">i</text><text x="522" y="285"  fill="rgb(73 33 91)">n</text><text x="525" y="285"  fill="rgb(68 29 86)">g</text><text x="528" y="285"  fill="rgb(66 28 83)">[</text><text x="531" y="285"  fill="rgb(66 28 85)">]</text><text x="534" y="285"  fill="rgb(65 26 85)"> =</text><text x="540" y="285"  fill="rgb(64 25 85)"> </text><text x="543" y="285"  fill="rgb(64 25 86)">[</text><text x="546" y="285"  fill="rgb(65 24 86)">&quot;</text><text x="549" y="285"  fill="rgb(64 25 85)">C</text><text x="552" y="285"  fill="rgb(65 25 85)">O</text><text x="555" y="285"  fill="rgb(64 23 84)">U</text><text x="558" y="285"  fill="rgb(64 23 85)">N</text><text x="561" y="285"  fill="rgb(63 22 86)">T&quot;</text><text x="567" y="285"  fill="rgb(63 21 86)">]</text><text x="570" y="285"  fill="rgb(55 10 78)">;</text><text x="573" y="285"  fill="rgb(76 38 96)"> </text><text x="576" y="285"  fill="rgb(128 102 140)">p</text><text x="579" y="285"  fill="rgb(126 98 138)">r</text><text x="582" y="285"  fill="rgb(121 94 136)">i</text><text x="585" y="285"  fill="rgb(122 93 135)">v</text><text x="588" y="285"  fill="rgb(121 92 135)">at</text><text x="594" y="285"  fill="rgb(120 89 135)">e</text><text x="597" y="285"  fill="rgb(119 87 135)"> id</text><text x="606" y="285"  fill="rgb(117 85 134)">I</text><text x="609" y="285"  fill="rgb(117 84 134)">n</text><text x="612" y="285"  fill="rgb(116 83 134)">Qu</text><text x="618" y="285"  fill="rgb(116 81 134)">e</text><text x="621" y="285"  fill="rgb(115 80 134)">r</text><text x="624" y="285"  fill="rgb(106 67 128)">y</text><text x="627" y="285"  fill="rgb(191 180 197)">:</text><text x="630" y="285"  fill="rgb(250 251 249)"> </text><text x="633" y="285"  fill="rgb(246 245 246)">s</text><text x="636" y="285"  fill="rgb(245 245 245)">tring[]; // make sure the query only has one id private keysInQuery: string[]; // all keys appeared in columns after being validated private transformationKey: string[]; // keys</text><text x="0" y="290"  fill="rgb(245 245 245)"> appeared in transformation, if there is a transformation private allInsightDataset: InsightDataset[]; private mfields: string[]; private sfields: stri</text><text x="453" y="290"  fill="rgb(248 248 248)">n</text><text x="456" y="290"  fill="rgb(241 240 240)">g</text><text x="459" y="290"  fill="rgb(213 211 215)">[</text><text x="462" y="290"  fill="rgb(209 205 211)">]</text><text x="465" y="290"  fill="rgb(222 221 223)">;</text><text x="468" y="290"  fill="rgb(188 180 192)"> </text><text x="471" y="290"  fill="rgb(158 142 165)">c</text><text x="474" y="290"  fill="rgb(119 94 131)">o</text><text x="477" y="290"  fill="rgb(64 26 84)">n</text><text x="480" y="290"  fill="rgb(73 37 91)">s</text><text x="483" y="290"  fill="rgb(76 40 94)">t</text><text x="486" y="290"  fill="rgb(75 40 94)">r</text><text x="489" y="290"  fill="rgb(76 40 94)">u</text><text x="492" y="290"  fill="rgb(76 39 94)">c</text><text x="495" y="290"  fill="rgb(76 38 93)">t</text><text x="498" y="290"  fill="rgb(76 37 93)">or(</text><text x="507" y="290"  fill="rgb(75 37 93)">in</text><text x="513" y="290"  fill="rgb(75 36 93)">s</text><text x="516" y="290"  fill="rgb(74 36 93)">i</text><text x="519" y="290"  fill="rgb(70 33 89)">g</text><text x="522" y="290"  fill="rgb(68 30 85)">h</text><text x="525" y="290"  fill="rgb(67 30 85)">t</text><text x="528" y="290"  fill="rgb(67 30 86)">D</text><text x="531" y="290"  fill="rgb(67 29 84)">a</text><text x="534" y="290"  fill="rgb(66 28 84)">t</text><text x="537" y="290"  fill="rgb(65 26 85)">as</text><text x="543" y="290"  fill="rgb(64 25 85)">e</text><text x="546" y="290"  fill="rgb(64 26 85)">t</text><text x="549" y="290"  fill="rgb(65 25 85)">s</text><text x="552" y="290"  fill="rgb(65 24 85)">: </text><text x="558" y="290"  fill="rgb(64 23 85)">In</text><text x="564" y="290"  fill="rgb(64 22 85)">s</text><text x="567" y="290"  fill="rgb(63 21 85)">i</text><text x="570" y="290"  fill="rgb(60 17 83)">g</text><text x="573" y="290"  fill="rgb(56 12 80)">h</text><text x="576" y="290"  fill="rgb(107 75 122)">t</text><text x="579" y="290"  fill="rgb(131 106 144)">D</text><text x="582" y="290"  fill="rgb(121 93 135)">a</text><text x="585" y="290"  fill="rgb(121 92 135)">ta</text><text x="591" y="290"  fill="rgb(121 90 135)">s</text><text x="594" y="290"  fill="rgb(120 88 135)">et</text><text x="600" y="290"  fill="rgb(119 87 135)">[</text><text x="603" y="290"  fill="rgb(118 86 134)">]</text><text x="606" y="290"  fill="rgb(118 86 135)">)</text><text x="609" y="290"  fill="rgb(116 85 134)"> </text><text x="612" y="290"  fill="rgb(116 84 135)">{</text><text x="615" y="290"  fill="rgb(116 81 134)"> </text><text x="618" y="290"  fill="rgb(115 80 133)">t</text><text x="621" y="290"  fill="rgb(115 80 134)">h</text><text x="624" y="290"  fill="rgb(105 66 125)">i</text><text x="627" y="290"  fill="rgb(144 117 157)">s</text><text x="630" y="290"  fill="rgb(247 248 246)">.</text><text x="633" y="290"  fill="rgb(246 246 246)">i</text><text x="636" y="290"  fill="rgb(245 245 245)">dInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.allInsightDataset = insightDatasets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) </text><text x="0" y="295"  fill="rgb(245 245 245)">{ throw new InsightError(); } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new Ins</text><text x="450" y="295"  fill="rgb(249 249 249)">i</text><text x="453" y="295"  fill="rgb(240 239 241)">g</text><text x="456" y="295"  fill="rgb(213 210 215)">h</text><text x="459" y="295"  fill="rgb(206 203 208)">t</text><text x="462" y="295"  fill="rgb(219 217 220)">E</text><text x="465" y="295"  fill="rgb(200 193 202)">r</text><text x="468" y="295"  fill="rgb(165 151 171)">r</text><text x="471" y="295"  fill="rgb(137 115 146)">o</text><text x="474" y="295"  fill="rgb(72 36 88)">r</text><text x="477" y="295"  fill="rgb(71 32 88)">(</text><text x="480" y="295"  fill="rgb(79 41 94)">)</text><text x="483" y="295"  fill="rgb(77 41 94)">; }</text><text x="492" y="295"  fill="rgb(76 40 94)"> </text><text x="495" y="295"  fill="rgb(76 39 94)">}</text><text x="498" y="295"  fill="rgb(76 38 94)"> </text><text x="501" y="295"  fill="rgb(76 37 94)">t</text><text x="504" y="295"  fill="rgb(76 37 93)">hi</text><text x="510" y="295"  fill="rgb(76 37 94)">s</text><text x="513" y="295"  fill="rgb(76 38 94)">.</text><text x="516" y="295"  fill="rgb(71 35 89)">v</text><text x="519" y="295"  fill="rgb(66 31 84)">al</text><text x="525" y="295"  fill="rgb(67 31 85)">i</text><text x="528" y="295"  fill="rgb(66 29 84)">d</text><text x="531" y="295"  fill="rgb(67 29 85)">a</text><text x="534" y="295"  fill="rgb(66 28 84)">t</text><text x="537" y="295"  fill="rgb(66 27 85)">e</text><text x="540" y="295"  fill="rgb(65 26 85)">W</text><text x="543" y="295"  fill="rgb(66 27 86)">h</text><text x="546" y="295"  fill="rgb(66 27 85)">e</text><text x="549" y="295"  fill="rgb(65 25 86)">re(</text><text x="558" y="295"  fill="rgb(65 25 85)">q</text><text x="561" y="295"  fill="rgb(65 24 86)">.</text><text x="564" y="295"  fill="rgb(64 23 85)">W</text><text x="567" y="295"  fill="rgb(65 22 86)">H</text><text x="570" y="295"  fill="rgb(66 23 87)">E</text><text x="573" y="295"  fill="rgb(55 9 79)">R</text><text x="576" y="295"  fill="rgb(77 37 96)">E</text><text x="579" y="295"  fill="rgb(126 100 140)">)</text><text x="582" y="295"  fill="rgb(125 97 139)">;</text><text x="585" y="295"  fill="rgb(120 92 135)"> </text><text x="588" y="295"  fill="rgb(120 91 135)">i</text><text x="591" y="295"  fill="rgb(119 89 134)">f</text><text x="594" y="295"  fill="rgb(119 88 135)"> </text><text x="597" y="295"  fill="rgb(119 87 135)">(q</text><text x="603" y="295"  fill="rgb(118 86 134)">.T</text><text x="609" y="295"  fill="rgb(116 84 133)">R</text><text x="612" y="295"  fill="rgb(116 83 134)">A</text><text x="615" y="295"  fill="rgb(116 81 134)">N</text><text x="618" y="295"  fill="rgb(115 79 134)">SF</text><text x="624" y="295"  fill="rgb(110 71 130)">O</text><text x="627" y="295"  fill="rgb(113 74 133)">R</text><text x="630" y="295"  fill="rgb(212 208 215)">M</text><text x="633" y="295"  fill="rgb(252 253 251)">A</text><text x="636" y="295"  fill="rgb(245 245 245)">TIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; </text><text x="0" y="300"  fill="rgb(245 245 245)">|| typeof q.APPLY === &quot;undefined&quot; || Object.keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APP</text><text x="447" y="300"  fill="rgb(249 249 249)">L</text><text x="450" y="300"  fill="rgb(240 240 241)">Y</text><text x="453" y="300"  fill="rgb(213 210 216)">)</text><text x="456" y="300"  fill="rgb(206 202 207)">;</text><text x="459" y="300"  fill="rgb(216 214 218)"> </text><text x="462" y="300"  fill="rgb(209 205 211)">}</text><text x="465" y="300"  fill="rgb(173 162 179)"> </text><text x="468" y="300"  fill="rgb(152 134 160)">p</text><text x="471" y="300"  fill="rgb(85 52 100)">r</text><text x="474" y="300"  fill="rgb(68 30 86)">i</text><text x="477" y="300"  fill="rgb(80 43 96)">v</text><text x="480" y="300"  fill="rgb(79 42 95)">a</text><text x="483" y="300"  fill="rgb(78 42 94)">t</text><text x="486" y="300"  fill="rgb(77 41 93)">e</text><text x="489" y="300"  fill="rgb(77 41 94)"> va</text><text x="498" y="300"  fill="rgb(76 40 94)">l</text><text x="501" y="300"  fill="rgb(76 39 94)">i</text><text x="504" y="300"  fill="rgb(76 38 94)">d</text><text x="507" y="300"  fill="rgb(76 38 95)">a</text><text x="510" y="300"  fill="rgb(77 38 94)">t</text><text x="513" y="300"  fill="rgb(72 36 89)">e</text><text x="516" y="300"  fill="rgb(67 32 85)">G</text><text x="519" y="300"  fill="rgb(67 32 86)">RO</text><text x="525" y="300"  fill="rgb(67 31 85)">U</text><text x="528" y="300"  fill="rgb(66 29 84)">P</text><text x="531" y="300"  fill="rgb(67 30 86)">(q</text><text x="537" y="300"  fill="rgb(67 28 86)">:</text><text x="540" y="300"  fill="rgb(67 28 85)"> </text><text x="543" y="300"  fill="rgb(66 28 85)">a</text><text x="546" y="300"  fill="rgb(66 27 86)">n</text><text x="549" y="300"  fill="rgb(66 26 86)">y</text><text x="552" y="300"  fill="rgb(65 25 85)">)</text><text x="555" y="300"  fill="rgb(65 25 86)">:</text><text x="558" y="300"  fill="rgb(65 25 85)"> </text><text x="561" y="300"  fill="rgb(65 24 85)">v</text><text x="564" y="300"  fill="rgb(64 23 86)">o</text><text x="567" y="300"  fill="rgb(64 22 86)">id</text><text x="573" y="300"  fill="rgb(62 20 85)"> </text><text x="576" y="300"  fill="rgb(58 13 80)">{</text><text x="579" y="300"  fill="rgb(104 72 122)"> </text><text x="582" y="300"  fill="rgb(129 102 142)">i</text><text x="585" y="300"  fill="rgb(121 92 135)">f</text><text x="588" y="300"  fill="rgb(120 90 135)"> </text><text x="591" y="300"  fill="rgb(119 88 134)">(</text><text x="594" y="300"  fill="rgb(120 88 135)">!</text><text x="597" y="300"  fill="rgb(119 87 134)">A</text><text x="600" y="300"  fill="rgb(118 86 135)">r</text><text x="603" y="300"  fill="rgb(118 86 134)">r</text><text x="606" y="300"  fill="rgb(117 86 135)">a</text><text x="609" y="300"  fill="rgb(117 84 133)">y</text><text x="612" y="300"  fill="rgb(116 82 133)">.</text><text x="615" y="300"  fill="rgb(115 81 133)">i</text><text x="618" y="300"  fill="rgb(115 79 134)">s</text><text x="621" y="300"  fill="rgb(116 79 134)">A</text><text x="624" y="300"  fill="rgb(117 81 135)">r</text><text x="627" y="300"  fill="rgb(102 61 124)">r</text><text x="630" y="300"  fill="rgb(157 133 168)">a</text><text x="633" y="300"  fill="rgb(254 255 251)">y</text><text x="636" y="300"  fill="rgb(246 246 246)">(</text><text x="639" y="300"  fill="rgb(245 245 245)">q) || q.length &lt; 1) { throw new InsightError(); // q should be an object, and should has at least one element } for (let key of q) { this.validateKey(key); this.transformationK</text><text x="0" y="305"  fill="rgb(245 245 245)">ey.push(key); // if the key is valid, push it to transformationKey } } private validateKey(key: string): void { let splittedKey: string[] = key.spli</text><text x="444" y="305"  fill="rgb(248 248 248)">t</text><text x="447" y="305"  fill="rgb(241 241 241)">(</text><text x="450" y="305"  fill="rgb(214 210 216)">&quot;</text><text x="453" y="305"  fill="rgb(205 202 207)">_</text><text x="456" y="305"  fill="rgb(212 209 213)">&quot;</text><text x="459" y="305"  fill="rgb(217 214 218)">)</text><text x="462" y="305"  fill="rgb(181 170 184)">;</text><text x="465" y="305"  fill="rgb(161 146 167)"> </text><text x="468" y="305"  fill="rgb(103 74 117)">i</text><text x="471" y="305"  fill="rgb(65 28 82)">f</text><text x="474" y="305"  fill="rgb(79 45 96)"> </text><text x="477" y="305"  fill="rgb(79 43 96)">(sp</text><text x="486" y="305"  fill="rgb(79 42 95)">l</text><text x="489" y="305"  fill="rgb(78 42 95)">i</text><text x="492" y="305"  fill="rgb(78 41 94)">t</text><text x="495" y="305"  fill="rgb(77 41 94)">ted</text><text x="504" y="305"  fill="rgb(77 41 95)">K</text><text x="507" y="305"  fill="rgb(76 40 95)">e</text><text x="510" y="305"  fill="rgb(72 35 89)">y</text><text x="513" y="305"  fill="rgb(68 33 85)">.</text><text x="516" y="305"  fill="rgb(69 34 85)">l</text><text x="519" y="305"  fill="rgb(69 34 86)">e</text><text x="522" y="305"  fill="rgb(68 33 86)">n</text><text x="525" y="305"  fill="rgb(67 31 86)">gt</text><text x="531" y="305"  fill="rgb(67 30 86)">h</text><text x="534" y="305"  fill="rgb(67 29 85)"> !=</text><text x="543" y="305"  fill="rgb(66 28 85)">=</text><text x="546" y="305"  fill="rgb(67 28 86)"> </text><text x="549" y="305"  fill="rgb(67 27 86)">2</text><text x="552" y="305"  fill="rgb(66 26 86)">)</text><text x="555" y="305"  fill="rgb(65 25 86)"> </text><text x="558" y="305"  fill="rgb(65 25 85)">{</text><text x="561" y="305"  fill="rgb(65 24 86)"> </text><text x="564" y="305"  fill="rgb(65 23 86)">th</text><text x="570" y="305"  fill="rgb(64 22 86)">r</text><text x="573" y="305"  fill="rgb(65 23 87)">o</text><text x="576" y="305"  fill="rgb(60 16 82)">w</text><text x="579" y="305"  fill="rgb(73 34 95)"> </text><text x="582" y="305"  fill="rgb(123 95 137)">n</text><text x="585" y="305"  fill="rgb(124 95 137)">e</text><text x="588" y="305"  fill="rgb(119 89 135)">w</text><text x="591" y="305"  fill="rgb(120 88 135)"> </text><text x="594" y="305"  fill="rgb(119 87 134)">I</text><text x="597" y="305"  fill="rgb(119 87 135)">n</text><text x="600" y="305"  fill="rgb(118 86 135)">s</text><text x="603" y="305"  fill="rgb(116 86 133)">i</text><text x="606" y="305"  fill="rgb(116 84 133)">g</text><text x="609" y="305"  fill="rgb(117 82 134)">h</text><text x="612" y="305"  fill="rgb(116 81 133)">t</text><text x="615" y="305"  fill="rgb(116 82 133)">E</text><text x="618" y="305"  fill="rgb(119 85 136)">r</text><text x="621" y="305"  fill="rgb(120 84 136)">r</text><text x="624" y="305"  fill="rgb(112 73 130)">o</text><text x="627" y="305"  fill="rgb(93 47 117)">r</text><text x="630" y="305"  fill="rgb(120 83 138)">(</text><text x="633" y="305"  fill="rgb(229 228 228)">)</text><text x="636" y="305"  fill="rgb(255 255 253)">;</text><text x="639" y="305"  fill="rgb(245 244 245)"> </text><text x="642" y="305"  fill="rgb(245 245 245)">} if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightError(); } } private val</text><text x="0" y="310"  fill="rgb(245 245 245)">idateAPPLY(q: any): void { if (!Array.isArray(q)) { throw new InsightError(); // q should be an array, and should have at least one element } for (</text><text x="441" y="310"  fill="rgb(247 247 247)">l</text><text x="444" y="310"  fill="rgb(243 242 242)">e</text><text x="447" y="310"  fill="rgb(214 210 215)">t</text><text x="450" y="310"  fill="rgb(205 201 207)"> </text><text x="453" y="310"  fill="rgb(210 206 211)">a</text><text x="456" y="310"  fill="rgb(218 217 219)">p</text><text x="459" y="310"  fill="rgb(192 183 194)">p</text><text x="462" y="310"  fill="rgb(162 146 168)">l</text><text x="465" y="310"  fill="rgb(124 101 136)">y</text><text x="468" y="310"  fill="rgb(68 32 86)">r</text><text x="471" y="310"  fill="rgb(80 45 96)">u</text><text x="474" y="310"  fill="rgb(80 46 96)">l</text><text x="477" y="310"  fill="rgb(79 45 95)">e</text><text x="480" y="310"  fill="rgb(79 44 95)"> </text><text x="483" y="310"  fill="rgb(79 43 95)">o</text><text x="486" y="310"  fill="rgb(80 43 96)">f</text><text x="489" y="310"  fill="rgb(79 44 96)"> </text><text x="492" y="310"  fill="rgb(80 43 96)">q</text><text x="495" y="310"  fill="rgb(79 41 94)">)</text><text x="498" y="310"  fill="rgb(77 41 94)"> </text><text x="501" y="310"  fill="rgb(79 42 95)">{ </text><text x="507" y="310"  fill="rgb(73 37 88)">i</text><text x="510" y="310"  fill="rgb(68 35 85)">f</text><text x="513" y="310"  fill="rgb(69 35 86)"> </text><text x="516" y="310"  fill="rgb(68 35 86)">(</text><text x="519" y="310"  fill="rgb(69 34 86)">A</text><text x="522" y="310"  fill="rgb(68 32 86)">rr</text><text x="528" y="310"  fill="rgb(67 31 86)">a</text><text x="531" y="310"  fill="rgb(68 31 86)">y</text><text x="534" y="310"  fill="rgb(68 30 86)">.i</text><text x="540" y="310"  fill="rgb(67 29 86)">sAr</text><text x="549" y="310"  fill="rgb(67 28 86)">r</text><text x="552" y="310"  fill="rgb(67 27 86)">a</text><text x="555" y="310"  fill="rgb(66 26 86)">y(</text><text x="561" y="310"  fill="rgb(65 25 86)">a</text><text x="564" y="310"  fill="rgb(65 24 86)">p</text><text x="567" y="310"  fill="rgb(65 23 86)">ply</text><text x="576" y="310"  fill="rgb(65 22 87)">r</text><text x="579" y="310"  fill="rgb(58 15 82)">u</text><text x="582" y="310"  fill="rgb(96 61 113)">l</text><text x="585" y="310"  fill="rgb(128 100 141)">e</text><text x="588" y="310"  fill="rgb(119 89 134)">)</text><text x="591" y="310"  fill="rgb(120 88 135)"> </text><text x="594" y="310"  fill="rgb(119 87 134)">|</text><text x="597" y="310"  fill="rgb(118 86 134)">| </text><text x="603" y="310"  fill="rgb(116 86 134)">O</text><text x="606" y="310"  fill="rgb(116 83 133)">b</text><text x="609" y="310"  fill="rgb(116 82 133)">j</text><text x="612" y="310"  fill="rgb(119 86 135)">e</text><text x="615" y="310"  fill="rgb(121 88 137)">c</text><text x="618" y="310"  fill="rgb(113 76 131)">t</text><text x="621" y="310"  fill="rgb(96 54 119)">.</text><text x="624" y="310"  fill="rgb(92 45 116)">k</text><text x="627" y="310"  fill="rgb(104 62 127)">e</text><text x="630" y="310"  fill="rgb(141 113 155)">y</text><text x="633" y="310"  fill="rgb(188 174 193)">s</text><text x="636" y="310"  fill="rgb(247 250 246)">(</text><text x="639" y="310"  fill="rgb(248 249 248)">a</text><text x="642" y="310"  fill="rgb(245 245 245)">pplyrule).length &gt; 1) { throw new InsightError(); } let applykey: string = Object.keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey</text><text x="0" y="315"  fill="rgb(245 245 245)">.includes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { throw new InsightError(); } this.transformationKey.push(applykey); if (Array.isArra</text><text x="438" y="315"  fill="rgb(247 248 247)">y</text><text x="441" y="315"  fill="rgb(243 243 243)">(</text><text x="444" y="315"  fill="rgb(215 211 216)">c</text><text x="447" y="315"  fill="rgb(203 198 204)">r</text><text x="450" y="315"  fill="rgb(208 205 210)">i</text><text x="453" y="315"  fill="rgb(215 213 217)">t</text><text x="456" y="315"  fill="rgb(205 200 208)">e</text><text x="459" y="315"  fill="rgb(164 149 169)">r</text><text x="462" y="315"  fill="rgb(142 122 150)">i</text><text x="465" y="315"  fill="rgb(80 46 95)">a</text><text x="468" y="315"  fill="rgb(76 40 92)">)</text><text x="471" y="315"  fill="rgb(82 47 98)"> </text><text x="474" y="315"  fill="rgb(81 46 97)">|</text><text x="477" y="315"  fill="rgb(80 46 96)">| </text><text x="483" y="315"  fill="rgb(80 45 96)">O</text><text x="486" y="315"  fill="rgb(79 44 95)">bj</text><text x="492" y="315"  fill="rgb(80 44 96)">e</text><text x="495" y="315"  fill="rgb(80 43 96)">c</text><text x="498" y="315"  fill="rgb(79 43 95)">t</text><text x="501" y="315"  fill="rgb(79 42 95)">.</text><text x="504" y="315"  fill="rgb(73 39 89)">k</text><text x="507" y="315"  fill="rgb(69 37 84)">e</text><text x="510" y="315"  fill="rgb(70 37 86)">y</text><text x="513" y="315"  fill="rgb(70 36 87)">s</text><text x="516" y="315"  fill="rgb(68 35 86)">(</text><text x="519" y="315"  fill="rgb(68 33 86)">c</text><text x="522" y="315"  fill="rgb(69 33 86)">ri</text><text x="528" y="315"  fill="rgb(68 33 86)">t</text><text x="531" y="315"  fill="rgb(68 32 86)">e</text><text x="534" y="315"  fill="rgb(68 31 86)">r</text><text x="537" y="315"  fill="rgb(68 30 86)">ia</text><text x="543" y="315"  fill="rgb(67 29 86)">).</text><text x="549" y="315"  fill="rgb(67 28 86)">l</text><text x="552" y="315"  fill="rgb(66 27 86)">eng</text><text x="561" y="315"  fill="rgb(66 24 86)">t</text><text x="564" y="315"  fill="rgb(65 24 86)">h </text><text x="570" y="315"  fill="rgb(65 23 86)">&gt; </text><text x="576" y="315"  fill="rgb(65 22 86)">1</text><text x="579" y="315"  fill="rgb(62 17 83)">)</text><text x="582" y="315"  fill="rgb(66 22 87)"> </text><text x="585" y="315"  fill="rgb(115 84 129)">{</text><text x="588" y="315"  fill="rgb(125 96 139)"> </text><text x="591" y="315"  fill="rgb(119 86 133)">t</text><text x="594" y="315"  fill="rgb(118 86 134)">hr</text><text x="600" y="315"  fill="rgb(117 86 134)">o</text><text x="603" y="315"  fill="rgb(117 84 133)">w</text><text x="606" y="315"  fill="rgb(118 85 134)"> </text><text x="609" y="315"  fill="rgb(120 88 136)">n</text><text x="612" y="315"  fill="rgb(115 79 132)">e</text><text x="615" y="315"  fill="rgb(99 56 119)">w</text><text x="618" y="315"  fill="rgb(85 37 110)"> </text><text x="621" y="315"  fill="rgb(94 51 118)">I</text><text x="624" y="315"  fill="rgb(107 65 128)">n</text><text x="627" y="315"  fill="rgb(137 107 152)">s</text><text x="630" y="315"  fill="rgb(165 145 173)">i</text><text x="633" y="315"  fill="rgb(152 129 163)">g</text><text x="636" y="315"  fill="rgb(218 213 221)">h</text><text x="639" y="315"  fill="rgb(255 255 253)">t</text><text x="642" y="315"  fill="rgb(245 245 245)">Error(); } let applytoken: string = Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let ke</text><text x="0" y="320"  fill="rgb(245 245 245)">y: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(</text><text x="435" y="320"  fill="rgb(248 248 248)">t</text><text x="438" y="320"  fill="rgb(244 243 244)">h</text><text x="441" y="320"  fill="rgb(215 212 217)">i</text><text x="444" y="320"  fill="rgb(201 196 203)">s</text><text x="447" y="320"  fill="rgb(207 203 208)">.</text><text x="450" y="320"  fill="rgb(211 209 213)">v</text><text x="453" y="320"  fill="rgb(214 211 215)">a</text><text x="456" y="320"  fill="rgb(174 162 179)">l</text><text x="459" y="320"  fill="rgb(153 137 160)">i</text><text x="462" y="320"  fill="rgb(101 72 114)">d</text><text x="465" y="320"  fill="rgb(73 36 88)">a</text><text x="468" y="320"  fill="rgb(84 50 98)">t</text><text x="471" y="320"  fill="rgb(82 48 96)">e</text><text x="474" y="320"  fill="rgb(81 46 96)">Id</text><text x="480" y="320"  fill="rgb(81 46 97)">s</text><text x="483" y="320"  fill="rgb(81 47 97)">t</text><text x="486" y="320"  fill="rgb(80 47 97)">r</text><text x="489" y="320"  fill="rgb(79 45 95)">i</text><text x="492" y="320"  fill="rgb(79 44 95)">ng</text><text x="498" y="320"  fill="rgb(81 44 97)">(</text><text x="501" y="320"  fill="rgb(75 40 91)">k</text><text x="504" y="320"  fill="rgb(69 37 85)">e</text><text x="507" y="320"  fill="rgb(70 37 86)">y[</text><text x="513" y="320"  fill="rgb(70 37 87)">0</text><text x="516" y="320"  fill="rgb(70 36 87)">]</text><text x="519" y="320"  fill="rgb(69 35 86)">)</text><text x="522" y="320"  fill="rgb(70 35 86)"> </text><text x="525" y="320"  fill="rgb(69 34 86)">&amp;</text><text x="528" y="320"  fill="rgb(68 32 86)">&amp;</text><text x="531" y="320"  fill="rgb(69 32 86)"> </text><text x="534" y="320"  fill="rgb(69 31 86)">t</text><text x="537" y="320"  fill="rgb(68 31 86)">hi</text><text x="543" y="320"  fill="rgb(68 30 86)">s</text><text x="546" y="320"  fill="rgb(67 29 86)">.</text><text x="549" y="320"  fill="rgb(67 28 86)">mfi</text><text x="558" y="320"  fill="rgb(66 27 86)">el</text><text x="564" y="320"  fill="rgb(66 25 86)">d</text><text x="567" y="320"  fill="rgb(65 24 86)">s</text><text x="570" y="320"  fill="rgb(66 24 86)">.</text><text x="573" y="320"  fill="rgb(66 24 87)">i</text><text x="576" y="320"  fill="rgb(65 23 86)">n</text><text x="579" y="320"  fill="rgb(65 22 87)">c</text><text x="582" y="320"  fill="rgb(57 12 80)">l</text><text x="585" y="320"  fill="rgb(80 41 100)">u</text><text x="588" y="320"  fill="rgb(124 96 138)">d</text><text x="591" y="320"  fill="rgb(121 90 135)">e</text><text x="594" y="320"  fill="rgb(117 85 134)">s</text><text x="597" y="320"  fill="rgb(117 86 133)">(</text><text x="600" y="320"  fill="rgb(118 86 134)">k</text><text x="603" y="320"  fill="rgb(120 88 136)">e</text><text x="606" y="320"  fill="rgb(117 83 134)">y</text><text x="609" y="320"  fill="rgb(104 65 124)">[</text><text x="612" y="320"  fill="rgb(86 39 110)">1</text><text x="615" y="320"  fill="rgb(86 37 109)">]</text><text x="618" y="320"  fill="rgb(103 62 125)">)</text><text x="621" y="320"  fill="rgb(115 79 135)">)</text><text x="624" y="320"  fill="rgb(118 83 136)">)</text><text x="627" y="320"  fill="rgb(156 135 166)"> </text><text x="630" y="320"  fill="rgb(166 149 176)">{</text><text x="633" y="320"  fill="rgb(156 132 167)"> </text><text x="636" y="320"  fill="rgb(183 166 192)">t</text><text x="639" y="320"  fill="rgb(245 245 244)">h</text><text x="642" y="320"  fill="rgb(249 250 248)">r</text><text x="645" y="320"  fill="rgb(245 245 245)">ow new InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1]</text><text x="0" y="325"  fill="rgb(245 245 245)">)))) { throw new InsightError(); } } } } public validateOptions(q: any): void { let keys: any[] = Object.keys(q); for (let key of keys) { if (ke</text><text x="432" y="325"  fill="rgb(248 248 248)">y</text><text x="435" y="325"  fill="rgb(246 246 246)"> </text><text x="438" y="325"  fill="rgb(217 214 219)">!</text><text x="441" y="325"  fill="rgb(201 194 203)">=</text><text x="444" y="325"  fill="rgb(207 202 208)">=</text><text x="447" y="325"  fill="rgb(209 205 210)"> </text><text x="450" y="325"  fill="rgb(216 214 217)">&quot;</text><text x="453" y="325"  fill="rgb(191 184 194)">C</text><text x="456" y="325"  fill="rgb(162 148 168)">O</text><text x="459" y="325"  fill="rgb(126 104 137)">L</text><text x="462" y="325"  fill="rgb(74 40 91)">U</text><text x="465" y="325"  fill="rgb(80 47 95)">M</text><text x="468" y="325"  fill="rgb(83 50 98)">N</text><text x="471" y="325"  fill="rgb(82 50 97)">S</text><text x="474" y="325"  fill="rgb(82 48 97)">&quot;</text><text x="477" y="325"  fill="rgb(81 47 96)"> </text><text x="480" y="325"  fill="rgb(81 46 96)">&amp;&amp;</text><text x="486" y="325"  fill="rgb(81 47 97)"> </text><text x="489" y="325"  fill="rgb(80 46 97)">k</text><text x="492" y="325"  fill="rgb(80 46 96)">e</text><text x="495" y="325"  fill="rgb(80 45 96)">y</text><text x="498" y="325"  fill="rgb(77 42 93)"> </text><text x="501" y="325"  fill="rgb(71 38 86)">!</text><text x="504" y="325"  fill="rgb(72 38 87)">=</text><text x="507" y="325"  fill="rgb(71 39 88)">=</text><text x="510" y="325"  fill="rgb(70 37 86)"> &quot;</text><text x="516" y="325"  fill="rgb(70 36 87)">O</text><text x="519" y="325"  fill="rgb(70 35 86)">RD</text><text x="525" y="325"  fill="rgb(69 34 86)">E</text><text x="528" y="325"  fill="rgb(68 33 86)">R</text><text x="531" y="325"  fill="rgb(68 34 86)">&quot;</text><text x="534" y="325"  fill="rgb(69 33 86)">)</text><text x="537" y="325"  fill="rgb(69 32 86)"> </text><text x="540" y="325"  fill="rgb(68 31 86)">{ </text><text x="546" y="325"  fill="rgb(68 30 86)">t</text><text x="549" y="325"  fill="rgb(67 28 86)">hro</text><text x="558" y="325"  fill="rgb(66 27 87)">w</text><text x="561" y="325"  fill="rgb(66 27 86)"> </text><text x="564" y="325"  fill="rgb(66 26 86)">n</text><text x="567" y="325"  fill="rgb(65 25 86)">e</text><text x="570" y="325"  fill="rgb(66 24 87)">w</text><text x="573" y="325"  fill="rgb(66 24 86)"> </text><text x="576" y="325"  fill="rgb(65 23 86)">I</text><text x="579" y="325"  fill="rgb(65 22 87)">n</text><text x="582" y="325"  fill="rgb(63 19 85)">s</text><text x="585" y="325"  fill="rgb(59 13 82)">i</text><text x="588" y="325"  fill="rgb(98 62 116)">g</text><text x="591" y="325"  fill="rgb(128 100 143)">h</text><text x="594" y="325"  fill="rgb(119 87 134)">t</text><text x="597" y="325"  fill="rgb(120 89 135)">E</text><text x="600" y="325"  fill="rgb(122 90 136)">r</text><text x="603" y="325"  fill="rgb(111 76 128)">r</text><text x="606" y="325"  fill="rgb(93 49 115)">o</text><text x="609" y="325"  fill="rgb(82 33 106)">r</text><text x="612" y="325"  fill="rgb(92 46 113)">(</text><text x="615" y="325"  fill="rgb(111 73 130)">)</text><text x="618" y="325"  fill="rgb(119 83 136)">;</text><text x="621" y="325"  fill="rgb(109 70 128)"> </text><text x="624" y="325"  fill="rgb(136 108 150)">}</text><text x="627" y="325"  fill="rgb(170 152 179)"> </text><text x="630" y="325"  fill="rgb(169 150 180)">}</text><text x="633" y="325"  fill="rgb(169 149 180)"> </text><text x="636" y="325"  fill="rgb(159 137 171)">t</text><text x="639" y="325"  fill="rgb(213 205 217)">h</text><text x="642" y="325"  fill="rgb(252 254 251)">i</text><text x="645" y="325"  fill="rgb(246 246 246)">s</text><text x="648" y="325"  fill="rgb(245 245 245)">.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } fo</text><text x="0" y="330"  fill="rgb(245 245 245)">r (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightError(); } } else</text><text x="429" y="330"  fill="rgb(246 247 246)"> </text><text x="432" y="330"  fill="rgb(247 247 247)">{</text><text x="435" y="330"  fill="rgb(220 217 221)"> </text><text x="438" y="330"  fill="rgb(201 196 203)">t</text><text x="441" y="330"  fill="rgb(206 202 207)">h</text><text x="444" y="330"  fill="rgb(208 203 209)">i</text><text x="447" y="330"  fill="rgb(212 209 214)">s</text><text x="450" y="330"  fill="rgb(206 200 207)">.</text><text x="453" y="330"  fill="rgb(170 157 174)">v</text><text x="456" y="330"  fill="rgb(150 133 157)">a</text><text x="459" y="330"  fill="rgb(86 55 102)">l</text><text x="462" y="330"  fill="rgb(75 41 93)">i</text><text x="465" y="330"  fill="rgb(83 51 98)">d</text><text x="468" y="330"  fill="rgb(82 50 96)">a</text><text x="471" y="330"  fill="rgb(82 50 97)">t</text><text x="474" y="330"  fill="rgb(83 50 98)">e</text><text x="477" y="330"  fill="rgb(83 49 98)">K</text><text x="480" y="330"  fill="rgb(83 49 97)">e</text><text x="483" y="330"  fill="rgb(82 47 97)">y</text><text x="486" y="330"  fill="rgb(82 46 97)">(</text><text x="489" y="330"  fill="rgb(81 47 97)">m</text><text x="492" y="330"  fill="rgb(82 48 99)">s</text><text x="495" y="330"  fill="rgb(80 45 96)">k</text><text x="498" y="330"  fill="rgb(72 39 87)">e</text><text x="501" y="330"  fill="rgb(72 38 87)">y</text><text x="504" y="330"  fill="rgb(72 39 87)">)</text><text x="507" y="330"  fill="rgb(71 37 86)">;</text><text x="510" y="330"  fill="rgb(71 37 87)"> </text><text x="513" y="330"  fill="rgb(70 37 86)">}</text><text x="516" y="330"  fill="rgb(72 36 86)"> </text><text x="519" y="330"  fill="rgb(71 36 86)">th</text><text x="525" y="330"  fill="rgb(70 35 86)">i</text><text x="528" y="330"  fill="rgb(70 35 87)">s.</text><text x="534" y="330"  fill="rgb(68 33 86)">k</text><text x="537" y="330"  fill="rgb(68 32 86)">e</text><text x="540" y="330"  fill="rgb(68 31 86)">ys</text><text x="546" y="330"  fill="rgb(68 29 86)">In</text><text x="552" y="330"  fill="rgb(67 28 86)">Qu</text><text x="558" y="330"  fill="rgb(67 28 87)">e</text><text x="561" y="330"  fill="rgb(68 28 87)">r</text><text x="564" y="330"  fill="rgb(67 27 87)">y</text><text x="567" y="330"  fill="rgb(66 26 86)">.</text><text x="570" y="330"  fill="rgb(66 25 86)">p</text><text x="573" y="330"  fill="rgb(66 25 87)">u</text><text x="576" y="330"  fill="rgb(66 23 88)">s</text><text x="579" y="330"  fill="rgb(65 23 87)">h</text><text x="582" y="330"  fill="rgb(66 23 88)">(</text><text x="585" y="330"  fill="rgb(61 15 83)">m</text><text x="588" y="330"  fill="rgb(64 19 86)">s</text><text x="591" y="330"  fill="rgb(113 81 129)">k</text><text x="594" y="330"  fill="rgb(130 102 143)">e</text><text x="597" y="330"  fill="rgb(119 88 135)">y</text><text x="600" y="330"  fill="rgb(104 66 123)">)</text><text x="603" y="330"  fill="rgb(87 42 108)">;</text><text x="606" y="330"  fill="rgb(82 34 105)"> </text><text x="609" y="330"  fill="rgb(98 55 117)">}</text><text x="612" y="330"  fill="rgb(117 82 134)"> </text><text x="615" y="330"  fill="rgb(120 86 137)">}</text><text x="618" y="330"  fill="rgb(109 72 128)"> </text><text x="621" y="330"  fill="rgb(117 81 133)">p</text><text x="624" y="330"  fill="rgb(166 145 175)">r</text><text x="627" y="330"  fill="rgb(175 157 185)">i</text><text x="630" y="330"  fill="rgb(170 151 181)">va</text><text x="636" y="330"  fill="rgb(164 143 175)">t</text><text x="639" y="330"  fill="rgb(171 151 182)">e</text><text x="642" y="330"  fill="rgb(236 233 236)"> </text><text x="645" y="330"  fill="rgb(249 250 248)">v</text><text x="648" y="330"  fill="rgb(245 245 245)">alidateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightErro</text><text x="0" y="335"  fill="rgb(245 245 245)">r(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { t</text><text x="429" y="335"  fill="rgb(247 248 247)">h</text><text x="432" y="335"  fill="rgb(222 219 223)">r</text><text x="435" y="335"  fill="rgb(200 194 202)">o</text><text x="438" y="335"  fill="rgb(206 200 207)">w</text><text x="441" y="335"  fill="rgb(207 203 208)"> </text><text x="444" y="335"  fill="rgb(208 203 208)">n</text><text x="447" y="335"  fill="rgb(212 209 213)">e</text><text x="450" y="335"  fill="rgb(182 173 187)">w</text><text x="453" y="335"  fill="rgb(161 148 168)"> </text><text x="456" y="335"  fill="rgb(113 88 125)">I</text><text x="459" y="335"  fill="rgb(73 38 88)">n</text><text x="462" y="335"  fill="rgb(85 53 99)">s</text><text x="465" y="335"  fill="rgb(84 52 100)">i</text><text x="468" y="335"  fill="rgb(84 52 99)">g</text><text x="471" y="335"  fill="rgb(83 51 98)">h</text><text x="474" y="335"  fill="rgb(82 50 97)">t</text><text x="477" y="335"  fill="rgb(83 50 98)">Er</text><text x="483" y="335"  fill="rgb(83 50 97)">r</text><text x="486" y="335"  fill="rgb(82 49 98)">o</text><text x="489" y="335"  fill="rgb(82 48 97)">r(</text><text x="495" y="335"  fill="rgb(76 43 91)">)</text><text x="498" y="335"  fill="rgb(73 39 87)">;</text><text x="501" y="335"  fill="rgb(73 39 88)"> </text><text x="504" y="335"  fill="rgb(72 39 88)">}</text><text x="507" y="335"  fill="rgb(72 38 87)"> </text><text x="510" y="335"  fill="rgb(72 38 86)">l</text><text x="513" y="335"  fill="rgb(71 37 86)">e</text><text x="516" y="335"  fill="rgb(72 37 86)">t</text><text x="519" y="335"  fill="rgb(71 37 87)"> </text><text x="522" y="335"  fill="rgb(71 36 87)">ke</text><text x="528" y="335"  fill="rgb(71 36 86)">y</text><text x="531" y="335"  fill="rgb(71 35 87)">s</text><text x="534" y="335"  fill="rgb(68 33 86)">:</text><text x="537" y="335"  fill="rgb(69 33 86)"> </text><text x="540" y="335"  fill="rgb(68 32 87)">a</text><text x="543" y="335"  fill="rgb(68 32 86)">n</text><text x="546" y="335"  fill="rgb(68 31 87)">y </text><text x="552" y="335"  fill="rgb(68 29 86)">=</text><text x="555" y="335"  fill="rgb(68 29 87)"> q</text><text x="561" y="335"  fill="rgb(67 27 86)">.k</text><text x="567" y="335"  fill="rgb(67 26 87)">e</text><text x="570" y="335"  fill="rgb(66 26 88)">y</text><text x="573" y="335"  fill="rgb(68 26 88)">s</text><text x="576" y="335"  fill="rgb(66 25 87)">;</text><text x="579" y="335"  fill="rgb(66 24 88)"> i</text><text x="585" y="335"  fill="rgb(67 23 89)">f</text><text x="588" y="335"  fill="rgb(58 13 81)"> </text><text x="591" y="335"  fill="rgb(75 33 96)">(</text><text x="594" y="335"  fill="rgb(118 84 133)">!</text><text x="597" y="335"  fill="rgb(101 62 119)">A</text><text x="600" y="335"  fill="rgb(83 39 107)">r</text><text x="603" y="335"  fill="rgb(85 39 107)">r</text><text x="606" y="335"  fill="rgb(103 63 121)">a</text><text x="609" y="335"  fill="rgb(120 88 136)">y</text><text x="612" y="335"  fill="rgb(119 87 135)">.</text><text x="615" y="335"  fill="rgb(114 80 132)">i</text><text x="618" y="335"  fill="rgb(108 70 128)">s</text><text x="621" y="335"  fill="rgb(148 122 161)">A</text><text x="624" y="335"  fill="rgb(180 163 187)">r</text><text x="627" y="335"  fill="rgb(171 153 181)">r</text><text x="630" y="335"  fill="rgb(170 151 180)">a</text><text x="633" y="335"  fill="rgb(169 150 180)">y</text><text x="636" y="335"  fill="rgb(170 152 180)">(</text><text x="639" y="335"  fill="rgb(160 139 173)">k</text><text x="642" y="335"  fill="rgb(191 177 198)">e</text><text x="645" y="335"  fill="rgb(247 248 247)">y</text><text x="648" y="335"  fill="rgb(246 245 245)">s</text><text x="651" y="335"  fill="rgb(245 245 245)">) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateWh</text><text x="0" y="340"  fill="rgb(245 245 245)">ere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } </text><text x="426" y="340"  fill="rgb(249 250 249)">}</text><text x="429" y="340"  fill="rgb(225 222 225)"> </text><text x="432" y="340"  fill="rgb(199 192 201)">p</text><text x="435" y="340"  fill="rgb(204 198 206)">r</text><text x="438" y="340"  fill="rgb(205 201 208)">i</text><text x="441" y="340"  fill="rgb(206 200 208)">v</text><text x="444" y="340"  fill="rgb(210 207 212)">a</text><text x="447" y="340"  fill="rgb(197 191 201)">t</text><text x="450" y="340"  fill="rgb(167 154 173)">e</text><text x="453" y="340"  fill="rgb(140 123 148)"> </text><text x="456" y="340"  fill="rgb(77 45 94)">v</text><text x="459" y="340"  fill="rgb(81 49 95)">a</text><text x="462" y="340"  fill="rgb(87 55 99)">l</text><text x="465" y="340"  fill="rgb(85 53 99)">i</text><text x="468" y="340"  fill="rgb(85 53 100)">d</text><text x="471" y="340"  fill="rgb(84 52 99)">a</text><text x="474" y="340"  fill="rgb(83 51 98)">t</text><text x="477" y="340"  fill="rgb(82 51 97)">e</text><text x="480" y="340"  fill="rgb(82 51 98)">F</text><text x="483" y="340"  fill="rgb(83 51 98)">il</text><text x="489" y="340"  fill="rgb(83 51 99)">t</text><text x="492" y="340"  fill="rgb(78 45 93)">e</text><text x="495" y="340"  fill="rgb(73 40 88)">r</text><text x="498" y="340"  fill="rgb(74 41 88)">(</text><text x="501" y="340"  fill="rgb(73 40 88)">q</text><text x="504" y="340"  fill="rgb(73 39 87)">:</text><text x="507" y="340"  fill="rgb(73 39 88)"> </text><text x="510" y="340"  fill="rgb(72 38 87)">an</text><text x="516" y="340"  fill="rgb(71 37 87)">y)</text><text x="522" y="340"  fill="rgb(70 37 86)">:</text><text x="525" y="340"  fill="rgb(71 37 87)"> </text><text x="528" y="340"  fill="rgb(71 36 87)">v</text><text x="531" y="340"  fill="rgb(70 35 87)">o</text><text x="534" y="340"  fill="rgb(70 34 87)">i</text><text x="537" y="340"  fill="rgb(69 33 86)">d </text><text x="543" y="340"  fill="rgb(68 32 86)">{</text><text x="546" y="340"  fill="rgb(69 32 86)"> </text><text x="549" y="340"  fill="rgb(69 32 87)">i</text><text x="552" y="340"  fill="rgb(68 32 87)">f</text><text x="555" y="340"  fill="rgb(68 31 87)"> </text><text x="558" y="340"  fill="rgb(68 29 87)">(</text><text x="561" y="340"  fill="rgb(68 28 87)">O</text><text x="564" y="340"  fill="rgb(68 27 87)">b</text><text x="567" y="340"  fill="rgb(67 26 87)">j</text><text x="570" y="340"  fill="rgb(68 26 87)">ec</text><text x="576" y="340"  fill="rgb(67 25 88)">t.</text><text x="582" y="340"  fill="rgb(66 24 89)">ke</text><text x="588" y="340"  fill="rgb(66 24 90)">y</text><text x="591" y="340"  fill="rgb(58 13 83)">s</text><text x="594" y="340"  fill="rgb(71 26 93)">(</text><text x="597" y="340"  fill="rgb(91 48 110)">q</text><text x="600" y="340"  fill="rgb(88 45 110)">)</text><text x="603" y="340"  fill="rgb(106 69 124)">.</text><text x="606" y="340"  fill="rgb(122 91 137)">l</text><text x="609" y="340"  fill="rgb(118 86 135)">e</text><text x="612" y="340"  fill="rgb(115 82 132)">n</text><text x="615" y="340"  fill="rgb(111 74 128)">g</text><text x="618" y="340"  fill="rgb(128 95 143)">t</text><text x="621" y="340"  fill="rgb(174 157 184)">h</text><text x="624" y="340"  fill="rgb(176 158 184)"> </text><text x="627" y="340"  fill="rgb(171 152 181)">!==</text><text x="636" y="340"  fill="rgb(170 151 180)"> </text><text x="639" y="340"  fill="rgb(168 148 178)">1</text><text x="642" y="340"  fill="rgb(160 137 171)">)</text><text x="645" y="340"  fill="rgb(212 203 216)"> </text><text x="648" y="340"  fill="rgb(253 255 252)">{</text><text x="651" y="340"  fill="rgb(245 245 245)"> throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let value: any = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(valu</text><text x="0" y="345"  fill="rgb(245 245 245)">e); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.v</text><text x="420" y="345"  fill="rgb(246 246 246)">a</text><text x="423" y="345"  fill="rgb(250 251 249)">l</text><text x="426" y="345"  fill="rgb(229 227 230)">i</text><text x="429" y="345"  fill="rgb(198 191 201)">d</text><text x="432" y="345"  fill="rgb(201 195 203)">a</text><text x="435" y="345"  fill="rgb(205 200 208)">te</text><text x="441" y="345"  fill="rgb(206 201 208)">I</text><text x="444" y="345"  fill="rgb(209 206 210)">S</text><text x="447" y="345"  fill="rgb(175 164 180)">(</text><text x="450" y="345"  fill="rgb(158 143 164)">v</text><text x="453" y="345"  fill="rgb(103 76 115)">a</text><text x="456" y="345"  fill="rgb(73 42 90)">l</text><text x="459" y="345"  fill="rgb(87 57 101)">u</text><text x="462" y="345"  fill="rgb(86 55 100)">e);</text><text x="471" y="345"  fill="rgb(85 53 99)"> bre</text><text x="483" y="345"  fill="rgb(84 52 98)">a</text><text x="486" y="345"  fill="rgb(83 51 98)">k</text><text x="489" y="345"  fill="rgb(83 50 98)">;</text><text x="492" y="345"  fill="rgb(76 44 90)"> </text><text x="495" y="345"  fill="rgb(75 42 89)">de</text><text x="501" y="345"  fill="rgb(74 40 88)">f</text><text x="504" y="345"  fill="rgb(74 40 87)">a</text><text x="507" y="345"  fill="rgb(74 40 88)">u</text><text x="510" y="345"  fill="rgb(73 39 88)">l</text><text x="513" y="345"  fill="rgb(72 38 88)">t:</text><text x="519" y="345"  fill="rgb(71 38 87)"> </text><text x="522" y="345"  fill="rgb(71 37 87)">t</text><text x="525" y="345"  fill="rgb(70 37 86)">h</text><text x="528" y="345"  fill="rgb(70 36 87)">r</text><text x="531" y="345"  fill="rgb(71 35 88)">ow </text><text x="540" y="345"  fill="rgb(70 33 87)">n</text><text x="543" y="345"  fill="rgb(70 33 86)">e</text><text x="546" y="345"  fill="rgb(69 32 87)">w </text><text x="552" y="345"  fill="rgb(68 31 87)">I</text><text x="555" y="345"  fill="rgb(68 30 87)">ns</text><text x="561" y="345"  fill="rgb(68 29 88)">i</text><text x="564" y="345"  fill="rgb(68 27 88)">g</text><text x="567" y="345"  fill="rgb(69 26 88)">h</text><text x="570" y="345"  fill="rgb(68 26 87)">t</text><text x="573" y="345"  fill="rgb(68 26 88)">E</text><text x="576" y="345"  fill="rgb(68 26 89)">r</text><text x="579" y="345"  fill="rgb(68 26 90)">r</text><text x="582" y="345"  fill="rgb(67 25 89)">o</text><text x="585" y="345"  fill="rgb(67 25 90)">r</text><text x="588" y="345"  fill="rgb(65 22 89)">(</text><text x="591" y="345"  fill="rgb(60 13 84)">)</text><text x="594" y="345"  fill="rgb(55 5 80)">;</text><text x="597" y="345"  fill="rgb(78 33 100)"> </text><text x="600" y="345"  fill="rgb(113 79 129)">}</text><text x="603" y="345"  fill="rgb(123 93 138)"> </text><text x="606" y="345"  fill="rgb(117 88 135)">}</text><text x="609" y="345"  fill="rgb(115 84 133)"> </text><text x="612" y="345"  fill="rgb(116 82 133)">}</text><text x="615" y="345"  fill="rgb(117 81 134)"> </text><text x="618" y="345"  fill="rgb(155 132 168)">p</text><text x="621" y="345"  fill="rgb(180 165 188)">r</text><text x="624" y="345"  fill="rgb(171 153 181)">iv</text><text x="630" y="345"  fill="rgb(172 153 181)">a</text><text x="633" y="345"  fill="rgb(171 152 181)">te </text><text x="642" y="345"  fill="rgb(163 142 174)">v</text><text x="645" y="345"  fill="rgb(166 146 177)">a</text><text x="648" y="345"  fill="rgb(228 225 231)">l</text><text x="651" y="345"  fill="rgb(252 255 252)">i</text><text x="654" y="345"  fill="rgb(245 245 245)">dateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } this.validateFilter(value); } private validateIS(value: any): void { if (typeof va</text><text x="0" y="350"  fill="rgb(245 245 245)">lue !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = Obj</text><text x="417" y="350"  fill="rgb(246 246 246)">e</text><text x="420" y="350"  fill="rgb(251 252 250)">c</text><text x="423" y="350"  fill="rgb(233 231 234)">t</text><text x="426" y="350"  fill="rgb(200 192 202)">.</text><text x="429" y="350"  fill="rgb(199 193 202)">k</text><text x="432" y="350"  fill="rgb(205 199 207)">ey</text><text x="438" y="350"  fill="rgb(205 198 207)">s</text><text x="441" y="350"  fill="rgb(211 206 212)">(</text><text x="444" y="350"  fill="rgb(193 187 196)">v</text><text x="447" y="350"  fill="rgb(163 151 169)">a</text><text x="450" y="350"  fill="rgb(133 113 142)">l</text><text x="453" y="350"  fill="rgb(78 47 94)">u</text><text x="456" y="350"  fill="rgb(85 56 100)">e</text><text x="459" y="350"  fill="rgb(86 58 102)">)</text><text x="462" y="350"  fill="rgb(86 56 100)">[</text><text x="465" y="350"  fill="rgb(86 55 99)">0</text><text x="468" y="350"  fill="rgb(86 55 100)">]</text><text x="471" y="350"  fill="rgb(85 54 99)">.s</text><text x="477" y="350"  fill="rgb(86 54 99)">p</text><text x="480" y="350"  fill="rgb(86 53 99)">l</text><text x="483" y="350"  fill="rgb(85 53 100)">i</text><text x="486" y="350"  fill="rgb(84 52 100)">t</text><text x="489" y="350"  fill="rgb(80 48 95)">(</text><text x="492" y="350"  fill="rgb(75 43 87)">&quot;</text><text x="495" y="350"  fill="rgb(75 43 88)">_</text><text x="498" y="350"  fill="rgb(74 41 89)">&quot;</text><text x="501" y="350"  fill="rgb(74 41 88)">)</text><text x="504" y="350"  fill="rgb(74 41 89)">;</text><text x="507" y="350"  fill="rgb(74 40 88)"> i</text><text x="513" y="350"  fill="rgb(73 39 88)">f</text><text x="516" y="350"  fill="rgb(72 38 87)"> </text><text x="519" y="350"  fill="rgb(71 37 87)">(</text><text x="522" y="350"  fill="rgb(72 38 88)">s</text><text x="525" y="350"  fill="rgb(71 37 88)">k</text><text x="528" y="350"  fill="rgb(70 36 87)">e</text><text x="531" y="350"  fill="rgb(71 35 88)">y</text><text x="534" y="350"  fill="rgb(71 35 87)">.</text><text x="537" y="350"  fill="rgb(70 34 87)">le</text><text x="543" y="350"  fill="rgb(71 33 88)">n</text><text x="546" y="350"  fill="rgb(70 32 87)">g</text><text x="549" y="350"  fill="rgb(69 32 86)">t</text><text x="552" y="350"  fill="rgb(68 30 87)">h !</text><text x="561" y="350"  fill="rgb(68 30 88)">=</text><text x="564" y="350"  fill="rgb(68 29 88)">=</text><text x="567" y="350"  fill="rgb(69 27 88)"> 2</text><text x="573" y="350"  fill="rgb(69 27 89)">)</text><text x="576" y="350"  fill="rgb(68 26 89)"> {</text><text x="582" y="350"  fill="rgb(67 26 89)"> </text><text x="585" y="350"  fill="rgb(65 22 89)">t</text><text x="588" y="350"  fill="rgb(62 16 86)">h</text><text x="591" y="350"  fill="rgb(63 15 86)">r</text><text x="594" y="350"  fill="rgb(60 11 84)">o</text><text x="597" y="350"  fill="rgb(62 15 85)">w</text><text x="600" y="350"  fill="rgb(103 68 119)"> </text><text x="603" y="350"  fill="rgb(129 99 142)">n</text><text x="606" y="350"  fill="rgb(117 86 134)">e</text><text x="609" y="350"  fill="rgb(118 86 135)">w</text><text x="612" y="350"  fill="rgb(117 82 134)"> </text><text x="615" y="350"  fill="rgb(133 103 148)">I</text><text x="618" y="350"  fill="rgb(175 157 185)">n</text><text x="621" y="350"  fill="rgb(174 157 184)">s</text><text x="624" y="350"  fill="rgb(172 154 182)">i</text><text x="627" y="350"  fill="rgb(171 153 181)">ght</text><text x="636" y="350"  fill="rgb(171 152 181)">Err</text><text x="645" y="350"  fill="rgb(161 139 172)">o</text><text x="648" y="350"  fill="rgb(176 158 185)">r</text><text x="651" y="350"  fill="rgb(238 236 239)">(</text><text x="654" y="350"  fill="rgb(253 255 252)">)</text><text x="657" y="350"  fill="rgb(245 245 245)">; } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let str: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); </text><text x="0" y="355"  fill="rgb(245 245 245)">} else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightErr</text><text x="417" y="355"  fill="rgb(249 250 249)">o</text><text x="420" y="355"  fill="rgb(237 236 237)">r</text><text x="423" y="355"  fill="rgb(201 195 204)">(</text><text x="426" y="355"  fill="rgb(198 191 201)">)</text><text x="429" y="355"  fill="rgb(204 198 206)">; </text><text x="435" y="355"  fill="rgb(204 197 206)">}</text><text x="438" y="355"  fill="rgb(207 201 208)"> </text><text x="441" y="355"  fill="rgb(209 204 211)">}</text><text x="444" y="355"  fill="rgb(172 161 177)"> </text><text x="447" y="355"  fill="rgb(154 140 162)">}</text><text x="450" y="355"  fill="rgb(98 72 110)"> </text><text x="453" y="355"  fill="rgb(80 50 94)">}</text><text x="456" y="355"  fill="rgb(87 58 101)"> </text><text x="459" y="355"  fill="rgb(86 58 102)">pr</text><text x="465" y="355"  fill="rgb(86 57 101)">iv</text><text x="471" y="355"  fill="rgb(86 56 101)">a</text><text x="474" y="355"  fill="rgb(86 56 100)">t</text><text x="477" y="355"  fill="rgb(86 55 100)">e </text><text x="483" y="355"  fill="rgb(86 54 100)">v</text><text x="486" y="355"  fill="rgb(86 54 101)">a</text><text x="489" y="355"  fill="rgb(78 47 92)">l</text><text x="492" y="355"  fill="rgb(74 42 87)">i</text><text x="495" y="355"  fill="rgb(75 43 89)">d</text><text x="498" y="355"  fill="rgb(74 43 88)">a</text><text x="501" y="355"  fill="rgb(74 42 90)">t</text><text x="504" y="355"  fill="rgb(74 41 88)">e</text><text x="507" y="355"  fill="rgb(74 40 88)">GTL</text><text x="516" y="355"  fill="rgb(73 39 88)">T</text><text x="519" y="355"  fill="rgb(72 38 88)">EQ(</text><text x="528" y="355"  fill="rgb(70 37 88)">v</text><text x="531" y="355"  fill="rgb(71 36 87)">a</text><text x="534" y="355"  fill="rgb(71 35 87)">l</text><text x="537" y="355"  fill="rgb(70 34 87)">ue</text><text x="543" y="355"  fill="rgb(71 34 88)">: </text><text x="549" y="355"  fill="rgb(70 32 88)">a</text><text x="552" y="355"  fill="rgb(69 31 87)">n</text><text x="555" y="355"  fill="rgb(69 31 88)">y</text><text x="558" y="355"  fill="rgb(68 30 87)">)</text><text x="561" y="355"  fill="rgb(69 30 88)">:</text><text x="564" y="355"  fill="rgb(68 29 88)"> </text><text x="567" y="355"  fill="rgb(68 30 89)">v</text><text x="570" y="355"  fill="rgb(68 29 89)">o</text><text x="573" y="355"  fill="rgb(68 27 90)">i</text><text x="576" y="355"  fill="rgb(68 26 89)">d</text><text x="579" y="355"  fill="rgb(68 26 90)"> </text><text x="582" y="355"  fill="rgb(66 23 89)">{</text><text x="585" y="355"  fill="rgb(63 16 86)"> </text><text x="588" y="355"  fill="rgb(62 16 86)">if</text><text x="594" y="355"  fill="rgb(65 22 88)"> </text><text x="597" y="355"  fill="rgb(63 20 86)">(</text><text x="600" y="355"  fill="rgb(63 18 85)">t</text><text x="603" y="355"  fill="rgb(106 71 122)">y</text><text x="606" y="355"  fill="rgb(131 102 144)">p</text><text x="609" y="355"  fill="rgb(123 91 139)">e</text><text x="612" y="355"  fill="rgb(119 86 136)">o</text><text x="615" y="355"  fill="rgb(158 136 169)">f</text><text x="618" y="355"  fill="rgb(179 162 187)"> </text><text x="621" y="355"  fill="rgb(173 154 182)">v</text><text x="624" y="355"  fill="rgb(172 154 182)">alue</text><text x="636" y="355"  fill="rgb(171 153 181)"> </text><text x="639" y="355"  fill="rgb(172 153 181)">!</text><text x="642" y="355"  fill="rgb(171 153 181)">=</text><text x="645" y="355"  fill="rgb(172 153 182)">=</text><text x="648" y="355"  fill="rgb(159 138 170)"> </text><text x="651" y="355"  fill="rgb(183 166 190)">&quot;</text><text x="654" y="355"  fill="rgb(243 242 243)">o</text><text x="657" y="355"  fill="rgb(251 253 250)">b</text><text x="660" y="355"  fill="rgb(245 245 245)">ject&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new Insight</text><text x="0" y="360"  fill="rgb(245 245 245)">Error(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !=</text><text x="414" y="360"  fill="rgb(248 248 247)">=</text><text x="417" y="360"  fill="rgb(240 239 240)"> </text><text x="420" y="360"  fill="rgb(204 198 207)">&quot;</text><text x="423" y="360"  fill="rgb(197 190 200)">n</text><text x="426" y="360"  fill="rgb(203 198 206)">u</text><text x="429" y="360"  fill="rgb(202 196 205)">m</text><text x="432" y="360"  fill="rgb(203 197 205)">b</text><text x="435" y="360"  fill="rgb(202 197 206)">e</text><text x="438" y="360"  fill="rgb(211 207 212)">r</text><text x="441" y="360"  fill="rgb(190 181 192)">&quot;</text><text x="444" y="360"  fill="rgb(161 147 167)">)</text><text x="447" y="360"  fill="rgb(128 107 139)"> </text><text x="450" y="360"  fill="rgb(82 51 97)">|</text><text x="453" y="360"  fill="rgb(88 59 102)">|</text><text x="456" y="360"  fill="rgb(88 58 101)"> </text><text x="459" y="360"  fill="rgb(86 58 101)">!</text><text x="462" y="360"  fill="rgb(86 58 102)">thi</text><text x="471" y="360"  fill="rgb(86 57 102)">s</text><text x="474" y="360"  fill="rgb(86 57 101)">.</text><text x="477" y="360"  fill="rgb(86 57 100)">v</text><text x="480" y="360"  fill="rgb(86 56 100)">a</text><text x="483" y="360"  fill="rgb(87 56 102)">l</text><text x="486" y="360"  fill="rgb(84 53 99)">i</text><text x="489" y="360"  fill="rgb(77 46 91)">d</text><text x="492" y="360"  fill="rgb(76 45 90)">a</text><text x="495" y="360"  fill="rgb(76 44 90)">t</text><text x="498" y="360"  fill="rgb(75 42 90)">e</text><text x="501" y="360"  fill="rgb(74 42 89)">I</text><text x="504" y="360"  fill="rgb(74 42 90)">d</text><text x="507" y="360"  fill="rgb(74 41 88)">s</text><text x="510" y="360"  fill="rgb(74 41 89)">t</text><text x="513" y="360"  fill="rgb(74 40 88)">r</text><text x="516" y="360"  fill="rgb(74 40 89)">i</text><text x="519" y="360"  fill="rgb(72 38 89)">n</text><text x="522" y="360"  fill="rgb(73 39 89)">g</text><text x="525" y="360"  fill="rgb(71 37 87)">(i</text><text x="531" y="360"  fill="rgb(72 36 87)">d</text><text x="534" y="360"  fill="rgb(71 36 88)">st</text><text x="540" y="360"  fill="rgb(71 34 88)">r</text><text x="543" y="360"  fill="rgb(70 34 87)">i</text><text x="546" y="360"  fill="rgb(71 34 88)">n</text><text x="549" y="360"  fill="rgb(71 33 89)">g)</text><text x="555" y="360"  fill="rgb(70 32 89)"> </text><text x="558" y="360"  fill="rgb(70 31 88)">|</text><text x="561" y="360"  fill="rgb(69 30 87)">|</text><text x="564" y="360"  fill="rgb(69 30 88)"> </text><text x="567" y="360"  fill="rgb(69 30 89)">!</text><text x="570" y="360"  fill="rgb(68 29 89)">t</text><text x="573" y="360"  fill="rgb(68 27 89)">h</text><text x="576" y="360"  fill="rgb(69 28 90)">i</text><text x="579" y="360"  fill="rgb(67 26 90)">s</text><text x="582" y="360"  fill="rgb(63 20 86)">.</text><text x="585" y="360"  fill="rgb(63 17 86)">mf</text><text x="591" y="360"  fill="rgb(66 23 87)">i</text><text x="594" y="360"  fill="rgb(69 27 90)">el</text><text x="600" y="360"  fill="rgb(61 18 84)">d</text><text x="603" y="360"  fill="rgb(62 18 85)">s</text><text x="606" y="360"  fill="rgb(113 80 130)">.</text><text x="609" y="360"  fill="rgb(133 102 147)">i</text><text x="612" y="360"  fill="rgb(139 113 152)">n</text><text x="615" y="360"  fill="rgb(176 159 185)">c</text><text x="618" y="360"  fill="rgb(173 157 183)">l</text><text x="621" y="360"  fill="rgb(173 156 182)">ud</text><text x="627" y="360"  fill="rgb(173 155 182)">es(</text><text x="636" y="360"  fill="rgb(172 154 182)">m</text><text x="639" y="360"  fill="rgb(171 154 182)">f</text><text x="642" y="360"  fill="rgb(171 153 181)">i</text><text x="645" y="360"  fill="rgb(172 154 182)">el</text><text x="651" y="360"  fill="rgb(160 138 171)">d</text><text x="654" y="360"  fill="rgb(187 173 195)">)</text><text x="657" y="360"  fill="rgb(244 243 244)">)</text><text x="660" y="360"  fill="rgb(249 249 248)"> </text><text x="663" y="360"  fill="rgb(245 245 245)">{ throw new InsightError(); } } } private validateANDOR(value: any): void { if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let innerO</text><text x="0" y="365"  fill="rgb(245 245 245)">bject of value) { this.validateFilter(innerObject); } } private validateIdstring(idstring: string): boolean { if (this.idInQuery.length =</text><text x="411" y="365"  fill="rgb(246 247 246)">=</text><text x="414" y="365"  fill="rgb(242 243 242)">=</text><text x="417" y="365"  fill="rgb(207 202 210)"> </text><text x="420" y="365"  fill="rgb(194 187 198)">0</text><text x="423" y="365"  fill="rgb(203 196 205)">)</text><text x="426" y="365"  fill="rgb(202 195 204)"> </text><text x="429" y="365"  fill="rgb(202 196 205)">{ </text><text x="435" y="365"  fill="rgb(206 201 208)">f</text><text x="438" y="365"  fill="rgb(206 201 209)">o</text><text x="441" y="365"  fill="rgb(170 158 176)">r</text><text x="444" y="365"  fill="rgb(149 132 157)"> </text><text x="447" y="365"  fill="rgb(94 64 109)">(</text><text x="450" y="365"  fill="rgb(84 54 98)">l</text><text x="453" y="365"  fill="rgb(89 61 102)">e</text><text x="456" y="365"  fill="rgb(88 59 102)">t</text><text x="459" y="365"  fill="rgb(87 59 102)"> </text><text x="462" y="365"  fill="rgb(87 58 101)">ins</text><text x="471" y="365"  fill="rgb(86 58 102)">igh</text><text x="480" y="365"  fill="rgb(86 57 101)">t</text><text x="483" y="365"  fill="rgb(87 58 102)">D</text><text x="486" y="365"  fill="rgb(81 51 95)">a</text><text x="489" y="365"  fill="rgb(76 45 89)">t</text><text x="492" y="365"  fill="rgb(77 46 90)">a</text><text x="495" y="365"  fill="rgb(77 45 90)">s</text><text x="498" y="365"  fill="rgb(76 43 91)">e</text><text x="501" y="365"  fill="rgb(75 43 90)">t</text><text x="504" y="365"  fill="rgb(74 42 89)"> </text><text x="507" y="365"  fill="rgb(74 41 89)">o</text><text x="510" y="365"  fill="rgb(74 41 88)">f</text><text x="513" y="365"  fill="rgb(74 41 89)"> </text><text x="516" y="365"  fill="rgb(73 40 89)">t</text><text x="519" y="365"  fill="rgb(74 40 89)">h</text><text x="522" y="365"  fill="rgb(73 39 89)">i</text><text x="525" y="365"  fill="rgb(73 38 89)">s</text><text x="528" y="365"  fill="rgb(72 38 88)">.</text><text x="531" y="365"  fill="rgb(73 37 88)">a</text><text x="534" y="365"  fill="rgb(71 37 87)">l</text><text x="537" y="365"  fill="rgb(71 36 88)">lIn</text><text x="546" y="365"  fill="rgb(70 34 88)">s</text><text x="549" y="365"  fill="rgb(70 33 89)">i</text><text x="552" y="365"  fill="rgb(70 32 89)">g</text><text x="555" y="365"  fill="rgb(70 32 88)">h</text><text x="558" y="365"  fill="rgb(71 32 89)">t</text><text x="561" y="365"  fill="rgb(70 31 88)">D</text><text x="564" y="365"  fill="rgb(70 30 89)">a</text><text x="567" y="365"  fill="rgb(69 29 89)">t</text><text x="570" y="365"  fill="rgb(68 28 89)">a</text><text x="573" y="365"  fill="rgb(69 28 90)">s</text><text x="576" y="365"  fill="rgb(69 28 89)">e</text><text x="579" y="365"  fill="rgb(63 21 86)">t</text><text x="582" y="365"  fill="rgb(61 18 86)">) </text><text x="588" y="365"  fill="rgb(65 22 87)">{</text><text x="591" y="365"  fill="rgb(70 29 90)"> </text><text x="594" y="365"  fill="rgb(69 27 90)">i</text><text x="597" y="365"  fill="rgb(68 26 89)">f</text><text x="600" y="365"  fill="rgb(69 28 90)"> </text><text x="603" y="365"  fill="rgb(63 18 85)">(</text><text x="606" y="365"  fill="rgb(64 19 88)">i</text><text x="609" y="365"  fill="rgb(113 81 131)">n</text><text x="612" y="365"  fill="rgb(179 164 187)">s</text><text x="615" y="365"  fill="rgb(181 165 188)">i</text><text x="618" y="365"  fill="rgb(173 156 182)">g</text><text x="621" y="365"  fill="rgb(174 157 183)">h</text><text x="624" y="365"  fill="rgb(173 156 182)">tDa</text><text x="633" y="365"  fill="rgb(173 155 182)">ta</text><text x="639" y="365"  fill="rgb(172 154 182)">set.</text><text x="651" y="365"  fill="rgb(171 153 181)">i</text><text x="654" y="365"  fill="rgb(159 138 170)">d</text><text x="657" y="365"  fill="rgb(189 175 196)"> </text><text x="660" y="365"  fill="rgb(242 241 243)">=</text><text x="663" y="365"  fill="rgb(248 249 248)">=</text><text x="666" y="365"  fill="rgb(245 245 245)">= idstring) { this.idInQuery.push(idstring); if (insightDataset.kind === InsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.coursesfi</text><text x="0" y="370"  fill="rgb(245 245 245)">elds; } else { this.mfields = this.roommfields; this.sfields = this.roomsfields; } return true; } } return false; } else { return this.i</text><text x="408" y="370"  fill="rgb(247 247 247)">d</text><text x="411" y="370"  fill="rgb(247 247 246)">I</text><text x="414" y="370"  fill="rgb(213 208 215)">n</text><text x="417" y="370"  fill="rgb(192 184 196)">Q</text><text x="420" y="370"  fill="rgb(200 193 203)">u</text><text x="423" y="370"  fill="rgb(201 194 204)">e</text><text x="426" y="370"  fill="rgb(202 195 204)">ry</text><text x="432" y="370"  fill="rgb(202 196 205)">.</text><text x="435" y="370"  fill="rgb(209 204 211)">i</text><text x="438" y="370"  fill="rgb(189 181 192)">n</text><text x="441" y="370"  fill="rgb(161 150 168)">c</text><text x="444" y="370"  fill="rgb(124 102 136)">l</text><text x="447" y="370"  fill="rgb(81 51 96)">u</text><text x="450" y="370"  fill="rgb(88 60 102)">d</text><text x="453" y="370"  fill="rgb(89 61 103)">e</text><text x="456" y="370"  fill="rgb(89 61 102)">s</text><text x="459" y="370"  fill="rgb(89 60 102)">(</text><text x="462" y="370"  fill="rgb(88 59 102)">i</text><text x="465" y="370"  fill="rgb(88 60 102)">d</text><text x="468" y="370"  fill="rgb(88 59 102)">s</text><text x="471" y="370"  fill="rgb(87 58 101)">tr</text><text x="477" y="370"  fill="rgb(86 58 101)">i</text><text x="480" y="370"  fill="rgb(86 59 102)">n</text><text x="483" y="370"  fill="rgb(87 57 102)">g</text><text x="486" y="370"  fill="rgb(80 49 93)">)</text><text x="489" y="370"  fill="rgb(76 46 89)">;</text><text x="492" y="370"  fill="rgb(77 47 91)"> </text><text x="495" y="370"  fill="rgb(77 46 91)">}</text><text x="498" y="370"  fill="rgb(76 45 91)"> }</text><text x="504" y="370"  fill="rgb(75 43 89)"> </text><text x="507" y="370"  fill="rgb(75 43 90)">p</text><text x="510" y="370"  fill="rgb(74 42 90)">u</text><text x="513" y="370"  fill="rgb(74 41 90)">b</text><text x="516" y="370"  fill="rgb(73 40 88)">l</text><text x="519" y="370"  fill="rgb(74 40 88)">i</text><text x="522" y="370"  fill="rgb(73 39 89)">c </text><text x="528" y="370"  fill="rgb(74 39 90)">ge</text><text x="534" y="370"  fill="rgb(72 37 88)">t</text><text x="537" y="370"  fill="rgb(71 36 88)">Id</text><text x="543" y="370"  fill="rgb(71 35 89)">I</text><text x="546" y="370"  fill="rgb(71 34 89)">nQ</text><text x="552" y="370"  fill="rgb(71 33 88)">ue</text><text x="558" y="370"  fill="rgb(70 32 88)">r</text><text x="561" y="370"  fill="rgb(70 32 90)">y</text><text x="564" y="370"  fill="rgb(70 31 89)">(</text><text x="567" y="370"  fill="rgb(69 29 89)">)</text><text x="570" y="370"  fill="rgb(69 29 90)">: </text><text x="576" y="370"  fill="rgb(65 23 87)">s</text><text x="579" y="370"  fill="rgb(62 19 85)">t</text><text x="582" y="370"  fill="rgb(62 18 86)">r</text><text x="585" y="370"  fill="rgb(63 21 86)">i</text><text x="588" y="370"  fill="rgb(68 30 89)">n</text><text x="591" y="370"  fill="rgb(69 29 89)">g</text><text x="594" y="370"  fill="rgb(68 28 89)">[</text><text x="597" y="370"  fill="rgb(68 27 89)">]</text><text x="600" y="370"  fill="rgb(69 27 90)"> </text><text x="603" y="370"  fill="rgb(72 29 93)">{</text><text x="606" y="370"  fill="rgb(60 15 84)"> </text><text x="609" y="370"  fill="rgb(72 29 94)">r</text><text x="612" y="370"  fill="rgb(148 125 160)">e</text><text x="615" y="370"  fill="rgb(189 175 194)">t</text><text x="618" y="370"  fill="rgb(179 163 186)">u</text><text x="621" y="370"  fill="rgb(173 156 182)">r</text><text x="624" y="370"  fill="rgb(174 157 183)">n</text><text x="627" y="370"  fill="rgb(173 156 183)"> </text><text x="630" y="370"  fill="rgb(174 157 183)">t</text><text x="633" y="370"  fill="rgb(173 156 182)">hi</text><text x="639" y="370"  fill="rgb(173 155 182)">s.</text><text x="645" y="370"  fill="rgb(173 154 182)">id</text><text x="651" y="370"  fill="rgb(172 154 182)">I</text><text x="654" y="370"  fill="rgb(169 151 180)">n</text><text x="657" y="370"  fill="rgb(158 137 170)">Q</text><text x="660" y="370"  fill="rgb(188 174 196)">u</text><text x="663" y="370"  fill="rgb(241 240 242)">e</text><text x="666" y="370"  fill="rgb(251 252 250)">r</text><text x="669" y="370"  fill="rgb(245 245 245)">y; } } import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: string</text><text x="0" y="375"  fill="rgb(245 245 245)">[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]</text><text x="405" y="375"  fill="rgb(247 247 246)">;</text><text x="408" y="375"  fill="rgb(251 252 251)"> </text><text x="411" y="375"  fill="rgb(220 216 222)">p</text><text x="414" y="375"  fill="rgb(192 184 195)">r</text><text x="417" y="375"  fill="rgb(198 191 201)">i</text><text x="420" y="375"  fill="rgb(200 193 203)">va</text><text x="426" y="375"  fill="rgb(201 194 204)">t</text><text x="429" y="375"  fill="rgb(202 195 204)">e</text><text x="432" y="375"  fill="rgb(204 198 206)"> </text><text x="435" y="375"  fill="rgb(205 199 207)">r</text><text x="438" y="375"  fill="rgb(174 163 178)">e</text><text x="441" y="375"  fill="rgb(155 141 162)">a</text><text x="444" y="375"  fill="rgb(99 73 114)">d</text><text x="447" y="375"  fill="rgb(84 53 98)">o</text><text x="450" y="375"  fill="rgb(91 62 104)">n</text><text x="453" y="375"  fill="rgb(89 61 103)">ly </text><text x="462" y="375"  fill="rgb(89 60 102)">r</text><text x="465" y="375"  fill="rgb(88 60 102)">o</text><text x="468" y="375"  fill="rgb(89 61 103)">o</text><text x="471" y="375"  fill="rgb(88 60 102)">m</text><text x="474" y="375"  fill="rgb(87 59 101)">mf</text><text x="480" y="375"  fill="rgb(88 59 102)">i</text><text x="483" y="375"  fill="rgb(86 57 101)">e</text><text x="486" y="375"  fill="rgb(79 49 92)">l</text><text x="489" y="375"  fill="rgb(77 47 90)">d</text><text x="492" y="375"  fill="rgb(77 47 91)">s</text><text x="495" y="375"  fill="rgb(77 46 91)">:</text><text x="498" y="375"  fill="rgb(76 45 90)"> </text><text x="501" y="375"  fill="rgb(76 45 91)">s</text><text x="504" y="375"  fill="rgb(75 44 90)">t</text><text x="507" y="375"  fill="rgb(75 43 91)">r</text><text x="510" y="375"  fill="rgb(74 42 90)">i</text><text x="513" y="375"  fill="rgb(74 41 90)">n</text><text x="516" y="375"  fill="rgb(75 40 89)">g</text><text x="519" y="375"  fill="rgb(74 40 89)">[]</text><text x="525" y="375"  fill="rgb(73 39 89)"> </text><text x="528" y="375"  fill="rgb(72 39 88)">=</text><text x="531" y="375"  fill="rgb(72 38 88)"> </text><text x="534" y="375"  fill="rgb(73 37 89)">[</text><text x="537" y="375"  fill="rgb(72 37 89)">&quot;</text><text x="540" y="375"  fill="rgb(71 36 89)">la</text><text x="546" y="375"  fill="rgb(71 34 88)">t&quot;</text><text x="552" y="375"  fill="rgb(71 33 89)">, </text><text x="558" y="375"  fill="rgb(70 32 89)">&quot;</text><text x="561" y="375"  fill="rgb(69 32 89)">l</text><text x="564" y="375"  fill="rgb(70 31 89)">o</text><text x="567" y="375"  fill="rgb(70 30 90)">n</text><text x="570" y="375"  fill="rgb(71 31 91)">&quot;</text><text x="573" y="375"  fill="rgb(67 26 88)">,</text><text x="576" y="375"  fill="rgb(63 20 85)"> </text><text x="579" y="375"  fill="rgb(62 18 85)">&quot;</text><text x="582" y="375"  fill="rgb(64 21 86)">s</text><text x="585" y="375"  fill="rgb(69 29 88)">e</text><text x="588" y="375"  fill="rgb(69 31 88)">a</text><text x="591" y="375"  fill="rgb(68 29 89)">ts</text><text x="597" y="375"  fill="rgb(68 28 89)">&quot;</text><text x="600" y="375"  fill="rgb(70 28 92)">]</text><text x="603" y="375"  fill="rgb(70 27 91)">;</text><text x="606" y="375"  fill="rgb(71 28 92)"> </text><text x="609" y="375"  fill="rgb(73 30 93)">p</text><text x="612" y="375"  fill="rgb(75 34 96)">r</text><text x="615" y="375"  fill="rgb(135 108 148)">i</text><text x="618" y="375"  fill="rgb(190 176 196)">v</text><text x="621" y="375"  fill="rgb(185 169 191)">a</text><text x="624" y="375"  fill="rgb(173 156 181)">t</text><text x="627" y="375"  fill="rgb(174 157 182)">e</text><text x="630" y="375"  fill="rgb(174 157 183)"> r</text><text x="636" y="375"  fill="rgb(173 156 182)">ea</text><text x="642" y="375"  fill="rgb(173 155 182)">d</text><text x="645" y="375"  fill="rgb(173 156 182)">o</text><text x="648" y="375"  fill="rgb(173 155 182)">nl</text><text x="654" y="375"  fill="rgb(173 155 183)">y</text><text x="657" y="375"  fill="rgb(170 152 180)"> </text><text x="660" y="375"  fill="rgb(159 138 170)">r</text><text x="663" y="375"  fill="rgb(185 171 194)">o</text><text x="666" y="375"  fill="rgb(240 239 241)">o</text><text x="669" y="375"  fill="rgb(253 255 252)">m</text><text x="672" y="375"  fill="rgb(246 246 246)">s</text><text x="675" y="375"  fill="rgb(245 245 245)">fields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;</text><text x="0" y="380"  fill="rgb(245 245 245)">SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id private key</text><text x="402" y="380"  fill="rgb(246 246 246)">s</text><text x="405" y="380"  fill="rgb(251 252 251)">I</text><text x="408" y="380"  fill="rgb(227 225 228)">n</text><text x="411" y="380"  fill="rgb(192 183 195)">Q</text><text x="414" y="380"  fill="rgb(196 188 199)">u</text><text x="417" y="380"  fill="rgb(199 193 202)">e</text><text x="420" y="380"  fill="rgb(199 192 202)">r</text><text x="423" y="380"  fill="rgb(200 193 203)">y</text><text x="426" y="380"  fill="rgb(201 194 204)">: </text><text x="432" y="380"  fill="rgb(206 201 209)">s</text><text x="435" y="380"  fill="rgb(192 183 195)">t</text><text x="438" y="380"  fill="rgb(168 158 173)">r</text><text x="441" y="380"  fill="rgb(134 112 143)">i</text><text x="444" y="380"  fill="rgb(81 50 97)">n</text><text x="447" y="380"  fill="rgb(89 61 102)">g</text><text x="450" y="380"  fill="rgb(92 64 104)">[</text><text x="453" y="380"  fill="rgb(91 63 104)">]</text><text x="456" y="380"  fill="rgb(90 62 104)">; </text><text x="462" y="380"  fill="rgb(89 61 103)">/</text><text x="465" y="380"  fill="rgb(89 60 103)">/</text><text x="468" y="380"  fill="rgb(89 61 103)"> al</text><text x="477" y="380"  fill="rgb(88 60 102)">l</text><text x="480" y="380"  fill="rgb(89 61 103)"> </text><text x="483" y="380"  fill="rgb(86 56 99)">k</text><text x="486" y="380"  fill="rgb(78 49 91)">e</text><text x="489" y="380"  fill="rgb(77 48 91)">y</text><text x="492" y="380"  fill="rgb(77 47 91)">s a</text><text x="501" y="380"  fill="rgb(75 44 91)">p</text><text x="504" y="380"  fill="rgb(76 44 90)">p</text><text x="507" y="380"  fill="rgb(75 43 90)">e</text><text x="510" y="380"  fill="rgb(75 43 91)">a</text><text x="513" y="380"  fill="rgb(75 42 90)">r</text><text x="516" y="380"  fill="rgb(74 40 89)">e</text><text x="519" y="380"  fill="rgb(74 40 90)">d i</text><text x="528" y="380"  fill="rgb(73 39 89)">n </text><text x="534" y="380"  fill="rgb(72 37 90)">c</text><text x="537" y="380"  fill="rgb(73 37 91)">o</text><text x="540" y="380"  fill="rgb(72 37 90)">lu</text><text x="546" y="380"  fill="rgb(72 35 89)">m</text><text x="549" y="380"  fill="rgb(71 34 89)">ns </text><text x="558" y="380"  fill="rgb(71 33 90)">a</text><text x="561" y="380"  fill="rgb(70 33 89)">f</text><text x="564" y="380"  fill="rgb(71 31 90)">t</text><text x="567" y="380"  fill="rgb(72 32 91)">e</text><text x="570" y="380"  fill="rgb(70 30 89)">r</text><text x="573" y="380"  fill="rgb(63 22 85)"> </text><text x="576" y="380"  fill="rgb(63 21 86)">b</text><text x="579" y="380"  fill="rgb(63 20 85)">e</text><text x="582" y="380"  fill="rgb(69 29 88)">i</text><text x="585" y="380"  fill="rgb(71 32 89)">n</text><text x="588" y="380"  fill="rgb(71 30 88)">g</text><text x="591" y="380"  fill="rgb(69 30 89)"> </text><text x="594" y="380"  fill="rgb(68 30 88)">v</text><text x="597" y="380"  fill="rgb(71 31 92)">a</text><text x="600" y="380"  fill="rgb(72 30 92)">l</text><text x="603" y="380"  fill="rgb(69 27 91)">i</text><text x="606" y="380"  fill="rgb(76 35 96)">d</text><text x="609" y="380"  fill="rgb(85 44 103)">a</text><text x="612" y="380"  fill="rgb(75 33 95)">t</text><text x="615" y="380"  fill="rgb(67 22 88)">e</text><text x="618" y="380"  fill="rgb(122 91 136)">d</text><text x="621" y="380"  fill="rgb(189 175 195)"> </text><text x="624" y="380"  fill="rgb(191 177 196)">p</text><text x="627" y="380"  fill="rgb(176 159 183)">r</text><text x="630" y="380"  fill="rgb(175 158 183)">i</text><text x="633" y="380"  fill="rgb(175 158 184)">v</text><text x="636" y="380"  fill="rgb(174 157 183)">a</text><text x="639" y="380"  fill="rgb(173 156 182)">te t</text><text x="651" y="380"  fill="rgb(173 155 182)">ra</text><text x="657" y="380"  fill="rgb(174 156 183)">n</text><text x="660" y="380"  fill="rgb(172 154 182)">s</text><text x="663" y="380"  fill="rgb(160 139 170)">f</text><text x="666" y="380"  fill="rgb(181 165 190)">o</text><text x="669" y="380"  fill="rgb(235 234 237)">r</text><text x="672" y="380"  fill="rgb(254 255 252)">m</text><text x="675" y="380"  fill="rgb(246 246 245)">a</text><text x="678" y="380"  fill="rgb(245 245 245)">tionKey: string[]; // keys appeared in transformation, if there is a transformation private allInsightDataset: InsightDataset[]; private mfields: string[]; private</text><text x="0" y="385"  fill="rgb(245 245 245)"> sfields: string[]; constructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKe</text><text x="402" y="385"  fill="rgb(249 250 249)">y</text><text x="405" y="385"  fill="rgb(232 231 234)"> </text><text x="408" y="385"  fill="rgb(194 185 197)">=</text><text x="411" y="385"  fill="rgb(195 186 198)"> </text><text x="414" y="385"  fill="rgb(200 192 203)">[</text><text x="417" y="385"  fill="rgb(199 191 202)">]</text><text x="420" y="385"  fill="rgb(199 192 202)">; </text><text x="426" y="385"  fill="rgb(200 193 203)">t</text><text x="429" y="385"  fill="rgb(201 194 205)">h</text><text x="432" y="385"  fill="rgb(204 197 207)">i</text><text x="435" y="385"  fill="rgb(179 169 183)">s</text><text x="438" y="385"  fill="rgb(161 147 166)">.</text><text x="441" y="385"  fill="rgb(98 67 113)">a</text><text x="444" y="385"  fill="rgb(79 48 94)">l</text><text x="447" y="385"  fill="rgb(93 68 107)">l</text><text x="450" y="385"  fill="rgb(91 64 106)">I</text><text x="453" y="385"  fill="rgb(92 64 104)">n</text><text x="456" y="385"  fill="rgb(91 64 104)">s</text><text x="459" y="385"  fill="rgb(90 62 104)">ig</text><text x="465" y="385"  fill="rgb(89 62 104)">h</text><text x="468" y="385"  fill="rgb(89 61 104)">t</text><text x="471" y="385"  fill="rgb(89 61 103)">Dat</text><text x="480" y="385"  fill="rgb(90 62 104)">a</text><text x="483" y="385"  fill="rgb(86 57 99)">s</text><text x="486" y="385"  fill="rgb(78 48 91)">e</text><text x="489" y="385"  fill="rgb(78 49 92)">t</text><text x="492" y="385"  fill="rgb(78 48 91)"> </text><text x="495" y="385"  fill="rgb(77 47 89)">=</text><text x="498" y="385"  fill="rgb(76 47 92)"> </text><text x="501" y="385"  fill="rgb(77 45 92)">i</text><text x="504" y="385"  fill="rgb(77 45 91)">n</text><text x="507" y="385"  fill="rgb(76 44 91)">s</text><text x="510" y="385"  fill="rgb(75 43 90)">i</text><text x="513" y="385"  fill="rgb(76 43 91)">g</text><text x="516" y="385"  fill="rgb(75 42 91)">ht</text><text x="522" y="385"  fill="rgb(74 40 90)">Da</text><text x="528" y="385"  fill="rgb(74 40 91)">t</text><text x="531" y="385"  fill="rgb(74 39 91)">a</text><text x="534" y="385"  fill="rgb(73 38 90)">s</text><text x="537" y="385"  fill="rgb(73 37 91)">et</text><text x="543" y="385"  fill="rgb(72 37 89)">s</text><text x="546" y="385"  fill="rgb(73 36 89)">;</text><text x="549" y="385"  fill="rgb(72 37 90)"> </text><text x="552" y="385"  fill="rgb(71 35 90)">}</text><text x="555" y="385"  fill="rgb(71 34 90)"> </text><text x="558" y="385"  fill="rgb(71 34 91)">p</text><text x="561" y="385"  fill="rgb(72 32 91)">u</text><text x="564" y="385"  fill="rgb(71 31 90)">b</text><text x="567" y="385"  fill="rgb(72 32 91)">l</text><text x="570" y="385"  fill="rgb(66 25 88)">i</text><text x="573" y="385"  fill="rgb(64 22 85)">c</text><text x="576" y="385"  fill="rgb(62 20 85)"> </text><text x="579" y="385"  fill="rgb(67 27 88)">v</text><text x="582" y="385"  fill="rgb(72 34 91)">a</text><text x="585" y="385"  fill="rgb(71 32 90)">l</text><text x="588" y="385"  fill="rgb(71 32 89)">i</text><text x="591" y="385"  fill="rgb(70 31 88)">d</text><text x="594" y="385"  fill="rgb(71 31 90)">a</text><text x="597" y="385"  fill="rgb(73 33 93)">t</text><text x="600" y="385"  fill="rgb(71 30 91)">e</text><text x="603" y="385"  fill="rgb(72 31 93)">(</text><text x="606" y="385"  fill="rgb(82 44 102)">q</text><text x="609" y="385"  fill="rgb(84 45 102)">:</text><text x="612" y="385"  fill="rgb(84 44 102)"> </text><text x="615" y="385"  fill="rgb(78 37 98)">a</text><text x="618" y="385"  fill="rgb(65 19 86)">n</text><text x="621" y="385"  fill="rgb(103 69 120)">y</text><text x="624" y="385"  fill="rgb(172 155 181)">)</text><text x="627" y="385"  fill="rgb(190 176 195)">:</text><text x="630" y="385"  fill="rgb(177 160 185)"> </text><text x="633" y="385"  fill="rgb(175 158 183)">v</text><text x="636" y="385"  fill="rgb(177 160 185)">o</text><text x="639" y="385"  fill="rgb(176 159 184)">i</text><text x="642" y="385"  fill="rgb(176 158 184)">d</text><text x="645" y="385"  fill="rgb(175 158 184)"> </text><text x="648" y="385"  fill="rgb(174 157 183)">{</text><text x="651" y="385"  fill="rgb(173 156 182)"> i</text><text x="657" y="385"  fill="rgb(173 155 182)">f</text><text x="660" y="385"  fill="rgb(174 156 183)"> </text><text x="663" y="385"  fill="rgb(174 156 182)">(</text><text x="666" y="385"  fill="rgb(162 142 173)">!</text><text x="669" y="385"  fill="rgb(175 157 184)">q</text><text x="672" y="385"  fill="rgb(229 224 231)"> </text><text x="675" y="385"  fill="rgb(253 255 252)">|</text><text x="678" y="385"  fill="rgb(245 245 245)">| !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { </text><text x="0" y="390"  fill="rgb(245 245 245)">throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); </text><text x="399" y="390"  fill="rgb(248 248 248)">}</text><text x="402" y="390"  fill="rgb(238 237 238)"> </text><text x="405" y="390"  fill="rgb(198 191 202)">t</text><text x="408" y="390"  fill="rgb(192 183 196)">h</text><text x="411" y="390"  fill="rgb(199 191 202)">i</text><text x="414" y="390"  fill="rgb(198 190 201)">s</text><text x="417" y="390"  fill="rgb(199 191 202)">.va</text><text x="426" y="390"  fill="rgb(199 193 203)">l</text><text x="429" y="390"  fill="rgb(203 196 205)">i</text><text x="432" y="390"  fill="rgb(193 185 196)">d</text><text x="435" y="390"  fill="rgb(172 162 176)">a</text><text x="438" y="390"  fill="rgb(136 114 147)">t</text><text x="441" y="390"  fill="rgb(69 29 89)">e</text><text x="444" y="390"  fill="rgb(89 63 102)">O</text><text x="447" y="390"  fill="rgb(95 68 107)">p</text><text x="450" y="390"  fill="rgb(93 66 106)">t</text><text x="453" y="390"  fill="rgb(92 65 106)">i</text><text x="456" y="390"  fill="rgb(92 65 105)">o</text><text x="459" y="390"  fill="rgb(92 64 105)">n</text><text x="462" y="390"  fill="rgb(91 64 105)">s</text><text x="465" y="390"  fill="rgb(91 63 104)">(</text><text x="468" y="390"  fill="rgb(90 63 104)">q</text><text x="471" y="390"  fill="rgb(89 61 104)">.O</text><text x="477" y="390"  fill="rgb(89 61 103)">P</text><text x="480" y="390"  fill="rgb(90 63 105)">T</text><text x="483" y="390"  fill="rgb(86 58 99)">I</text><text x="486" y="390"  fill="rgb(78 49 90)">O</text><text x="489" y="390"  fill="rgb(78 49 91)">N</text><text x="492" y="390"  fill="rgb(78 49 92)">S</text><text x="495" y="390"  fill="rgb(78 48 92)">)</text><text x="498" y="390"  fill="rgb(77 47 92)">;</text><text x="501" y="390"  fill="rgb(77 45 91)"> </text><text x="504" y="390"  fill="rgb(77 45 90)">}</text><text x="507" y="390"  fill="rgb(77 45 91)"> </text><text x="510" y="390"  fill="rgb(76 44 91)">pu</text><text x="516" y="390"  fill="rgb(76 43 90)">b</text><text x="519" y="390"  fill="rgb(75 42 90)">l</text><text x="522" y="390"  fill="rgb(75 41 91)">i</text><text x="525" y="390"  fill="rgb(74 40 90)">c</text><text x="528" y="390"  fill="rgb(74 40 91)"> v</text><text x="534" y="390"  fill="rgb(74 38 90)">al</text><text x="540" y="390"  fill="rgb(73 37 90)">id</text><text x="546" y="390"  fill="rgb(72 37 90)">a</text><text x="549" y="390"  fill="rgb(73 37 91)">t</text><text x="552" y="390"  fill="rgb(72 35 90)">e</text><text x="555" y="390"  fill="rgb(71 34 90)">T</text><text x="558" y="390"  fill="rgb(71 34 91)">r</text><text x="561" y="390"  fill="rgb(72 33 90)">a</text><text x="564" y="390"  fill="rgb(73 32 91)">n</text><text x="567" y="390"  fill="rgb(68 28 88)">s</text><text x="570" y="390"  fill="rgb(63 22 84)">f</text><text x="573" y="390"  fill="rgb(63 21 85)">o</text><text x="576" y="390"  fill="rgb(65 24 86)">r</text><text x="579" y="390"  fill="rgb(71 34 89)">m</text><text x="582" y="390"  fill="rgb(70 34 89)">a</text><text x="585" y="390"  fill="rgb(70 33 89)">t</text><text x="588" y="390"  fill="rgb(70 32 90)">i</text><text x="591" y="390"  fill="rgb(70 32 89)">o</text><text x="594" y="390"  fill="rgb(73 33 93)">n</text><text x="597" y="390"  fill="rgb(74 32 94)">s</text><text x="600" y="390"  fill="rgb(72 30 91)">(</text><text x="603" y="390"  fill="rgb(78 39 98)">q</text><text x="606" y="390"  fill="rgb(85 47 104)">:</text><text x="609" y="390"  fill="rgb(83 45 103)"> </text><text x="612" y="390"  fill="rgb(83 44 102)">a</text><text x="615" y="390"  fill="rgb(84 46 103)">n</text><text x="618" y="390"  fill="rgb(82 42 101)">y</text><text x="621" y="390"  fill="rgb(63 19 84)">)</text><text x="624" y="390"  fill="rgb(79 41 98)">:</text><text x="627" y="390"  fill="rgb(143 120 154)"> </text><text x="630" y="390"  fill="rgb(180 166 187)">v</text><text x="633" y="390"  fill="rgb(173 159 182)">o</text><text x="636" y="390"  fill="rgb(169 152 177)">i</text><text x="639" y="390"  fill="rgb(172 155 180)">d</text><text x="642" y="390"  fill="rgb(174 157 183)"> </text><text x="645" y="390"  fill="rgb(175 158 183)">{</text><text x="648" y="390"  fill="rgb(176 159 185)"> </text><text x="651" y="390"  fill="rgb(176 159 184)">i</text><text x="654" y="390"  fill="rgb(175 158 184)">f</text><text x="657" y="390"  fill="rgb(174 157 183)"> </text><text x="660" y="390"  fill="rgb(173 156 182)">(</text><text x="663" y="390"  fill="rgb(173 157 182)">t</text><text x="666" y="390"  fill="rgb(174 157 183)">y</text><text x="669" y="390"  fill="rgb(163 142 173)">p</text><text x="672" y="390"  fill="rgb(168 148 178)">e</text><text x="675" y="390"  fill="rgb(218 213 222)">o</text><text x="678" y="390"  fill="rgb(250 251 249)">f</text><text x="681" y="390"  fill="rgb(247 247 247)"> </text><text x="684" y="390"  fill="rgb(245 245 245)">q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; || Object.keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.validat</text><text x="0" y="395"  fill="rgb(245 245 245)">eAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q sho</text><text x="396" y="395"  fill="rgb(248 248 248)">u</text><text x="399" y="395"  fill="rgb(244 244 244)">l</text><text x="402" y="395"  fill="rgb(204 199 208)">d</text><text x="405" y="395"  fill="rgb(189 179 193)"> </text><text x="408" y="395"  fill="rgb(197 189 201)">be</text><text x="414" y="395"  fill="rgb(197 189 200)"> </text><text x="417" y="395"  fill="rgb(198 190 201)">an</text><text x="423" y="395"  fill="rgb(199 191 202)"> </text><text x="426" y="395"  fill="rgb(199 192 202)">o</text><text x="429" y="395"  fill="rgb(203 197 206)">b</text><text x="432" y="395"  fill="rgb(181 171 185)">j</text><text x="435" y="395"  fill="rgb(164 154 168)">e</text><text x="438" y="395"  fill="rgb(100 64 117)">c</text><text x="441" y="395"  fill="rgb(64 21 86)">t</text><text x="444" y="395"  fill="rgb(97 73 108)">,</text><text x="447" y="395"  fill="rgb(94 68 106)"> </text><text x="450" y="395"  fill="rgb(93 66 106)">and</text><text x="459" y="395"  fill="rgb(93 66 105)"> </text><text x="462" y="395"  fill="rgb(93 66 106)">sh</text><text x="468" y="395"  fill="rgb(92 64 105)">o</text><text x="471" y="395"  fill="rgb(91 63 104)">u</text><text x="474" y="395"  fill="rgb(90 63 104)">l</text><text x="477" y="395"  fill="rgb(90 62 104)">d</text><text x="480" y="395"  fill="rgb(89 62 105)"> </text><text x="483" y="395"  fill="rgb(84 57 98)">h</text><text x="486" y="395"  fill="rgb(78 51 92)">a</text><text x="489" y="395"  fill="rgb(79 50 92)">s</text><text x="492" y="395"  fill="rgb(78 49 92)"> </text><text x="495" y="395"  fill="rgb(78 48 93)">a</text><text x="498" y="395"  fill="rgb(78 47 92)">t</text><text x="501" y="395"  fill="rgb(78 47 91)"> </text><text x="504" y="395"  fill="rgb(78 46 91)">l</text><text x="507" y="395"  fill="rgb(77 45 91)">e</text><text x="510" y="395"  fill="rgb(76 44 91)">as</text><text x="516" y="395"  fill="rgb(75 44 91)">t</text><text x="519" y="395"  fill="rgb(75 42 91)"> </text><text x="522" y="395"  fill="rgb(74 41 91)">o</text><text x="525" y="395"  fill="rgb(75 41 91)">n</text><text x="528" y="395"  fill="rgb(74 40 91)">e</text><text x="531" y="395"  fill="rgb(75 40 91)"> e</text><text x="537" y="395"  fill="rgb(75 39 90)">l</text><text x="540" y="395"  fill="rgb(74 38 90)">e</text><text x="543" y="395"  fill="rgb(73 37 91)">me</text><text x="549" y="395"  fill="rgb(73 36 91)">nt</text><text x="555" y="395"  fill="rgb(72 35 91)"> </text><text x="558" y="395"  fill="rgb(73 35 92)">}</text><text x="561" y="395"  fill="rgb(72 34 91)"> </text><text x="564" y="395"  fill="rgb(71 32 90)">f</text><text x="567" y="395"  fill="rgb(64 24 86)">o</text><text x="570" y="395"  fill="rgb(63 22 84)">r</text><text x="573" y="395"  fill="rgb(63 21 84)"> </text><text x="576" y="395"  fill="rgb(71 33 88)">(</text><text x="579" y="395"  fill="rgb(72 37 89)">l</text><text x="582" y="395"  fill="rgb(71 35 89)">e</text><text x="585" y="395"  fill="rgb(71 34 89)">t</text><text x="588" y="395"  fill="rgb(70 33 88)"> </text><text x="591" y="395"  fill="rgb(71 34 91)">k</text><text x="594" y="395"  fill="rgb(75 35 94)">e</text><text x="597" y="395"  fill="rgb(73 33 92)">y</text><text x="600" y="395"  fill="rgb(76 35 94)"> </text><text x="603" y="395"  fill="rgb(85 46 104)">o</text><text x="606" y="395"  fill="rgb(85 47 104)">f</text><text x="609" y="395"  fill="rgb(84 45 103)"> </text><text x="612" y="395"  fill="rgb(83 45 103)">q)</text><text x="618" y="395"  fill="rgb(84 46 104)"> </text><text x="621" y="395"  fill="rgb(81 42 100)">{</text><text x="624" y="395"  fill="rgb(65 25 86)"> </text><text x="627" y="395"  fill="rgb(69 29 89)">t</text><text x="630" y="395"  fill="rgb(115 86 128)">h</text><text x="633" y="395"  fill="rgb(164 148 173)">i</text><text x="636" y="395"  fill="rgb(175 162 182)">s</text><text x="639" y="395"  fill="rgb(166 150 175)">.</text><text x="642" y="395"  fill="rgb(162 146 172)">v</text><text x="645" y="395"  fill="rgb(164 148 173)">a</text><text x="648" y="395"  fill="rgb(167 150 176)">l</text><text x="651" y="395"  fill="rgb(169 152 178)">i</text><text x="654" y="395"  fill="rgb(171 154 180)">d</text><text x="657" y="395"  fill="rgb(172 155 181)">a</text><text x="660" y="395"  fill="rgb(173 157 182)">t</text><text x="663" y="395"  fill="rgb(175 158 184)">e</text><text x="666" y="395"  fill="rgb(175 158 183)">K</text><text x="669" y="395"  fill="rgb(175 159 184)">e</text><text x="672" y="395"  fill="rgb(165 145 175)">y</text><text x="675" y="395"  fill="rgb(164 144 174)">(</text><text x="678" y="395"  fill="rgb(207 196 211)">k</text><text x="681" y="395"  fill="rgb(246 246 246)">e</text><text x="684" y="395"  fill="rgb(250 252 250)">y</text><text x="687" y="395"  fill="rgb(245 246 245)">)</text><text x="690" y="395"  fill="rgb(245 245 245)">; this.transformationKey.push(key); // if the key is valid, push it to transformationKey } } private validateKey(key: string): void { let splittedKey: string[]</text><text x="0" y="400"  fill="rgb(245 245 245)"> = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (thi</text><text x="390" y="400"  fill="rgb(245 244 245)">s</text><text x="393" y="400"  fill="rgb(249 249 248)">.</text><text x="396" y="400"  fill="rgb(247 247 246)">m</text><text x="399" y="400"  fill="rgb(209 203 211)">f</text><text x="402" y="400"  fill="rgb(189 178 192)">i</text><text x="405" y="400"  fill="rgb(195 186 199)">e</text><text x="408" y="400"  fill="rgb(196 188 200)">l</text><text x="411" y="400"  fill="rgb(197 189 201)">d</text><text x="414" y="400"  fill="rgb(197 189 200)">s</text><text x="417" y="400"  fill="rgb(198 190 200)">.</text><text x="420" y="400"  fill="rgb(198 190 201)">i</text><text x="423" y="400"  fill="rgb(199 191 202)">n</text><text x="426" y="400"  fill="rgb(199 193 202)">c</text><text x="429" y="400"  fill="rgb(198 191 202)">l</text><text x="432" y="400"  fill="rgb(172 162 177)">u</text><text x="435" y="400"  fill="rgb(150 135 158)">d</text><text x="438" y="400"  fill="rgb(66 19 90)">e</text><text x="441" y="400"  fill="rgb(73 35 94)">s</text><text x="444" y="400"  fill="rgb(98 75 110)">(</text><text x="447" y="400"  fill="rgb(93 68 106)">s</text><text x="450" y="400"  fill="rgb(93 67 106)">pl</text><text x="456" y="400"  fill="rgb(93 66 106)">i</text><text x="459" y="400"  fill="rgb(93 66 105)">tt</text><text x="465" y="400"  fill="rgb(93 66 106)">ed</text><text x="471" y="400"  fill="rgb(93 65 105)">K</text><text x="474" y="400"  fill="rgb(91 64 104)">e</text><text x="477" y="400"  fill="rgb(90 63 104)">y</text><text x="480" y="400"  fill="rgb(91 63 105)">[</text><text x="483" y="400"  fill="rgb(86 58 99)">1</text><text x="486" y="400"  fill="rgb(77 50 92)">]</text><text x="489" y="400"  fill="rgb(78 50 92)">)</text><text x="492" y="400"  fill="rgb(79 50 92)"> </text><text x="495" y="400"  fill="rgb(79 48 92)">|</text><text x="498" y="400"  fill="rgb(78 47 92)">|</text><text x="501" y="400"  fill="rgb(78 48 91)"> </text><text x="504" y="400"  fill="rgb(78 47 92)">t</text><text x="507" y="400"  fill="rgb(77 46 91)">h</text><text x="510" y="400"  fill="rgb(76 44 91)">is.</text><text x="519" y="400"  fill="rgb(75 42 92)">s</text><text x="522" y="400"  fill="rgb(75 41 91)">f</text><text x="525" y="400"  fill="rgb(76 42 92)">i</text><text x="528" y="400"  fill="rgb(74 41 92)">e</text><text x="531" y="400"  fill="rgb(75 40 90)">l</text><text x="534" y="400"  fill="rgb(75 40 91)">d</text><text x="537" y="400"  fill="rgb(74 39 90)">s</text><text x="540" y="400"  fill="rgb(74 38 91)">.</text><text x="543" y="400"  fill="rgb(73 38 91)">i</text><text x="546" y="400"  fill="rgb(74 37 91)">n</text><text x="549" y="400"  fill="rgb(73 36 91)">c</text><text x="552" y="400"  fill="rgb(73 36 92)">l</text><text x="555" y="400"  fill="rgb(73 35 92)">u</text><text x="558" y="400"  fill="rgb(73 35 91)">d</text><text x="561" y="400"  fill="rgb(73 35 93)">e</text><text x="564" y="400"  fill="rgb(68 29 88)">s</text><text x="567" y="400"  fill="rgb(64 23 85)">(s</text><text x="573" y="400"  fill="rgb(69 30 87)">p</text><text x="576" y="400"  fill="rgb(73 38 89)">l</text><text x="579" y="400"  fill="rgb(71 36 88)">i</text><text x="582" y="400"  fill="rgb(71 36 89)">tt</text><text x="588" y="400"  fill="rgb(70 34 88)">e</text><text x="591" y="400"  fill="rgb(73 35 91)">d</text><text x="594" y="400"  fill="rgb(75 36 93)">K</text><text x="597" y="400"  fill="rgb(73 34 92)">e</text><text x="600" y="400"  fill="rgb(81 43 100)">y</text><text x="603" y="400"  fill="rgb(87 50 106)">[</text><text x="606" y="400"  fill="rgb(86 47 105)">1</text><text x="609" y="400"  fill="rgb(85 47 103)">]</text><text x="612" y="400"  fill="rgb(84 46 103)">))</text><text x="618" y="400"  fill="rgb(83 45 103)">)</text><text x="621" y="400"  fill="rgb(84 46 103)">)</text><text x="624" y="400"  fill="rgb(81 43 99)"> </text><text x="627" y="400"  fill="rgb(72 34 92)">{</text><text x="630" y="400"  fill="rgb(65 24 86)"> </text><text x="633" y="400"  fill="rgb(89 55 107)">t</text><text x="636" y="400"  fill="rgb(145 123 156)">h</text><text x="639" y="400"  fill="rgb(178 164 184)">r</text><text x="642" y="400"  fill="rgb(173 159 180)">o</text><text x="645" y="400"  fill="rgb(161 146 170)">w</text><text x="648" y="400"  fill="rgb(160 143 169)"> </text><text x="651" y="400"  fill="rgb(161 144 170)">ne</text><text x="657" y="400"  fill="rgb(162 146 172)">w</text><text x="660" y="400"  fill="rgb(164 148 173)"> </text><text x="663" y="400"  fill="rgb(166 149 175)">I</text><text x="666" y="400"  fill="rgb(169 152 178)">n</text><text x="669" y="400"  fill="rgb(171 154 180)">s</text><text x="672" y="400"  fill="rgb(173 156 182)">i</text><text x="675" y="400"  fill="rgb(168 150 178)">g</text><text x="678" y="400"  fill="rgb(164 143 173)">h</text><text x="681" y="400"  fill="rgb(194 182 201)">t</text><text x="684" y="400"  fill="rgb(240 239 242)">E</text><text x="687" y="400"  fill="rgb(255 255 253)">r</text><text x="690" y="400"  fill="rgb(247 247 246)">r</text><text x="693" y="400"  fill="rgb(245 245 245)">or(); } } private validateAPPLY(q: any): void { if (!Array.isArray(q)) { throw new InsightError(); // q should be an array, and should have at least one eleme</text><text x="0" y="405"  fill="rgb(245 245 245)">nt } for (let applyrule of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } l</text><text x="390" y="405"  fill="rgb(246 247 246)">e</text><text x="393" y="405"  fill="rgb(253 254 253)">t</text><text x="396" y="405"  fill="rgb(211 206 213)"> </text><text x="399" y="405"  fill="rgb(177 167 181)">a</text><text x="402" y="405"  fill="rgb(194 185 197)">p</text><text x="405" y="405"  fill="rgb(197 188 199)">p</text><text x="408" y="405"  fill="rgb(195 187 199)">l</text><text x="411" y="405"  fill="rgb(195 188 200)">y</text><text x="414" y="405"  fill="rgb(197 189 201)">k</text><text x="417" y="405"  fill="rgb(197 189 200)">e</text><text x="420" y="405"  fill="rgb(198 190 201)">y</text><text x="423" y="405"  fill="rgb(198 189 200)">:</text><text x="426" y="405"  fill="rgb(203 197 206)"> </text><text x="429" y="405"  fill="rgb(186 177 191)">s</text><text x="432" y="405"  fill="rgb(167 157 172)">t</text><text x="435" y="405"  fill="rgb(119 92 133)">r</text><text x="438" y="405"  fill="rgb(49 0 76)">i</text><text x="441" y="405"  fill="rgb(82 47 99)">n</text><text x="444" y="405"  fill="rgb(99 75 111)">g</text><text x="447" y="405"  fill="rgb(95 69 107)"> </text><text x="450" y="405"  fill="rgb(94 68 106)">=</text><text x="453" y="405"  fill="rgb(93 68 106)"> </text><text x="456" y="405"  fill="rgb(93 67 106)">Obje</text><text x="468" y="405"  fill="rgb(93 68 105)">c</text><text x="471" y="405"  fill="rgb(93 67 106)">t</text><text x="474" y="405"  fill="rgb(93 66 106)">.</text><text x="477" y="405"  fill="rgb(92 66 106)">ke</text><text x="483" y="405"  fill="rgb(85 58 99)">y</text><text x="486" y="405"  fill="rgb(78 49 92)">s</text><text x="489" y="405"  fill="rgb(79 50 93)">(</text><text x="492" y="405"  fill="rgb(79 50 92)">ap</text><text x="498" y="405"  fill="rgb(78 48 92)">pl</text><text x="504" y="405"  fill="rgb(78 47 92)">y</text><text x="507" y="405"  fill="rgb(78 46 92)">ru</text><text x="513" y="405"  fill="rgb(78 45 92)">l</text><text x="516" y="405"  fill="rgb(76 43 91)">e</text><text x="519" y="405"  fill="rgb(76 42 91)">)</text><text x="522" y="405"  fill="rgb(76 42 92)">[</text><text x="525" y="405"  fill="rgb(76 41 92)">0</text><text x="528" y="405"  fill="rgb(75 41 92)">]</text><text x="531" y="405"  fill="rgb(76 40 91)">;</text><text x="534" y="405"  fill="rgb(75 40 91)"> </text><text x="537" y="405"  fill="rgb(75 39 92)">l</text><text x="540" y="405"  fill="rgb(74 38 91)">e</text><text x="543" y="405"  fill="rgb(74 38 92)">t</text><text x="546" y="405"  fill="rgb(74 37 92)"> c</text><text x="552" y="405"  fill="rgb(74 36 92)">ri</text><text x="558" y="405"  fill="rgb(74 37 94)">t</text><text x="561" y="405"  fill="rgb(72 33 91)">e</text><text x="564" y="405"  fill="rgb(66 26 86)">r</text><text x="567" y="405"  fill="rgb(62 23 85)">i</text><text x="570" y="405"  fill="rgb(65 26 85)">a</text><text x="573" y="405"  fill="rgb(74 40 90)"> </text><text x="576" y="405"  fill="rgb(75 40 91)">=</text><text x="579" y="405"  fill="rgb(73 38 89)"> </text><text x="582" y="405"  fill="rgb(72 37 89)">a</text><text x="585" y="405"  fill="rgb(71 36 88)">p</text><text x="588" y="405"  fill="rgb(71 36 89)">p</text><text x="591" y="405"  fill="rgb(75 37 93)">l</text><text x="594" y="405"  fill="rgb(75 36 92)">y</text><text x="597" y="405"  fill="rgb(77 38 95)">r</text><text x="600" y="405"  fill="rgb(86 50 105)">u</text><text x="603" y="405"  fill="rgb(86 49 104)">l</text><text x="606" y="405"  fill="rgb(86 48 104)">e[a</text><text x="615" y="405"  fill="rgb(85 48 104)">p</text><text x="618" y="405"  fill="rgb(85 47 104)">p</text><text x="621" y="405"  fill="rgb(84 46 103)">l</text><text x="624" y="405"  fill="rgb(83 45 102)">y</text><text x="627" y="405"  fill="rgb(81 43 99)">k</text><text x="630" y="405"  fill="rgb(78 41 96)">e</text><text x="633" y="405"  fill="rgb(68 27 87)">y</text><text x="636" y="405"  fill="rgb(69 30 89)">]</text><text x="639" y="405"  fill="rgb(116 87 130)">;</text><text x="642" y="405"  fill="rgb(168 151 175)"> </text><text x="645" y="405"  fill="rgb(179 166 186)">i</text><text x="648" y="405"  fill="rgb(165 150 174)">f</text><text x="651" y="405"  fill="rgb(159 143 169)"> </text><text x="654" y="405"  fill="rgb(162 145 171)">(</text><text x="657" y="405"  fill="rgb(161 145 170)">a</text><text x="660" y="405"  fill="rgb(161 144 170)">p</text><text x="663" y="405"  fill="rgb(160 143 169)">p</text><text x="666" y="405"  fill="rgb(159 142 168)">l</text><text x="669" y="405"  fill="rgb(160 143 170)">y</text><text x="672" y="405"  fill="rgb(161 144 171)">k</text><text x="675" y="405"  fill="rgb(163 146 172)">e</text><text x="678" y="405"  fill="rgb(164 146 174)">y</text><text x="681" y="405"  fill="rgb(157 135 167)">.</text><text x="684" y="405"  fill="rgb(176 159 184)">l</text><text x="687" y="405"  fill="rgb(228 224 230)">e</text><text x="690" y="405"  fill="rgb(253 255 253)">n</text><text x="693" y="405"  fill="rgb(248 249 248)">g</text><text x="696" y="405"  fill="rgb(244 244 244)">t</text><text x="699" y="405"  fill="rgb(245 245 245)">h === 0 || applykey.includes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { throw new InsightError(); } this.transformationKey.push(applykey); if (Arr</text><text x="0" y="410"  fill="rgb(245 245 245)">ay.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(crite</text><text x="390" y="410"  fill="rgb(252 253 252)">r</text><text x="393" y="410"  fill="rgb(227 225 229)">i</text><text x="396" y="410"  fill="rgb(170 159 176)">a</text><text x="399" y="410"  fill="rgb(182 172 186)">)</text><text x="402" y="410"  fill="rgb(197 188 200)">[</text><text x="405" y="410"  fill="rgb(196 186 199)">0</text><text x="408" y="410"  fill="rgb(195 187 199)">]</text><text x="411" y="410"  fill="rgb(195 188 200)">; </text><text x="417" y="410"  fill="rgb(196 188 200)">i</text><text x="420" y="410"  fill="rgb(197 189 201)">f</text><text x="423" y="410"  fill="rgb(198 190 200)"> </text><text x="426" y="410"  fill="rgb(202 194 205)">(</text><text x="429" y="410"  fill="rgb(174 163 179)">!</text><text x="432" y="410"  fill="rgb(157 143 163)">t</text><text x="435" y="410"  fill="rgb(82 42 102)">h</text><text x="438" y="410"  fill="rgb(52 1 80)">i</text><text x="441" y="410"  fill="rgb(81 45 98)">s</text><text x="444" y="410"  fill="rgb(100 76 109)">.</text><text x="447" y="410"  fill="rgb(97 70 108)">m</text><text x="450" y="410"  fill="rgb(95 69 107)">t</text><text x="453" y="410"  fill="rgb(96 69 106)">o</text><text x="456" y="410"  fill="rgb(94 68 106)">ken</text><text x="465" y="410"  fill="rgb(93 67 106)">.</text><text x="468" y="410"  fill="rgb(93 68 106)">in</text><text x="474" y="410"  fill="rgb(93 67 105)">c</text><text x="477" y="410"  fill="rgb(93 68 106)">l</text><text x="480" y="410"  fill="rgb(94 68 108)">u</text><text x="483" y="410"  fill="rgb(86 59 100)">d</text><text x="486" y="410"  fill="rgb(80 52 92)">e</text><text x="489" y="410"  fill="rgb(81 53 94)">s</text><text x="492" y="410"  fill="rgb(80 51 93)">(</text><text x="495" y="410"  fill="rgb(78 49 92)">a</text><text x="498" y="410"  fill="rgb(78 49 93)">pp</text><text x="504" y="410"  fill="rgb(78 48 93)">l</text><text x="507" y="410"  fill="rgb(78 47 93)">y</text><text x="510" y="410"  fill="rgb(78 46 92)">to</text><text x="516" y="410"  fill="rgb(77 45 91)">k</text><text x="519" y="410"  fill="rgb(77 45 92)">e</text><text x="522" y="410"  fill="rgb(77 44 92)">n</text><text x="525" y="410"  fill="rgb(75 42 92)">)</text><text x="528" y="410"  fill="rgb(77 42 91)"> </text><text x="531" y="410"  fill="rgb(75 40 92)">&amp;</text><text x="534" y="410"  fill="rgb(75 40 93)">&amp; </text><text x="540" y="410"  fill="rgb(74 40 93)">!</text><text x="543" y="410"  fill="rgb(75 39 92)">t</text><text x="546" y="410"  fill="rgb(75 37 93)">h</text><text x="549" y="410"  fill="rgb(75 38 93)">i</text><text x="552" y="410"  fill="rgb(75 37 92)">s</text><text x="555" y="410"  fill="rgb(75 37 93)">.</text><text x="558" y="410"  fill="rgb(74 36 94)">m</text><text x="561" y="410"  fill="rgb(69 30 89)">s</text><text x="564" y="410"  fill="rgb(65 25 85)">t</text><text x="567" y="410"  fill="rgb(64 25 86)">o</text><text x="570" y="410"  fill="rgb(69 34 89)">k</text><text x="573" y="410"  fill="rgb(74 41 91)">e</text><text x="576" y="410"  fill="rgb(73 40 91)">n</text><text x="579" y="410"  fill="rgb(74 39 90)">.</text><text x="582" y="410"  fill="rgb(73 39 90)">i</text><text x="585" y="410"  fill="rgb(73 38 88)">n</text><text x="588" y="410"  fill="rgb(74 37 90)">c</text><text x="591" y="410"  fill="rgb(76 38 95)">l</text><text x="594" y="410"  fill="rgb(73 35 92)">u</text><text x="597" y="410"  fill="rgb(84 46 101)">d</text><text x="600" y="410"  fill="rgb(88 52 107)">e</text><text x="603" y="410"  fill="rgb(86 50 105)">s</text><text x="606" y="410"  fill="rgb(87 50 105)">(</text><text x="609" y="410"  fill="rgb(86 48 105)">appl</text><text x="621" y="410"  fill="rgb(86 48 103)">y</text><text x="624" y="410"  fill="rgb(86 47 104)">t</text><text x="627" y="410"  fill="rgb(84 46 102)">o</text><text x="630" y="410"  fill="rgb(79 43 97)">k</text><text x="633" y="410"  fill="rgb(82 45 98)">e</text><text x="636" y="410"  fill="rgb(75 37 93)">n</text><text x="639" y="410"  fill="rgb(64 23 83)">)</text><text x="642" y="410"  fill="rgb(84 49 102)">)</text><text x="645" y="410"  fill="rgb(140 118 152)"> </text><text x="648" y="410"  fill="rgb(175 163 183)">{</text><text x="651" y="410"  fill="rgb(171 157 179)"> </text><text x="654" y="410"  fill="rgb(161 143 170)">t</text><text x="657" y="410"  fill="rgb(161 144 170)">h</text><text x="660" y="410"  fill="rgb(162 145 171)">ro</text><text x="666" y="410"  fill="rgb(161 144 170)">w</text><text x="669" y="410"  fill="rgb(160 143 169)"> n</text><text x="675" y="410"  fill="rgb(159 141 168)">e</text><text x="678" y="410"  fill="rgb(160 142 168)">w</text><text x="681" y="410"  fill="rgb(160 142 169)"> </text><text x="684" y="410"  fill="rgb(151 130 159)">I</text><text x="687" y="410"  fill="rgb(155 136 166)">n</text><text x="690" y="410"  fill="rgb(206 196 211)">s</text><text x="693" y="410"  fill="rgb(249 249 249)">i</text><text x="696" y="410"  fill="rgb(251 252 250)">g</text><text x="699" y="410"  fill="rgb(244 244 244)">h</text><text x="702" y="410"  fill="rgb(245 245 245)">tError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) </text><text x="0" y="415"  fill="rgb(245 245 245)">{ if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.in</text><text x="387" y="415"  fill="rgb(250 251 250)">c</text><text x="390" y="415"  fill="rgb(239 239 240)">l</text><text x="393" y="415"  fill="rgb(181 172 185)">u</text><text x="396" y="415"  fill="rgb(169 157 175)">d</text><text x="399" y="415"  fill="rgb(187 180 191)">e</text><text x="402" y="415"  fill="rgb(195 186 199)">s(a</text><text x="411" y="415"  fill="rgb(196 187 199)">p</text><text x="414" y="415"  fill="rgb(195 187 199)">p</text><text x="417" y="415"  fill="rgb(196 188 200)">ly</text><text x="423" y="415"  fill="rgb(201 195 205)">t</text><text x="426" y="415"  fill="rgb(193 184 197)">o</text><text x="429" y="415"  fill="rgb(168 158 172)">k</text><text x="432" y="415"  fill="rgb(131 110 141)">e</text><text x="435" y="415"  fill="rgb(59 10 83)">n</text><text x="438" y="415"  fill="rgb(58 8 83)">)</text><text x="441" y="415"  fill="rgb(76 40 96)">)</text><text x="444" y="415"  fill="rgb(100 76 110)"> </text><text x="447" y="415"  fill="rgb(97 72 109)">{</text><text x="450" y="415"  fill="rgb(96 70 108)"> i</text><text x="456" y="415"  fill="rgb(95 69 107)">f </text><text x="462" y="415"  fill="rgb(94 68 106)">(!</text><text x="468" y="415"  fill="rgb(94 67 106)">(</text><text x="471" y="415"  fill="rgb(93 67 106)">t</text><text x="474" y="415"  fill="rgb(93 68 106)">hi</text><text x="480" y="415"  fill="rgb(94 69 107)">s</text><text x="483" y="415"  fill="rgb(89 62 102)">.</text><text x="486" y="415"  fill="rgb(81 52 93)">v</text><text x="489" y="415"  fill="rgb(82 53 94)">a</text><text x="492" y="415"  fill="rgb(80 52 93)">l</text><text x="495" y="415"  fill="rgb(80 51 94)">i</text><text x="498" y="415"  fill="rgb(79 50 93)">d</text><text x="501" y="415"  fill="rgb(78 49 93)">a</text><text x="504" y="415"  fill="rgb(78 48 93)">t</text><text x="507" y="415"  fill="rgb(78 47 93)">e</text><text x="510" y="415"  fill="rgb(78 46 93)">I</text><text x="513" y="415"  fill="rgb(78 46 91)">d</text><text x="516" y="415"  fill="rgb(78 45 92)">s</text><text x="519" y="415"  fill="rgb(78 45 93)">t</text><text x="522" y="415"  fill="rgb(77 44 92)">r</text><text x="525" y="415"  fill="rgb(78 43 92)">i</text><text x="528" y="415"  fill="rgb(77 42 92)">n</text><text x="531" y="415"  fill="rgb(76 41 93)">g</text><text x="534" y="415"  fill="rgb(75 40 92)">(</text><text x="537" y="415"  fill="rgb(75 40 93)">k</text><text x="540" y="415"  fill="rgb(76 39 93)">e</text><text x="543" y="415"  fill="rgb(76 38 94)">y</text><text x="546" y="415"  fill="rgb(75 39 93)">[</text><text x="549" y="415"  fill="rgb(76 37 93)">0</text><text x="552" y="415"  fill="rgb(74 37 92)">]</text><text x="555" y="415"  fill="rgb(75 37 94)">)</text><text x="558" y="415"  fill="rgb(72 33 91)"> </text><text x="561" y="415"  fill="rgb(66 28 86)">&amp;</text><text x="564" y="415"  fill="rgb(65 26 86)">&amp;</text><text x="567" y="415"  fill="rgb(68 29 86)"> </text><text x="570" y="415"  fill="rgb(75 41 91)">(</text><text x="573" y="415"  fill="rgb(75 41 92)">t</text><text x="576" y="415"  fill="rgb(73 39 90)">his</text><text x="585" y="415"  fill="rgb(74 40 90)">.</text><text x="588" y="415"  fill="rgb(77 40 94)">s</text><text x="591" y="415"  fill="rgb(76 39 95)">f</text><text x="594" y="415"  fill="rgb(80 42 97)">i</text><text x="597" y="415"  fill="rgb(89 53 106)">e</text><text x="600" y="415"  fill="rgb(88 53 106)">l</text><text x="603" y="415"  fill="rgb(87 51 106)">ds</text><text x="609" y="415"  fill="rgb(87 50 106)">.</text><text x="612" y="415"  fill="rgb(86 50 105)">i</text><text x="615" y="415"  fill="rgb(86 49 105)">n</text><text x="618" y="415"  fill="rgb(86 48 104)">c</text><text x="621" y="415"  fill="rgb(86 48 105)">l</text><text x="624" y="415"  fill="rgb(86 48 104)">u</text><text x="627" y="415"  fill="rgb(87 48 105)">d</text><text x="630" y="415"  fill="rgb(85 47 104)">e</text><text x="633" y="415"  fill="rgb(80 43 97)">s</text><text x="636" y="415"  fill="rgb(82 45 97)">(</text><text x="639" y="415"  fill="rgb(79 42 96)">k</text><text x="642" y="415"  fill="rgb(65 26 86)">e</text><text x="645" y="415"  fill="rgb(66 25 85)">y</text><text x="648" y="415"  fill="rgb(108 77 122)">[</text><text x="651" y="415"  fill="rgb(163 146 171)">1</text><text x="654" y="415"  fill="rgb(178 163 185)">]</text><text x="657" y="415"  fill="rgb(166 150 174)">)</text><text x="660" y="415"  fill="rgb(161 144 170)"> || th</text><text x="678" y="415"  fill="rgb(160 144 170)">i</text><text x="681" y="415"  fill="rgb(160 143 170)">s</text><text x="684" y="415"  fill="rgb(161 143 169)">.</text><text x="687" y="415"  fill="rgb(152 132 162)">m</text><text x="690" y="415"  fill="rgb(145 123 156)">f</text><text x="693" y="415"  fill="rgb(180 166 188)">i</text><text x="696" y="415"  fill="rgb(237 235 238)">e</text><text x="699" y="415"  fill="rgb(253 254 252)">l</text><text x="702" y="415"  fill="rgb(247 247 246)">d</text><text x="705" y="415"  fill="rgb(245 245 245)">s.includes(key[1])))) { throw new InsightError(); } } } } public validateOptions(q: any): void { let keys: any[] = Object.keys(q); for (let key of keys) {</text><text x="0" y="420"  fill="rgb(245 245 245)"> if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.</text><text x="384" y="420"  fill="rgb(247 247 247)">v</text><text x="387" y="420"  fill="rgb(246 246 247)">a</text><text x="390" y="420"  fill="rgb(197 190 201)">l</text><text x="393" y="420"  fill="rgb(166 154 172)">i</text><text x="396" y="420"  fill="rgb(177 167 182)">d</text><text x="399" y="420"  fill="rgb(186 178 190)">a</text><text x="402" y="420"  fill="rgb(195 186 198)">t</text><text x="405" y="420"  fill="rgb(194 185 198)">eO</text><text x="411" y="420"  fill="rgb(195 186 199)">r</text><text x="414" y="420"  fill="rgb(196 187 199)">de</text><text x="420" y="420"  fill="rgb(196 188 200)">r</text><text x="423" y="420"  fill="rgb(202 195 206)">(</text><text x="426" y="420"  fill="rgb(180 169 184)">q</text><text x="429" y="420"  fill="rgb(162 151 167)">.</text><text x="432" y="420"  fill="rgb(96 61 113)">O</text><text x="435" y="420"  fill="rgb(55 5 80)">R</text><text x="438" y="420"  fill="rgb(59 11 84)">D</text><text x="441" y="420"  fill="rgb(74 35 93)">E</text><text x="444" y="420"  fill="rgb(99 75 109)">R</text><text x="447" y="420"  fill="rgb(99 75 110)">)</text><text x="450" y="420"  fill="rgb(96 71 108)">; }</text><text x="459" y="420"  fill="rgb(96 70 107)"> }</text><text x="465" y="420"  fill="rgb(95 69 107)"> p</text><text x="471" y="420"  fill="rgb(95 68 107)">r</text><text x="474" y="420"  fill="rgb(94 68 106)">i</text><text x="477" y="420"  fill="rgb(93 68 106)">v</text><text x="480" y="420"  fill="rgb(94 70 108)">a</text><text x="483" y="420"  fill="rgb(90 64 103)">t</text><text x="486" y="420"  fill="rgb(81 53 93)">e</text><text x="489" y="420"  fill="rgb(81 53 94)"> v</text><text x="495" y="420"  fill="rgb(81 52 94)">a</text><text x="498" y="420"  fill="rgb(80 50 94)">l</text><text x="501" y="420"  fill="rgb(78 48 93)">i</text><text x="504" y="420"  fill="rgb(79 48 93)">da</text><text x="510" y="420"  fill="rgb(78 46 93)">te</text><text x="516" y="420"  fill="rgb(78 45 93)">Col</text><text x="525" y="420"  fill="rgb(78 43 93)">um</text><text x="531" y="420"  fill="rgb(77 42 93)">n</text><text x="534" y="420"  fill="rgb(76 42 93)">s</text><text x="537" y="420"  fill="rgb(76 41 93)">(</text><text x="540" y="420"  fill="rgb(76 39 93)">q</text><text x="543" y="420"  fill="rgb(75 38 93)">:</text><text x="546" y="420"  fill="rgb(75 39 94)"> </text><text x="549" y="420"  fill="rgb(75 38 94)">an</text><text x="555" y="420"  fill="rgb(76 37 94)">y</text><text x="558" y="420"  fill="rgb(69 31 88)">)</text><text x="561" y="420"  fill="rgb(65 28 85)">:</text><text x="564" y="420"  fill="rgb(65 26 86)"> </text><text x="567" y="420"  fill="rgb(71 35 88)">v</text><text x="570" y="420"  fill="rgb(76 43 92)">o</text><text x="573" y="420"  fill="rgb(75 41 91)">id</text><text x="579" y="420"  fill="rgb(74 40 91)"> {</text><text x="585" y="420"  fill="rgb(74 40 90)"> </text><text x="588" y="420"  fill="rgb(76 41 94)">i</text><text x="591" y="420"  fill="rgb(77 40 95)">f</text><text x="594" y="420"  fill="rgb(88 53 105)"> </text><text x="597" y="420"  fill="rgb(91 57 108)">(</text><text x="600" y="420"  fill="rgb(89 55 107)">!</text><text x="603" y="420"  fill="rgb(89 53 106)">q</text><text x="606" y="420"  fill="rgb(88 52 107)"> </text><text x="609" y="420"  fill="rgb(88 51 106)">|</text><text x="612" y="420"  fill="rgb(87 51 106)">|</text><text x="615" y="420"  fill="rgb(86 51 106)"> </text><text x="618" y="420"  fill="rgb(87 50 106)">q</text><text x="621" y="420"  fill="rgb(86 49 105)">.l</text><text x="627" y="420"  fill="rgb(86 48 105)">e</text><text x="630" y="420"  fill="rgb(87 48 106)">n</text><text x="633" y="420"  fill="rgb(85 47 104)">g</text><text x="636" y="420"  fill="rgb(83 45 100)">t</text><text x="639" y="420"  fill="rgb(81 44 98)">h</text><text x="642" y="420"  fill="rgb(81 45 98)"> </text><text x="645" y="420"  fill="rgb(73 34 91)">&lt;</text><text x="648" y="420"  fill="rgb(63 22 83)"> </text><text x="651" y="420"  fill="rgb(84 49 102)">1</text><text x="654" y="420"  fill="rgb(134 112 146)">)</text><text x="657" y="420"  fill="rgb(170 156 179)"> </text><text x="660" y="420"  fill="rgb(172 158 180)">{</text><text x="663" y="420"  fill="rgb(163 146 171)"> </text><text x="666" y="420"  fill="rgb(160 143 170)">t</text><text x="669" y="420"  fill="rgb(161 144 170)">h</text><text x="672" y="420"  fill="rgb(160 143 169)">row</text><text x="681" y="420"  fill="rgb(159 142 169)"> n</text><text x="687" y="420"  fill="rgb(161 144 170)">e</text><text x="690" y="420"  fill="rgb(156 136 164)">w</text><text x="693" y="420"  fill="rgb(144 123 154)"> </text><text x="696" y="420"  fill="rgb(163 145 173)">I</text><text x="699" y="420"  fill="rgb(214 206 217)">n</text><text x="702" y="420"  fill="rgb(246 246 245)">s</text><text x="705" y="420"  fill="rgb(247 248 247)">i</text><text x="708" y="420"  fill="rgb(245 245 245)">ghtError(); } for (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightError(); } </text><text x="0" y="425"  fill="rgb(245 245 245)">} else { this.validateKey(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)</text><text x="384" y="425"  fill="rgb(250 251 250)">)</text><text x="387" y="425"  fill="rgb(213 207 216)"> </text><text x="390" y="425"  fill="rgb(168 156 174)">{</text><text x="393" y="425"  fill="rgb(175 164 180)"> t</text><text x="399" y="425"  fill="rgb(185 177 190)">h</text><text x="402" y="425"  fill="rgb(195 186 199)">r</text><text x="405" y="425"  fill="rgb(194 185 198)">ow</text><text x="411" y="425"  fill="rgb(195 186 199)"> n</text><text x="417" y="425"  fill="rgb(195 187 199)">e</text><text x="420" y="425"  fill="rgb(197 189 201)">w </text><text x="426" y="425"  fill="rgb(174 165 179)">I</text><text x="429" y="425"  fill="rgb(144 127 152)">n</text><text x="432" y="425"  fill="rgb(69 23 91)">s</text><text x="435" y="425"  fill="rgb(59 11 82)">i</text><text x="438" y="425"  fill="rgb(60 12 84)">g</text><text x="441" y="425"  fill="rgb(69 26 90)">h</text><text x="444" y="425"  fill="rgb(97 72 108)">t</text><text x="447" y="425"  fill="rgb(100 77 111)">E</text><text x="450" y="425"  fill="rgb(97 72 109)">rr</text><text x="456" y="425"  fill="rgb(96 71 109)">o</text><text x="459" y="425"  fill="rgb(96 71 108)">r</text><text x="462" y="425"  fill="rgb(97 70 107)">(</text><text x="465" y="425"  fill="rgb(96 70 107)">)</text><text x="468" y="425"  fill="rgb(96 70 108)">;</text><text x="471" y="425"  fill="rgb(96 69 107)"> </text><text x="474" y="425"  fill="rgb(95 69 107)">}</text><text x="477" y="425"  fill="rgb(94 68 106)"> </text><text x="480" y="425"  fill="rgb(95 69 107)">e</text><text x="483" y="425"  fill="rgb(92 65 104)">l</text><text x="486" y="425"  fill="rgb(82 54 94)">s</text><text x="489" y="425"  fill="rgb(81 52 94)">e</text><text x="492" y="425"  fill="rgb(82 53 95)"> </text><text x="495" y="425"  fill="rgb(81 52 94)">i</text><text x="498" y="425"  fill="rgb(80 50 93)">f</text><text x="501" y="425"  fill="rgb(79 49 94)"> </text><text x="504" y="425"  fill="rgb(80 49 93)">(</text><text x="507" y="425"  fill="rgb(79 48 93)">t</text><text x="510" y="425"  fill="rgb(78 48 93)">y</text><text x="513" y="425"  fill="rgb(79 47 94)">p</text><text x="516" y="425"  fill="rgb(78 45 93)">eo</text><text x="522" y="425"  fill="rgb(78 44 93)">f</text><text x="525" y="425"  fill="rgb(78 44 94)"> </text><text x="528" y="425"  fill="rgb(78 43 93)">q</text><text x="531" y="425"  fill="rgb(77 43 93)"> </text><text x="534" y="425"  fill="rgb(77 41 93)">==</text><text x="540" y="425"  fill="rgb(76 40 93)">=</text><text x="543" y="425"  fill="rgb(75 40 93)"> </text><text x="546" y="425"  fill="rgb(75 38 93)">&quot;</text><text x="549" y="425"  fill="rgb(75 38 94)">s</text><text x="552" y="425"  fill="rgb(77 38 95)">t</text><text x="555" y="425"  fill="rgb(75 36 94)">r</text><text x="558" y="425"  fill="rgb(67 30 87)">i</text><text x="561" y="425"  fill="rgb(67 28 86)">ng</text><text x="567" y="425"  fill="rgb(75 42 90)">&quot;</text><text x="570" y="425"  fill="rgb(76 44 91)">)</text><text x="573" y="425"  fill="rgb(75 42 91)"> </text><text x="576" y="425"  fill="rgb(75 41 91)">{ </text><text x="582" y="425"  fill="rgb(74 40 91)">i</text><text x="585" y="425"  fill="rgb(74 40 90)">f</text><text x="588" y="425"  fill="rgb(76 40 93)"> </text><text x="591" y="425"  fill="rgb(82 46 100)">(</text><text x="594" y="425"  fill="rgb(92 58 110)">!</text><text x="597" y="425"  fill="rgb(91 57 108)">t</text><text x="600" y="425"  fill="rgb(90 56 108)">hi</text><text x="606" y="425"  fill="rgb(89 54 107)">s</text><text x="609" y="425"  fill="rgb(88 53 106)">.</text><text x="612" y="425"  fill="rgb(88 52 106)">k</text><text x="615" y="425"  fill="rgb(87 51 106)">ey</text><text x="621" y="425"  fill="rgb(86 50 105)">sI</text><text x="627" y="425"  fill="rgb(86 49 105)">n</text><text x="630" y="425"  fill="rgb(86 48 104)">Q</text><text x="633" y="425"  fill="rgb(86 48 106)">ue</text><text x="639" y="425"  fill="rgb(84 46 102)">r</text><text x="642" y="425"  fill="rgb(81 44 98)">y</text><text x="645" y="425"  fill="rgb(80 44 97)">.</text><text x="648" y="425"  fill="rgb(79 41 96)">i</text><text x="651" y="425"  fill="rgb(70 31 88)">n</text><text x="654" y="425"  fill="rgb(70 32 89)">c</text><text x="657" y="425"  fill="rgb(103 73 119)">l</text><text x="660" y="425"  fill="rgb(152 132 162)">u</text><text x="663" y="425"  fill="rgb(177 164 183)">d</text><text x="666" y="425"  fill="rgb(168 154 177)">e</text><text x="669" y="425"  fill="rgb(159 142 168)">s(</text><text x="675" y="425"  fill="rgb(160 143 169)">q)</text><text x="681" y="425"  fill="rgb(159 142 169)">) {</text><text x="690" y="425"  fill="rgb(160 143 170)"> </text><text x="693" y="425"  fill="rgb(159 142 168)">t</text><text x="696" y="425"  fill="rgb(150 131 161)">h</text><text x="699" y="425"  fill="rgb(151 131 161)">r</text><text x="702" y="425"  fill="rgb(192 180 197)">o</text><text x="705" y="425"  fill="rgb(245 246 245)">w</text><text x="708" y="425"  fill="rgb(247 248 247)"> </text><text x="711" y="425"  fill="rgb(245 245 245)">new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN</text><text x="0" y="430"  fill="rgb(245 245 245)">&quot;) { throw new InsightError(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError</text><text x="378" y="430"  fill="rgb(244 244 244)">(</text><text x="381" y="430"  fill="rgb(251 252 250)">)</text><text x="384" y="430"  fill="rgb(230 229 231)">;</text><text x="387" y="430"  fill="rgb(174 162 178)"> </text><text x="390" y="430"  fill="rgb(170 158 175)">}</text><text x="393" y="430"  fill="rgb(176 165 181)"> </text><text x="396" y="430"  fill="rgb(175 164 180)">f</text><text x="399" y="430"  fill="rgb(186 176 190)">o</text><text x="402" y="430"  fill="rgb(194 185 198)">r</text><text x="405" y="430"  fill="rgb(193 184 197)"> (</text><text x="411" y="430"  fill="rgb(194 185 198)">l</text><text x="414" y="430"  fill="rgb(195 186 199)">et</text><text x="420" y="430"  fill="rgb(201 191 202)"> </text><text x="423" y="430"  fill="rgb(189 179 193)">a</text><text x="426" y="430"  fill="rgb(171 161 177)">n</text><text x="429" y="430"  fill="rgb(113 83 126)">y</text><text x="432" y="430"  fill="rgb(56 6 81)">k</text><text x="435" y="430"  fill="rgb(62 16 86)">e</text><text x="438" y="430"  fill="rgb(62 15 86)">y</text><text x="441" y="430"  fill="rgb(63 17 86)"> </text><text x="444" y="430"  fill="rgb(93 64 106)">o</text><text x="447" y="430"  fill="rgb(101 79 112)">f</text><text x="450" y="430"  fill="rgb(98 73 109)"> k</text><text x="456" y="430"  fill="rgb(97 73 109)">e</text><text x="459" y="430"  fill="rgb(97 72 109)">y</text><text x="462" y="430"  fill="rgb(97 71 108)">s)</text><text x="468" y="430"  fill="rgb(96 71 108)"> </text><text x="471" y="430"  fill="rgb(97 71 108)">{</text><text x="474" y="430"  fill="rgb(96 70 107)"> </text><text x="477" y="430"  fill="rgb(95 69 107)">i</text><text x="480" y="430"  fill="rgb(96 70 108)">f</text><text x="483" y="430"  fill="rgb(94 68 107)"> </text><text x="486" y="430"  fill="rgb(83 55 95)">(</text><text x="489" y="430"  fill="rgb(81 52 94)">!</text><text x="492" y="430"  fill="rgb(82 53 95)">t</text><text x="495" y="430"  fill="rgb(81 52 95)">h</text><text x="498" y="430"  fill="rgb(80 51 94)">i</text><text x="501" y="430"  fill="rgb(80 50 93)">s</text><text x="504" y="430"  fill="rgb(80 49 93)">.</text><text x="507" y="430"  fill="rgb(80 49 94)">k</text><text x="510" y="430"  fill="rgb(80 48 94)">e</text><text x="513" y="430"  fill="rgb(79 47 94)">ys</text><text x="519" y="430"  fill="rgb(78 45 94)">I</text><text x="522" y="430"  fill="rgb(78 44 94)">nQ</text><text x="528" y="430"  fill="rgb(77 43 93)">u</text><text x="531" y="430"  fill="rgb(78 42 94)">e</text><text x="534" y="430"  fill="rgb(78 42 93)">r</text><text x="537" y="430"  fill="rgb(77 41 93)">y</text><text x="540" y="430"  fill="rgb(77 41 94)">.</text><text x="543" y="430"  fill="rgb(76 40 94)">i</text><text x="546" y="430"  fill="rgb(75 38 93)">n</text><text x="549" y="430"  fill="rgb(75 37 93)">c</text><text x="552" y="430"  fill="rgb(76 38 94)">l</text><text x="555" y="430"  fill="rgb(72 35 91)">u</text><text x="558" y="430"  fill="rgb(68 30 87)">d</text><text x="561" y="430"  fill="rgb(66 28 86)">e</text><text x="564" y="430"  fill="rgb(70 34 87)">s</text><text x="567" y="430"  fill="rgb(77 46 91)">(</text><text x="570" y="430"  fill="rgb(77 44 91)">a</text><text x="573" y="430"  fill="rgb(76 44 91)">n</text><text x="576" y="430"  fill="rgb(76 43 90)">y</text><text x="579" y="430"  fill="rgb(75 42 91)">k</text><text x="582" y="430"  fill="rgb(75 42 92)">e</text><text x="585" y="430"  fill="rgb(76 41 91)">y</text><text x="588" y="430"  fill="rgb(79 43 95)">)</text><text x="591" y="430"  fill="rgb(89 57 107)">)</text><text x="594" y="430"  fill="rgb(93 60 111)"> </text><text x="597" y="430"  fill="rgb(90 57 108)">{ </text><text x="603" y="430"  fill="rgb(91 57 108)">t</text><text x="606" y="430"  fill="rgb(89 56 107)">h</text><text x="609" y="430"  fill="rgb(89 55 107)">r</text><text x="612" y="430"  fill="rgb(89 54 107)">ow</text><text x="618" y="430"  fill="rgb(88 52 106)"> </text><text x="621" y="430"  fill="rgb(87 51 106)">new</text><text x="630" y="430"  fill="rgb(86 50 106)"> </text><text x="633" y="430"  fill="rgb(86 50 105)">I</text><text x="636" y="430"  fill="rgb(86 48 105)">ns</text><text x="642" y="430"  fill="rgb(86 47 104)">i</text><text x="645" y="430"  fill="rgb(83 45 101)">g</text><text x="648" y="430"  fill="rgb(81 44 97)">h</text><text x="651" y="430"  fill="rgb(80 43 97)">t</text><text x="654" y="430"  fill="rgb(77 39 94)">E</text><text x="657" y="430"  fill="rgb(65 25 84)">r</text><text x="660" y="430"  fill="rgb(77 39 95)">r</text><text x="663" y="430"  fill="rgb(127 101 138)">o</text><text x="666" y="430"  fill="rgb(171 158 178)">r</text><text x="669" y="430"  fill="rgb(176 162 182)">(</text><text x="672" y="430"  fill="rgb(162 146 170)">)</text><text x="675" y="430"  fill="rgb(159 141 168)">;</text><text x="678" y="430"  fill="rgb(160 143 169)"> } </text><text x="687" y="430"  fill="rgb(159 142 169)">} }</text><text x="696" y="430"  fill="rgb(159 142 168)"> </text><text x="699" y="430"  fill="rgb(151 131 160)">}</text><text x="702" y="430"  fill="rgb(164 148 171)"> </text><text x="705" y="430"  fill="rgb(226 224 227)">p</text><text x="708" y="430"  fill="rgb(244 244 244)">u</text><text x="711" y="430"  fill="rgb(248 248 247)">b</text><text x="714" y="430"  fill="rgb(246 246 246)">l</text><text x="717" y="430"  fill="rgb(245 245 245)">ic validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q);</text><text x="0" y="435"  fill="rgb(245 245 245)"> } } } private validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: s</text><text x="378" y="435"  fill="rgb(249 250 249)">t</text><text x="381" y="435"  fill="rgb(243 242 243)">r</text><text x="384" y="435"  fill="rgb(184 174 188)">i</text><text x="387" y="435"  fill="rgb(164 152 170)">n</text><text x="390" y="435"  fill="rgb(173 163 178)">g </text><text x="396" y="435"  fill="rgb(174 163 179)">=</text><text x="399" y="435"  fill="rgb(186 176 191)"> </text><text x="402" y="435"  fill="rgb(194 185 198)">O</text><text x="405" y="435"  fill="rgb(192 184 197)">b</text><text x="408" y="435"  fill="rgb(193 184 197)">j</text><text x="411" y="435"  fill="rgb(194 185 198)">ec</text><text x="417" y="435"  fill="rgb(195 186 199)">t</text><text x="420" y="435"  fill="rgb(199 190 201)">.</text><text x="423" y="435"  fill="rgb(184 176 189)">k</text><text x="426" y="435"  fill="rgb(156 143 162)">e</text><text x="429" y="435"  fill="rgb(81 40 101)">y</text><text x="432" y="435"  fill="rgb(55 5 80)">s</text><text x="435" y="435"  fill="rgb(64 18 86)">(</text><text x="438" y="435"  fill="rgb(64 18 87)">q</text><text x="441" y="435"  fill="rgb(60 12 85)">)</text><text x="444" y="435"  fill="rgb(85 52 101)">[</text><text x="447" y="435"  fill="rgb(103 81 112)">0</text><text x="450" y="435"  fill="rgb(99 75 110)">]</text><text x="453" y="435"  fill="rgb(98 74 110)">;</text><text x="456" y="435"  fill="rgb(98 75 110)"> </text><text x="459" y="435"  fill="rgb(98 72 109)">l</text><text x="462" y="435"  fill="rgb(98 73 109)">et</text><text x="468" y="435"  fill="rgb(97 72 109)"> </text><text x="471" y="435"  fill="rgb(96 72 109)">v</text><text x="474" y="435"  fill="rgb(97 72 109)">a</text><text x="477" y="435"  fill="rgb(97 71 108)">l</text><text x="480" y="435"  fill="rgb(97 72 109)">u</text><text x="483" y="435"  fill="rgb(97 70 108)">e</text><text x="486" y="435"  fill="rgb(84 57 97)">:</text><text x="489" y="435"  fill="rgb(81 52 94)"> </text><text x="492" y="435"  fill="rgb(82 54 95)">a</text><text x="495" y="435"  fill="rgb(82 53 95)">n</text><text x="498" y="435"  fill="rgb(81 52 95)">y</text><text x="501" y="435"  fill="rgb(81 51 94)"> </text><text x="504" y="435"  fill="rgb(80 51 95)">=</text><text x="507" y="435"  fill="rgb(81 50 95)"> </text><text x="510" y="435"  fill="rgb(81 49 95)">O</text><text x="513" y="435"  fill="rgb(80 48 94)">b</text><text x="516" y="435"  fill="rgb(79 46 94)">j</text><text x="519" y="435"  fill="rgb(78 46 94)">e</text><text x="522" y="435"  fill="rgb(78 45 94)">c</text><text x="525" y="435"  fill="rgb(78 45 93)">t</text><text x="528" y="435"  fill="rgb(79 42 94)">.</text><text x="531" y="435"  fill="rgb(77 42 93)">v</text><text x="534" y="435"  fill="rgb(78 42 93)">a</text><text x="537" y="435"  fill="rgb(77 42 94)">l</text><text x="540" y="435"  fill="rgb(77 41 93)">u</text><text x="543" y="435"  fill="rgb(77 39 93)">e</text><text x="546" y="435"  fill="rgb(76 39 94)">s</text><text x="549" y="435"  fill="rgb(77 39 94)">(</text><text x="552" y="435"  fill="rgb(75 37 94)">q</text><text x="555" y="435"  fill="rgb(68 32 87)">)</text><text x="558" y="435"  fill="rgb(68 29 87)">[</text><text x="561" y="435"  fill="rgb(68 27 85)">0</text><text x="564" y="435"  fill="rgb(74 38 89)">]</text><text x="567" y="435"  fill="rgb(79 47 92)">;</text><text x="570" y="435"  fill="rgb(77 45 91)"> sw</text><text x="579" y="435"  fill="rgb(77 44 91)">i</text><text x="582" y="435"  fill="rgb(76 43 91)">t</text><text x="585" y="435"  fill="rgb(75 41 91)">c</text><text x="588" y="435"  fill="rgb(84 51 101)">h</text><text x="591" y="435"  fill="rgb(94 63 112)"> </text><text x="594" y="435"  fill="rgb(93 61 110)">(</text><text x="597" y="435"  fill="rgb(93 60 110)">k</text><text x="600" y="435"  fill="rgb(92 58 109)">e</text><text x="603" y="435"  fill="rgb(89 57 109)">y</text><text x="606" y="435"  fill="rgb(90 57 108)">) </text><text x="612" y="435"  fill="rgb(90 56 107)">{</text><text x="615" y="435"  fill="rgb(90 56 108)"> </text><text x="618" y="435"  fill="rgb(89 55 107)">c</text><text x="621" y="435"  fill="rgb(89 53 107)">a</text><text x="624" y="435"  fill="rgb(89 52 106)">s</text><text x="627" y="435"  fill="rgb(87 51 106)">e</text><text x="630" y="435"  fill="rgb(87 51 105)"> </text><text x="633" y="435"  fill="rgb(86 51 106)">&quot;</text><text x="636" y="435"  fill="rgb(87 50 106)">A</text><text x="639" y="435"  fill="rgb(86 50 105)">N</text><text x="642" y="435"  fill="rgb(86 48 105)">D</text><text x="645" y="435"  fill="rgb(87 48 105)">&quot;</text><text x="648" y="435"  fill="rgb(85 48 103)">:</text><text x="651" y="435"  fill="rgb(82 45 98)"> </text><text x="654" y="435"  fill="rgb(80 44 97)">c</text><text x="657" y="435"  fill="rgb(80 44 98)">a</text><text x="660" y="435"  fill="rgb(72 33 90)">s</text><text x="663" y="435"  fill="rgb(64 23 83)">e</text><text x="666" y="435"  fill="rgb(96 62 111)"> </text><text x="669" y="435"  fill="rgb(150 130 160)">&quot;</text><text x="672" y="435"  fill="rgb(175 163 182)">O</text><text x="675" y="435"  fill="rgb(168 153 176)">R</text><text x="678" y="435"  fill="rgb(158 142 167)">&quot;</text><text x="681" y="435"  fill="rgb(159 143 168)">:</text><text x="684" y="435"  fill="rgb(159 142 168)"> t</text><text x="690" y="435"  fill="rgb(159 141 168)">hi</text><text x="696" y="435"  fill="rgb(159 140 167)">s</text><text x="699" y="435"  fill="rgb(155 135 164)">.</text><text x="702" y="435"  fill="rgb(183 172 187)">v</text><text x="705" y="435"  fill="rgb(220 218 221)">a</text><text x="708" y="435"  fill="rgb(220 219 222)">l</text><text x="711" y="435"  fill="rgb(236 235 236)">i</text><text x="714" y="435"  fill="rgb(247 248 247)">d</text><text x="717" y="435"  fill="rgb(246 246 246)">a</text><text x="720" y="435"  fill="rgb(245 245 245)">teANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: thi</text><text x="0" y="440"  fill="rgb(245 245 245)">s.validateIS(value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value</text><text x="375" y="440"  fill="rgb(247 247 247)"> </text><text x="378" y="440"  fill="rgb(250 251 249)">!</text><text x="381" y="440"  fill="rgb(201 193 203)">=</text><text x="384" y="440"  fill="rgb(161 147 166)">=</text><text x="387" y="440"  fill="rgb(171 159 176)"> </text><text x="390" y="440"  fill="rgb(173 161 178)">&quot;o</text><text x="396" y="440"  fill="rgb(172 161 177)">b</text><text x="399" y="440"  fill="rgb(184 175 189)">j</text><text x="402" y="440"  fill="rgb(194 185 198)">e</text><text x="405" y="440"  fill="rgb(193 184 197)">c</text><text x="408" y="440"  fill="rgb(192 184 197)">t</text><text x="411" y="440"  fill="rgb(193 184 197)">&quot;)</text><text x="417" y="440"  fill="rgb(196 187 200)"> </text><text x="420" y="440"  fill="rgb(195 187 198)">{</text><text x="423" y="440"  fill="rgb(181 173 183)"> </text><text x="426" y="440"  fill="rgb(129 106 140)">t</text><text x="429" y="440"  fill="rgb(59 12 83)">h</text><text x="432" y="440"  fill="rgb(60 12 83)">r</text><text x="435" y="440"  fill="rgb(65 20 87)">ow</text><text x="441" y="440"  fill="rgb(62 15 85)"> </text><text x="444" y="440"  fill="rgb(75 37 93)">n</text><text x="447" y="440"  fill="rgb(102 79 112)">e</text><text x="450" y="440"  fill="rgb(101 78 111)">w</text><text x="453" y="440"  fill="rgb(99 75 110)"> I</text><text x="459" y="440"  fill="rgb(98 74 110)">n</text><text x="462" y="440"  fill="rgb(98 74 109)">si</text><text x="468" y="440"  fill="rgb(98 73 109)">gh</text><text x="474" y="440"  fill="rgb(97 72 109)">tEr</text><text x="483" y="440"  fill="rgb(98 73 109)">r</text><text x="486" y="440"  fill="rgb(88 61 99)">o</text><text x="489" y="440"  fill="rgb(81 52 94)">r</text><text x="492" y="440"  fill="rgb(82 54 95)">(</text><text x="495" y="440"  fill="rgb(82 53 95)">)</text><text x="498" y="440"  fill="rgb(82 53 96)">;</text><text x="501" y="440"  fill="rgb(82 52 95)"> </text><text x="504" y="440"  fill="rgb(82 51 95)">}</text><text x="507" y="440"  fill="rgb(81 51 96)"> </text><text x="510" y="440"  fill="rgb(81 49 95)">th</text><text x="516" y="440"  fill="rgb(79 46 94)">i</text><text x="519" y="440"  fill="rgb(79 45 94)">s</text><text x="522" y="440"  fill="rgb(78 45 94)">.</text><text x="525" y="440"  fill="rgb(79 44 95)">v</text><text x="528" y="440"  fill="rgb(79 43 94)">a</text><text x="531" y="440"  fill="rgb(78 43 94)">l</text><text x="534" y="440"  fill="rgb(77 42 94)">i</text><text x="537" y="440"  fill="rgb(78 42 94)">d</text><text x="540" y="440"  fill="rgb(78 41 94)">a</text><text x="543" y="440"  fill="rgb(78 40 94)">t</text><text x="546" y="440"  fill="rgb(76 39 94)">e</text><text x="549" y="440"  fill="rgb(77 39 94)">F</text><text x="552" y="440"  fill="rgb(73 36 92)">i</text><text x="555" y="440"  fill="rgb(67 31 86)">l</text><text x="558" y="440"  fill="rgb(67 29 86)">t</text><text x="561" y="440"  fill="rgb(68 31 86)">e</text><text x="564" y="440"  fill="rgb(77 45 91)">r</text><text x="567" y="440"  fill="rgb(79 48 92)">(</text><text x="570" y="440"  fill="rgb(78 46 91)">v</text><text x="573" y="440"  fill="rgb(78 46 92)">alu</text><text x="582" y="440"  fill="rgb(76 44 90)">e</text><text x="585" y="440"  fill="rgb(79 46 93)">)</text><text x="588" y="440"  fill="rgb(94 61 109)">;</text><text x="591" y="440"  fill="rgb(96 64 111)"> </text><text x="594" y="440"  fill="rgb(93 61 110)">} </text><text x="600" y="440"  fill="rgb(93 60 110)">p</text><text x="603" y="440"  fill="rgb(92 59 109)">ri</text><text x="609" y="440"  fill="rgb(91 58 109)">v</text><text x="612" y="440"  fill="rgb(90 57 108)">ate</text><text x="621" y="440"  fill="rgb(91 56 108)"> </text><text x="624" y="440"  fill="rgb(90 55 108)">v</text><text x="627" y="440"  fill="rgb(89 54 107)">a</text><text x="630" y="440"  fill="rgb(88 52 106)">li</text><text x="636" y="440"  fill="rgb(87 51 105)">d</text><text x="639" y="440"  fill="rgb(87 51 106)">a</text><text x="642" y="440"  fill="rgb(87 50 106)">t</text><text x="645" y="440"  fill="rgb(86 49 105)">e</text><text x="648" y="440"  fill="rgb(86 50 106)">I</text><text x="651" y="440"  fill="rgb(86 49 104)">S</text><text x="654" y="440"  fill="rgb(85 47 102)">(</text><text x="657" y="440"  fill="rgb(82 45 99)">v</text><text x="660" y="440"  fill="rgb(82 46 99)">a</text><text x="663" y="440"  fill="rgb(77 41 95)">l</text><text x="666" y="440"  fill="rgb(65 25 84)">u</text><text x="669" y="440"  fill="rgb(71 33 90)">e</text><text x="672" y="440"  fill="rgb(115 89 129)">:</text><text x="675" y="440"  fill="rgb(162 147 171)"> </text><text x="678" y="440"  fill="rgb(171 159 179)">a</text><text x="681" y="440"  fill="rgb(161 146 169)">n</text><text x="684" y="440"  fill="rgb(158 142 167)">y</text><text x="687" y="440"  fill="rgb(159 142 168)">): </text><text x="696" y="440"  fill="rgb(159 141 168)">v</text><text x="699" y="440"  fill="rgb(155 135 164)">o</text><text x="702" y="440"  fill="rgb(190 180 192)">i</text><text x="705" y="440"  fill="rgb(226 225 226)">d</text><text x="708" y="440"  fill="rgb(216 214 217)"> </text><text x="711" y="440"  fill="rgb(215 213 216)">{</text><text x="714" y="440"  fill="rgb(228 227 229)"> </text><text x="717" y="440"  fill="rgb(243 243 244)">i</text><text x="720" y="440"  fill="rgb(247 247 247)">f</text><text x="723" y="440"  fill="rgb(245 245 245)"> (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = O</text><text x="0" y="445"  fill="rgb(245 245 245)">bject.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0];</text><text x="372" y="445"  fill="rgb(246 246 246)"> </text><text x="375" y="445"  fill="rgb(252 253 252)">l</text><text x="378" y="445"  fill="rgb(219 214 222)">e</text><text x="381" y="445"  fill="rgb(166 153 171)">t</text><text x="384" y="445"  fill="rgb(166 154 171)"> </text><text x="387" y="445"  fill="rgb(172 160 178)">s</text><text x="390" y="445"  fill="rgb(171 159 176)">f</text><text x="393" y="445"  fill="rgb(172 160 177)">i</text><text x="396" y="445"  fill="rgb(171 160 177)">e</text><text x="399" y="445"  fill="rgb(185 176 190)">l</text><text x="402" y="445"  fill="rgb(193 184 197)">d</text><text x="405" y="445"  fill="rgb(192 183 196)">: </text><text x="411" y="445"  fill="rgb(192 184 197)">s</text><text x="414" y="445"  fill="rgb(193 184 197)">t</text><text x="417" y="445"  fill="rgb(196 187 200)">r</text><text x="420" y="445"  fill="rgb(192 184 196)">i</text><text x="423" y="445"  fill="rgb(170 160 173)">n</text><text x="426" y="445"  fill="rgb(99 63 115)">g</text><text x="429" y="445"  fill="rgb(53 3 78)"> </text><text x="432" y="445"  fill="rgb(64 19 86)">=</text><text x="435" y="445"  fill="rgb(65 20 87)"> </text><text x="438" y="445"  fill="rgb(65 21 87)">s</text><text x="441" y="445"  fill="rgb(63 18 86)">k</text><text x="444" y="445"  fill="rgb(66 22 87)">e</text><text x="447" y="445"  fill="rgb(97 71 108)">y</text><text x="450" y="445"  fill="rgb(102 79 111)">[</text><text x="453" y="445"  fill="rgb(100 76 110)">1]</text><text x="459" y="445"  fill="rgb(100 76 111)">;</text><text x="462" y="445"  fill="rgb(99 75 110)"> </text><text x="465" y="445"  fill="rgb(98 74 109)">l</text><text x="468" y="445"  fill="rgb(99 74 110)">et</text><text x="474" y="445"  fill="rgb(98 74 109)"> </text><text x="477" y="445"  fill="rgb(98 74 110)">s</text><text x="480" y="445"  fill="rgb(98 73 109)">t</text><text x="483" y="445"  fill="rgb(100 75 111)">r</text><text x="486" y="445"  fill="rgb(91 64 103)">:</text><text x="489" y="445"  fill="rgb(81 52 94)"> </text><text x="492" y="445"  fill="rgb(82 54 95)">a</text><text x="495" y="445"  fill="rgb(83 54 95)">n</text><text x="498" y="445"  fill="rgb(82 53 96)">y </text><text x="504" y="445"  fill="rgb(82 52 96)">=</text><text x="507" y="445"  fill="rgb(81 49 94)"> </text><text x="510" y="445"  fill="rgb(81 49 95)">O</text><text x="513" y="445"  fill="rgb(81 49 96)">b</text><text x="516" y="445"  fill="rgb(80 47 95)">j</text><text x="519" y="445"  fill="rgb(81 47 95)">e</text><text x="522" y="445"  fill="rgb(80 45 95)">c</text><text x="525" y="445"  fill="rgb(79 44 95)">t.v</text><text x="534" y="445"  fill="rgb(79 42 94)">a</text><text x="537" y="445"  fill="rgb(79 42 95)">l</text><text x="540" y="445"  fill="rgb(78 41 94)">u</text><text x="543" y="445"  fill="rgb(78 41 95)">e</text><text x="546" y="445"  fill="rgb(77 41 95)">s</text><text x="549" y="445"  fill="rgb(76 39 95)">(</text><text x="552" y="445"  fill="rgb(70 34 87)">v</text><text x="555" y="445"  fill="rgb(68 32 85)">a</text><text x="558" y="445"  fill="rgb(67 30 86)">l</text><text x="561" y="445"  fill="rgb(70 34 89)">u</text><text x="564" y="445"  fill="rgb(79 50 93)">e</text><text x="567" y="445"  fill="rgb(80 50 94)">)</text><text x="570" y="445"  fill="rgb(78 48 93)">[</text><text x="573" y="445"  fill="rgb(78 46 92)">0];</text><text x="582" y="445"  fill="rgb(76 45 90)"> </text><text x="585" y="445"  fill="rgb(84 53 99)">i</text><text x="588" y="445"  fill="rgb(97 66 112)">f</text><text x="591" y="445"  fill="rgb(95 63 110)"> (</text><text x="597" y="445"  fill="rgb(94 62 110)">ty</text><text x="603" y="445"  fill="rgb(93 61 109)">p</text><text x="606" y="445"  fill="rgb(93 60 110)">e</text><text x="609" y="445"  fill="rgb(93 60 109)">o</text><text x="612" y="445"  fill="rgb(92 59 109)">f</text><text x="615" y="445"  fill="rgb(91 58 109)"> </text><text x="618" y="445"  fill="rgb(91 58 108)">s</text><text x="621" y="445"  fill="rgb(90 57 108)">tr</text><text x="627" y="445"  fill="rgb(90 56 108)"> !</text><text x="633" y="445"  fill="rgb(89 55 107)">=</text><text x="636" y="445"  fill="rgb(89 53 106)">=</text><text x="639" y="445"  fill="rgb(88 52 106)"> &quot;</text><text x="645" y="445"  fill="rgb(87 51 106)">st</text><text x="651" y="445"  fill="rgb(86 50 106)">r</text><text x="654" y="445"  fill="rgb(87 50 105)">i</text><text x="657" y="445"  fill="rgb(86 49 105)">n</text><text x="660" y="445"  fill="rgb(83 47 102)">g</text><text x="663" y="445"  fill="rgb(83 45 100)">&quot;</text><text x="666" y="445"  fill="rgb(80 44 97)">)</text><text x="669" y="445"  fill="rgb(70 32 89)"> </text><text x="672" y="445"  fill="rgb(64 24 83)">{</text><text x="675" y="445"  fill="rgb(86 52 103)"> </text><text x="678" y="445"  fill="rgb(136 114 148)">t</text><text x="681" y="445"  fill="rgb(171 157 178)">h</text><text x="684" y="445"  fill="rgb(169 155 177)">r</text><text x="687" y="445"  fill="rgb(161 144 170)">o</text><text x="690" y="445"  fill="rgb(158 141 167)">w</text><text x="693" y="445"  fill="rgb(159 142 167)"> </text><text x="696" y="445"  fill="rgb(159 141 167)">n</text><text x="699" y="445"  fill="rgb(156 137 165)">e</text><text x="702" y="445"  fill="rgb(193 186 197)">w</text><text x="705" y="445"  fill="rgb(223 222 223)"> </text><text x="708" y="445"  fill="rgb(219 216 220)">I</text><text x="711" y="445"  fill="rgb(216 214 217)">n</text><text x="714" y="445"  fill="rgb(214 211 216)">s</text><text x="717" y="445"  fill="rgb(222 219 223)">i</text><text x="720" y="445"  fill="rgb(238 238 237)">g</text><text x="723" y="445"  fill="rgb(247 247 247)">h</text><text x="726" y="445"  fill="rgb(246 246 246)">t</text><text x="729" y="445"  fill="rgb(245 245 245)">Error(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightE</text><text x="0" y="450"  fill="rgb(245 245 245)">rror(); } } } } private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1)</text><text x="372" y="450"  fill="rgb(251 252 250)"> </text><text x="375" y="450"  fill="rgb(237 235 238)">{</text><text x="378" y="450"  fill="rgb(178 166 183)"> </text><text x="381" y="450"  fill="rgb(163 151 169)">t</text><text x="384" y="450"  fill="rgb(170 159 176)">hro</text><text x="393" y="450"  fill="rgb(171 159 175)">w</text><text x="396" y="450"  fill="rgb(170 159 175)"> </text><text x="399" y="450"  fill="rgb(185 175 190)">n</text><text x="402" y="450"  fill="rgb(193 184 197)">e</text><text x="405" y="450"  fill="rgb(192 183 196)">w </text><text x="411" y="450"  fill="rgb(192 184 197)">In</text><text x="417" y="450"  fill="rgb(196 187 199)">s</text><text x="420" y="450"  fill="rgb(189 182 193)">i</text><text x="423" y="450"  fill="rgb(149 132 156)">g</text><text x="426" y="450"  fill="rgb(73 30 94)">h</text><text x="429" y="450"  fill="rgb(58 10 81)">t</text><text x="432" y="450"  fill="rgb(65 21 87)">E</text><text x="435" y="450"  fill="rgb(64 20 87)">r</text><text x="438" y="450"  fill="rgb(65 21 87)">ro</text><text x="444" y="450"  fill="rgb(62 16 86)">r</text><text x="447" y="450"  fill="rgb(87 55 101)">(</text><text x="450" y="450"  fill="rgb(105 82 113)">)</text><text x="453" y="450"  fill="rgb(101 77 111)">; }</text><text x="462" y="450"  fill="rgb(100 76 110)"> l</text><text x="468" y="450"  fill="rgb(99 75 110)">e</text><text x="471" y="450"  fill="rgb(99 76 110)">t</text><text x="474" y="450"  fill="rgb(98 75 109)"> </text><text x="477" y="450"  fill="rgb(98 74 109)">mk</text><text x="483" y="450"  fill="rgb(100 75 111)">e</text><text x="486" y="450"  fill="rgb(94 68 106)">y</text><text x="489" y="450"  fill="rgb(83 55 96)">:</text><text x="492" y="450"  fill="rgb(82 54 95)"> </text><text x="495" y="450"  fill="rgb(83 54 96)">s</text><text x="498" y="450"  fill="rgb(82 53 96)">t</text><text x="501" y="450"  fill="rgb(83 53 96)">r</text><text x="504" y="450"  fill="rgb(82 51 96)">i</text><text x="507" y="450"  fill="rgb(82 50 95)">n</text><text x="510" y="450"  fill="rgb(82 50 96)">g</text><text x="513" y="450"  fill="rgb(81 49 95)">[</text><text x="516" y="450"  fill="rgb(80 48 95)">]</text><text x="519" y="450"  fill="rgb(81 47 95)"> </text><text x="522" y="450"  fill="rgb(80 45 95)">= </text><text x="528" y="450"  fill="rgb(79 45 95)">O</text><text x="531" y="450"  fill="rgb(79 43 95)">b</text><text x="534" y="450"  fill="rgb(79 42 96)">j</text><text x="537" y="450"  fill="rgb(79 42 95)">ec</text><text x="543" y="450"  fill="rgb(78 41 95)">t</text><text x="546" y="450"  fill="rgb(78 41 97)">.</text><text x="549" y="450"  fill="rgb(75 38 93)">k</text><text x="552" y="450"  fill="rgb(68 32 86)">ey</text><text x="558" y="450"  fill="rgb(67 30 86)">s</text><text x="561" y="450"  fill="rgb(73 38 90)">(</text><text x="564" y="450"  fill="rgb(81 53 94)">v</text><text x="567" y="450"  fill="rgb(80 51 93)">a</text><text x="570" y="450"  fill="rgb(78 49 93)">l</text><text x="573" y="450"  fill="rgb(78 48 93)">u</text><text x="576" y="450"  fill="rgb(78 48 92)">e</text><text x="579" y="450"  fill="rgb(78 46 91)">)</text><text x="582" y="450"  fill="rgb(78 47 92)">[</text><text x="585" y="450"  fill="rgb(90 60 104)">0</text><text x="588" y="450"  fill="rgb(97 65 111)">]</text><text x="591" y="450"  fill="rgb(95 63 111)">.</text><text x="594" y="450"  fill="rgb(95 63 110)">spl</text><text x="603" y="450"  fill="rgb(93 61 110)">it(</text><text x="612" y="450"  fill="rgb(93 60 109)">&quot;_</text><text x="618" y="450"  fill="rgb(91 59 110)">&quot;</text><text x="621" y="450"  fill="rgb(91 58 109)">)</text><text x="624" y="450"  fill="rgb(90 57 108)">; i</text><text x="633" y="450"  fill="rgb(90 56 108)">f</text><text x="636" y="450"  fill="rgb(89 56 107)"> </text><text x="639" y="450"  fill="rgb(89 54 107)">(</text><text x="642" y="450"  fill="rgb(88 52 106)">mk</text><text x="648" y="450"  fill="rgb(87 51 106)">ey</text><text x="654" y="450"  fill="rgb(86 50 105)">.</text><text x="657" y="450"  fill="rgb(87 50 106)">l</text><text x="660" y="450"  fill="rgb(86 50 106)">e</text><text x="663" y="450"  fill="rgb(86 49 105)">n</text><text x="666" y="450"  fill="rgb(84 48 102)">g</text><text x="669" y="450"  fill="rgb(82 45 98)">t</text><text x="672" y="450"  fill="rgb(77 40 94)">h</text><text x="675" y="450"  fill="rgb(68 29 86)"> </text><text x="678" y="450"  fill="rgb(70 32 89)">!</text><text x="681" y="450"  fill="rgb(107 78 122)">=</text><text x="684" y="450"  fill="rgb(154 136 163)">=</text><text x="687" y="450"  fill="rgb(174 161 181)"> </text><text x="690" y="450"  fill="rgb(166 152 173)">2</text><text x="693" y="450"  fill="rgb(158 141 166)">)</text><text x="696" y="450"  fill="rgb(158 139 165)"> </text><text x="699" y="450"  fill="rgb(157 139 165)">{</text><text x="702" y="450"  fill="rgb(197 190 200)"> </text><text x="705" y="450"  fill="rgb(221 220 223)">t</text><text x="708" y="450"  fill="rgb(218 215 219)">hr</text><text x="714" y="450"  fill="rgb(217 214 218)">o</text><text x="717" y="450"  fill="rgb(214 211 215)">w</text><text x="720" y="450"  fill="rgb(216 213 217)"> </text><text x="723" y="450"  fill="rgb(231 229 231)">n</text><text x="726" y="450"  fill="rgb(245 245 245)">e</text><text x="729" y="450"  fill="rgb(247 248 247)">w</text><text x="732" y="450"  fill="rgb(245 245 245)"> InsightError(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !</text><text x="0" y="455"  fill="rgb(245 245 245)">== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } priva</text><text x="369" y="455"  fill="rgb(247 247 247)">t</text><text x="372" y="455"  fill="rgb(245 245 245)">e</text><text x="375" y="455"  fill="rgb(195 186 200)"> </text><text x="378" y="455"  fill="rgb(162 149 169)">v</text><text x="381" y="455"  fill="rgb(168 156 174)">a</text><text x="384" y="455"  fill="rgb(170 158 175)">li</text><text x="390" y="455"  fill="rgb(169 158 175)">d</text><text x="393" y="455"  fill="rgb(170 159 175)">a</text><text x="396" y="455"  fill="rgb(169 158 174)">t</text><text x="399" y="455"  fill="rgb(184 173 189)">e</text><text x="402" y="455"  fill="rgb(192 183 197)">A</text><text x="405" y="455"  fill="rgb(191 182 196)">N</text><text x="408" y="455"  fill="rgb(191 182 195)">D</text><text x="411" y="455"  fill="rgb(192 183 196)">O</text><text x="414" y="455"  fill="rgb(194 184 197)">R</text><text x="417" y="455"  fill="rgb(195 187 199)">(</text><text x="420" y="455"  fill="rgb(183 173 185)">v</text><text x="423" y="455"  fill="rgb(121 94 133)">a</text><text x="426" y="455"  fill="rgb(56 10 81)">l</text><text x="429" y="455"  fill="rgb(62 19 85)">u</text><text x="432" y="455"  fill="rgb(65 21 87)">e</text><text x="435" y="455"  fill="rgb(66 21 87)">:</text><text x="438" y="455"  fill="rgb(65 21 87)"> a</text><text x="444" y="455"  fill="rgb(62 17 85)">n</text><text x="447" y="455"  fill="rgb(74 34 91)">y</text><text x="450" y="455"  fill="rgb(105 80 113)">)</text><text x="453" y="455"  fill="rgb(102 79 111)">:</text><text x="456" y="455"  fill="rgb(102 78 111)"> </text><text x="459" y="455"  fill="rgb(101 77 111)">v</text><text x="462" y="455"  fill="rgb(100 77 111)">o</text><text x="465" y="455"  fill="rgb(100 76 110)">i</text><text x="468" y="455"  fill="rgb(101 76 111)">d</text><text x="471" y="455"  fill="rgb(101 77 110)"> </text><text x="474" y="455"  fill="rgb(99 77 110)">{</text><text x="477" y="455"  fill="rgb(99 76 110)"> if</text><text x="486" y="455"  fill="rgb(98 73 109)"> </text><text x="489" y="455"  fill="rgb(86 57 98)">(</text><text x="492" y="455"  fill="rgb(82 54 96)">!</text><text x="495" y="455"  fill="rgb(84 55 97)">A</text><text x="498" y="455"  fill="rgb(83 54 96)">r</text><text x="501" y="455"  fill="rgb(83 52 96)">r</text><text x="504" y="455"  fill="rgb(82 51 96)">ay</text><text x="510" y="455"  fill="rgb(82 50 96)">.</text><text x="513" y="455"  fill="rgb(82 49 96)">i</text><text x="516" y="455"  fill="rgb(81 47 96)">s</text><text x="519" y="455"  fill="rgb(81 47 95)">A</text><text x="522" y="455"  fill="rgb(81 46 96)">r</text><text x="525" y="455"  fill="rgb(80 45 95)">r</text><text x="528" y="455"  fill="rgb(79 44 95)">a</text><text x="531" y="455"  fill="rgb(79 43 95)">y</text><text x="534" y="455"  fill="rgb(79 43 96)">(</text><text x="537" y="455"  fill="rgb(79 42 95)">v</text><text x="540" y="455"  fill="rgb(79 42 96)">a</text><text x="543" y="455"  fill="rgb(78 41 95)">l</text><text x="546" y="455"  fill="rgb(78 41 96)">u</text><text x="549" y="455"  fill="rgb(72 36 89)">e</text><text x="552" y="455"  fill="rgb(69 33 86)">)</text><text x="555" y="455"  fill="rgb(69 33 87)"> </text><text x="558" y="455"  fill="rgb(67 30 86)">|</text><text x="561" y="455"  fill="rgb(73 43 91)">|</text><text x="564" y="455"  fill="rgb(82 54 94)"> </text><text x="567" y="455"  fill="rgb(81 52 93)">v</text><text x="570" y="455"  fill="rgb(81 51 93)">a</text><text x="573" y="455"  fill="rgb(78 50 93)">l</text><text x="576" y="455"  fill="rgb(79 50 93)">u</text><text x="579" y="455"  fill="rgb(77 47 92)">e</text><text x="582" y="455"  fill="rgb(83 55 98)">.</text><text x="585" y="455"  fill="rgb(92 62 106)">l</text><text x="588" y="455"  fill="rgb(97 65 111)">e</text><text x="591" y="455"  fill="rgb(97 65 112)">n</text><text x="594" y="455"  fill="rgb(96 64 111)">gth</text><text x="603" y="455"  fill="rgb(95 63 110)"> </text><text x="606" y="455"  fill="rgb(94 63 110)">&lt;</text><text x="609" y="455"  fill="rgb(94 62 110)"> </text><text x="612" y="455"  fill="rgb(93 61 110)">1) </text><text x="621" y="455"  fill="rgb(92 60 109)">{</text><text x="624" y="455"  fill="rgb(92 59 109)"> t</text><text x="630" y="455"  fill="rgb(90 58 108)">h</text><text x="633" y="455"  fill="rgb(90 57 108)">r</text><text x="636" y="455"  fill="rgb(90 56 108)">o</text><text x="639" y="455"  fill="rgb(90 56 107)">w</text><text x="642" y="455"  fill="rgb(89 55 107)"> n</text><text x="648" y="455"  fill="rgb(89 53 107)">e</text><text x="651" y="455"  fill="rgb(88 52 106)">w </text><text x="657" y="455"  fill="rgb(87 51 106)">In</text><text x="663" y="455"  fill="rgb(86 50 105)">s</text><text x="666" y="455"  fill="rgb(86 50 106)">i</text><text x="669" y="455"  fill="rgb(86 49 104)">g</text><text x="672" y="455"  fill="rgb(85 47 103)">h</text><text x="675" y="455"  fill="rgb(82 46 100)">t</text><text x="678" y="455"  fill="rgb(76 40 93)">E</text><text x="681" y="455"  fill="rgb(64 26 84)">r</text><text x="684" y="455"  fill="rgb(79 43 97)">r</text><text x="687" y="455"  fill="rgb(129 105 140)">o</text><text x="690" y="455"  fill="rgb(167 154 175)">r</text><text x="693" y="455"  fill="rgb(171 159 178)">(</text><text x="696" y="455"  fill="rgb(160 143 167)">)</text><text x="699" y="455"  fill="rgb(156 138 164)">;</text><text x="702" y="455"  fill="rgb(200 193 202)"> </text><text x="705" y="455"  fill="rgb(221 219 221)">}</text><text x="708" y="455"  fill="rgb(217 214 218)"> for</text><text x="720" y="455"  fill="rgb(214 211 215)"> </text><text x="723" y="455"  fill="rgb(212 208 213)">(</text><text x="726" y="455"  fill="rgb(223 220 224)">l</text><text x="729" y="455"  fill="rgb(241 242 241)">e</text><text x="732" y="455"  fill="rgb(249 249 249)">t</text><text x="735" y="455"  fill="rgb(246 246 246)"> </text><text x="738" y="455"  fill="rgb(245 245 245)">innerObject of value) { this.validateFilter(innerObject); } } private validateIdstring(idstring: string): boolean { if (this.idInQuery.length =</text><text x="0" y="460"  fill="rgb(245 245 245)">== 0) { for (let insightDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idst</text><text x="369" y="460"  fill="rgb(250 251 249)">r</text><text x="372" y="460"  fill="rgb(212 207 217)">i</text><text x="375" y="460"  fill="rgb(166 152 173)">n</text><text x="378" y="460"  fill="rgb(165 153 171)">g</text><text x="381" y="460"  fill="rgb(168 156 174)">);</text><text x="387" y="460"  fill="rgb(169 157 175)"> </text><text x="390" y="460"  fill="rgb(169 157 173)">i</text><text x="393" y="460"  fill="rgb(169 157 174)">f</text><text x="396" y="460"  fill="rgb(167 156 175)"> </text><text x="399" y="460"  fill="rgb(181 171 187)">(</text><text x="402" y="460"  fill="rgb(192 183 197)">i</text><text x="405" y="460"  fill="rgb(190 182 196)">n</text><text x="408" y="460"  fill="rgb(191 182 196)">s</text><text x="411" y="460"  fill="rgb(191 183 195)">i</text><text x="414" y="460"  fill="rgb(194 185 197)">g</text><text x="417" y="460"  fill="rgb(195 186 199)">h</text><text x="420" y="460"  fill="rgb(166 153 172)">t</text><text x="423" y="460"  fill="rgb(89 55 108)">D</text><text x="426" y="460"  fill="rgb(56 9 81)">a</text><text x="429" y="460"  fill="rgb(66 22 87)">tase</text><text x="441" y="460"  fill="rgb(66 22 86)">t</text><text x="444" y="460"  fill="rgb(65 20 85)">.</text><text x="447" y="460"  fill="rgb(64 20 86)">k</text><text x="450" y="460"  fill="rgb(93 64 106)">i</text><text x="453" y="460"  fill="rgb(107 86 114)">n</text><text x="456" y="460"  fill="rgb(101 78 110)">d</text><text x="459" y="460"  fill="rgb(102 78 111)"> =</text><text x="465" y="460"  fill="rgb(101 78 111)">==</text><text x="471" y="460"  fill="rgb(101 76 111)"> </text><text x="474" y="460"  fill="rgb(101 77 111)">In</text><text x="480" y="460"  fill="rgb(100 77 110)">s</text><text x="483" y="460"  fill="rgb(100 76 110)">i</text><text x="486" y="460"  fill="rgb(100 77 111)">g</text><text x="489" y="460"  fill="rgb(89 61 101)">h</text><text x="492" y="460"  fill="rgb(83 53 96)">t</text><text x="495" y="460"  fill="rgb(85 55 96)">D</text><text x="498" y="460"  fill="rgb(84 55 97)">a</text><text x="501" y="460"  fill="rgb(82 53 96)">t</text><text x="504" y="460"  fill="rgb(82 52 96)">as</text><text x="510" y="460"  fill="rgb(82 50 96)">e</text><text x="513" y="460"  fill="rgb(82 50 97)">t</text><text x="516" y="460"  fill="rgb(82 48 97)">K</text><text x="519" y="460"  fill="rgb(82 48 96)">i</text><text x="522" y="460"  fill="rgb(81 47 96)">n</text><text x="525" y="460"  fill="rgb(81 46 96)">d</text><text x="528" y="460"  fill="rgb(80 44 96)">.</text><text x="531" y="460"  fill="rgb(79 44 95)">C</text><text x="534" y="460"  fill="rgb(79 43 96)">our</text><text x="543" y="460"  fill="rgb(79 42 97)">s</text><text x="546" y="460"  fill="rgb(77 41 95)">e</text><text x="549" y="460"  fill="rgb(70 35 87)">s</text><text x="552" y="460"  fill="rgb(69 34 86)">)</text><text x="555" y="460"  fill="rgb(68 32 86)"> </text><text x="558" y="460"  fill="rgb(67 31 87)">{</text><text x="561" y="460"  fill="rgb(76 47 93)"> </text><text x="564" y="460"  fill="rgb(81 55 95)">t</text><text x="567" y="460"  fill="rgb(80 52 94)">h</text><text x="570" y="460"  fill="rgb(81 52 94)">is</text><text x="576" y="460"  fill="rgb(79 50 92)">.</text><text x="579" y="460"  fill="rgb(81 52 95)">m</text><text x="582" y="460"  fill="rgb(89 61 104)">f</text><text x="585" y="460"  fill="rgb(91 62 106)">i</text><text x="588" y="460"  fill="rgb(98 67 111)">e</text><text x="591" y="460"  fill="rgb(97 66 112)">l</text><text x="594" y="460"  fill="rgb(97 65 112)">ds </text><text x="603" y="460"  fill="rgb(96 64 111)">=</text><text x="606" y="460"  fill="rgb(95 63 110)"> thi</text><text x="618" y="460"  fill="rgb(93 61 110)">s.co</text><text x="630" y="460"  fill="rgb(93 60 109)">u</text><text x="633" y="460"  fill="rgb(92 58 109)">r</text><text x="636" y="460"  fill="rgb(91 58 109)">s</text><text x="639" y="460"  fill="rgb(90 57 107)">e</text><text x="642" y="460"  fill="rgb(90 57 108)">mf</text><text x="648" y="460"  fill="rgb(90 56 108)">i</text><text x="651" y="460"  fill="rgb(90 54 106)">e</text><text x="654" y="460"  fill="rgb(89 54 107)">l</text><text x="657" y="460"  fill="rgb(89 52 107)">d</text><text x="660" y="460"  fill="rgb(87 51 105)">s</text><text x="663" y="460"  fill="rgb(88 52 106)">;</text><text x="666" y="460"  fill="rgb(86 50 105)"> </text><text x="669" y="460"  fill="rgb(87 51 107)">t</text><text x="672" y="460"  fill="rgb(87 50 107)">h</text><text x="675" y="460"  fill="rgb(87 49 105)">i</text><text x="678" y="460"  fill="rgb(86 49 103)">s</text><text x="681" y="460"  fill="rgb(84 47 101)">.</text><text x="684" y="460"  fill="rgb(71 33 89)">s</text><text x="687" y="460"  fill="rgb(65 25 83)">f</text><text x="690" y="460"  fill="rgb(93 59 108)">i</text><text x="693" y="460"  fill="rgb(145 125 155)">e</text><text x="696" y="460"  fill="rgb(171 160 179)">l</text><text x="699" y="460"  fill="rgb(166 152 173)">d</text><text x="702" y="460"  fill="rgb(202 196 204)">s</text><text x="705" y="460"  fill="rgb(218 216 219)"> </text><text x="708" y="460"  fill="rgb(216 213 217)">=</text><text x="711" y="460"  fill="rgb(215 213 216)"> th</text><text x="720" y="460"  fill="rgb(216 213 217)">i</text><text x="723" y="460"  fill="rgb(215 213 216)">s</text><text x="726" y="460"  fill="rgb(211 208 212)">.</text><text x="729" y="460"  fill="rgb(217 213 217)">c</text><text x="732" y="460"  fill="rgb(236 235 236)">o</text><text x="735" y="460"  fill="rgb(247 248 248)">u</text><text x="738" y="460"  fill="rgb(246 246 246)">r</text><text x="741" y="460"  fill="rgb(245 245 245)">sesfields; } else { this.mfields = this.roommfields; this.sfields = this.roomsfields; } return true; } } return false; } else { return this.id</text><text x="0" y="465"  fill="rgb(245 245 245)">InQuery.includes(idstring); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset, Insig</text><text x="366" y="465"  fill="rgb(249 250 249)">h</text><text x="369" y="465"  fill="rgb(229 226 231)">t</text><text x="372" y="465"  fill="rgb(174 162 181)">D</text><text x="375" y="465"  fill="rgb(161 147 167)">a</text><text x="378" y="465"  fill="rgb(166 153 173)">t</text><text x="381" y="465"  fill="rgb(166 154 172)">a</text><text x="384" y="465"  fill="rgb(167 155 173)">setK</text><text x="396" y="465"  fill="rgb(166 154 173)">i</text><text x="399" y="465"  fill="rgb(181 170 187)">n</text><text x="402" y="465"  fill="rgb(191 182 196)">d</text><text x="405" y="465"  fill="rgb(190 181 195)">, </text><text x="411" y="465"  fill="rgb(191 182 196)">I</text><text x="414" y="465"  fill="rgb(193 185 198)">n</text><text x="417" y="465"  fill="rgb(191 183 194)">s</text><text x="420" y="465"  fill="rgb(142 123 151)">i</text><text x="423" y="465"  fill="rgb(68 24 90)">g</text><text x="426" y="465"  fill="rgb(63 18 85)">h</text><text x="429" y="465"  fill="rgb(65 22 87)">tE</text><text x="435" y="465"  fill="rgb(65 22 86)">r</text><text x="438" y="465"  fill="rgb(65 22 87)">ro</text><text x="444" y="465"  fill="rgb(65 22 86)">r</text><text x="447" y="465"  fill="rgb(62 17 84)">}</text><text x="450" y="465"  fill="rgb(77 40 95)"> </text><text x="453" y="465"  fill="rgb(108 86 116)">f</text><text x="456" y="465"  fill="rgb(103 81 112)">r</text><text x="459" y="465"  fill="rgb(103 80 112)">o</text><text x="462" y="465"  fill="rgb(103 79 112)">m</text><text x="465" y="465"  fill="rgb(102 79 111)"> &quot;</text><text x="471" y="465"  fill="rgb(100 78 111)">.</text><text x="474" y="465"  fill="rgb(101 78 111)">/II</text><text x="483" y="465"  fill="rgb(100 78 110)">n</text><text x="486" y="465"  fill="rgb(103 80 112)">s</text><text x="489" y="465"  fill="rgb(93 68 105)">i</text><text x="492" y="465"  fill="rgb(84 55 95)">g</text><text x="495" y="465"  fill="rgb(84 54 97)">h</text><text x="498" y="465"  fill="rgb(84 54 96)">t</text><text x="501" y="465"  fill="rgb(83 53 97)">F</text><text x="504" y="465"  fill="rgb(82 52 96)">a</text><text x="507" y="465"  fill="rgb(82 52 97)">c</text><text x="510" y="465"  fill="rgb(82 51 96)">a</text><text x="513" y="465"  fill="rgb(82 49 96)">d</text><text x="516" y="465"  fill="rgb(82 49 97)">e</text><text x="519" y="465"  fill="rgb(82 48 97)">&quot;</text><text x="522" y="465"  fill="rgb(82 47 97)">;</text><text x="525" y="465"  fill="rgb(81 46 96)"> </text><text x="528" y="465"  fill="rgb(80 45 96)">e</text><text x="531" y="465"  fill="rgb(81 44 96)">x</text><text x="534" y="465"  fill="rgb(80 44 96)">p</text><text x="537" y="465"  fill="rgb(79 43 96)">or</text><text x="543" y="465"  fill="rgb(80 43 98)">t</text><text x="546" y="465"  fill="rgb(74 39 92)"> </text><text x="549" y="465"  fill="rgb(70 34 87)">d</text><text x="552" y="465"  fill="rgb(71 35 88)">e</text><text x="555" y="465"  fill="rgb(69 33 87)">f</text><text x="558" y="465"  fill="rgb(69 33 86)">a</text><text x="561" y="465"  fill="rgb(78 50 93)">u</text><text x="564" y="465"  fill="rgb(83 57 96)">l</text><text x="567" y="465"  fill="rgb(80 53 94)">t </text><text x="573" y="465"  fill="rgb(80 51 94)">c</text><text x="576" y="465"  fill="rgb(79 50 92)">l</text><text x="579" y="465"  fill="rgb(87 59 101)">a</text><text x="582" y="465"  fill="rgb(91 64 105)">s</text><text x="585" y="465"  fill="rgb(92 64 105)">s</text><text x="588" y="465"  fill="rgb(99 69 112)"> </text><text x="591" y="465"  fill="rgb(99 69 113)">Q</text><text x="594" y="465"  fill="rgb(98 67 112)">u</text><text x="597" y="465"  fill="rgb(98 66 112)">e</text><text x="600" y="465"  fill="rgb(97 66 112)">r</text><text x="603" y="465"  fill="rgb(97 65 112)">y</text><text x="606" y="465"  fill="rgb(96 64 112)">V</text><text x="609" y="465"  fill="rgb(96 64 111)">al</text><text x="615" y="465"  fill="rgb(95 63 110)">id</text><text x="621" y="465"  fill="rgb(94 62 110)">at</text><text x="627" y="465"  fill="rgb(93 61 110)">or</text><text x="633" y="465"  fill="rgb(93 60 110)"> </text><text x="636" y="465"  fill="rgb(92 59 109)">{</text><text x="639" y="465"  fill="rgb(91 58 109)"> p</text><text x="645" y="465"  fill="rgb(90 57 108)">ri</text><text x="651" y="465"  fill="rgb(90 56 108)">v</text><text x="654" y="465"  fill="rgb(90 55 108)">a</text><text x="657" y="465"  fill="rgb(89 55 107)">t</text><text x="660" y="465"  fill="rgb(89 53 107)">e </text><text x="666" y="465"  fill="rgb(88 52 106)">r</text><text x="669" y="465"  fill="rgb(87 51 105)">e</text><text x="672" y="465"  fill="rgb(86 51 106)">a</text><text x="675" y="465"  fill="rgb(87 51 106)">d</text><text x="678" y="465"  fill="rgb(86 50 106)">o</text><text x="681" y="465"  fill="rgb(87 49 105)">n</text><text x="684" y="465"  fill="rgb(87 50 104)">l</text><text x="687" y="465"  fill="rgb(79 42 97)">y</text><text x="690" y="465"  fill="rgb(64 25 82)"> </text><text x="693" y="465"  fill="rgb(69 30 86)">c</text><text x="696" y="465"  fill="rgb(113 85 127)">o</text><text x="699" y="465"  fill="rgb(162 147 169)">u</text><text x="702" y="465"  fill="rgb(223 222 223)">r</text><text x="705" y="465"  fill="rgb(223 222 224)">s</text><text x="708" y="465"  fill="rgb(214 209 215)">e</text><text x="711" y="465"  fill="rgb(214 211 216)">m</text><text x="714" y="465"  fill="rgb(215 211 216)">fiel</text><text x="726" y="465"  fill="rgb(215 212 216)">d</text><text x="729" y="465"  fill="rgb(212 208 213)">s</text><text x="732" y="465"  fill="rgb(211 208 212)">:</text><text x="735" y="465"  fill="rgb(226 224 227)"> </text><text x="738" y="465"  fill="rgb(244 244 244)">s</text><text x="741" y="465"  fill="rgb(247 248 247)">t</text><text x="744" y="465"  fill="rgb(245 245 245)">ring[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; </text><text x="0" y="470"  fill="rgb(245 245 245)">private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;</text><text x="363" y="470"  fill="rgb(249 249 248)">s</text><text x="366" y="470"  fill="rgb(244 243 244)">h</text><text x="369" y="470"  fill="rgb(190 178 195)">o</text><text x="372" y="470"  fill="rgb(159 144 166)">r</text><text x="375" y="470"  fill="rgb(163 150 169)">t</text><text x="378" y="470"  fill="rgb(165 152 172)">n</text><text x="381" y="470"  fill="rgb(166 153 172)">am</text><text x="387" y="470"  fill="rgb(166 154 172)">e</text><text x="390" y="470"  fill="rgb(167 154 173)">&quot;</text><text x="393" y="470"  fill="rgb(167 155 173)">,</text><text x="396" y="470"  fill="rgb(166 154 172)"> </text><text x="399" y="470"  fill="rgb(180 169 185)">&quot;</text><text x="402" y="470"  fill="rgb(191 182 196)">n</text><text x="405" y="470"  fill="rgb(189 180 194)">um</text><text x="411" y="470"  fill="rgb(190 181 195)">b</text><text x="414" y="470"  fill="rgb(195 186 199)">e</text><text x="417" y="470"  fill="rgb(183 173 186)">r</text><text x="420" y="470"  fill="rgb(112 84 127)">&quot;</text><text x="423" y="470"  fill="rgb(61 15 85)"> </text><text x="426" y="470"  fill="rgb(65 22 86)">,</text><text x="429" y="470"  fill="rgb(65 22 87)"> &quot;nam</text><text x="444" y="470"  fill="rgb(65 23 87)">e</text><text x="447" y="470"  fill="rgb(63 20 86)">&quot;</text><text x="450" y="470"  fill="rgb(63 21 86)">,</text><text x="453" y="470"  fill="rgb(96 70 108)"> </text><text x="456" y="470"  fill="rgb(109 89 117)">&quot;</text><text x="459" y="470"  fill="rgb(103 80 113)">a</text><text x="462" y="470"  fill="rgb(103 80 112)">dd</text><text x="468" y="470"  fill="rgb(102 79 111)">r</text><text x="471" y="470"  fill="rgb(103 80 112)">e</text><text x="474" y="470"  fill="rgb(102 79 111)">s</text><text x="477" y="470"  fill="rgb(102 79 112)">s</text><text x="480" y="470"  fill="rgb(101 78 111)">&quot;</text><text x="483" y="470"  fill="rgb(101 79 111)">,</text><text x="486" y="470"  fill="rgb(102 80 111)"> </text><text x="489" y="470"  fill="rgb(99 74 109)">&quot;</text><text x="492" y="470"  fill="rgb(86 56 98)">t</text><text x="495" y="470"  fill="rgb(84 54 97)">y</text><text x="498" y="470"  fill="rgb(84 55 97)">p</text><text x="501" y="470"  fill="rgb(83 54 97)">e</text><text x="504" y="470"  fill="rgb(83 53 97)">&quot;</text><text x="507" y="470"  fill="rgb(83 51 97)">, </text><text x="513" y="470"  fill="rgb(82 51 96)">&quot;</text><text x="516" y="470"  fill="rgb(82 49 97)">f</text><text x="519" y="470"  fill="rgb(82 48 97)">u</text><text x="522" y="470"  fill="rgb(82 47 97)">r</text><text x="525" y="470"  fill="rgb(81 46 97)">n</text><text x="528" y="470"  fill="rgb(82 46 96)">i</text><text x="531" y="470"  fill="rgb(82 46 97)">t</text><text x="534" y="470"  fill="rgb(80 44 97)">ure</text><text x="543" y="470"  fill="rgb(79 41 96)">&quot;</text><text x="546" y="470"  fill="rgb(72 36 89)">,</text><text x="549" y="470"  fill="rgb(70 35 88)"> </text><text x="552" y="470"  fill="rgb(71 36 89)">&quot;</text><text x="555" y="470"  fill="rgb(70 33 87)">h</text><text x="558" y="470"  fill="rgb(72 37 89)">r</text><text x="561" y="470"  fill="rgb(82 54 94)">e</text><text x="564" y="470"  fill="rgb(83 57 95)">f</text><text x="567" y="470"  fill="rgb(82 54 95)">&quot;]</text><text x="573" y="470"  fill="rgb(80 51 93)">;</text><text x="576" y="470"  fill="rgb(81 54 96)"> </text><text x="579" y="470"  fill="rgb(92 65 106)">p</text><text x="582" y="470"  fill="rgb(91 64 105)">r</text><text x="585" y="470"  fill="rgb(91 63 105)">i</text><text x="588" y="470"  fill="rgb(99 70 112)">v</text><text x="591" y="470"  fill="rgb(101 72 115)">a</text><text x="594" y="470"  fill="rgb(100 70 114)">t</text><text x="597" y="470"  fill="rgb(99 69 113)">e</text><text x="600" y="470"  fill="rgb(98 68 112)"> </text><text x="603" y="470"  fill="rgb(98 66 111)">r</text><text x="606" y="470"  fill="rgb(97 65 111)">e</text><text x="609" y="470"  fill="rgb(97 65 112)">ado</text><text x="618" y="470"  fill="rgb(96 64 110)">n</text><text x="621" y="470"  fill="rgb(95 63 110)">ly </text><text x="630" y="470"  fill="rgb(94 62 110)">m</text><text x="633" y="470"  fill="rgb(93 61 110)">t</text><text x="636" y="470"  fill="rgb(93 61 109)">o</text><text x="639" y="470"  fill="rgb(93 60 110)">ke</text><text x="645" y="470"  fill="rgb(92 59 109)">n</text><text x="648" y="470"  fill="rgb(92 58 109)">:</text><text x="651" y="470"  fill="rgb(90 57 108)"> st</text><text x="660" y="470"  fill="rgb(90 56 108)">r</text><text x="663" y="470"  fill="rgb(90 56 107)">i</text><text x="666" y="470"  fill="rgb(89 54 107)">n</text><text x="669" y="470"  fill="rgb(89 52 106)">g</text><text x="672" y="470"  fill="rgb(88 51 106)">[</text><text x="675" y="470"  fill="rgb(88 52 106)">]</text><text x="678" y="470"  fill="rgb(86 51 106)"> </text><text x="681" y="470"  fill="rgb(87 51 106)">=</text><text x="684" y="470"  fill="rgb(86 50 107)"> </text><text x="687" y="470"  fill="rgb(88 51 107)">[</text><text x="690" y="470"  fill="rgb(86 49 103)">&quot;</text><text x="693" y="470"  fill="rgb(74 35 91)">M</text><text x="696" y="470"  fill="rgb(64 25 83)">A</text><text x="699" y="470"  fill="rgb(86 52 102)">X</text><text x="702" y="470"  fill="rgb(167 153 173)">&quot;</text><text x="705" y="470"  fill="rgb(226 225 225)">,</text><text x="708" y="470"  fill="rgb(230 229 229)"> </text><text x="711" y="470"  fill="rgb(217 214 218)">&quot;</text><text x="714" y="470"  fill="rgb(214 208 215)">M</text><text x="717" y="470"  fill="rgb(214 209 215)">I</text><text x="720" y="470"  fill="rgb(215 210 216)">N&quot;,</text><text x="729" y="470"  fill="rgb(215 211 215)"> </text><text x="732" y="470"  fill="rgb(212 208 213)">&quot;</text><text x="735" y="470"  fill="rgb(208 205 209)">A</text><text x="738" y="470"  fill="rgb(218 217 220)">V</text><text x="741" y="470"  fill="rgb(240 239 240)">G</text><text x="744" y="470"  fill="rgb(248 248 248)">&quot;</text><text x="747" y="470"  fill="rgb(246 246 246)">,</text><text x="750" y="470"  fill="rgb(245 245 245)"> &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id private keysIn</text><text x="0" y="475"  fill="rgb(245 245 245)">Query: string[]; // all keys appeared in columns after being validated private transformationKey: string[]; // keys appe</text><text x="360" y="475"  fill="rgb(247 247 246)">a</text><text x="363" y="475"  fill="rgb(252 253 252)">r</text><text x="366" y="475"  fill="rgb(212 205 216)">e</text><text x="369" y="475"  fill="rgb(161 147 169)">d</text><text x="372" y="475"  fill="rgb(160 146 167)"> </text><text x="375" y="475"  fill="rgb(164 151 171)">in </text><text x="384" y="475"  fill="rgb(165 152 171)">tr</text><text x="390" y="475"  fill="rgb(166 153 171)">a</text><text x="393" y="475"  fill="rgb(166 153 172)">n</text><text x="396" y="475"  fill="rgb(164 152 170)">s</text><text x="399" y="475"  fill="rgb(179 168 184)">f</text><text x="402" y="475"  fill="rgb(190 181 195)">o</text><text x="405" y="475"  fill="rgb(189 180 194)">rm</text><text x="411" y="475"  fill="rgb(190 181 195)">a</text><text x="414" y="475"  fill="rgb(195 187 200)">t</text><text x="417" y="475"  fill="rgb(167 154 174)">i</text><text x="420" y="475"  fill="rgb(87 50 106)">o</text><text x="423" y="475"  fill="rgb(65 19 87)">n</text><text x="426" y="475"  fill="rgb(65 22 86)">,</text><text x="429" y="475"  fill="rgb(65 22 87)"> i</text><text x="435" y="475"  fill="rgb(65 23 88)">f</text><text x="438" y="475"  fill="rgb(66 23 88)"> </text><text x="441" y="475"  fill="rgb(65 23 87)">t</text><text x="444" y="475"  fill="rgb(65 24 88)">h</text><text x="447" y="475"  fill="rgb(65 24 87)">e</text><text x="450" y="475"  fill="rgb(59 15 83)">r</text><text x="453" y="475"  fill="rgb(77 42 95)">e</text><text x="456" y="475"  fill="rgb(110 90 117)"> </text><text x="459" y="475"  fill="rgb(105 84 115)">i</text><text x="462" y="475"  fill="rgb(104 81 113)">s </text><text x="468" y="475"  fill="rgb(103 80 112)">a </text><text x="474" y="475"  fill="rgb(102 79 111)">tra</text><text x="483" y="475"  fill="rgb(101 78 111)">n</text><text x="486" y="475"  fill="rgb(102 80 112)">s</text><text x="489" y="475"  fill="rgb(101 79 111)">f</text><text x="492" y="475"  fill="rgb(88 60 100)">o</text><text x="495" y="475"  fill="rgb(85 55 97)">rm</text><text x="501" y="475"  fill="rgb(84 55 98)">a</text><text x="504" y="475"  fill="rgb(84 53 98)">t</text><text x="507" y="475"  fill="rgb(84 52 97)">i</text><text x="510" y="475"  fill="rgb(83 51 97)">o</text><text x="513" y="475"  fill="rgb(83 51 98)">n</text><text x="516" y="475"  fill="rgb(82 49 97)"> </text><text x="519" y="475"  fill="rgb(82 48 97)">p</text><text x="522" y="475"  fill="rgb(82 48 98)">r</text><text x="525" y="475"  fill="rgb(82 47 98)">i</text><text x="528" y="475"  fill="rgb(82 46 97)">va</text><text x="534" y="475"  fill="rgb(80 44 97)">te</text><text x="540" y="475"  fill="rgb(80 43 97)"> </text><text x="543" y="475"  fill="rgb(78 40 95)">a</text><text x="546" y="475"  fill="rgb(71 36 89)">l</text><text x="549" y="475"  fill="rgb(71 36 88)">l</text><text x="552" y="475"  fill="rgb(71 36 89)">I</text><text x="555" y="475"  fill="rgb(69 32 87)">n</text><text x="558" y="475"  fill="rgb(74 42 90)">s</text><text x="561" y="475"  fill="rgb(84 60 95)">i</text><text x="564" y="475"  fill="rgb(84 57 95)">g</text><text x="567" y="475"  fill="rgb(82 55 95)">h</text><text x="570" y="475"  fill="rgb(82 54 95)">t</text><text x="573" y="475"  fill="rgb(81 53 94)">D</text><text x="576" y="475"  fill="rgb(89 63 102)">a</text><text x="579" y="475"  fill="rgb(93 67 107)">t</text><text x="582" y="475"  fill="rgb(91 64 106)">a</text><text x="585" y="475"  fill="rgb(91 64 105)">s</text><text x="588" y="475"  fill="rgb(98 70 112)">e</text><text x="591" y="475"  fill="rgb(101 73 115)">t</text><text x="594" y="475"  fill="rgb(101 71 114)">:</text><text x="597" y="475"  fill="rgb(100 71 114)"> </text><text x="600" y="475"  fill="rgb(100 70 114)">I</text><text x="603" y="475"  fill="rgb(99 69 112)">n</text><text x="606" y="475"  fill="rgb(98 67 112)">s</text><text x="609" y="475"  fill="rgb(97 66 112)">i</text><text x="612" y="475"  fill="rgb(97 65 112)">ght</text><text x="621" y="475"  fill="rgb(96 64 111)">Da</text><text x="627" y="475"  fill="rgb(95 63 110)">tas</text><text x="636" y="475"  fill="rgb(93 61 110)">et[</text><text x="645" y="475"  fill="rgb(93 60 109)">];</text><text x="651" y="475"  fill="rgb(91 58 109)"> </text><text x="654" y="475"  fill="rgb(91 58 108)">p</text><text x="657" y="475"  fill="rgb(90 57 108)">ri</text><text x="663" y="475"  fill="rgb(90 56 107)">v</text><text x="666" y="475"  fill="rgb(89 56 107)">a</text><text x="669" y="475"  fill="rgb(90 55 108)">t</text><text x="672" y="475"  fill="rgb(89 54 107)">e</text><text x="675" y="475"  fill="rgb(88 52 106)"> m</text><text x="681" y="475"  fill="rgb(87 51 106)">fie</text><text x="690" y="475"  fill="rgb(88 52 107)">l</text><text x="693" y="475"  fill="rgb(88 51 105)">d</text><text x="696" y="475"  fill="rgb(83 45 100)">s</text><text x="699" y="475"  fill="rgb(71 32 90)">:</text><text x="702" y="475"  fill="rgb(77 41 94)"> </text><text x="705" y="475"  fill="rgb(123 99 134)">s</text><text x="708" y="475"  fill="rgb(195 188 198)">t</text><text x="711" y="475"  fill="rgb(235 237 233)">r</text><text x="714" y="475"  fill="rgb(228 228 228)">i</text><text x="717" y="475"  fill="rgb(214 210 215)">n</text><text x="720" y="475"  fill="rgb(212 207 212)">g</text><text x="723" y="475"  fill="rgb(214 210 214)">[]</text><text x="729" y="475"  fill="rgb(213 209 214)">; </text><text x="735" y="475"  fill="rgb(212 208 213)">p</text><text x="738" y="475"  fill="rgb(208 205 211)">r</text><text x="741" y="475"  fill="rgb(214 211 215)">i</text><text x="744" y="475"  fill="rgb(232 231 233)">v</text><text x="747" y="475"  fill="rgb(246 247 247)">a</text><text x="750" y="475"  fill="rgb(247 247 247)">t</text><text x="753" y="475"  fill="rgb(245 245 245)">e sfields: string[]; constructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKey =</text><text x="0" y="480"  fill="rgb(245 245 245)"> []; this.allInsightDataset = insightDatasets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { thr</text><text x="360" y="480"  fill="rgb(251 253 251)">o</text><text x="363" y="480"  fill="rgb(233 230 234)">w</text><text x="366" y="480"  fill="rgb(173 159 180)"> </text><text x="369" y="480"  fill="rgb(156 142 164)">n</text><text x="372" y="480"  fill="rgb(162 148 169)">e</text><text x="375" y="480"  fill="rgb(163 149 170)">w</text><text x="378" y="480"  fill="rgb(164 150 170)"> I</text><text x="384" y="480"  fill="rgb(164 151 171)">ns</text><text x="390" y="480"  fill="rgb(165 152 171)">ig</text><text x="396" y="480"  fill="rgb(163 150 169)">h</text><text x="399" y="480"  fill="rgb(178 165 182)">t</text><text x="402" y="480"  fill="rgb(191 180 195)">E</text><text x="405" y="480"  fill="rgb(189 180 194)">r</text><text x="408" y="480"  fill="rgb(189 179 194)">r</text><text x="411" y="480"  fill="rgb(191 182 196)">o</text><text x="414" y="480"  fill="rgb(194 186 199)">r</text><text x="417" y="480"  fill="rgb(141 121 152)">(</text><text x="420" y="480"  fill="rgb(71 28 92)">)</text><text x="423" y="480"  fill="rgb(67 22 87)">;</text><text x="426" y="480"  fill="rgb(66 23 88)"> </text><text x="429" y="480"  fill="rgb(66 24 88)">} fo</text><text x="441" y="480"  fill="rgb(66 24 87)">r</text><text x="444" y="480"  fill="rgb(65 24 87)"> </text><text x="447" y="480"  fill="rgb(65 25 87)">(</text><text x="450" y="480"  fill="rgb(63 22 86)">l</text><text x="453" y="480"  fill="rgb(62 19 85)">e</text><text x="456" y="480"  fill="rgb(96 69 108)">t</text><text x="459" y="480"  fill="rgb(111 91 119)"> </text><text x="462" y="480"  fill="rgb(104 81 114)">k</text><text x="465" y="480"  fill="rgb(104 81 113)">ey </text><text x="474" y="480"  fill="rgb(103 80 112)">o</text><text x="477" y="480"  fill="rgb(102 80 112)">f </text><text x="483" y="480"  fill="rgb(102 79 112)">O</text><text x="486" y="480"  fill="rgb(102 79 111)">b</text><text x="489" y="480"  fill="rgb(102 81 112)">j</text><text x="492" y="480"  fill="rgb(92 66 105)">e</text><text x="495" y="480"  fill="rgb(84 54 97)">c</text><text x="498" y="480"  fill="rgb(84 55 98)">t</text><text x="501" y="480"  fill="rgb(85 54 98)">.k</text><text x="507" y="480"  fill="rgb(84 53 98)">e</text><text x="510" y="480"  fill="rgb(83 52 99)">y</text><text x="513" y="480"  fill="rgb(83 51 97)">s</text><text x="516" y="480"  fill="rgb(82 49 98)">(</text><text x="519" y="480"  fill="rgb(82 48 97)">q</text><text x="522" y="480"  fill="rgb(82 47 98)">)) </text><text x="531" y="480"  fill="rgb(81 45 97)">{ </text><text x="537" y="480"  fill="rgb(80 44 97)">i</text><text x="540" y="480"  fill="rgb(81 44 98)">f</text><text x="543" y="480"  fill="rgb(76 40 93)"> </text><text x="546" y="480"  fill="rgb(72 37 89)">(</text><text x="549" y="480"  fill="rgb(72 37 90)">k</text><text x="552" y="480"  fill="rgb(71 36 89)">e</text><text x="555" y="480"  fill="rgb(70 33 89)">y</text><text x="558" y="480"  fill="rgb(79 48 94)"> </text><text x="561" y="480"  fill="rgb(86 64 98)">!</text><text x="564" y="480"  fill="rgb(84 58 95)">=</text><text x="567" y="480"  fill="rgb(84 59 95)">=</text><text x="570" y="480"  fill="rgb(82 54 93)"> </text><text x="573" y="480"  fill="rgb(85 58 97)">&quot;</text><text x="576" y="480"  fill="rgb(94 68 107)">O</text><text x="579" y="480"  fill="rgb(94 67 106)">P</text><text x="582" y="480"  fill="rgb(93 66 106)">T</text><text x="585" y="480"  fill="rgb(91 65 105)">I</text><text x="588" y="480"  fill="rgb(96 70 111)">O</text><text x="591" y="480"  fill="rgb(102 74 116)">N</text><text x="594" y="480"  fill="rgb(101 73 114)">S</text><text x="597" y="480"  fill="rgb(101 72 114)">&quot; </text><text x="603" y="480"  fill="rgb(100 72 114)">&amp;</text><text x="606" y="480"  fill="rgb(100 70 114)">&amp;</text><text x="609" y="480"  fill="rgb(99 69 113)"> </text><text x="612" y="480"  fill="rgb(99 68 113)">k</text><text x="615" y="480"  fill="rgb(98 67 111)">e</text><text x="618" y="480"  fill="rgb(97 66 112)">y</text><text x="621" y="480"  fill="rgb(97 65 112)"> !=</text><text x="630" y="480"  fill="rgb(96 64 112)">=</text><text x="633" y="480"  fill="rgb(96 64 111)"> </text><text x="636" y="480"  fill="rgb(95 63 110)">&quot;</text><text x="639" y="480"  fill="rgb(94 62 110)">WHE</text><text x="648" y="480"  fill="rgb(93 61 110)">R</text><text x="651" y="480"  fill="rgb(93 60 109)">E&quot;</text><text x="657" y="480"  fill="rgb(92 59 109)"> &amp;</text><text x="663" y="480"  fill="rgb(90 57 108)">&amp; k</text><text x="672" y="480"  fill="rgb(89 56 107)">ey</text><text x="678" y="480"  fill="rgb(89 55 107)"> </text><text x="681" y="480"  fill="rgb(88 52 106)">!</text><text x="684" y="480"  fill="rgb(88 53 106)">=</text><text x="687" y="480"  fill="rgb(88 51 106)">=</text><text x="690" y="480"  fill="rgb(87 51 106)"> </text><text x="693" y="480"  fill="rgb(87 52 106)">&quot;</text><text x="696" y="480"  fill="rgb(88 51 106)">TR</text><text x="702" y="480"  fill="rgb(93 59 110)">A</text><text x="705" y="480"  fill="rgb(75 38 93)">N</text><text x="708" y="480"  fill="rgb(83 49 100)">S</text><text x="711" y="480"  fill="rgb(150 132 159)">F</text><text x="714" y="480"  fill="rgb(220 217 220)">O</text><text x="717" y="480"  fill="rgb(236 236 235)">R</text><text x="720" y="480"  fill="rgb(220 217 220)">M</text><text x="723" y="480"  fill="rgb(209 204 211)">A</text><text x="726" y="480"  fill="rgb(211 207 213)">T</text><text x="729" y="480"  fill="rgb(212 208 214)">ION</text><text x="738" y="480"  fill="rgb(212 208 215)">S</text><text x="741" y="480"  fill="rgb(209 206 211)">&quot;</text><text x="744" y="480"  fill="rgb(208 204 210)">)</text><text x="747" y="480"  fill="rgb(225 223 226)"> </text><text x="750" y="480"  fill="rgb(245 245 245)">{</text><text x="753" y="480"  fill="rgb(248 249 248)"> </text><text x="756" y="480"  fill="rgb(245 245 245)">throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } th</text><text x="0" y="485"  fill="rgb(245 245 245)">is.validateOptions(q.OPTIONS); } public validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || t</text><text x="357" y="485"  fill="rgb(249 249 248)">y</text><text x="360" y="485"  fill="rgb(246 246 246)">p</text><text x="363" y="485"  fill="rgb(192 182 197)">e</text><text x="366" y="485"  fill="rgb(156 140 164)">o</text><text x="369" y="485"  fill="rgb(160 146 167)">f</text><text x="372" y="485"  fill="rgb(162 148 169)"> q</text><text x="378" y="485"  fill="rgb(163 149 169)">.A</text><text x="384" y="485"  fill="rgb(164 150 169)">P</text><text x="387" y="485"  fill="rgb(162 149 169)">P</text><text x="390" y="485"  fill="rgb(164 151 171)">L</text><text x="393" y="485"  fill="rgb(165 152 171)">Y</text><text x="396" y="485"  fill="rgb(161 148 168)"> </text><text x="399" y="485"  fill="rgb(175 162 179)">=</text><text x="402" y="485"  fill="rgb(190 179 194)">=</text><text x="405" y="485"  fill="rgb(189 179 194)">=</text><text x="408" y="485"  fill="rgb(189 178 194)"> </text><text x="411" y="485"  fill="rgb(192 182 197)">&quot;</text><text x="414" y="485"  fill="rgb(188 179 193)">u</text><text x="417" y="485"  fill="rgb(111 82 126)">n</text><text x="420" y="485"  fill="rgb(67 23 88)">d</text><text x="423" y="485"  fill="rgb(67 24 87)">e</text><text x="426" y="485"  fill="rgb(69 25 88)">f</text><text x="429" y="485"  fill="rgb(67 24 88)">i</text><text x="432" y="485"  fill="rgb(66 24 87)">n</text><text x="435" y="485"  fill="rgb(65 24 87)">e</text><text x="438" y="485"  fill="rgb(66 25 87)">d</text><text x="441" y="485"  fill="rgb(66 25 88)">&quot;</text><text x="444" y="485"  fill="rgb(66 25 87)"> |</text><text x="450" y="485"  fill="rgb(67 26 87)">|</text><text x="453" y="485"  fill="rgb(61 17 83)"> </text><text x="456" y="485"  fill="rgb(73 35 93)">O</text><text x="459" y="485"  fill="rgb(108 86 116)">b</text><text x="462" y="485"  fill="rgb(108 87 116)">j</text><text x="465" y="485"  fill="rgb(104 82 114)">e</text><text x="468" y="485"  fill="rgb(105 82 114)">c</text><text x="471" y="485"  fill="rgb(105 83 114)">t</text><text x="474" y="485"  fill="rgb(105 82 114)">.</text><text x="477" y="485"  fill="rgb(105 82 113)">k</text><text x="480" y="485"  fill="rgb(104 81 113)">e</text><text x="483" y="485"  fill="rgb(102 81 112)">y</text><text x="486" y="485"  fill="rgb(103 80 112)">s</text><text x="489" y="485"  fill="rgb(103 81 113)">(</text><text x="492" y="485"  fill="rgb(97 74 109)">q</text><text x="495" y="485"  fill="rgb(84 56 97)">)</text><text x="498" y="485"  fill="rgb(85 55 99)">.</text><text x="501" y="485"  fill="rgb(84 54 99)">le</text><text x="507" y="485"  fill="rgb(84 53 98)">n</text><text x="510" y="485"  fill="rgb(84 52 99)">g</text><text x="513" y="485"  fill="rgb(83 51 98)">t</text><text x="516" y="485"  fill="rgb(82 49 98)">h</text><text x="519" y="485"  fill="rgb(83 50 99)"> </text><text x="522" y="485"  fill="rgb(82 48 98)">!</text><text x="525" y="485"  fill="rgb(82 48 99)">=</text><text x="528" y="485"  fill="rgb(81 46 98)">=</text><text x="531" y="485"  fill="rgb(82 45 98)"> </text><text x="534" y="485"  fill="rgb(81 45 97)">2</text><text x="537" y="485"  fill="rgb(82 45 99)">)</text><text x="540" y="485"  fill="rgb(80 43 97)"> </text><text x="543" y="485"  fill="rgb(73 39 90)">{</text><text x="546" y="485"  fill="rgb(72 37 89)"> </text><text x="549" y="485"  fill="rgb(72 37 90)">t</text><text x="552" y="485"  fill="rgb(71 35 89)">h</text><text x="555" y="485"  fill="rgb(71 37 90)">r</text><text x="558" y="485"  fill="rgb(83 57 96)">o</text><text x="561" y="485"  fill="rgb(87 62 98)">w</text><text x="564" y="485"  fill="rgb(84 60 97)"> </text><text x="567" y="485"  fill="rgb(84 59 96)">n</text><text x="570" y="485"  fill="rgb(85 59 95)">e</text><text x="573" y="485"  fill="rgb(93 67 104)">w</text><text x="576" y="485"  fill="rgb(95 69 108)"> </text><text x="579" y="485"  fill="rgb(94 68 106)">I</text><text x="582" y="485"  fill="rgb(94 68 107)">n</text><text x="585" y="485"  fill="rgb(93 67 106)">s</text><text x="588" y="485"  fill="rgb(96 70 109)">i</text><text x="591" y="485"  fill="rgb(103 76 116)">g</text><text x="594" y="485"  fill="rgb(102 74 115)">h</text><text x="597" y="485"  fill="rgb(101 74 116)">t</text><text x="600" y="485"  fill="rgb(101 73 115)">E</text><text x="603" y="485"  fill="rgb(101 72 114)">rr</text><text x="609" y="485"  fill="rgb(100 71 114)">or</text><text x="615" y="485"  fill="rgb(100 70 114)">(</text><text x="618" y="485"  fill="rgb(99 69 113)">)</text><text x="621" y="485"  fill="rgb(97 67 112)">;</text><text x="624" y="485"  fill="rgb(97 66 112)"> </text><text x="627" y="485"  fill="rgb(97 65 112)">} t</text><text x="636" y="485"  fill="rgb(95 63 110)">h</text><text x="639" y="485"  fill="rgb(96 64 110)">i</text><text x="642" y="485"  fill="rgb(95 63 110)">s.</text><text x="648" y="485"  fill="rgb(95 62 110)">v</text><text x="651" y="485"  fill="rgb(93 62 110)">a</text><text x="654" y="485"  fill="rgb(93 61 110)">lid</text><text x="663" y="485"  fill="rgb(92 59 109)">a</text><text x="666" y="485"  fill="rgb(92 59 108)">t</text><text x="669" y="485"  fill="rgb(90 57 109)">e</text><text x="672" y="485"  fill="rgb(90 57 107)">G</text><text x="675" y="485"  fill="rgb(90 57 108)">RO</text><text x="681" y="485"  fill="rgb(90 55 107)">U</text><text x="684" y="485"  fill="rgb(89 55 107)">P</text><text x="687" y="485"  fill="rgb(89 54 107)">(</text><text x="690" y="485"  fill="rgb(89 52 106)">q</text><text x="693" y="485"  fill="rgb(88 52 106)">.</text><text x="696" y="485"  fill="rgb(87 51 106)">GR</text><text x="702" y="485"  fill="rgb(105 71 121)">O</text><text x="705" y="485"  fill="rgb(110 77 125)">U</text><text x="708" y="485"  fill="rgb(90 55 107)">P</text><text x="711" y="485"  fill="rgb(72 34 89)">)</text><text x="714" y="485"  fill="rgb(100 70 113)">;</text><text x="717" y="485"  fill="rgb(174 161 180)"> </text><text x="720" y="485"  fill="rgb(227 226 227)">t</text><text x="723" y="485"  fill="rgb(226 227 226)">h</text><text x="726" y="485"  fill="rgb(211 208 213)">i</text><text x="729" y="485"  fill="rgb(209 206 211)">s</text><text x="732" y="485"  fill="rgb(211 208 214)">.v</text><text x="738" y="485"  fill="rgb(211 208 212)">a</text><text x="741" y="485"  fill="rgb(211 208 213)">l</text><text x="744" y="485"  fill="rgb(210 206 212)">i</text><text x="747" y="485"  fill="rgb(206 202 207)">d</text><text x="750" y="485"  fill="rgb(218 215 218)">a</text><text x="753" y="485"  fill="rgb(241 241 242)">t</text><text x="756" y="485"  fill="rgb(249 249 248)">e</text><text x="759" y="485"  fill="rgb(246 246 246)">A</text><text x="762" y="485"  fill="rgb(245 245 245)">PPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should b</text><text x="0" y="490"  fill="rgb(245 245 245)">e an object, and should has at least one element } for (let key of q) { this.validateKey(key); this.transformationKey.</text><text x="354" y="490"  fill="rgb(246 246 246)">p</text><text x="357" y="490"  fill="rgb(249 250 249)">u</text><text x="360" y="490"  fill="rgb(215 209 218)">s</text><text x="363" y="490"  fill="rgb(160 145 168)">h</text><text x="366" y="490"  fill="rgb(157 142 164)">(</text><text x="369" y="490"  fill="rgb(160 146 167)">k</text><text x="372" y="490"  fill="rgb(160 146 168)">e</text><text x="375" y="490"  fill="rgb(161 147 168)">y)</text><text x="381" y="490"  fill="rgb(162 148 169)">; </text><text x="387" y="490"  fill="rgb(163 148 169)">/</text><text x="390" y="490"  fill="rgb(162 149 169)">/</text><text x="393" y="490"  fill="rgb(163 150 170)"> </text><text x="396" y="490"  fill="rgb(161 148 168)">i</text><text x="399" y="490"  fill="rgb(171 158 178)">f</text><text x="402" y="490"  fill="rgb(188 178 193)"> </text><text x="405" y="490"  fill="rgb(189 179 194)">t</text><text x="408" y="490"  fill="rgb(188 178 193)">h</text><text x="411" y="490"  fill="rgb(195 186 200)">e</text><text x="414" y="490"  fill="rgb(172 159 178)"> </text><text x="417" y="490"  fill="rgb(87 49 105)">k</text><text x="420" y="490"  fill="rgb(68 25 88)">e</text><text x="423" y="490"  fill="rgb(66 23 86)">y</text><text x="426" y="490"  fill="rgb(67 26 87)"> i</text><text x="432" y="490"  fill="rgb(68 26 88)">s </text><text x="438" y="490"  fill="rgb(66 25 87)">v</text><text x="441" y="490"  fill="rgb(66 25 88)">a</text><text x="444" y="490"  fill="rgb(67 26 87)">lid,</text><text x="456" y="490"  fill="rgb(61 17 83)"> </text><text x="459" y="490"  fill="rgb(88 59 103)">p</text><text x="462" y="490"  fill="rgb(111 91 118)">u</text><text x="465" y="490"  fill="rgb(106 84 115)">s</text><text x="468" y="490"  fill="rgb(106 83 115)">h</text><text x="471" y="490"  fill="rgb(105 83 114)"> it</text><text x="480" y="490"  fill="rgb(105 82 114)"> </text><text x="483" y="490"  fill="rgb(105 82 113)">t</text><text x="486" y="490"  fill="rgb(102 81 113)">o</text><text x="489" y="490"  fill="rgb(103 82 113)"> </text><text x="492" y="490"  fill="rgb(102 81 112)">t</text><text x="495" y="490"  fill="rgb(89 61 101)">r</text><text x="498" y="490"  fill="rgb(85 55 99)">a</text><text x="501" y="490"  fill="rgb(85 56 99)">n</text><text x="504" y="490"  fill="rgb(85 54 99)">s</text><text x="507" y="490"  fill="rgb(84 53 99)">f</text><text x="510" y="490"  fill="rgb(85 53 99)">o</text><text x="513" y="490"  fill="rgb(84 52 98)">r</text><text x="516" y="490"  fill="rgb(84 51 98)">m</text><text x="519" y="490"  fill="rgb(83 50 99)">a</text><text x="522" y="490"  fill="rgb(82 48 99)">ti</text><text x="528" y="490"  fill="rgb(83 46 98)">o</text><text x="531" y="490"  fill="rgb(82 46 99)">n</text><text x="534" y="490"  fill="rgb(83 45 99)">Ke</text><text x="540" y="490"  fill="rgb(78 42 95)">y</text><text x="543" y="490"  fill="rgb(74 39 89)"> </text><text x="546" y="490"  fill="rgb(73 38 90)">}</text><text x="549" y="490"  fill="rgb(73 37 89)"> </text><text x="552" y="490"  fill="rgb(71 34 89)">}</text><text x="555" y="490"  fill="rgb(76 42 92)"> </text><text x="558" y="490"  fill="rgb(87 63 99)">p</text><text x="561" y="490"  fill="rgb(86 60 97)">ri</text><text x="567" y="490"  fill="rgb(85 59 96)">v</text><text x="570" y="490"  fill="rgb(89 64 100)">a</text><text x="573" y="490"  fill="rgb(97 71 110)">t</text><text x="576" y="490"  fill="rgb(96 70 108)">e</text><text x="579" y="490"  fill="rgb(95 69 107)"> v</text><text x="585" y="490"  fill="rgb(93 67 106)">a</text><text x="588" y="490"  fill="rgb(95 69 108)">l</text><text x="591" y="490"  fill="rgb(103 76 116)">i</text><text x="594" y="490"  fill="rgb(105 76 117)">d</text><text x="597" y="490"  fill="rgb(103 75 116)">a</text><text x="600" y="490"  fill="rgb(102 74 116)">t</text><text x="603" y="490"  fill="rgb(101 73 115)">eK</text><text x="609" y="490"  fill="rgb(101 72 114)">ey</text><text x="615" y="490"  fill="rgb(101 71 114)">(</text><text x="618" y="490"  fill="rgb(100 70 114)">k</text><text x="621" y="490"  fill="rgb(99 70 113)">e</text><text x="624" y="490"  fill="rgb(99 68 113)">y</text><text x="627" y="490"  fill="rgb(98 68 113)">:</text><text x="630" y="490"  fill="rgb(98 66 111)"> </text><text x="633" y="490"  fill="rgb(97 66 112)">s</text><text x="636" y="490"  fill="rgb(97 65 112)">tr</text><text x="642" y="490"  fill="rgb(96 64 111)">in</text><text x="648" y="490"  fill="rgb(95 63 110)">g)</text><text x="654" y="490"  fill="rgb(94 62 110)">: </text><text x="660" y="490"  fill="rgb(94 61 110)">v</text><text x="663" y="490"  fill="rgb(93 61 110)">o</text><text x="666" y="490"  fill="rgb(93 60 110)">i</text><text x="669" y="490"  fill="rgb(92 59 109)">d</text><text x="672" y="490"  fill="rgb(91 58 109)"> { </text><text x="681" y="490"  fill="rgb(90 57 108)">l</text><text x="684" y="490"  fill="rgb(90 56 108)">et</text><text x="690" y="490"  fill="rgb(90 55 108)"> </text><text x="693" y="490"  fill="rgb(89 54 107)">s</text><text x="696" y="490"  fill="rgb(88 52 106)">pl</text><text x="702" y="490"  fill="rgb(103 69 119)">i</text><text x="705" y="490"  fill="rgb(109 75 124)">t</text><text x="708" y="490"  fill="rgb(110 77 126)">t</text><text x="711" y="490"  fill="rgb(103 70 119)">e</text><text x="714" y="490"  fill="rgb(78 41 96)">d</text><text x="717" y="490"  fill="rgb(73 35 90)">K</text><text x="720" y="490"  fill="rgb(119 96 132)">e</text><text x="723" y="490"  fill="rgb(195 189 199)">y</text><text x="726" y="490"  fill="rgb(233 232 230)">:</text><text x="729" y="490"  fill="rgb(221 220 220)"> </text><text x="732" y="490"  fill="rgb(210 207 212)">s</text><text x="735" y="490"  fill="rgb(210 207 211)">tri</text><text x="744" y="490"  fill="rgb(211 208 211)">n</text><text x="747" y="490"  fill="rgb(210 207 211)">g</text><text x="750" y="490"  fill="rgb(204 201 206)">[</text><text x="753" y="490"  fill="rgb(211 205 212)">]</text><text x="756" y="490"  fill="rgb(233 232 234)"> </text><text x="759" y="490"  fill="rgb(247 248 247)">=</text><text x="762" y="490"  fill="rgb(246 246 246)"> </text><text x="765" y="490"  fill="rgb(245 245 245)">key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfiel</text><text x="0" y="495"  fill="rgb(245 245 245)">ds.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightError(); } } private valida</text><text x="354" y="495"  fill="rgb(248 249 248)">t</text><text x="357" y="495"  fill="rgb(234 232 235)">e</text><text x="360" y="495"  fill="rgb(175 161 181)">A</text><text x="363" y="495"  fill="rgb(155 139 162)">P</text><text x="366" y="495"  fill="rgb(160 144 167)">P</text><text x="369" y="495"  fill="rgb(160 145 167)">LY</text><text x="375" y="495"  fill="rgb(160 145 168)">(</text><text x="378" y="495"  fill="rgb(160 145 167)">q</text><text x="381" y="495"  fill="rgb(160 146 167)">:</text><text x="384" y="495"  fill="rgb(161 147 168)"> a</text><text x="390" y="495"  fill="rgb(162 148 169)">n</text><text x="393" y="495"  fill="rgb(163 149 170)">y</text><text x="396" y="495"  fill="rgb(162 147 169)">)</text><text x="399" y="495"  fill="rgb(168 156 174)">:</text><text x="402" y="495"  fill="rgb(186 176 192)"> </text><text x="405" y="495"  fill="rgb(188 178 194)">v</text><text x="408" y="495"  fill="rgb(188 178 193)">o</text><text x="411" y="495"  fill="rgb(199 191 203)">i</text><text x="414" y="495"  fill="rgb(147 127 155)">d</text><text x="417" y="495"  fill="rgb(73 31 94)"> </text><text x="420" y="495"  fill="rgb(68 26 89)">{</text><text x="423" y="495"  fill="rgb(66 24 86)"> </text><text x="426" y="495"  fill="rgb(68 25 88)">i</text><text x="429" y="495"  fill="rgb(68 27 88)">f </text><text x="435" y="495"  fill="rgb(68 26 88)">(!</text><text x="441" y="495"  fill="rgb(67 26 87)">Ar</text><text x="447" y="495"  fill="rgb(68 26 88)">r</text><text x="450" y="495"  fill="rgb(68 27 88)">a</text><text x="453" y="495"  fill="rgb(68 29 88)">y</text><text x="456" y="495"  fill="rgb(65 24 86)">.</text><text x="459" y="495"  fill="rgb(68 29 88)">i</text><text x="462" y="495"  fill="rgb(103 79 112)">s</text><text x="465" y="495"  fill="rgb(110 89 118)">A</text><text x="468" y="495"  fill="rgb(106 84 115)">rra</text><text x="477" y="495"  fill="rgb(105 84 115)">y</text><text x="480" y="495"  fill="rgb(105 83 114)">(</text><text x="483" y="495"  fill="rgb(105 82 113)">q</text><text x="486" y="495"  fill="rgb(105 83 113)">)</text><text x="489" y="495"  fill="rgb(105 83 114)">)</text><text x="492" y="495"  fill="rgb(105 84 114)"> </text><text x="495" y="495"  fill="rgb(94 67 106)">{</text><text x="498" y="495"  fill="rgb(84 54 99)"> </text><text x="501" y="495"  fill="rgb(86 56 100)">t</text><text x="504" y="495"  fill="rgb(85 54 99)">h</text><text x="507" y="495"  fill="rgb(85 53 99)">ro</text><text x="513" y="495"  fill="rgb(84 52 100)">w</text><text x="516" y="495"  fill="rgb(83 52 99)"> </text><text x="519" y="495"  fill="rgb(83 50 99)">n</text><text x="522" y="495"  fill="rgb(83 49 99)">e</text><text x="525" y="495"  fill="rgb(83 48 99)">w</text><text x="528" y="495"  fill="rgb(83 48 98)"> </text><text x="531" y="495"  fill="rgb(83 46 98)">I</text><text x="534" y="495"  fill="rgb(83 45 99)">ns</text><text x="540" y="495"  fill="rgb(76 40 92)">i</text><text x="543" y="495"  fill="rgb(74 38 90)">g</text><text x="546" y="495"  fill="rgb(74 39 90)">h</text><text x="549" y="495"  fill="rgb(73 38 91)">t</text><text x="552" y="495"  fill="rgb(72 35 90)">E</text><text x="555" y="495"  fill="rgb(82 52 95)">r</text><text x="558" y="495"  fill="rgb(88 65 98)">r</text><text x="561" y="495"  fill="rgb(86 62 98)">o</text><text x="564" y="495"  fill="rgb(86 61 98)">r(</text><text x="570" y="495"  fill="rgb(94 70 108)">)</text><text x="573" y="495"  fill="rgb(96 72 110)">;</text><text x="576" y="495"  fill="rgb(95 70 108)"> </text><text x="579" y="495"  fill="rgb(96 70 108)">/</text><text x="582" y="495"  fill="rgb(95 70 108)">/</text><text x="585" y="495"  fill="rgb(94 69 106)"> q</text><text x="591" y="495"  fill="rgb(102 75 115)"> </text><text x="594" y="495"  fill="rgb(106 79 118)">s</text><text x="597" y="495"  fill="rgb(105 77 117)">h</text><text x="600" y="495"  fill="rgb(104 76 117)">o</text><text x="603" y="495"  fill="rgb(103 75 116)">u</text><text x="606" y="495"  fill="rgb(103 74 115)">l</text><text x="609" y="495"  fill="rgb(101 74 115)">d</text><text x="612" y="495"  fill="rgb(101 73 115)"> b</text><text x="618" y="495"  fill="rgb(101 72 114)">e</text><text x="621" y="495"  fill="rgb(100 71 114)"> a</text><text x="627" y="495"  fill="rgb(100 70 114)">n</text><text x="630" y="495"  fill="rgb(100 69 114)"> </text><text x="633" y="495"  fill="rgb(99 68 112)">a</text><text x="636" y="495"  fill="rgb(97 67 112)">r</text><text x="639" y="495"  fill="rgb(97 66 112)">r</text><text x="642" y="495"  fill="rgb(97 65 112)">ay,</text><text x="651" y="495"  fill="rgb(96 64 111)"> </text><text x="654" y="495"  fill="rgb(95 63 110)">and</text><text x="663" y="495"  fill="rgb(94 62 110)"> </text><text x="666" y="495"  fill="rgb(93 61 110)">sho</text><text x="675" y="495"  fill="rgb(93 60 109)">u</text><text x="678" y="495"  fill="rgb(92 59 109)">l</text><text x="681" y="495"  fill="rgb(91 58 109)">d</text><text x="684" y="495"  fill="rgb(90 57 108)"> ha</text><text x="693" y="495"  fill="rgb(90 56 108)">v</text><text x="696" y="495"  fill="rgb(89 55 107)">e</text><text x="699" y="495"  fill="rgb(89 54 107)"> </text><text x="702" y="495"  fill="rgb(103 69 119)">a</text><text x="705" y="495"  fill="rgb(108 75 124)">t</text><text x="708" y="495"  fill="rgb(107 74 123)"> </text><text x="711" y="495"  fill="rgb(109 76 125)">l</text><text x="714" y="495"  fill="rgb(108 75 124)">e</text><text x="717" y="495"  fill="rgb(92 57 109)">a</text><text x="720" y="495"  fill="rgb(71 35 90)">s</text><text x="723" y="495"  fill="rgb(86 55 101)">t</text><text x="726" y="495"  fill="rgb(149 131 158)"> </text><text x="729" y="495"  fill="rgb(210 206 212)">o</text><text x="732" y="495"  fill="rgb(227 227 227)">n</text><text x="735" y="495"  fill="rgb(216 215 217)">e</text><text x="738" y="495"  fill="rgb(209 206 211)"> </text><text x="741" y="495"  fill="rgb(208 205 210)">e</text><text x="744" y="495"  fill="rgb(209 206 211)">l</text><text x="747" y="495"  fill="rgb(209 207 211)">e</text><text x="750" y="495"  fill="rgb(210 207 211)">m</text><text x="753" y="495"  fill="rgb(206 201 207)">e</text><text x="756" y="495"  fill="rgb(206 202 207)">n</text><text x="759" y="495"  fill="rgb(226 224 227)">t</text><text x="762" y="495"  fill="rgb(245 245 245)"> </text><text x="765" y="495"  fill="rgb(248 248 248)">}</text><text x="768" y="495"  fill="rgb(245 245 245)"> for (let applyrule of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } let appl</text><text x="0" y="500"  fill="rgb(245 245 245)">ykey: string = Object.keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.in</text><text x="354" y="500"  fill="rgb(248 249 248)">c</text><text x="357" y="500"  fill="rgb(199 188 204)">l</text><text x="360" y="500"  fill="rgb(156 138 163)">u</text><text x="363" y="500"  fill="rgb(157 140 163)">d</text><text x="366" y="500"  fill="rgb(159 144 167)">es</text><text x="372" y="500"  fill="rgb(159 144 166)">(</text><text x="375" y="500"  fill="rgb(160 145 167)">&quot;</text><text x="378" y="500"  fill="rgb(160 144 167)">_</text><text x="381" y="500"  fill="rgb(160 145 167)">&quot;</text><text x="384" y="500"  fill="rgb(160 146 167)">) </text><text x="390" y="500"  fill="rgb(160 146 168)">|</text><text x="393" y="500"  fill="rgb(162 147 169)">|</text><text x="396" y="500"  fill="rgb(161 146 167)"> </text><text x="399" y="500"  fill="rgb(165 152 171)">t</text><text x="402" y="500"  fill="rgb(185 175 191)">h</text><text x="405" y="500"  fill="rgb(188 178 194)">i</text><text x="408" y="500"  fill="rgb(189 179 195)">s</text><text x="411" y="500"  fill="rgb(198 190 201)">.</text><text x="414" y="500"  fill="rgb(118 91 132)">t</text><text x="417" y="500"  fill="rgb(68 26 88)">ra</text><text x="423" y="500"  fill="rgb(68 25 88)">n</text><text x="426" y="500"  fill="rgb(69 27 89)">s</text><text x="429" y="500"  fill="rgb(68 26 88)">f</text><text x="432" y="500"  fill="rgb(68 28 88)">o</text><text x="435" y="500"  fill="rgb(68 27 87)">r</text><text x="438" y="500"  fill="rgb(69 28 88)">m</text><text x="441" y="500"  fill="rgb(68 27 88)">ati</text><text x="450" y="500"  fill="rgb(68 28 88)">onK</text><text x="459" y="500"  fill="rgb(63 21 83)">e</text><text x="462" y="500"  fill="rgb(80 47 97)">y</text><text x="465" y="500"  fill="rgb(111 91 120)">.</text><text x="468" y="500"  fill="rgb(109 87 116)">i</text><text x="471" y="500"  fill="rgb(106 85 115)">n</text><text x="474" y="500"  fill="rgb(106 84 115)">clu</text><text x="483" y="500"  fill="rgb(105 83 114)">d</text><text x="486" y="500"  fill="rgb(106 84 115)">e</text><text x="489" y="500"  fill="rgb(105 84 114)">s</text><text x="492" y="500"  fill="rgb(106 85 115)">(</text><text x="495" y="500"  fill="rgb(99 76 110)">a</text><text x="498" y="500"  fill="rgb(85 55 99)">p</text><text x="501" y="500"  fill="rgb(85 55 100)">p</text><text x="504" y="500"  fill="rgb(85 54 100)">l</text><text x="507" y="500"  fill="rgb(86 54 100)">y</text><text x="510" y="500"  fill="rgb(85 53 99)">k</text><text x="513" y="500"  fill="rgb(84 52 100)">e</text><text x="516" y="500"  fill="rgb(83 51 99)">y</text><text x="519" y="500"  fill="rgb(84 50 100)">)</text><text x="522" y="500"  fill="rgb(83 49 100)">)</text><text x="525" y="500"  fill="rgb(84 49 100)"> </text><text x="528" y="500"  fill="rgb(83 48 99)">{</text><text x="531" y="500"  fill="rgb(83 46 100)"> </text><text x="534" y="500"  fill="rgb(83 45 100)">t</text><text x="537" y="500"  fill="rgb(82 44 99)">h</text><text x="540" y="500"  fill="rgb(75 40 92)">r</text><text x="543" y="500"  fill="rgb(74 38 90)">ow</text><text x="549" y="500"  fill="rgb(73 36 90)"> </text><text x="552" y="500"  fill="rgb(74 39 92)">n</text><text x="555" y="500"  fill="rgb(87 62 98)">e</text><text x="558" y="500"  fill="rgb(89 65 99)">w</text><text x="561" y="500"  fill="rgb(87 63 98)"> </text><text x="564" y="500"  fill="rgb(86 61 97)">I</text><text x="567" y="500"  fill="rgb(91 66 102)">n</text><text x="570" y="500"  fill="rgb(98 73 110)">s</text><text x="573" y="500"  fill="rgb(97 72 109)">i</text><text x="576" y="500"  fill="rgb(96 71 109)">g</text><text x="579" y="500"  fill="rgb(96 70 108)">h</text><text x="582" y="500"  fill="rgb(97 71 109)">t</text><text x="585" y="500"  fill="rgb(96 70 109)">E</text><text x="588" y="500"  fill="rgb(94 69 107)">r</text><text x="591" y="500"  fill="rgb(101 75 113)">r</text><text x="594" y="500"  fill="rgb(106 80 119)">o</text><text x="597" y="500"  fill="rgb(105 78 117)">r</text><text x="600" y="500"  fill="rgb(105 77 117)">()</text><text x="606" y="500"  fill="rgb(103 75 116)">;</text><text x="609" y="500"  fill="rgb(102 74 116)"> }</text><text x="615" y="500"  fill="rgb(101 73 115)"> t</text><text x="621" y="500"  fill="rgb(101 72 114)">hi</text><text x="627" y="500"  fill="rgb(101 71 114)">s</text><text x="630" y="500"  fill="rgb(100 70 114)">.t</text><text x="636" y="500"  fill="rgb(98 69 112)">r</text><text x="639" y="500"  fill="rgb(98 67 112)">a</text><text x="642" y="500"  fill="rgb(97 66 112)">n</text><text x="645" y="500"  fill="rgb(97 65 111)">s</text><text x="648" y="500"  fill="rgb(97 65 112)">fo</text><text x="654" y="500"  fill="rgb(96 64 112)">r</text><text x="657" y="500"  fill="rgb(95 63 110)">mat</text><text x="666" y="500"  fill="rgb(94 62 110)">io</text><text x="672" y="500"  fill="rgb(93 61 110)">nK</text><text x="678" y="500"  fill="rgb(93 59 109)">e</text><text x="681" y="500"  fill="rgb(92 59 110)">y</text><text x="684" y="500"  fill="rgb(91 58 109)">.p</text><text x="690" y="500"  fill="rgb(90 57 108)">us</text><text x="696" y="500"  fill="rgb(90 56 108)">h</text><text x="699" y="500"  fill="rgb(89 55 107)">(</text><text x="702" y="500"  fill="rgb(103 70 119)">a</text><text x="705" y="500"  fill="rgb(110 77 125)">p</text><text x="708" y="500"  fill="rgb(107 74 124)">p</text><text x="711" y="500"  fill="rgb(107 74 122)">l</text><text x="714" y="500"  fill="rgb(107 75 123)">y</text><text x="717" y="500"  fill="rgb(109 76 124)">k</text><text x="720" y="500"  fill="rgb(104 71 120)">e</text><text x="723" y="500"  fill="rgb(87 53 103)">y</text><text x="726" y="500"  fill="rgb(74 39 92)">)</text><text x="729" y="500"  fill="rgb(104 77 119)">;</text><text x="732" y="500"  fill="rgb(170 157 176)"> </text><text x="735" y="500"  fill="rgb(220 219 221)">i</text><text x="738" y="500"  fill="rgb(228 229 228)">f</text><text x="741" y="500"  fill="rgb(213 211 215)"> </text><text x="744" y="500"  fill="rgb(207 203 209)">(</text><text x="747" y="500"  fill="rgb(208 205 210)">A</text><text x="750" y="500"  fill="rgb(209 206 211)">rr</text><text x="756" y="500"  fill="rgb(206 203 208)">a</text><text x="759" y="500"  fill="rgb(205 200 206)">y</text><text x="762" y="500"  fill="rgb(219 216 221)">.</text><text x="765" y="500"  fill="rgb(243 243 243)">i</text><text x="768" y="500"  fill="rgb(248 248 248)">s</text><text x="771" y="500"  fill="rgb(245 245 245)">Array(criteria) || Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(criteria)[0]</text><text x="0" y="505"  fill="rgb(245 245 245)">; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key</text><text x="348" y="505"  fill="rgb(244 245 244)">:</text><text x="351" y="505"  fill="rgb(252 253 250)"> </text><text x="354" y="505"  fill="rgb(225 220 227)">s</text><text x="357" y="505"  fill="rgb(163 147 171)">t</text><text x="360" y="505"  fill="rgb(153 135 160)">r</text><text x="363" y="505"  fill="rgb(158 141 165)">i</text><text x="366" y="505"  fill="rgb(159 142 165)">n</text><text x="369" y="505"  fill="rgb(159 143 166)">g</text><text x="372" y="505"  fill="rgb(159 143 165)">[</text><text x="375" y="505"  fill="rgb(159 143 166)">]</text><text x="378" y="505"  fill="rgb(159 144 166)"> </text><text x="381" y="505"  fill="rgb(160 145 166)">= c</text><text x="390" y="505"  fill="rgb(160 146 167)">ri</text><text x="396" y="505"  fill="rgb(160 145 167)">t</text><text x="399" y="505"  fill="rgb(161 148 168)">e</text><text x="402" y="505"  fill="rgb(182 170 187)">r</text><text x="405" y="505"  fill="rgb(188 178 194)">i</text><text x="408" y="505"  fill="rgb(193 185 198)">a</text><text x="411" y="505"  fill="rgb(185 175 190)">[</text><text x="414" y="505"  fill="rgb(94 60 113)">a</text><text x="417" y="505"  fill="rgb(67 25 88)">p</text><text x="420" y="505"  fill="rgb(68 27 89)">pl</text><text x="426" y="505"  fill="rgb(69 27 88)">yto</text><text x="435" y="505"  fill="rgb(69 28 89)">k</text><text x="438" y="505"  fill="rgb(69 28 88)">e</text><text x="441" y="505"  fill="rgb(69 29 89)">n</text><text x="444" y="505"  fill="rgb(68 29 88)">].s</text><text x="453" y="505"  fill="rgb(68 28 87)">p</text><text x="456" y="505"  fill="rgb(67 28 87)">l</text><text x="459" y="505"  fill="rgb(66 27 87)">i</text><text x="462" y="505"  fill="rgb(62 22 85)">t</text><text x="465" y="505"  fill="rgb(94 66 106)">(</text><text x="468" y="505"  fill="rgb(114 96 123)">&quot;</text><text x="471" y="505"  fill="rgb(107 85 116)">_</text><text x="474" y="505"  fill="rgb(107 85 115)">&quot;)</text><text x="480" y="505"  fill="rgb(106 85 115)">;</text><text x="483" y="505"  fill="rgb(106 84 115)"> </text><text x="486" y="505"  fill="rgb(106 85 115)">i</text><text x="489" y="505"  fill="rgb(106 84 115)">f</text><text x="492" y="505"  fill="rgb(107 85 115)"> </text><text x="495" y="505"  fill="rgb(104 82 114)">(</text><text x="498" y="505"  fill="rgb(88 59 101)">k</text><text x="501" y="505"  fill="rgb(85 53 99)">e</text><text x="504" y="505"  fill="rgb(86 55 101)">y</text><text x="507" y="505"  fill="rgb(86 54 100)">.</text><text x="510" y="505"  fill="rgb(85 53 100)">l</text><text x="513" y="505"  fill="rgb(84 52 100)">e</text><text x="516" y="505"  fill="rgb(84 50 100)">ng</text><text x="522" y="505"  fill="rgb(84 50 101)">t</text><text x="525" y="505"  fill="rgb(83 48 99)">h</text><text x="528" y="505"  fill="rgb(84 47 101)"> </text><text x="531" y="505"  fill="rgb(84 46 99)">!</text><text x="534" y="505"  fill="rgb(83 46 100)">=</text><text x="537" y="505"  fill="rgb(80 44 97)">=</text><text x="540" y="505"  fill="rgb(75 40 92)"> </text><text x="543" y="505"  fill="rgb(76 40 91)">2</text><text x="546" y="505"  fill="rgb(75 40 92)">)</text><text x="549" y="505"  fill="rgb(73 36 91)"> </text><text x="552" y="505"  fill="rgb(80 47 95)">{</text><text x="555" y="505"  fill="rgb(91 68 101)"> </text><text x="558" y="505"  fill="rgb(89 65 100)">t</text><text x="561" y="505"  fill="rgb(87 63 98)">h</text><text x="564" y="505"  fill="rgb(88 63 99)">r</text><text x="567" y="505"  fill="rgb(97 72 108)">o</text><text x="570" y="505"  fill="rgb(98 74 110)">w</text><text x="573" y="505"  fill="rgb(98 73 109)"> </text><text x="576" y="505"  fill="rgb(97 73 110)">ne</text><text x="582" y="505"  fill="rgb(97 72 110)">w</text><text x="585" y="505"  fill="rgb(97 71 109)"> </text><text x="588" y="505"  fill="rgb(94 70 107)">I</text><text x="591" y="505"  fill="rgb(99 73 111)">n</text><text x="594" y="505"  fill="rgb(107 81 119)">si</text><text x="600" y="505"  fill="rgb(105 79 118)">g</text><text x="603" y="505"  fill="rgb(105 78 117)">ht</text><text x="609" y="505"  fill="rgb(104 76 117)">E</text><text x="612" y="505"  fill="rgb(104 76 116)">r</text><text x="615" y="505"  fill="rgb(103 75 116)">ro</text><text x="621" y="505"  fill="rgb(101 73 116)">r</text><text x="624" y="505"  fill="rgb(101 73 115)">(</text><text x="627" y="505"  fill="rgb(101 72 114)">);</text><text x="633" y="505"  fill="rgb(100 71 114)"> }</text><text x="639" y="505"  fill="rgb(99 70 113)"> </text><text x="642" y="505"  fill="rgb(99 69 113)">i</text><text x="645" y="505"  fill="rgb(99 67 113)">f</text><text x="648" y="505"  fill="rgb(97 66 112)"> (</text><text x="654" y="505"  fill="rgb(97 65 112)">th</text><text x="660" y="505"  fill="rgb(96 64 111)">is</text><text x="666" y="505"  fill="rgb(95 63 110)">.m</text><text x="672" y="505"  fill="rgb(94 62 110)">to</text><text x="678" y="505"  fill="rgb(93 61 110)">ke</text><text x="684" y="505"  fill="rgb(93 60 109)">n</text><text x="687" y="505"  fill="rgb(92 60 109)">.</text><text x="690" y="505"  fill="rgb(92 59 109)">i</text><text x="693" y="505"  fill="rgb(91 58 109)">n</text><text x="696" y="505"  fill="rgb(90 57 108)">c</text><text x="699" y="505"  fill="rgb(89 56 107)">l</text><text x="702" y="505"  fill="rgb(102 70 117)">u</text><text x="705" y="505"  fill="rgb(111 80 125)">d</text><text x="708" y="505"  fill="rgb(109 77 124)">e</text><text x="711" y="505"  fill="rgb(108 75 124)">s</text><text x="714" y="505"  fill="rgb(107 74 123)">(a</text><text x="720" y="505"  fill="rgb(109 75 125)">p</text><text x="723" y="505"  fill="rgb(108 75 124)">p</text><text x="726" y="505"  fill="rgb(98 67 115)">l</text><text x="729" y="505"  fill="rgb(79 44 96)">y</text><text x="732" y="505"  fill="rgb(75 40 92)">t</text><text x="735" y="505"  fill="rgb(121 96 133)">o</text><text x="738" y="505"  fill="rgb(190 182 194)">k</text><text x="741" y="505"  fill="rgb(229 229 227)">e</text><text x="744" y="505"  fill="rgb(223 223 223)">n</text><text x="747" y="505"  fill="rgb(208 205 210)">)</text><text x="750" y="505"  fill="rgb(206 202 208)">)</text><text x="753" y="505"  fill="rgb(208 205 210)"> {</text><text x="759" y="505"  fill="rgb(207 204 209)"> </text><text x="762" y="505"  fill="rgb(203 198 204)">i</text><text x="765" y="505"  fill="rgb(213 208 214)">f</text><text x="768" y="505"  fill="rgb(238 237 238)"> </text><text x="771" y="505"  fill="rgb(249 250 249)">(</text><text x="774" y="505"  fill="rgb(246 246 246)">!</text><text x="777" y="505"  fill="rgb(245 245 245)">(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(a</text><text x="0" y="510"  fill="rgb(245 245 245)">pplytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])</text><text x="348" y="510"  fill="rgb(247 248 247)">)</text><text x="351" y="510"  fill="rgb(244 244 245)">)</text><text x="354" y="510"  fill="rgb(183 171 190)">)</text><text x="357" y="510"  fill="rgb(149 130 157)"> </text><text x="360" y="510"  fill="rgb(156 138 163)">{</text><text x="363" y="510"  fill="rgb(157 140 164)"> </text><text x="366" y="510"  fill="rgb(158 141 165)">t</text><text x="369" y="510"  fill="rgb(159 142 165)">hro</text><text x="378" y="510"  fill="rgb(159 143 165)">w</text><text x="381" y="510"  fill="rgb(159 144 165)"> </text><text x="384" y="510"  fill="rgb(159 144 166)">n</text><text x="387" y="510"  fill="rgb(159 143 165)">e</text><text x="390" y="510"  fill="rgb(160 145 166)">w</text><text x="393" y="510"  fill="rgb(160 146 166)"> </text><text x="396" y="510"  fill="rgb(160 146 167)">I</text><text x="399" y="510"  fill="rgb(160 145 166)">n</text><text x="402" y="510"  fill="rgb(178 166 184)">s</text><text x="405" y="510"  fill="rgb(187 177 193)">i</text><text x="408" y="510"  fill="rgb(199 192 203)">g</text><text x="411" y="510"  fill="rgb(161 145 169)">h</text><text x="414" y="510"  fill="rgb(76 38 97)">t</text><text x="417" y="510"  fill="rgb(69 28 90)">E</text><text x="420" y="510"  fill="rgb(67 27 89)">r</text><text x="423" y="510"  fill="rgb(68 27 89)">ror</text><text x="432" y="510"  fill="rgb(69 27 89)">(</text><text x="435" y="510"  fill="rgb(69 28 89)">)</text><text x="438" y="510"  fill="rgb(69 29 88)">;</text><text x="441" y="510"  fill="rgb(68 30 89)"> </text><text x="444" y="510"  fill="rgb(68 30 88)">} </text><text x="450" y="510"  fill="rgb(68 31 88)">}</text><text x="453" y="510"  fill="rgb(68 30 88)"> </text><text x="456" y="510"  fill="rgb(68 30 87)">}</text><text x="459" y="510"  fill="rgb(68 30 88)"> </text><text x="462" y="510"  fill="rgb(64 25 85)">}</text><text x="465" y="510"  fill="rgb(69 31 87)"> </text><text x="468" y="510"  fill="rgb(106 84 114)">p</text><text x="471" y="510"  fill="rgb(113 93 121)">u</text><text x="474" y="510"  fill="rgb(107 85 117)">b</text><text x="477" y="510"  fill="rgb(108 86 117)">li</text><text x="483" y="510"  fill="rgb(107 86 115)">c</text><text x="486" y="510"  fill="rgb(107 86 116)"> </text><text x="489" y="510"  fill="rgb(107 85 115)">va</text><text x="495" y="510"  fill="rgb(107 86 116)">l</text><text x="498" y="510"  fill="rgb(93 67 106)">i</text><text x="501" y="510"  fill="rgb(84 52 98)">d</text><text x="504" y="510"  fill="rgb(86 55 100)">a</text><text x="507" y="510"  fill="rgb(86 54 100)">t</text><text x="510" y="510"  fill="rgb(86 54 101)">e</text><text x="513" y="510"  fill="rgb(84 51 100)">O</text><text x="516" y="510"  fill="rgb(85 51 100)">p</text><text x="519" y="510"  fill="rgb(84 51 101)">t</text><text x="522" y="510"  fill="rgb(85 50 101)">i</text><text x="525" y="510"  fill="rgb(84 48 100)">o</text><text x="528" y="510"  fill="rgb(84 48 101)">n</text><text x="531" y="510"  fill="rgb(83 47 101)">s</text><text x="534" y="510"  fill="rgb(83 46 102)">(</text><text x="537" y="510"  fill="rgb(78 42 96)">q</text><text x="540" y="510"  fill="rgb(75 41 92)">:</text><text x="543" y="510"  fill="rgb(76 40 92)"> </text><text x="546" y="510"  fill="rgb(76 39 93)">a</text><text x="549" y="510"  fill="rgb(74 37 92)">n</text><text x="552" y="510"  fill="rgb(86 58 98)">y</text><text x="555" y="510"  fill="rgb(91 69 101)">)</text><text x="558" y="510"  fill="rgb(90 67 101)">:</text><text x="561" y="510"  fill="rgb(87 64 99)"> </text><text x="564" y="510"  fill="rgb(95 70 105)">v</text><text x="567" y="510"  fill="rgb(100 76 112)">o</text><text x="570" y="510"  fill="rgb(98 74 109)">i</text><text x="573" y="510"  fill="rgb(98 75 110)">d</text><text x="576" y="510"  fill="rgb(98 73 109)"> </text><text x="579" y="510"  fill="rgb(98 74 110)">{ </text><text x="585" y="510"  fill="rgb(98 73 109)">l</text><text x="588" y="510"  fill="rgb(97 71 109)">et</text><text x="594" y="510"  fill="rgb(106 80 118)"> </text><text x="597" y="510"  fill="rgb(108 82 120)">k</text><text x="600" y="510"  fill="rgb(107 81 119)">e</text><text x="603" y="510"  fill="rgb(105 80 119)">y</text><text x="606" y="510"  fill="rgb(106 79 117)">s</text><text x="609" y="510"  fill="rgb(105 78 117)">: </text><text x="615" y="510"  fill="rgb(105 77 117)">a</text><text x="618" y="510"  fill="rgb(105 76 117)">n</text><text x="621" y="510"  fill="rgb(103 75 116)">y</text><text x="624" y="510"  fill="rgb(102 74 115)">[</text><text x="627" y="510"  fill="rgb(102 74 116)">]</text><text x="630" y="510"  fill="rgb(101 74 116)"> </text><text x="633" y="510"  fill="rgb(101 72 114)">=</text><text x="636" y="510"  fill="rgb(101 71 114)"> </text><text x="639" y="510"  fill="rgb(101 72 114)">O</text><text x="642" y="510"  fill="rgb(100 71 114)">b</text><text x="645" y="510"  fill="rgb(101 70 114)">j</text><text x="648" y="510"  fill="rgb(99 70 113)">e</text><text x="651" y="510"  fill="rgb(99 69 113)">c</text><text x="654" y="510"  fill="rgb(97 66 111)">t</text><text x="657" y="510"  fill="rgb(97 66 112)">.</text><text x="660" y="510"  fill="rgb(97 65 112)">key</text><text x="669" y="510"  fill="rgb(96 64 111)">s</text><text x="672" y="510"  fill="rgb(96 64 110)">(</text><text x="675" y="510"  fill="rgb(95 63 110)">q)</text><text x="681" y="510"  fill="rgb(93 61 110)">;</text><text x="684" y="510"  fill="rgb(93 62 110)"> </text><text x="687" y="510"  fill="rgb(93 61 110)">for</text><text x="696" y="510"  fill="rgb(92 59 109)"> </text><text x="699" y="510"  fill="rgb(90 57 108)">(</text><text x="702" y="510"  fill="rgb(100 69 118)">l</text><text x="705" y="510"  fill="rgb(111 81 127)">e</text><text x="708" y="510"  fill="rgb(110 78 124)">t </text><text x="714" y="510"  fill="rgb(110 77 124)">k</text><text x="717" y="510"  fill="rgb(109 76 124)">e</text><text x="720" y="510"  fill="rgb(108 75 124)">y </text><text x="726" y="510"  fill="rgb(109 76 124)">o</text><text x="729" y="510"  fill="rgb(106 74 121)">f</text><text x="732" y="510"  fill="rgb(91 59 107)"> </text><text x="735" y="510"  fill="rgb(73 37 90)">k</text><text x="738" y="510"  fill="rgb(81 46 97)">e</text><text x="741" y="510"  fill="rgb(140 120 149)">y</text><text x="744" y="510"  fill="rgb(209 203 210)">s</text><text x="747" y="510"  fill="rgb(228 227 227)">)</text><text x="750" y="510"  fill="rgb(215 212 215)"> </text><text x="753" y="510"  fill="rgb(205 201 207)">{</text><text x="756" y="510"  fill="rgb(207 203 209)"> </text><text x="759" y="510"  fill="rgb(208 204 209)">if</text><text x="765" y="510"  fill="rgb(203 197 204)"> </text><text x="768" y="510"  fill="rgb(206 202 208)">(</text><text x="771" y="510"  fill="rgb(233 231 233)">k</text><text x="774" y="510"  fill="rgb(249 250 249)">e</text><text x="777" y="510"  fill="rgb(246 246 246)">y</text><text x="780" y="510"  fill="rgb(245 245 245)"> !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateO</text><text x="0" y="515"  fill="rgb(245 245 245)">rder(q.ORDER); } } private validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for</text><text x="348" y="515"  fill="rgb(254 255 253)"> </text><text x="351" y="515"  fill="rgb(211 204 215)">(</text><text x="354" y="515"  fill="rgb(150 132 159)">l</text><text x="357" y="515"  fill="rgb(152 133 158)">e</text><text x="360" y="515"  fill="rgb(156 139 163)">t m</text><text x="369" y="515"  fill="rgb(157 140 163)">s</text><text x="372" y="515"  fill="rgb(157 140 164)">k</text><text x="375" y="515"  fill="rgb(158 141 164)">ey</text><text x="381" y="515"  fill="rgb(158 142 164)"> </text><text x="384" y="515"  fill="rgb(158 142 165)">of</text><text x="390" y="515"  fill="rgb(159 143 165)"> </text><text x="393" y="515"  fill="rgb(159 144 165)">q</text><text x="396" y="515"  fill="rgb(159 145 166)">)</text><text x="399" y="515"  fill="rgb(158 143 164)"> </text><text x="402" y="515"  fill="rgb(173 160 180)">{</text><text x="405" y="515"  fill="rgb(188 177 194)"> </text><text x="408" y="515"  fill="rgb(201 194 205)">i</text><text x="411" y="515"  fill="rgb(136 113 148)">f</text><text x="414" y="515"  fill="rgb(68 27 88)"> </text><text x="417" y="515"  fill="rgb(71 30 91)">(</text><text x="420" y="515"  fill="rgb(68 27 88)">t</text><text x="423" y="515"  fill="rgb(68 29 89)">h</text><text x="426" y="515"  fill="rgb(69 29 89)">is</text><text x="432" y="515"  fill="rgb(69 29 88)">.</text><text x="435" y="515"  fill="rgb(68 30 88)">t</text><text x="438" y="515"  fill="rgb(69 30 88)">r</text><text x="441" y="515"  fill="rgb(68 30 88)">a</text><text x="444" y="515"  fill="rgb(69 31 88)">n</text><text x="447" y="515"  fill="rgb(69 31 87)">sf</text><text x="453" y="515"  fill="rgb(69 31 88)">o</text><text x="456" y="515"  fill="rgb(68 31 87)">r</text><text x="459" y="515"  fill="rgb(69 31 87)">m</text><text x="462" y="515"  fill="rgb(69 31 88)">a</text><text x="465" y="515"  fill="rgb(62 21 83)">t</text><text x="468" y="515"  fill="rgb(77 42 94)">i</text><text x="471" y="515"  fill="rgb(112 93 121)">o</text><text x="474" y="515"  fill="rgb(112 91 120)">n</text><text x="477" y="515"  fill="rgb(108 86 118)">K</text><text x="480" y="515"  fill="rgb(108 87 118)">e</text><text x="483" y="515"  fill="rgb(108 86 117)">y.</text><text x="489" y="515"  fill="rgb(107 87 116)">le</text><text x="495" y="515"  fill="rgb(109 89 117)">n</text><text x="498" y="515"  fill="rgb(100 75 111)">g</text><text x="501" y="515"  fill="rgb(84 53 100)">t</text><text x="504" y="515"  fill="rgb(85 54 100)">h</text><text x="507" y="515"  fill="rgb(86 54 100)"> </text><text x="510" y="515"  fill="rgb(86 53 101)">&gt;</text><text x="513" y="515"  fill="rgb(86 52 101)"> </text><text x="516" y="515"  fill="rgb(85 51 101)">0</text><text x="519" y="515"  fill="rgb(86 50 101)">)</text><text x="522" y="515"  fill="rgb(85 49 102)"> </text><text x="525" y="515"  fill="rgb(85 49 101)">{</text><text x="528" y="515"  fill="rgb(83 48 101)"> </text><text x="531" y="515"  fill="rgb(84 48 102)">i</text><text x="534" y="515"  fill="rgb(83 46 101)">f</text><text x="537" y="515"  fill="rgb(77 42 94)"> </text><text x="540" y="515"  fill="rgb(76 41 93)">(!</text><text x="546" y="515"  fill="rgb(74 37 93)">t</text><text x="549" y="515"  fill="rgb(78 43 94)">h</text><text x="552" y="515"  fill="rgb(91 67 101)">i</text><text x="555" y="515"  fill="rgb(91 68 102)">s</text><text x="558" y="515"  fill="rgb(89 66 101)">.</text><text x="561" y="515"  fill="rgb(91 68 101)">t</text><text x="564" y="515"  fill="rgb(100 78 110)">r</text><text x="567" y="515"  fill="rgb(102 79 112)">a</text><text x="570" y="515"  fill="rgb(100 76 110)">ns</text><text x="576" y="515"  fill="rgb(99 75 110)">f</text><text x="579" y="515"  fill="rgb(99 74 110)">or</text><text x="585" y="515"  fill="rgb(98 73 109)">m</text><text x="588" y="515"  fill="rgb(98 75 110)">a</text><text x="591" y="515"  fill="rgb(97 73 109)">t</text><text x="594" y="515"  fill="rgb(105 80 116)">i</text><text x="597" y="515"  fill="rgb(109 83 121)">o</text><text x="600" y="515"  fill="rgb(108 82 119)">n</text><text x="603" y="515"  fill="rgb(107 81 119)">K</text><text x="606" y="515"  fill="rgb(106 80 119)">ey</text><text x="612" y="515"  fill="rgb(106 79 118)">.</text><text x="615" y="515"  fill="rgb(105 79 118)">i</text><text x="618" y="515"  fill="rgb(105 77 117)">nc</text><text x="624" y="515"  fill="rgb(105 76 118)">l</text><text x="627" y="515"  fill="rgb(104 76 117)">u</text><text x="630" y="515"  fill="rgb(103 75 116)">d</text><text x="633" y="515"  fill="rgb(102 74 116)">e</text><text x="636" y="515"  fill="rgb(101 73 115)">s(</text><text x="642" y="515"  fill="rgb(101 72 114)">msk</text><text x="651" y="515"  fill="rgb(100 70 114)">e</text><text x="654" y="515"  fill="rgb(99 70 114)">y</text><text x="657" y="515"  fill="rgb(99 69 113)">)</text><text x="660" y="515"  fill="rgb(98 67 113)">)</text><text x="663" y="515"  fill="rgb(98 66 111)"> </text><text x="666" y="515"  fill="rgb(97 66 111)">{</text><text x="669" y="515"  fill="rgb(97 65 112)"> t</text><text x="675" y="515"  fill="rgb(96 64 111)">h</text><text x="678" y="515"  fill="rgb(95 64 110)">r</text><text x="681" y="515"  fill="rgb(95 63 110)">ow</text><text x="687" y="515"  fill="rgb(94 62 110)"> n</text><text x="693" y="515"  fill="rgb(94 61 110)">e</text><text x="696" y="515"  fill="rgb(93 61 110)">w</text><text x="699" y="515"  fill="rgb(92 59 108)"> </text><text x="702" y="515"  fill="rgb(101 69 117)">I</text><text x="705" y="515"  fill="rgb(112 83 128)">n</text><text x="708" y="515"  fill="rgb(110 81 126)">s</text><text x="711" y="515"  fill="rgb(110 80 126)">i</text><text x="714" y="515"  fill="rgb(110 79 125)">gh</text><text x="720" y="515"  fill="rgb(110 78 124)">t</text><text x="723" y="515"  fill="rgb(109 77 124)">E</text><text x="726" y="515"  fill="rgb(108 76 124)">r</text><text x="729" y="515"  fill="rgb(109 77 125)">r</text><text x="732" y="515"  fill="rgb(108 75 124)">o</text><text x="735" y="515"  fill="rgb(99 68 115)">r</text><text x="738" y="515"  fill="rgb(82 49 100)">(</text><text x="741" y="515"  fill="rgb(71 35 91)">)</text><text x="744" y="515"  fill="rgb(95 63 111)">;</text><text x="747" y="515"  fill="rgb(156 139 164)"> </text><text x="750" y="515"  fill="rgb(213 209 214)">}</text><text x="753" y="515"  fill="rgb(224 223 225)"> </text><text x="756" y="515"  fill="rgb(211 207 212)">}</text><text x="759" y="515"  fill="rgb(207 201 207)"> </text><text x="762" y="515"  fill="rgb(207 202 208)">e</text><text x="765" y="515"  fill="rgb(208 203 209)">l</text><text x="768" y="515"  fill="rgb(203 198 205)">s</text><text x="771" y="515"  fill="rgb(202 196 204)">e</text><text x="774" y="515"  fill="rgb(227 223 227)"> </text><text x="777" y="515"  fill="rgb(248 247 248)">{</text><text x="780" y="515"  fill="rgb(247 247 246)"> </text><text x="783" y="515"  fill="rgb(245 245 245)">this.validateKey(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)) { throw</text><text x="0" y="520"  fill="rgb(245 245 245)"> new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightErro</text><text x="345" y="520"  fill="rgb(251 253 251)">r</text><text x="348" y="520"  fill="rgb(238 236 239)">(</text><text x="351" y="520"  fill="rgb(169 153 176)">)</text><text x="354" y="520"  fill="rgb(145 126 153)">;</text><text x="357" y="520"  fill="rgb(154 136 162)"> </text><text x="360" y="520"  fill="rgb(155 138 162)">}</text><text x="363" y="520"  fill="rgb(155 137 162)"> </text><text x="366" y="520"  fill="rgb(155 138 163)">}</text><text x="369" y="520"  fill="rgb(156 139 163)"> e</text><text x="375" y="520"  fill="rgb(157 140 164)">lse </text><text x="387" y="520"  fill="rgb(157 141 164)">{ </text><text x="393" y="520"  fill="rgb(158 142 165)">i</text><text x="396" y="520"  fill="rgb(159 143 165)">f</text><text x="399" y="520"  fill="rgb(157 142 164)"> </text><text x="402" y="520"  fill="rgb(167 153 174)">(</text><text x="405" y="520"  fill="rgb(192 181 196)">!</text><text x="408" y="520"  fill="rgb(195 187 199)">q</text><text x="411" y="520"  fill="rgb(112 82 127)">.</text><text x="414" y="520"  fill="rgb(67 24 87)">d</text><text x="417" y="520"  fill="rgb(71 31 91)">i</text><text x="420" y="520"  fill="rgb(68 29 89)">r</text><text x="423" y="520"  fill="rgb(69 30 89)"> </text><text x="426" y="520"  fill="rgb(69 30 88)">|| </text><text x="435" y="520"  fill="rgb(69 31 89)">!</text><text x="438" y="520"  fill="rgb(68 30 88)">q</text><text x="441" y="520"  fill="rgb(69 31 89)">.</text><text x="444" y="520"  fill="rgb(69 31 87)">k</text><text x="447" y="520"  fill="rgb(69 32 87)">e</text><text x="450" y="520"  fill="rgb(70 32 88)">ys</text><text x="456" y="520"  fill="rgb(69 32 88)"> </text><text x="459" y="520"  fill="rgb(69 32 87)">||</text><text x="465" y="520"  fill="rgb(68 30 86)"> </text><text x="468" y="520"  fill="rgb(62 21 83)">O</text><text x="471" y="520"  fill="rgb(89 59 102)">b</text><text x="474" y="520"  fill="rgb(116 98 123)">j</text><text x="477" y="520"  fill="rgb(111 90 120)">e</text><text x="480" y="520"  fill="rgb(108 87 118)">c</text><text x="483" y="520"  fill="rgb(109 87 118)">t</text><text x="486" y="520"  fill="rgb(108 86 117)">.k</text><text x="492" y="520"  fill="rgb(108 87 117)">e</text><text x="495" y="520"  fill="rgb(111 90 119)">y</text><text x="498" y="520"  fill="rgb(106 84 115)">s</text><text x="501" y="520"  fill="rgb(87 58 102)">(</text><text x="504" y="520"  fill="rgb(85 54 101)">q</text><text x="507" y="520"  fill="rgb(86 54 102)">)</text><text x="510" y="520"  fill="rgb(86 53 102)">.l</text><text x="516" y="520"  fill="rgb(86 51 101)">e</text><text x="519" y="520"  fill="rgb(86 50 101)">ng</text><text x="525" y="520"  fill="rgb(85 49 101)">t</text><text x="528" y="520"  fill="rgb(84 47 101)">h</text><text x="531" y="520"  fill="rgb(84 47 103)"> </text><text x="534" y="520"  fill="rgb(81 45 98)">!</text><text x="537" y="520"  fill="rgb(76 42 92)">=</text><text x="540" y="520"  fill="rgb(77 41 93)">=</text><text x="543" y="520"  fill="rgb(76 41 93)"> </text><text x="546" y="520"  fill="rgb(74 36 94)">2</text><text x="549" y="520"  fill="rgb(84 55 98)">)</text><text x="552" y="520"  fill="rgb(94 73 103)"> </text><text x="555" y="520"  fill="rgb(93 70 103)">{</text><text x="558" y="520"  fill="rgb(90 67 101)"> </text><text x="561" y="520"  fill="rgb(97 74 107)">t</text><text x="564" y="520"  fill="rgb(103 81 112)">h</text><text x="567" y="520"  fill="rgb(102 78 110)">r</text><text x="570" y="520"  fill="rgb(101 78 110)">ow</text><text x="576" y="520"  fill="rgb(100 76 110)"> ne</text><text x="585" y="520"  fill="rgb(100 75 110)">w</text><text x="588" y="520"  fill="rgb(98 75 110)"> </text><text x="591" y="520"  fill="rgb(97 74 109)">I</text><text x="594" y="520"  fill="rgb(103 80 114)">n</text><text x="597" y="520"  fill="rgb(110 86 122)">s</text><text x="600" y="520"  fill="rgb(109 84 121)">i</text><text x="603" y="520"  fill="rgb(109 82 119)">g</text><text x="606" y="520"  fill="rgb(108 82 119)">h</text><text x="609" y="520"  fill="rgb(107 81 119)">tE</text><text x="615" y="520"  fill="rgb(106 80 119)">r</text><text x="618" y="520"  fill="rgb(105 80 119)">r</text><text x="621" y="520"  fill="rgb(106 79 118)">o</text><text x="624" y="520"  fill="rgb(105 78 117)">r(</text><text x="630" y="520"  fill="rgb(105 77 117)">);</text><text x="636" y="520"  fill="rgb(103 75 116)"> </text><text x="639" y="520"  fill="rgb(102 74 115)">}</text><text x="642" y="520"  fill="rgb(102 74 116)"> </text><text x="645" y="520"  fill="rgb(101 73 115)">if</text><text x="651" y="520"  fill="rgb(101 72 114)"> (</text><text x="657" y="520"  fill="rgb(100 71 114)">q</text><text x="660" y="520"  fill="rgb(100 70 114)">.</text><text x="663" y="520"  fill="rgb(100 70 113)">d</text><text x="666" y="520"  fill="rgb(99 68 112)">i</text><text x="669" y="520"  fill="rgb(97 66 112)">r</text><text x="672" y="520"  fill="rgb(97 65 112)"> !==</text><text x="684" y="520"  fill="rgb(96 64 111)"> </text><text x="687" y="520"  fill="rgb(95 63 110)">&quot;UP</text><text x="696" y="520"  fill="rgb(94 62 110)">&quot;</text><text x="699" y="520"  fill="rgb(92 60 109)"> </text><text x="702" y="520"  fill="rgb(100 69 115)">&amp;</text><text x="705" y="520"  fill="rgb(113 84 128)">&amp;</text><text x="708" y="520"  fill="rgb(112 83 127)"> </text><text x="711" y="520"  fill="rgb(111 82 126)">q</text><text x="714" y="520"  fill="rgb(110 81 126)">.d</text><text x="720" y="520"  fill="rgb(110 80 126)">i</text><text x="723" y="520"  fill="rgb(110 79 125)">r</text><text x="726" y="520"  fill="rgb(110 78 124)"> !</text><text x="732" y="520"  fill="rgb(111 78 126)">=</text><text x="735" y="520"  fill="rgb(108 76 124)">=</text><text x="738" y="520"  fill="rgb(102 70 116)"> </text><text x="741" y="520"  fill="rgb(90 58 106)">&quot;</text><text x="744" y="520"  fill="rgb(76 42 94)">D</text><text x="747" y="520"  fill="rgb(74 38 92)">O</text><text x="750" y="520"  fill="rgb(109 83 124)">W</text><text x="753" y="520"  fill="rgb(172 158 178)">N</text><text x="756" y="520"  fill="rgb(217 214 217)">&quot;</text><text x="759" y="520"  fill="rgb(221 219 221)">)</text><text x="762" y="520"  fill="rgb(210 206 211)"> </text><text x="765" y="520"  fill="rgb(206 200 208)">{</text><text x="768" y="520"  fill="rgb(206 201 208)"> </text><text x="771" y="520"  fill="rgb(203 198 205)">t</text><text x="774" y="520"  fill="rgb(200 195 203)">h</text><text x="777" y="520"  fill="rgb(220 216 221)">r</text><text x="780" y="520"  fill="rgb(244 244 244)">o</text><text x="783" y="520"  fill="rgb(248 248 247)">w</text><text x="786" y="520"  fill="rgb(245 245 245)"> new InsightError(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (</text><text x="0" y="525"  fill="rgb(245 245 245)">let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateW</text><text x="342" y="525"  fill="rgb(247 248 246)">h</text><text x="345" y="525"  fill="rgb(252 254 252)">e</text><text x="348" y="525"  fill="rgb(202 192 207)">r</text><text x="351" y="525"  fill="rgb(145 124 154)">e</text><text x="354" y="525"  fill="rgb(151 133 159)">(</text><text x="357" y="525"  fill="rgb(154 136 162)">q</text><text x="360" y="525"  fill="rgb(155 137 162)">: an</text><text x="372" y="525"  fill="rgb(155 138 163)">y)</text><text x="378" y="525"  fill="rgb(156 139 163)">:</text><text x="381" y="525"  fill="rgb(157 140 164)"> v</text><text x="387" y="525"  fill="rgb(157 141 164)">oid</text><text x="396" y="525"  fill="rgb(158 142 165)"> </text><text x="399" y="525"  fill="rgb(156 140 163)">{</text><text x="402" y="525"  fill="rgb(161 146 168)"> </text><text x="405" y="525"  fill="rgb(194 184 198)">i</text><text x="408" y="525"  fill="rgb(183 170 188)">f</text><text x="411" y="525"  fill="rgb(92 58 110)"> </text><text x="414" y="525"  fill="rgb(69 28 90)">(</text><text x="417" y="525"  fill="rgb(71 32 91)">A</text><text x="420" y="525"  fill="rgb(68 29 88)">r</text><text x="423" y="525"  fill="rgb(70 30 88)">r</text><text x="426" y="525"  fill="rgb(70 31 89)">a</text><text x="429" y="525"  fill="rgb(69 31 89)">y.is</text><text x="441" y="525"  fill="rgb(69 31 88)">A</text><text x="444" y="525"  fill="rgb(69 31 89)">r</text><text x="447" y="525"  fill="rgb(70 32 89)">r</text><text x="450" y="525"  fill="rgb(70 32 88)">a</text><text x="453" y="525"  fill="rgb(71 32 89)">y</text><text x="456" y="525"  fill="rgb(71 32 87)">(</text><text x="459" y="525"  fill="rgb(70 33 88)">q</text><text x="462" y="525"  fill="rgb(69 32 87)">)</text><text x="465" y="525"  fill="rgb(70 33 88)">)</text><text x="468" y="525"  fill="rgb(68 29 86)"> </text><text x="471" y="525"  fill="rgb(66 27 85)">{</text><text x="474" y="525"  fill="rgb(100 75 111)"> </text><text x="477" y="525"  fill="rgb(117 99 124)">t</text><text x="480" y="525"  fill="rgb(110 89 119)">h</text><text x="483" y="525"  fill="rgb(109 88 118)">ro</text><text x="489" y="525"  fill="rgb(109 87 118)">w </text><text x="495" y="525"  fill="rgb(110 90 119)">n</text><text x="498" y="525"  fill="rgb(110 89 117)">e</text><text x="501" y="525"  fill="rgb(93 65 106)">w</text><text x="504" y="525"  fill="rgb(84 52 101)"> </text><text x="507" y="525"  fill="rgb(86 54 102)">I</text><text x="510" y="525"  fill="rgb(86 53 102)">n</text><text x="513" y="525"  fill="rgb(86 52 102)">s</text><text x="516" y="525"  fill="rgb(86 51 102)">i</text><text x="519" y="525"  fill="rgb(86 50 101)">gh</text><text x="525" y="525"  fill="rgb(85 49 101)">t</text><text x="528" y="525"  fill="rgb(85 49 102)">E</text><text x="531" y="525"  fill="rgb(84 48 103)">r</text><text x="534" y="525"  fill="rgb(80 44 98)">r</text><text x="537" y="525"  fill="rgb(77 42 93)">o</text><text x="540" y="525"  fill="rgb(76 41 93)">r</text><text x="543" y="525"  fill="rgb(75 39 93)">(</text><text x="546" y="525"  fill="rgb(75 38 93)">)</text><text x="549" y="525"  fill="rgb(90 66 102)">;</text><text x="552" y="525"  fill="rgb(95 75 105)"> </text><text x="555" y="525"  fill="rgb(92 70 102)">}</text><text x="558" y="525"  fill="rgb(94 72 104)"> </text><text x="561" y="525"  fill="rgb(102 79 112)">e</text><text x="564" y="525"  fill="rgb(103 81 113)">l</text><text x="567" y="525"  fill="rgb(102 80 111)">s</text><text x="570" y="525"  fill="rgb(102 79 111)">e</text><text x="573" y="525"  fill="rgb(101 78 110)"> </text><text x="576" y="525"  fill="rgb(102 77 110)">{</text><text x="579" y="525"  fill="rgb(101 77 110)"> </text><text x="582" y="525"  fill="rgb(100 76 110)">if </text><text x="591" y="525"  fill="rgb(98 74 109)">(</text><text x="594" y="525"  fill="rgb(101 78 113)">O</text><text x="597" y="525"  fill="rgb(110 86 122)">bj</text><text x="603" y="525"  fill="rgb(109 85 121)">e</text><text x="606" y="525"  fill="rgb(109 83 121)">c</text><text x="609" y="525"  fill="rgb(108 82 119)">t</text><text x="612" y="525"  fill="rgb(107 81 119)">.ke</text><text x="621" y="525"  fill="rgb(106 81 119)">y</text><text x="624" y="525"  fill="rgb(105 79 118)">s</text><text x="627" y="525"  fill="rgb(105 78 118)">(</text><text x="630" y="525"  fill="rgb(105 78 117)">q</text><text x="633" y="525"  fill="rgb(105 77 117)">).</text><text x="639" y="525"  fill="rgb(103 75 116)">le</text><text x="645" y="525"  fill="rgb(102 74 115)">n</text><text x="648" y="525"  fill="rgb(101 73 115)">g</text><text x="651" y="525"  fill="rgb(101 72 114)">th </text><text x="660" y="525"  fill="rgb(100 71 114)">!=</text><text x="666" y="525"  fill="rgb(99 70 114)">=</text><text x="669" y="525"  fill="rgb(99 69 113)"> </text><text x="672" y="525"  fill="rgb(98 68 112)">0</text><text x="675" y="525"  fill="rgb(97 66 112)">) </text><text x="681" y="525"  fill="rgb(97 65 112)">{ </text><text x="687" y="525"  fill="rgb(96 64 111)">th</text><text x="693" y="525"  fill="rgb(95 63 110)">is</text><text x="699" y="525"  fill="rgb(93 61 109)">.</text><text x="702" y="525"  fill="rgb(99 68 114)">v</text><text x="705" y="525"  fill="rgb(114 86 128)">a</text><text x="708" y="525"  fill="rgb(113 84 128)">l</text><text x="711" y="525"  fill="rgb(112 83 127)">i</text><text x="714" y="525"  fill="rgb(111 82 126)">d</text><text x="717" y="525"  fill="rgb(110 81 126)">at</text><text x="723" y="525"  fill="rgb(110 80 126)">e</text><text x="726" y="525"  fill="rgb(110 79 125)">F</text><text x="729" y="525"  fill="rgb(110 78 124)">i</text><text x="732" y="525"  fill="rgb(110 79 124)">l</text><text x="735" y="525"  fill="rgb(111 78 126)">t</text><text x="738" y="525"  fill="rgb(110 77 125)">e</text><text x="741" y="525"  fill="rgb(102 70 117)">r</text><text x="744" y="525"  fill="rgb(93 62 109)">(</text><text x="747" y="525"  fill="rgb(89 57 106)">q</text><text x="750" y="525"  fill="rgb(79 44 96)">)</text><text x="753" y="525"  fill="rgb(82 47 99)">;</text><text x="756" y="525"  fill="rgb(125 101 136)"> </text><text x="759" y="525"  fill="rgb(186 176 190)">}</text><text x="762" y="525"  fill="rgb(222 220 222)"> </text><text x="765" y="525"  fill="rgb(220 219 221)">}</text><text x="768" y="525"  fill="rgb(208 204 210)"> </text><text x="771" y="525"  fill="rgb(203 197 206)">}</text><text x="774" y="525"  fill="rgb(202 197 205)"> </text><text x="777" y="525"  fill="rgb(200 194 203)">p</text><text x="780" y="525"  fill="rgb(213 210 216)">r</text><text x="783" y="525"  fill="rgb(242 240 242)">i</text><text x="786" y="525"  fill="rgb(249 250 249)">v</text><text x="789" y="525"  fill="rgb(246 246 245)">a</text><text x="792" y="525"  fill="rgb(245 245 245)">te validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Obj</text><text x="0" y="530"  fill="rgb(245 245 245)">ect.keys(q)[0]; let value: any = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(val</text><text x="342" y="530"  fill="rgb(251 252 250)">u</text><text x="345" y="530"  fill="rgb(234 232 236)">e</text><text x="348" y="530"  fill="rgb(160 142 169)">)</text><text x="351" y="530"  fill="rgb(146 126 154)">;</text><text x="354" y="530"  fill="rgb(153 135 161)"> br</text><text x="363" y="530"  fill="rgb(153 136 161)">e</text><text x="366" y="530"  fill="rgb(154 136 162)">ak</text><text x="372" y="530"  fill="rgb(155 137 162)">; c</text><text x="381" y="530"  fill="rgb(155 138 162)">a</text><text x="384" y="530"  fill="rgb(156 139 163)">se</text><text x="390" y="530"  fill="rgb(156 139 164)"> </text><text x="393" y="530"  fill="rgb(157 140 164)">&quot;N</text><text x="399" y="530"  fill="rgb(156 140 163)">O</text><text x="402" y="530"  fill="rgb(157 141 164)">T</text><text x="405" y="530"  fill="rgb(193 183 197)">&quot;</text><text x="408" y="530"  fill="rgb(166 148 174)">:</text><text x="411" y="530"  fill="rgb(78 40 97)"> </text><text x="414" y="530"  fill="rgb(74 34 93)">t</text><text x="417" y="530"  fill="rgb(71 32 89)">h</text><text x="420" y="530"  fill="rgb(71 30 89)">i</text><text x="423" y="530"  fill="rgb(70 31 89)">s</text><text x="426" y="530"  fill="rgb(69 31 90)">.</text><text x="429" y="530"  fill="rgb(69 31 89)">val</text><text x="438" y="530"  fill="rgb(70 32 89)">idat</text><text x="450" y="530"  fill="rgb(70 32 90)">e</text><text x="453" y="530"  fill="rgb(70 33 89)">N</text><text x="456" y="530"  fill="rgb(71 33 88)">O</text><text x="459" y="530"  fill="rgb(71 33 89)">T</text><text x="462" y="530"  fill="rgb(71 34 88)">(</text><text x="465" y="530"  fill="rgb(70 34 89)">v</text><text x="468" y="530"  fill="rgb(71 35 89)">a</text><text x="471" y="530"  fill="rgb(66 29 86)">l</text><text x="474" y="530"  fill="rgb(71 36 89)">u</text><text x="477" y="530"  fill="rgb(107 86 117)">e</text><text x="480" y="530"  fill="rgb(115 96 123)">)</text><text x="483" y="530"  fill="rgb(109 88 118)">;</text><text x="486" y="530"  fill="rgb(110 89 119)"> </text><text x="489" y="530"  fill="rgb(109 88 119)">b</text><text x="492" y="530"  fill="rgb(109 88 118)">r</text><text x="495" y="530"  fill="rgb(110 88 118)">e</text><text x="498" y="530"  fill="rgb(113 93 119)">a</text><text x="501" y="530"  fill="rgb(98 72 111)">k</text><text x="504" y="530"  fill="rgb(84 53 101)">;</text><text x="507" y="530"  fill="rgb(86 55 102)"> </text><text x="510" y="530"  fill="rgb(86 54 102)">c</text><text x="513" y="530"  fill="rgb(86 53 103)">a</text><text x="516" y="530"  fill="rgb(86 51 103)">s</text><text x="519" y="530"  fill="rgb(86 50 101)">e</text><text x="522" y="530"  fill="rgb(86 50 102)"> </text><text x="525" y="530"  fill="rgb(85 49 102)">&quot;</text><text x="528" y="530"  fill="rgb(86 49 102)">G</text><text x="531" y="530"  fill="rgb(84 48 103)">T</text><text x="534" y="530"  fill="rgb(80 44 97)">&quot;</text><text x="537" y="530"  fill="rgb(78 42 94)">:</text><text x="540" y="530"  fill="rgb(77 43 95)"> </text><text x="543" y="530"  fill="rgb(74 37 93)">c</text><text x="546" y="530"  fill="rgb(81 50 96)">a</text><text x="549" y="530"  fill="rgb(96 75 105)">s</text><text x="552" y="530"  fill="rgb(95 74 105)">e</text><text x="555" y="530"  fill="rgb(93 71 103)"> </text><text x="558" y="530"  fill="rgb(99 77 110)">&quot;</text><text x="561" y="530"  fill="rgb(103 82 114)">L</text><text x="564" y="530"  fill="rgb(102 80 112)">T&quot;</text><text x="570" y="530"  fill="rgb(102 80 111)">:</text><text x="573" y="530"  fill="rgb(102 79 111)"> c</text><text x="579" y="530"  fill="rgb(102 78 111)">a</text><text x="582" y="530"  fill="rgb(101 78 111)">s</text><text x="585" y="530"  fill="rgb(101 77 110)">e </text><text x="591" y="530"  fill="rgb(100 76 111)">&quot;</text><text x="594" y="530"  fill="rgb(100 77 111)">E</text><text x="597" y="530"  fill="rgb(109 85 120)">Q</text><text x="600" y="530"  fill="rgb(110 87 121)">&quot;</text><text x="603" y="530"  fill="rgb(110 86 121)">:</text><text x="606" y="530"  fill="rgb(109 85 121)"> </text><text x="609" y="530"  fill="rgb(109 86 121)">t</text><text x="612" y="530"  fill="rgb(109 84 120)">h</text><text x="615" y="530"  fill="rgb(109 82 120)">i</text><text x="618" y="530"  fill="rgb(108 83 119)">s</text><text x="621" y="530"  fill="rgb(108 81 119)">.</text><text x="624" y="530"  fill="rgb(106 80 119)">va</text><text x="630" y="530"  fill="rgb(106 80 118)">l</text><text x="633" y="530"  fill="rgb(105 79 118)">i</text><text x="636" y="530"  fill="rgb(105 78 117)">d</text><text x="639" y="530"  fill="rgb(105 77 117)">a</text><text x="642" y="530"  fill="rgb(104 77 117)">t</text><text x="645" y="530"  fill="rgb(104 76 117)">e</text><text x="648" y="530"  fill="rgb(103 75 116)">G</text><text x="651" y="530"  fill="rgb(102 74 116)">T</text><text x="654" y="530"  fill="rgb(101 74 115)">L</text><text x="657" y="530"  fill="rgb(101 73 115)">T</text><text x="660" y="530"  fill="rgb(101 73 114)">E</text><text x="663" y="530"  fill="rgb(101 72 114)">Q</text><text x="666" y="530"  fill="rgb(100 71 114)">(v</text><text x="672" y="530"  fill="rgb(100 70 114)">a</text><text x="675" y="530"  fill="rgb(99 69 113)">l</text><text x="678" y="530"  fill="rgb(99 68 113)">u</text><text x="681" y="530"  fill="rgb(98 66 112)">e</text><text x="684" y="530"  fill="rgb(97 65 111)">)</text><text x="687" y="530"  fill="rgb(97 65 112)">; b</text><text x="696" y="530"  fill="rgb(96 64 111)">r</text><text x="699" y="530"  fill="rgb(94 62 109)">e</text><text x="702" y="530"  fill="rgb(99 67 113)">a</text><text x="705" y="530"  fill="rgb(114 86 129)">k</text><text x="708" y="530"  fill="rgb(115 86 129)">;</text><text x="711" y="530"  fill="rgb(113 85 128)"> c</text><text x="717" y="530"  fill="rgb(113 84 127)">a</text><text x="720" y="530"  fill="rgb(112 82 127)">se</text><text x="726" y="530"  fill="rgb(110 81 126)"> &quot;</text><text x="732" y="530"  fill="rgb(110 80 125)">I</text><text x="735" y="530"  fill="rgb(110 79 125)">S</text><text x="738" y="530"  fill="rgb(110 80 126)">&quot;</text><text x="741" y="530"  fill="rgb(111 79 126)">:</text><text x="744" y="530"  fill="rgb(102 70 117)"> </text><text x="747" y="530"  fill="rgb(94 62 109)">t</text><text x="750" y="530"  fill="rgb(95 63 111)">h</text><text x="753" y="530"  fill="rgb(92 58 107)">i</text><text x="756" y="530"  fill="rgb(77 41 94)">s</text><text x="759" y="530"  fill="rgb(86 53 101)">.</text><text x="762" y="530"  fill="rgb(136 115 146)">v</text><text x="765" y="530"  fill="rgb(198 191 200)">a</text><text x="768" y="530"  fill="rgb(224 223 223)">l</text><text x="771" y="530"  fill="rgb(217 213 218)">i</text><text x="774" y="530"  fill="rgb(205 199 207)">d</text><text x="777" y="530"  fill="rgb(202 195 204)">a</text><text x="780" y="530"  fill="rgb(197 190 200)">t</text><text x="783" y="530"  fill="rgb(208 202 210)">e</text><text x="786" y="530"  fill="rgb(239 238 239)">I</text><text x="789" y="530"  fill="rgb(250 251 250)">S</text><text x="792" y="530"  fill="rgb(245 246 245)">(</text><text x="795" y="530"  fill="rgb(245 245 245)">value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object</text><text x="0" y="535"  fill="rgb(245 245 245)">&quot;) { throw new InsightError(); } this.validateFilter(value); } private validateIS(value: any): void { if (typeof </text><text x="339" y="535"  fill="rgb(247 247 247)">v</text><text x="342" y="535"  fill="rgb(249 250 249)">a</text><text x="345" y="535"  fill="rgb(193 182 199)">l</text><text x="348" y="535"  fill="rgb(142 122 153)">u</text><text x="351" y="535"  fill="rgb(152 134 160)">e</text><text x="354" y="535"  fill="rgb(153 135 161)"> !== &quot;o</text><text x="375" y="535"  fill="rgb(155 136 160)">b</text><text x="378" y="535"  fill="rgb(155 137 162)">j</text><text x="381" y="535"  fill="rgb(155 138 163)">ect&quot;</text><text x="393" y="535"  fill="rgb(155 139 163)">)</text><text x="396" y="535"  fill="rgb(156 139 163)"> </text><text x="399" y="535"  fill="rgb(156 138 162)">{</text><text x="402" y="535"  fill="rgb(156 139 162)"> </text><text x="405" y="535"  fill="rgb(184 174 190)">t</text><text x="408" y="535"  fill="rgb(146 124 157)">h</text><text x="411" y="535"  fill="rgb(71 31 91)">r</text><text x="414" y="535"  fill="rgb(76 37 94)">o</text><text x="417" y="535"  fill="rgb(71 31 90)">w </text><text x="423" y="535"  fill="rgb(70 31 90)">n</text><text x="426" y="535"  fill="rgb(70 32 90)">e</text><text x="429" y="535"  fill="rgb(70 32 89)">w I</text><text x="438" y="535"  fill="rgb(71 33 90)">ns</text><text x="444" y="535"  fill="rgb(71 32 90)">i</text><text x="447" y="535"  fill="rgb(71 34 90)">gh</text><text x="453" y="535"  fill="rgb(71 34 89)">t</text><text x="456" y="535"  fill="rgb(70 34 89)">E</text><text x="459" y="535"  fill="rgb(70 35 89)">r</text><text x="462" y="535"  fill="rgb(71 36 89)">ro</text><text x="468" y="535"  fill="rgb(70 35 89)">r</text><text x="471" y="535"  fill="rgb(71 37 88)">(</text><text x="474" y="535"  fill="rgb(65 27 85)">)</text><text x="477" y="535"  fill="rgb(77 45 94)">;</text><text x="480" y="535"  fill="rgb(112 93 121)"> </text><text x="483" y="535"  fill="rgb(113 94 123)">}</text><text x="486" y="535"  fill="rgb(109 88 118)"> </text><text x="489" y="535"  fill="rgb(110 89 119)">i</text><text x="492" y="535"  fill="rgb(110 90 120)">f</text><text x="495" y="535"  fill="rgb(109 88 118)"> </text><text x="498" y="535"  fill="rgb(113 93 120)">(</text><text x="501" y="535"  fill="rgb(102 79 113)">O</text><text x="504" y="535"  fill="rgb(86 55 102)">b</text><text x="507" y="535"  fill="rgb(86 55 103)">j</text><text x="510" y="535"  fill="rgb(87 54 103)">e</text><text x="513" y="535"  fill="rgb(86 52 103)">c</text><text x="516" y="535"  fill="rgb(86 52 102)">t</text><text x="519" y="535"  fill="rgb(86 51 103)">.</text><text x="522" y="535"  fill="rgb(86 50 102)">k</text><text x="525" y="535"  fill="rgb(86 50 103)">e</text><text x="528" y="535"  fill="rgb(87 49 104)">y</text><text x="531" y="535"  fill="rgb(84 46 102)">s</text><text x="534" y="535"  fill="rgb(80 44 96)">(</text><text x="537" y="535"  fill="rgb(79 43 96)">v</text><text x="540" y="535"  fill="rgb(78 41 96)">a</text><text x="543" y="535"  fill="rgb(77 36 94)">l</text><text x="546" y="535"  fill="rgb(91 65 102)">u</text><text x="549" y="535"  fill="rgb(98 79 107)">e</text><text x="552" y="535"  fill="rgb(93 73 104)">)</text><text x="555" y="535"  fill="rgb(96 76 106)">.</text><text x="558" y="535"  fill="rgb(105 84 114)">l</text><text x="561" y="535"  fill="rgb(105 82 114)">e</text><text x="564" y="535"  fill="rgb(102 80 113)">n</text><text x="567" y="535"  fill="rgb(103 81 114)">g</text><text x="570" y="535"  fill="rgb(103 80 113)">t</text><text x="573" y="535"  fill="rgb(103 80 111)">h</text><text x="576" y="535"  fill="rgb(102 80 111)"> </text><text x="579" y="535"  fill="rgb(103 80 112)">!</text><text x="582" y="535"  fill="rgb(102 79 111)">==</text><text x="588" y="535"  fill="rgb(102 78 111)"> </text><text x="591" y="535"  fill="rgb(101 77 111)">1</text><text x="594" y="535"  fill="rgb(101 78 110)">)</text><text x="597" y="535"  fill="rgb(109 86 120)"> </text><text x="600" y="535"  fill="rgb(112 88 123)">{</text><text x="603" y="535"  fill="rgb(110 87 122)"> </text><text x="606" y="535"  fill="rgb(111 87 122)">t</text><text x="609" y="535"  fill="rgb(110 86 121)">hr</text><text x="615" y="535"  fill="rgb(110 85 121)">o</text><text x="618" y="535"  fill="rgb(109 84 120)">w</text><text x="621" y="535"  fill="rgb(109 83 120)"> </text><text x="624" y="535"  fill="rgb(108 82 119)">ne</text><text x="630" y="535"  fill="rgb(107 81 119)">w</text><text x="633" y="535"  fill="rgb(106 81 119)"> </text><text x="636" y="535"  fill="rgb(106 80 119)">I</text><text x="639" y="535"  fill="rgb(106 79 119)">n</text><text x="642" y="535"  fill="rgb(105 78 117)">s</text><text x="645" y="535"  fill="rgb(106 77 117)">i</text><text x="648" y="535"  fill="rgb(105 77 117)">g</text><text x="651" y="535"  fill="rgb(104 75 117)">h</text><text x="654" y="535"  fill="rgb(104 76 117)">t</text><text x="657" y="535"  fill="rgb(102 74 115)">E</text><text x="660" y="535"  fill="rgb(101 74 116)">r</text><text x="663" y="535"  fill="rgb(101 73 116)">r</text><text x="666" y="535"  fill="rgb(101 73 115)">o</text><text x="669" y="535"  fill="rgb(101 72 114)">r(</text><text x="675" y="535"  fill="rgb(100 71 114)">);</text><text x="681" y="535"  fill="rgb(99 69 113)"> </text><text x="684" y="535"  fill="rgb(99 68 113)">}</text><text x="687" y="535"  fill="rgb(97 67 112)"> </text><text x="690" y="535"  fill="rgb(97 66 112)">l</text><text x="693" y="535"  fill="rgb(97 65 111)">e</text><text x="696" y="535"  fill="rgb(97 65 112)">t</text><text x="699" y="535"  fill="rgb(96 64 111)"> </text><text x="702" y="535"  fill="rgb(97 66 112)">s</text><text x="705" y="535"  fill="rgb(113 85 126)">k</text><text x="708" y="535"  fill="rgb(116 87 131)">e</text><text x="711" y="535"  fill="rgb(115 86 128)">y</text><text x="714" y="535"  fill="rgb(114 86 128)">: </text><text x="720" y="535"  fill="rgb(114 85 129)">s</text><text x="723" y="535"  fill="rgb(113 84 128)">t</text><text x="726" y="535"  fill="rgb(111 82 126)">ri</text><text x="732" y="535"  fill="rgb(110 82 126)">n</text><text x="735" y="535"  fill="rgb(110 80 126)">g</text><text x="738" y="535"  fill="rgb(110 81 126)">[</text><text x="741" y="535"  fill="rgb(110 79 126)">]</text><text x="744" y="535"  fill="rgb(111 80 126)"> </text><text x="747" y="535"  fill="rgb(102 71 117)">=</text><text x="750" y="535"  fill="rgb(94 61 108)"> </text><text x="753" y="535"  fill="rgb(95 64 110)">O</text><text x="756" y="535"  fill="rgb(98 65 111)">b</text><text x="759" y="535"  fill="rgb(87 53 102)">j</text><text x="762" y="535"  fill="rgb(74 39 92)">e</text><text x="765" y="535"  fill="rgb(90 57 104)">c</text><text x="768" y="535"  fill="rgb(146 128 155)">t</text><text x="771" y="535"  fill="rgb(207 203 210)">.</text><text x="774" y="535"  fill="rgb(223 221 223)">k</text><text x="777" y="535"  fill="rgb(211 207 212)">e</text><text x="780" y="535"  fill="rgb(203 196 205)">y</text><text x="783" y="535"  fill="rgb(197 189 199)">s</text><text x="786" y="535"  fill="rgb(204 198 206)">(</text><text x="789" y="535"  fill="rgb(235 232 235)">v</text><text x="792" y="535"  fill="rgb(249 250 249)">a</text><text x="795" y="535"  fill="rgb(246 245 246)">l</text><text x="798" y="535"  fill="rgb(245 245 245)">ue)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: </text><text x="0" y="540"  fill="rgb(245 245 245)">string = skey[1]; let str: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError()</text><text x="339" y="540"  fill="rgb(248 250 248)">;</text><text x="342" y="540"  fill="rgb(228 223 229)"> </text><text x="345" y="540"  fill="rgb(154 134 163)">}</text><text x="348" y="540"  fill="rgb(146 127 155)"> </text><text x="351" y="540"  fill="rgb(151 133 160)">e</text><text x="354" y="540"  fill="rgb(151 133 159)">ls</text><text x="360" y="540"  fill="rgb(152 134 160)">e </text><text x="366" y="540"  fill="rgb(153 135 160)">{ if </text><text x="381" y="540"  fill="rgb(154 136 161)">((</text><text x="387" y="540"  fill="rgb(154 136 162)">s</text><text x="390" y="540"  fill="rgb(154 137 162)">t</text><text x="393" y="540"  fill="rgb(155 137 162)">r</text><text x="396" y="540"  fill="rgb(155 138 163)">.s</text><text x="402" y="540"  fill="rgb(157 140 163)">l</text><text x="405" y="540"  fill="rgb(172 160 179)">i</text><text x="408" y="540"  fill="rgb(125 98 138)">c</text><text x="411" y="540"  fill="rgb(70 29 90)">e</text><text x="414" y="540"  fill="rgb(76 39 95)">(</text><text x="417" y="540"  fill="rgb(69 32 89)">1</text><text x="420" y="540"  fill="rgb(71 33 90)">, -1).i</text><text x="441" y="540"  fill="rgb(71 34 89)">nc</text><text x="447" y="540"  fill="rgb(71 35 89)">lude</text><text x="459" y="540"  fill="rgb(71 36 88)">s(&quot;*&quot;</text><text x="474" y="540"  fill="rgb(71 35 88)">)</text><text x="477" y="540"  fill="rgb(64 26 83)">)</text><text x="480" y="540"  fill="rgb(84 53 98)"> </text><text x="483" y="540"  fill="rgb(117 99 125)">|</text><text x="486" y="540"  fill="rgb(112 93 122)">|</text><text x="489" y="540"  fill="rgb(110 89 118)"> </text><text x="492" y="540"  fill="rgb(111 91 120)">!</text><text x="495" y="540"  fill="rgb(110 90 120)">t</text><text x="498" y="540"  fill="rgb(112 92 120)">h</text><text x="501" y="540"  fill="rgb(107 85 116)">i</text><text x="504" y="540"  fill="rgb(88 58 104)">s</text><text x="507" y="540"  fill="rgb(85 53 102)">.</text><text x="510" y="540"  fill="rgb(87 54 103)">va</text><text x="516" y="540"  fill="rgb(86 52 103)">l</text><text x="519" y="540"  fill="rgb(86 52 104)">i</text><text x="522" y="540"  fill="rgb(86 51 104)">d</text><text x="525" y="540"  fill="rgb(86 50 104)">a</text><text x="528" y="540"  fill="rgb(86 49 103)">t</text><text x="531" y="540"  fill="rgb(84 46 101)">e</text><text x="534" y="540"  fill="rgb(79 43 96)">Id</text><text x="540" y="540"  fill="rgb(77 38 95)">s</text><text x="543" y="540"  fill="rgb(82 46 97)">t</text><text x="546" y="540"  fill="rgb(98 76 106)">r</text><text x="549" y="540"  fill="rgb(98 78 107)">i</text><text x="552" y="540"  fill="rgb(96 75 106)">n</text><text x="555" y="540"  fill="rgb(102 83 112)">g</text><text x="558" y="540"  fill="rgb(106 86 115)">(</text><text x="561" y="540"  fill="rgb(105 83 114)">i</text><text x="564" y="540"  fill="rgb(104 82 113)">d</text><text x="567" y="540"  fill="rgb(104 82 114)">s</text><text x="570" y="540"  fill="rgb(104 82 113)">t</text><text x="573" y="540"  fill="rgb(103 81 114)">r</text><text x="576" y="540"  fill="rgb(103 81 112)">i</text><text x="579" y="540"  fill="rgb(103 80 112)">ng)</text><text x="588" y="540"  fill="rgb(102 79 111)"> </text><text x="591" y="540"  fill="rgb(102 78 111)">||</text><text x="597" y="540"  fill="rgb(109 86 119)"> </text><text x="600" y="540"  fill="rgb(113 89 125)">!</text><text x="603" y="540"  fill="rgb(112 88 124)">t</text><text x="606" y="540"  fill="rgb(111 87 122)">hi</text><text x="612" y="540"  fill="rgb(110 87 122)">s</text><text x="615" y="540"  fill="rgb(110 86 121)">.</text><text x="618" y="540"  fill="rgb(110 85 121)">s</text><text x="621" y="540"  fill="rgb(109 85 120)">f</text><text x="624" y="540"  fill="rgb(109 85 121)">i</text><text x="627" y="540"  fill="rgb(109 83 120)">e</text><text x="630" y="540"  fill="rgb(108 82 120)">l</text><text x="633" y="540"  fill="rgb(108 82 119)">d</text><text x="636" y="540"  fill="rgb(107 80 119)">s</text><text x="639" y="540"  fill="rgb(106 80 119)">.</text><text x="642" y="540"  fill="rgb(106 79 119)">in</text><text x="648" y="540"  fill="rgb(106 78 117)">c</text><text x="651" y="540"  fill="rgb(105 77 117)">lu</text><text x="657" y="540"  fill="rgb(105 76 117)">d</text><text x="660" y="540"  fill="rgb(103 75 117)">e</text><text x="663" y="540"  fill="rgb(103 75 116)">s</text><text x="666" y="540"  fill="rgb(102 74 115)">(</text><text x="669" y="540"  fill="rgb(101 73 115)">sf</text><text x="675" y="540"  fill="rgb(101 72 114)">ie</text><text x="681" y="540"  fill="rgb(100 71 114)">ld</text><text x="687" y="540"  fill="rgb(99 70 113)">)</text><text x="690" y="540"  fill="rgb(99 68 113)">)</text><text x="693" y="540"  fill="rgb(98 67 112)"> </text><text x="696" y="540"  fill="rgb(97 65 111)">{</text><text x="699" y="540"  fill="rgb(96 64 111)"> </text><text x="702" y="540"  fill="rgb(97 65 111)">t</text><text x="705" y="540"  fill="rgb(111 83 125)">h</text><text x="708" y="540"  fill="rgb(117 89 132)">r</text><text x="711" y="540"  fill="rgb(115 87 130)">ow</text><text x="717" y="540"  fill="rgb(115 86 129)"> n</text><text x="723" y="540"  fill="rgb(114 86 128)">e</text><text x="726" y="540"  fill="rgb(113 84 128)">w</text><text x="729" y="540"  fill="rgb(112 83 127)"> I</text><text x="735" y="540"  fill="rgb(111 82 127)">n</text><text x="738" y="540"  fill="rgb(111 82 126)">s</text><text x="741" y="540"  fill="rgb(110 80 126)">i</text><text x="744" y="540"  fill="rgb(111 80 127)">g</text><text x="747" y="540"  fill="rgb(112 82 128)">h</text><text x="750" y="540"  fill="rgb(102 71 117)">t</text><text x="753" y="540"  fill="rgb(93 62 108)">E</text><text x="756" y="540"  fill="rgb(94 62 109)">r</text><text x="759" y="540"  fill="rgb(95 64 112)">r</text><text x="762" y="540"  fill="rgb(93 63 111)">o</text><text x="765" y="540"  fill="rgb(79 46 97)">r</text><text x="768" y="540"  fill="rgb(71 36 90)">(</text><text x="771" y="540"  fill="rgb(98 67 113)">)</text><text x="774" y="540"  fill="rgb(159 142 166)">;</text><text x="777" y="540"  fill="rgb(208 205 211)"> </text><text x="780" y="540"  fill="rgb(219 218 220)">}</text><text x="783" y="540"  fill="rgb(207 203 210)"> </text><text x="786" y="540"  fill="rgb(196 190 200)">}</text><text x="789" y="540"  fill="rgb(199 192 201)"> </text><text x="792" y="540"  fill="rgb(229 226 230)">}</text><text x="795" y="540"  fill="rgb(248 249 248)"> </text><text x="798" y="540"  fill="rgb(245 245 245)">} private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new </text><text x="0" y="545"  fill="rgb(245 245 245)">InsightError(); } let mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new Insig</text><text x="339" y="545"  fill="rgb(249 250 249)">h</text><text x="342" y="545"  fill="rgb(186 172 191)">t</text><text x="345" y="545"  fill="rgb(140 119 151)">E</text><text x="348" y="545"  fill="rgb(150 131 159)">rr</text><text x="354" y="545"  fill="rgb(150 132 159)">or(</text><text x="363" y="545"  fill="rgb(151 133 160)">)</text><text x="366" y="545"  fill="rgb(151 133 159)">; </text><text x="372" y="545"  fill="rgb(152 134 159)">} </text><text x="378" y="545"  fill="rgb(151 134 160)">e</text><text x="381" y="545"  fill="rgb(152 135 160)">l</text><text x="384" y="545"  fill="rgb(153 135 161)">se</text><text x="390" y="545"  fill="rgb(154 136 161)"> </text><text x="393" y="545"  fill="rgb(155 137 161)">{</text><text x="396" y="545"  fill="rgb(155 137 162)"> </text><text x="399" y="545"  fill="rgb(154 137 162)">l</text><text x="402" y="545"  fill="rgb(157 142 165)">e</text><text x="405" y="545"  fill="rgb(158 142 165)">t</text><text x="408" y="545"  fill="rgb(105 75 120)"> </text><text x="411" y="545"  fill="rgb(73 35 93)">i</text><text x="414" y="545"  fill="rgb(74 38 93)">d</text><text x="417" y="545"  fill="rgb(70 33 89)">s</text><text x="420" y="545"  fill="rgb(71 34 90)">tr</text><text x="426" y="545"  fill="rgb(71 35 90)">i</text><text x="429" y="545"  fill="rgb(71 34 90)">ng</text><text x="435" y="545"  fill="rgb(71 34 89)">:</text><text x="438" y="545"  fill="rgb(71 35 89)"> strin</text><text x="456" y="545"  fill="rgb(71 36 89)">g</text><text x="459" y="545"  fill="rgb(71 37 89)"> </text><text x="462" y="545"  fill="rgb(71 37 88)">= mk</text><text x="474" y="545"  fill="rgb(71 37 89)">e</text><text x="477" y="545"  fill="rgb(69 34 88)">y</text><text x="480" y="545"  fill="rgb(64 26 83)">[</text><text x="483" y="545"  fill="rgb(92 64 104)">0</text><text x="486" y="545"  fill="rgb(119 102 127)">]</text><text x="489" y="545"  fill="rgb(113 94 122)">;</text><text x="492" y="545"  fill="rgb(111 90 121)"> </text><text x="495" y="545"  fill="rgb(111 91 119)">l</text><text x="498" y="545"  fill="rgb(111 92 120)">et</text><text x="504" y="545"  fill="rgb(92 62 107)"> </text><text x="507" y="545"  fill="rgb(85 52 103)">m</text><text x="510" y="545"  fill="rgb(86 55 104)">f</text><text x="513" y="545"  fill="rgb(87 54 103)">i</text><text x="516" y="545"  fill="rgb(86 52 103)">e</text><text x="519" y="545"  fill="rgb(86 51 104)">l</text><text x="522" y="545"  fill="rgb(86 50 104)">d: </text><text x="531" y="545"  fill="rgb(81 45 98)">s</text><text x="534" y="545"  fill="rgb(78 43 96)">t</text><text x="537" y="545"  fill="rgb(79 41 96)">r</text><text x="540" y="545"  fill="rgb(77 37 95)">i</text><text x="543" y="545"  fill="rgb(89 61 102)">n</text><text x="546" y="545"  fill="rgb(101 82 109)">g</text><text x="549" y="545"  fill="rgb(97 76 106)"> </text><text x="552" y="545"  fill="rgb(100 79 109)">=</text><text x="555" y="545"  fill="rgb(107 86 116)"> </text><text x="558" y="545"  fill="rgb(106 85 115)">m</text><text x="561" y="545"  fill="rgb(105 84 114)">ke</text><text x="567" y="545"  fill="rgb(104 82 113)">y</text><text x="570" y="545"  fill="rgb(105 83 114)">[</text><text x="573" y="545"  fill="rgb(103 81 113)">1</text><text x="576" y="545"  fill="rgb(104 82 114)">]</text><text x="579" y="545"  fill="rgb(103 81 113)">; </text><text x="585" y="545"  fill="rgb(103 80 113)">l</text><text x="588" y="545"  fill="rgb(103 80 112)">e</text><text x="591" y="545"  fill="rgb(103 80 111)">t</text><text x="594" y="545"  fill="rgb(102 79 111)"> </text><text x="597" y="545"  fill="rgb(108 86 118)">n</text><text x="600" y="545"  fill="rgb(114 92 125)">u</text><text x="603" y="545"  fill="rgb(113 90 124)">m</text><text x="606" y="545"  fill="rgb(113 88 123)">:</text><text x="609" y="545"  fill="rgb(112 88 123)"> </text><text x="612" y="545"  fill="rgb(111 87 122)">an</text><text x="618" y="545"  fill="rgb(110 87 121)">y</text><text x="621" y="545"  fill="rgb(110 86 122)"> </text><text x="624" y="545"  fill="rgb(110 86 121)">= </text><text x="630" y="545"  fill="rgb(110 85 121)">O</text><text x="633" y="545"  fill="rgb(109 84 120)">b</text><text x="636" y="545"  fill="rgb(108 82 119)">j</text><text x="639" y="545"  fill="rgb(108 81 119)">e</text><text x="642" y="545"  fill="rgb(107 81 119)">c</text><text x="645" y="545"  fill="rgb(106 81 119)">t</text><text x="648" y="545"  fill="rgb(106 80 119)">.</text><text x="651" y="545"  fill="rgb(105 79 118)">v</text><text x="654" y="545"  fill="rgb(106 79 118)">a</text><text x="657" y="545"  fill="rgb(105 78 117)">lu</text><text x="663" y="545"  fill="rgb(105 76 117)">e</text><text x="666" y="545"  fill="rgb(104 76 117)">s</text><text x="669" y="545"  fill="rgb(103 75 116)">(</text><text x="672" y="545"  fill="rgb(102 74 116)">v</text><text x="675" y="545"  fill="rgb(101 73 115)">a</text><text x="678" y="545"  fill="rgb(101 73 114)">l</text><text x="681" y="545"  fill="rgb(101 72 115)">u</text><text x="684" y="545"  fill="rgb(101 72 114)">e</text><text x="687" y="545"  fill="rgb(100 71 114)">)[</text><text x="693" y="545"  fill="rgb(100 70 114)">0</text><text x="696" y="545"  fill="rgb(99 69 113)">]</text><text x="699" y="545"  fill="rgb(98 67 112)">;</text><text x="702" y="545"  fill="rgb(96 64 110)"> </text><text x="705" y="545"  fill="rgb(109 80 123)">i</text><text x="708" y="545"  fill="rgb(120 92 133)">f</text><text x="711" y="545"  fill="rgb(117 89 131)"> </text><text x="714" y="545"  fill="rgb(116 88 130)">((</text><text x="720" y="545"  fill="rgb(116 87 130)">t</text><text x="723" y="545"  fill="rgb(115 86 129)">y</text><text x="726" y="545"  fill="rgb(114 86 129)">peo</text><text x="735" y="545"  fill="rgb(113 84 127)">f</text><text x="738" y="545"  fill="rgb(113 84 128)"> </text><text x="741" y="545"  fill="rgb(111 82 126)">n</text><text x="744" y="545"  fill="rgb(110 81 126)">u</text><text x="747" y="545"  fill="rgb(111 82 128)">m</text><text x="750" y="545"  fill="rgb(112 82 127)"> </text><text x="753" y="545"  fill="rgb(100 69 115)">!</text><text x="756" y="545"  fill="rgb(93 62 108)">=</text><text x="759" y="545"  fill="rgb(95 64 110)">=</text><text x="762" y="545"  fill="rgb(95 63 110)"> </text><text x="765" y="545"  fill="rgb(96 66 112)">&quot;</text><text x="768" y="545"  fill="rgb(91 59 107)">n</text><text x="771" y="545"  fill="rgb(77 42 95)">u</text><text x="774" y="545"  fill="rgb(76 41 93)">m</text><text x="777" y="545"  fill="rgb(108 81 122)">b</text><text x="780" y="545"  fill="rgb(164 151 171)">e</text><text x="783" y="545"  fill="rgb(210 206 211)">r</text><text x="786" y="545"  fill="rgb(217 214 217)">&quot;</text><text x="789" y="545"  fill="rgb(200 194 203)">)</text><text x="792" y="545"  fill="rgb(197 189 199)"> </text><text x="795" y="545"  fill="rgb(225 222 227)">|</text><text x="798" y="545"  fill="rgb(249 250 249)">|</text><text x="801" y="545"  fill="rgb(246 247 246)"> </text><text x="804" y="545"  fill="rgb(245 245 245)">!this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateAND</text><text x="0" y="550"  fill="rgb(245 245 245)">OR(value: any): void { if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let inn</text><text x="336" y="550"  fill="rgb(250 252 250)">e</text><text x="339" y="550"  fill="rgb(228 224 230)">r</text><text x="342" y="550"  fill="rgb(152 132 162)">O</text><text x="345" y="550"  fill="rgb(143 122 154)">b</text><text x="348" y="550"  fill="rgb(148 128 159)">j</text><text x="351" y="550"  fill="rgb(149 130 159)">e</text><text x="354" y="550"  fill="rgb(149 131 159)">ct</text><text x="360" y="550"  fill="rgb(150 132 159)"> o</text><text x="366" y="550"  fill="rgb(151 133 159)">f va</text><text x="378" y="550"  fill="rgb(152 134 160)">l</text><text x="381" y="550"  fill="rgb(152 135 160)">ue)</text><text x="390" y="550"  fill="rgb(153 135 161)"> </text><text x="393" y="550"  fill="rgb(154 136 161)">{</text><text x="396" y="550"  fill="rgb(154 137 161)"> t</text><text x="402" y="550"  fill="rgb(159 143 165)">h</text><text x="405" y="550"  fill="rgb(148 129 156)">i</text><text x="408" y="550"  fill="rgb(91 57 108)">s</text><text x="411" y="550"  fill="rgb(78 40 96)">.</text><text x="414" y="550"  fill="rgb(73 36 92)">v</text><text x="417" y="550"  fill="rgb(70 33 89)">a</text><text x="420" y="550"  fill="rgb(71 35 90)">l</text><text x="423" y="550"  fill="rgb(71 35 91)">i</text><text x="426" y="550"  fill="rgb(71 36 90)">d</text><text x="429" y="550"  fill="rgb(71 35 89)">a</text><text x="432" y="550"  fill="rgb(71 36 89)">teF</text><text x="441" y="550"  fill="rgb(71 35 89)">ilt</text><text x="450" y="550"  fill="rgb(71 36 89)">e</text><text x="453" y="550"  fill="rgb(71 37 90)">r</text><text x="456" y="550"  fill="rgb(71 37 89)">(</text><text x="459" y="550"  fill="rgb(71 36 89)">i</text><text x="462" y="550"  fill="rgb(71 37 90)">n</text><text x="465" y="550"  fill="rgb(71 37 89)">n</text><text x="468" y="550"  fill="rgb(71 37 88)">erO</text><text x="477" y="550"  fill="rgb(72 37 88)">b</text><text x="480" y="550"  fill="rgb(69 33 86)">j</text><text x="483" y="550"  fill="rgb(67 30 85)">e</text><text x="486" y="550"  fill="rgb(98 72 110)">c</text><text x="489" y="550"  fill="rgb(121 104 128)">t</text><text x="492" y="550"  fill="rgb(114 94 122)">)</text><text x="495" y="550"  fill="rgb(112 91 120)">;</text><text x="498" y="550"  fill="rgb(111 92 121)"> </text><text x="501" y="550"  fill="rgb(112 94 121)">}</text><text x="504" y="550"  fill="rgb(96 68 110)"> </text><text x="507" y="550"  fill="rgb(85 51 102)">}</text><text x="510" y="550"  fill="rgb(88 54 104)"> p</text><text x="516" y="550"  fill="rgb(86 52 104)">r</text><text x="519" y="550"  fill="rgb(87 52 104)">i</text><text x="522" y="550"  fill="rgb(86 50 104)">v</text><text x="525" y="550"  fill="rgb(86 50 105)">a</text><text x="528" y="550"  fill="rgb(86 49 104)">t</text><text x="531" y="550"  fill="rgb(81 46 99)">e</text><text x="534" y="550"  fill="rgb(80 45 97)"> </text><text x="537" y="550"  fill="rgb(79 40 96)">v</text><text x="540" y="550"  fill="rgb(80 42 97)">a</text><text x="543" y="550"  fill="rgb(97 73 107)">l</text><text x="546" y="550"  fill="rgb(101 81 109)">i</text><text x="549" y="550"  fill="rgb(98 77 108)">d</text><text x="552" y="550"  fill="rgb(105 84 115)">a</text><text x="555" y="550"  fill="rgb(107 86 116)">t</text><text x="558" y="550"  fill="rgb(107 86 115)">e</text><text x="561" y="550"  fill="rgb(106 85 114)">Ids</text><text x="570" y="550"  fill="rgb(106 85 115)">t</text><text x="573" y="550"  fill="rgb(105 84 114)">r</text><text x="576" y="550"  fill="rgb(104 82 114)">i</text><text x="579" y="550"  fill="rgb(104 82 113)">n</text><text x="582" y="550"  fill="rgb(104 82 114)">g</text><text x="585" y="550"  fill="rgb(104 81 114)">(</text><text x="588" y="550"  fill="rgb(103 81 113)">i</text><text x="591" y="550"  fill="rgb(103 80 112)">d</text><text x="594" y="550"  fill="rgb(102 79 111)">s</text><text x="597" y="550"  fill="rgb(108 86 117)">t</text><text x="600" y="550"  fill="rgb(116 94 126)">r</text><text x="603" y="550"  fill="rgb(113 92 125)">i</text><text x="606" y="550"  fill="rgb(113 90 124)">ng</text><text x="612" y="550"  fill="rgb(113 89 123)">:</text><text x="615" y="550"  fill="rgb(112 88 123)"> </text><text x="618" y="550"  fill="rgb(111 87 122)">s</text><text x="621" y="550"  fill="rgb(111 87 123)">t</text><text x="624" y="550"  fill="rgb(110 87 122)">r</text><text x="627" y="550"  fill="rgb(110 86 121)">in</text><text x="633" y="550"  fill="rgb(110 86 120)">g</text><text x="636" y="550"  fill="rgb(109 84 121)">)</text><text x="639" y="550"  fill="rgb(109 84 120)">:</text><text x="642" y="550"  fill="rgb(108 82 119)"> </text><text x="645" y="550"  fill="rgb(107 81 119)">b</text><text x="648" y="550"  fill="rgb(107 80 119)">o</text><text x="651" y="550"  fill="rgb(106 81 119)">o</text><text x="654" y="550"  fill="rgb(106 80 119)">l</text><text x="657" y="550"  fill="rgb(105 79 118)">e</text><text x="660" y="550"  fill="rgb(105 78 118)">a</text><text x="663" y="550"  fill="rgb(105 78 117)">n</text><text x="666" y="550"  fill="rgb(105 77 117)"> </text><text x="669" y="550"  fill="rgb(104 76 117)">{</text><text x="672" y="550"  fill="rgb(104 76 116)"> </text><text x="675" y="550"  fill="rgb(103 75 116)">i</text><text x="678" y="550"  fill="rgb(101 73 115)">f </text><text x="684" y="550"  fill="rgb(101 72 114)">(th</text><text x="693" y="550"  fill="rgb(101 72 113)">i</text><text x="696" y="550"  fill="rgb(100 71 113)">s</text><text x="699" y="550"  fill="rgb(100 70 114)">.</text><text x="702" y="550"  fill="rgb(97 67 111)">i</text><text x="705" y="550"  fill="rgb(106 79 120)">d</text><text x="708" y="550"  fill="rgb(120 94 133)">I</text><text x="711" y="550"  fill="rgb(118 90 132)">n</text><text x="714" y="550"  fill="rgb(118 90 131)">Q</text><text x="717" y="550"  fill="rgb(117 89 131)">u</text><text x="720" y="550"  fill="rgb(116 89 131)">e</text><text x="723" y="550"  fill="rgb(116 87 130)">r</text><text x="726" y="550"  fill="rgb(115 87 130)">y</text><text x="729" y="550"  fill="rgb(115 86 129)">.</text><text x="732" y="550"  fill="rgb(114 86 129)">l</text><text x="735" y="550"  fill="rgb(114 86 128)">en</text><text x="741" y="550"  fill="rgb(113 84 127)">g</text><text x="744" y="550"  fill="rgb(112 83 127)">t</text><text x="747" y="550"  fill="rgb(111 82 126)">h</text><text x="750" y="550"  fill="rgb(112 84 127)"> </text><text x="753" y="550"  fill="rgb(111 81 126)">=</text><text x="756" y="550"  fill="rgb(97 66 112)">=</text><text x="759" y="550"  fill="rgb(95 63 108)">=</text><text x="762" y="550"  fill="rgb(96 64 110)"> </text><text x="765" y="550"  fill="rgb(95 63 110)">0</text><text x="768" y="550"  fill="rgb(96 64 110)">)</text><text x="771" y="550"  fill="rgb(95 63 111)"> </text><text x="774" y="550"  fill="rgb(90 57 106)">{</text><text x="777" y="550"  fill="rgb(79 44 97)"> </text><text x="780" y="550"  fill="rgb(80 45 97)">f</text><text x="783" y="550"  fill="rgb(119 93 131)">o</text><text x="786" y="550"  fill="rgb(181 169 185)">r</text><text x="789" y="550"  fill="rgb(219 217 220)"> </text><text x="792" y="550"  fill="rgb(212 208 213)">(</text><text x="795" y="550"  fill="rgb(196 189 199)">l</text><text x="798" y="550"  fill="rgb(223 218 224)">e</text><text x="801" y="550"  fill="rgb(250 251 249)">t</text><text x="804" y="550"  fill="rgb(247 248 247)"> </text><text x="807" y="550"  fill="rgb(245 245 245)">insightDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (ins</text><text x="0" y="555"  fill="rgb(245 245 245)">ightDataset.kind === InsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.course</text><text x="336" y="555"  fill="rgb(254 255 253)">s</text><text x="339" y="555"  fill="rgb(187 174 193)">f</text><text x="342" y="555"  fill="rgb(137 115 149)">i</text><text x="345" y="555"  fill="rgb(147 126 156)">e</text><text x="348" y="555"  fill="rgb(148 128 158)">l</text><text x="351" y="555"  fill="rgb(149 129 158)">d</text><text x="354" y="555"  fill="rgb(149 130 159)">s; </text><text x="363" y="555"  fill="rgb(149 131 159)">} </text><text x="369" y="555"  fill="rgb(150 132 159)">else</text><text x="381" y="555"  fill="rgb(151 133 160)"> </text><text x="384" y="555"  fill="rgb(151 133 159)">{</text><text x="387" y="555"  fill="rgb(151 134 159)"> th</text><text x="396" y="555"  fill="rgb(152 135 160)">i</text><text x="399" y="555"  fill="rgb(153 136 160)">s</text><text x="402" y="555"  fill="rgb(160 144 165)">.</text><text x="405" y="555"  fill="rgb(142 123 151)">m</text><text x="408" y="555"  fill="rgb(83 46 101)">f</text><text x="411" y="555"  fill="rgb(79 41 97)">i</text><text x="414" y="555"  fill="rgb(73 35 92)">e</text><text x="417" y="555"  fill="rgb(71 34 90)">l</text><text x="420" y="555"  fill="rgb(72 35 91)">d</text><text x="423" y="555"  fill="rgb(72 36 91)">s</text><text x="426" y="555"  fill="rgb(72 36 90)"> = t</text><text x="438" y="555"  fill="rgb(71 36 90)">h</text><text x="441" y="555"  fill="rgb(72 37 90)">i</text><text x="444" y="555"  fill="rgb(71 37 90)">s</text><text x="447" y="555"  fill="rgb(72 37 90)">.</text><text x="450" y="555"  fill="rgb(71 36 88)">r</text><text x="453" y="555"  fill="rgb(72 37 89)">o</text><text x="456" y="555"  fill="rgb(72 37 90)">ommf</text><text x="468" y="555"  fill="rgb(72 37 89)">i</text><text x="471" y="555"  fill="rgb(72 37 88)">eld</text><text x="480" y="555"  fill="rgb(73 38 89)">s</text><text x="483" y="555"  fill="rgb(70 34 86)">;</text><text x="486" y="555"  fill="rgb(69 34 87)"> </text><text x="489" y="555"  fill="rgb(104 81 115)">t</text><text x="492" y="555"  fill="rgb(122 104 128)">h</text><text x="495" y="555"  fill="rgb(113 94 122)">i</text><text x="498" y="555"  fill="rgb(112 92 121)">s</text><text x="501" y="555"  fill="rgb(114 95 123)">.</text><text x="504" y="555"  fill="rgb(100 76 114)">s</text><text x="507" y="555"  fill="rgb(87 53 104)">f</text><text x="510" y="555"  fill="rgb(88 53 105)">i</text><text x="513" y="555"  fill="rgb(87 54 105)">e</text><text x="516" y="555"  fill="rgb(88 53 105)">l</text><text x="519" y="555"  fill="rgb(87 52 105)">d</text><text x="522" y="555"  fill="rgb(86 52 104)">s</text><text x="525" y="555"  fill="rgb(86 51 105)"> </text><text x="528" y="555"  fill="rgb(84 48 104)">=</text><text x="531" y="555"  fill="rgb(81 46 100)"> </text><text x="534" y="555"  fill="rgb(82 45 99)">t</text><text x="537" y="555"  fill="rgb(80 40 97)">h</text><text x="540" y="555"  fill="rgb(88 57 101)">i</text><text x="543" y="555"  fill="rgb(104 85 111)">s</text><text x="546" y="555"  fill="rgb(100 79 109)">.</text><text x="549" y="555"  fill="rgb(102 81 111)">r</text><text x="552" y="555"  fill="rgb(107 86 117)">oo</text><text x="558" y="555"  fill="rgb(107 86 116)">ms</text><text x="564" y="555"  fill="rgb(106 85 114)">f</text><text x="567" y="555"  fill="rgb(107 86 115)">ie</text><text x="573" y="555"  fill="rgb(106 86 115)">l</text><text x="576" y="555"  fill="rgb(106 85 115)">d</text><text x="579" y="555"  fill="rgb(105 84 114)">s</text><text x="582" y="555"  fill="rgb(105 83 114)">; </text><text x="588" y="555"  fill="rgb(104 82 114)">}</text><text x="591" y="555"  fill="rgb(104 82 113)"> </text><text x="594" y="555"  fill="rgb(102 80 112)">r</text><text x="597" y="555"  fill="rgb(108 86 117)">e</text><text x="600" y="555"  fill="rgb(117 95 126)">t</text><text x="603" y="555"  fill="rgb(116 94 126)">u</text><text x="606" y="555"  fill="rgb(115 93 125)">r</text><text x="609" y="555"  fill="rgb(113 92 125)">n</text><text x="612" y="555"  fill="rgb(113 90 124)"> t</text><text x="618" y="555"  fill="rgb(113 89 124)">ru</text><text x="624" y="555"  fill="rgb(112 87 122)">e</text><text x="627" y="555"  fill="rgb(111 87 122)">;</text><text x="630" y="555"  fill="rgb(110 87 122)"> </text><text x="633" y="555"  fill="rgb(110 86 121)">}</text><text x="636" y="555"  fill="rgb(111 86 121)"> </text><text x="639" y="555"  fill="rgb(109 85 121)">}</text><text x="642" y="555"  fill="rgb(109 86 121)"> </text><text x="645" y="555"  fill="rgb(109 84 120)">re</text><text x="651" y="555"  fill="rgb(108 81 119)">t</text><text x="654" y="555"  fill="rgb(106 81 119)">u</text><text x="657" y="555"  fill="rgb(107 81 119)">r</text><text x="660" y="555"  fill="rgb(106 80 119)">n </text><text x="666" y="555"  fill="rgb(105 79 118)">f</text><text x="669" y="555"  fill="rgb(105 78 117)">a</text><text x="672" y="555"  fill="rgb(105 77 117)">l</text><text x="675" y="555"  fill="rgb(104 77 117)">s</text><text x="678" y="555"  fill="rgb(104 76 117)">e</text><text x="681" y="555"  fill="rgb(103 75 116)">; </text><text x="687" y="555"  fill="rgb(102 74 115)">}</text><text x="690" y="555"  fill="rgb(101 73 115)"> e</text><text x="696" y="555"  fill="rgb(101 72 114)">l</text><text x="699" y="555"  fill="rgb(100 71 114)">s</text><text x="702" y="555"  fill="rgb(98 69 111)">e</text><text x="705" y="555"  fill="rgb(104 75 118)"> </text><text x="708" y="555"  fill="rgb(121 95 134)">{</text><text x="711" y="555"  fill="rgb(120 94 133)"> </text><text x="714" y="555"  fill="rgb(119 91 132)">r</text><text x="717" y="555"  fill="rgb(118 90 131)">et</text><text x="723" y="555"  fill="rgb(117 89 131)">u</text><text x="726" y="555"  fill="rgb(117 89 130)">r</text><text x="729" y="555"  fill="rgb(116 88 129)">n</text><text x="732" y="555"  fill="rgb(116 88 130)"> </text><text x="735" y="555"  fill="rgb(115 87 129)">t</text><text x="738" y="555"  fill="rgb(115 86 129)">h</text><text x="741" y="555"  fill="rgb(114 86 128)">i</text><text x="744" y="555"  fill="rgb(114 85 128)">s</text><text x="747" y="555"  fill="rgb(113 85 128)">.</text><text x="750" y="555"  fill="rgb(112 83 127)">i</text><text x="753" y="555"  fill="rgb(114 85 129)">d</text><text x="756" y="555"  fill="rgb(107 78 122)">I</text><text x="759" y="555"  fill="rgb(95 64 109)">n</text><text x="762" y="555"  fill="rgb(95 65 110)">Qu</text><text x="768" y="555"  fill="rgb(95 64 110)">e</text><text x="771" y="555"  fill="rgb(96 63 110)">r</text><text x="774" y="555"  fill="rgb(95 64 110)">y</text><text x="777" y="555"  fill="rgb(95 63 111)">.</text><text x="780" y="555"  fill="rgb(91 59 107)">i</text><text x="783" y="555"  fill="rgb(77 40 94)">n</text><text x="786" y="555"  fill="rgb(83 49 99)">c</text><text x="789" y="555"  fill="rgb(138 118 148)">l</text><text x="792" y="555"  fill="rgb(201 195 204)">u</text><text x="795" y="555"  fill="rgb(217 214 218)">d</text><text x="798" y="555"  fill="rgb(197 191 200)">e</text><text x="801" y="555"  fill="rgb(218 214 220)">s</text><text x="804" y="555"  fill="rgb(250 250 249)">(</text><text x="807" y="555"  fill="rgb(247 248 247)">i</text><text x="810" y="555"  fill="rgb(245 245 245)">dstring); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, </text><text x="0" y="560"  fill="rgb(245 245 245)">InsightError} from &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: st</text><text x="333" y="560"  fill="rgb(252 253 251)">r</text><text x="336" y="560"  fill="rgb(231 227 233)">i</text><text x="339" y="560"  fill="rgb(151 131 162)">n</text><text x="342" y="560"  fill="rgb(137 117 150)">g</text><text x="345" y="560"  fill="rgb(147 128 157)">[</text><text x="348" y="560"  fill="rgb(147 127 157)">]</text><text x="351" y="560"  fill="rgb(148 128 158)"> </text><text x="354" y="560"  fill="rgb(148 129 158)">= </text><text x="360" y="560"  fill="rgb(148 128 158)">[</text><text x="363" y="560"  fill="rgb(149 130 159)">&quot;a</text><text x="369" y="560"  fill="rgb(149 131 159)">vg&quot;, </text><text x="384" y="560"  fill="rgb(150 132 159)">&quot;</text><text x="387" y="560"  fill="rgb(151 132 159)">p</text><text x="390" y="560"  fill="rgb(151 133 159)">a</text><text x="393" y="560"  fill="rgb(151 134 160)">s</text><text x="396" y="560"  fill="rgb(151 134 159)">s</text><text x="399" y="560"  fill="rgb(152 135 160)">&quot;</text><text x="402" y="560"  fill="rgb(158 143 166)">,</text><text x="405" y="560"  fill="rgb(137 118 149)"> </text><text x="408" y="560"  fill="rgb(79 44 98)">&quot;</text><text x="411" y="560"  fill="rgb(77 38 95)">f</text><text x="414" y="560"  fill="rgb(72 36 90)">a</text><text x="417" y="560"  fill="rgb(71 36 89)">i</text><text x="420" y="560"  fill="rgb(73 37 91)">l&quot;</text><text x="426" y="560"  fill="rgb(72 37 91)">,</text><text x="429" y="560"  fill="rgb(73 37 91)"> &quot;</text><text x="435" y="560"  fill="rgb(73 36 91)">a</text><text x="438" y="560"  fill="rgb(72 38 91)">u</text><text x="441" y="560"  fill="rgb(71 38 90)">d</text><text x="444" y="560"  fill="rgb(72 37 89)">i</text><text x="447" y="560"  fill="rgb(73 38 90)">t</text><text x="450" y="560"  fill="rgb(73 38 91)">&quot;</text><text x="453" y="560"  fill="rgb(73 37 91)">,</text><text x="456" y="560"  fill="rgb(73 37 90)"> </text><text x="459" y="560"  fill="rgb(72 37 90)">&quot;</text><text x="462" y="560"  fill="rgb(73 38 90)">y</text><text x="465" y="560"  fill="rgb(73 37 90)">e</text><text x="468" y="560"  fill="rgb(73 38 90)">ar</text><text x="474" y="560"  fill="rgb(73 38 89)">&quot;</text><text x="477" y="560"  fill="rgb(74 39 90)">];</text><text x="483" y="560"  fill="rgb(74 40 90)"> </text><text x="486" y="560"  fill="rgb(70 34 87)">p</text><text x="489" y="560"  fill="rgb(73 38 89)">r</text><text x="492" y="560"  fill="rgb(107 85 117)">i</text><text x="495" y="560"  fill="rgb(119 102 127)">v</text><text x="498" y="560"  fill="rgb(112 92 121)">a</text><text x="501" y="560"  fill="rgb(115 96 123)">t</text><text x="504" y="560"  fill="rgb(106 83 116)">e</text><text x="507" y="560"  fill="rgb(89 55 106)"> </text><text x="510" y="560"  fill="rgb(88 54 105)">r</text><text x="513" y="560"  fill="rgb(87 54 106)">e</text><text x="516" y="560"  fill="rgb(88 53 106)">a</text><text x="519" y="560"  fill="rgb(87 52 105)">d</text><text x="522" y="560"  fill="rgb(86 52 105)">o</text><text x="525" y="560"  fill="rgb(87 50 106)">n</text><text x="528" y="560"  fill="rgb(84 48 103)">l</text><text x="531" y="560"  fill="rgb(82 45 99)">y</text><text x="534" y="560"  fill="rgb(81 44 98)"> </text><text x="537" y="560"  fill="rgb(81 42 98)">c</text><text x="540" y="560"  fill="rgb(98 75 109)">o</text><text x="543" y="560"  fill="rgb(105 87 112)">u</text><text x="546" y="560"  fill="rgb(102 83 110)">r</text><text x="549" y="560"  fill="rgb(108 88 116)">s</text><text x="552" y="560"  fill="rgb(108 87 117)">e</text><text x="555" y="560"  fill="rgb(107 86 117)">s</text><text x="558" y="560"  fill="rgb(108 86 117)">f</text><text x="561" y="560"  fill="rgb(107 86 117)">i</text><text x="564" y="560"  fill="rgb(107 87 117)">e</text><text x="567" y="560"  fill="rgb(107 86 115)">lds: </text><text x="582" y="560"  fill="rgb(106 85 115)">s</text><text x="585" y="560"  fill="rgb(107 85 115)">t</text><text x="588" y="560"  fill="rgb(106 84 114)">r</text><text x="591" y="560"  fill="rgb(105 83 114)">i</text><text x="594" y="560"  fill="rgb(104 82 113)">n</text><text x="597" y="560"  fill="rgb(107 87 118)">g</text><text x="600" y="560"  fill="rgb(118 96 128)">[]</text><text x="606" y="560"  fill="rgb(116 94 125)"> </text><text x="609" y="560"  fill="rgb(116 94 126)">=</text><text x="612" y="560"  fill="rgb(115 93 126)"> </text><text x="615" y="560"  fill="rgb(115 93 125)">[</text><text x="618" y="560"  fill="rgb(114 92 125)">&quot;</text><text x="621" y="560"  fill="rgb(113 90 123)">d</text><text x="624" y="560"  fill="rgb(113 89 124)">e</text><text x="627" y="560"  fill="rgb(113 88 123)">p</text><text x="630" y="560"  fill="rgb(113 89 123)">t</text><text x="633" y="560"  fill="rgb(111 87 123)">&quot;</text><text x="636" y="560"  fill="rgb(110 87 122)">,</text><text x="639" y="560"  fill="rgb(111 87 122)"> </text><text x="642" y="560"  fill="rgb(110 86 120)">&quot;</text><text x="645" y="560"  fill="rgb(110 86 121)">i</text><text x="648" y="560"  fill="rgb(109 86 121)">d</text><text x="651" y="560"  fill="rgb(109 84 121)">&quot;</text><text x="654" y="560"  fill="rgb(109 83 120)">,</text><text x="657" y="560"  fill="rgb(109 82 119)"> </text><text x="660" y="560"  fill="rgb(108 81 119)">&quot;</text><text x="663" y="560"  fill="rgb(107 81 119)">in</text><text x="669" y="560"  fill="rgb(106 80 119)">s</text><text x="672" y="560"  fill="rgb(105 79 119)">t</text><text x="675" y="560"  fill="rgb(106 79 117)">r</text><text x="678" y="560"  fill="rgb(105 77 117)">uc</text><text x="684" y="560"  fill="rgb(105 76 117)">t</text><text x="687" y="560"  fill="rgb(104 76 117)">o</text><text x="690" y="560"  fill="rgb(102 74 115)">r</text><text x="693" y="560"  fill="rgb(103 75 116)">&quot;</text><text x="696" y="560"  fill="rgb(101 73 115)">, </text><text x="702" y="560"  fill="rgb(100 70 112)">&quot;</text><text x="705" y="560"  fill="rgb(101 73 116)">t</text><text x="708" y="560"  fill="rgb(119 94 132)">i</text><text x="711" y="560"  fill="rgb(123 97 135)">t</text><text x="714" y="560"  fill="rgb(121 94 134)">l</text><text x="717" y="560"  fill="rgb(120 93 133)">e</text><text x="720" y="560"  fill="rgb(119 92 132)">&quot;</text><text x="723" y="560"  fill="rgb(119 91 131)">,</text><text x="726" y="560"  fill="rgb(118 91 131)"> </text><text x="729" y="560"  fill="rgb(118 90 131)">&quot;</text><text x="732" y="560"  fill="rgb(117 89 131)">uu</text><text x="738" y="560"  fill="rgb(115 87 130)">i</text><text x="741" y="560"  fill="rgb(114 86 130)">d</text><text x="744" y="560"  fill="rgb(114 86 129)">&quot;]</text><text x="750" y="560"  fill="rgb(115 86 129)">;</text><text x="753" y="560"  fill="rgb(113 84 127)"> </text><text x="756" y="560"  fill="rgb(115 86 130)">p</text><text x="759" y="560"  fill="rgb(103 73 117)">r</text><text x="762" y="560"  fill="rgb(95 64 109)">i</text><text x="765" y="560"  fill="rgb(96 65 110)">va</text><text x="771" y="560"  fill="rgb(95 64 110)">te</text><text x="777" y="560"  fill="rgb(95 64 109)"> </text><text x="780" y="560"  fill="rgb(95 63 110)">r</text><text x="783" y="560"  fill="rgb(97 66 112)">e</text><text x="786" y="560"  fill="rgb(88 54 104)">a</text><text x="789" y="560"  fill="rgb(74 37 92)">d</text><text x="792" y="560"  fill="rgb(97 66 112)">o</text><text x="795" y="560"  fill="rgb(166 151 173)">n</text><text x="798" y="560"  fill="rgb(212 209 214)">l</text><text x="801" y="560"  fill="rgb(204 199 205)">y</text><text x="804" y="560"  fill="rgb(218 213 219)"> </text><text x="807" y="560"  fill="rgb(248 247 247)">r</text><text x="810" y="560"  fill="rgb(246 247 246)">o</text><text x="813" y="560"  fill="rgb(245 245 245)">ommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;num</text><text x="0" y="565"  fill="rgb(245 245 245)">ber&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AV</text><text x="330" y="565"  fill="rgb(246 246 246)">G</text><text x="333" y="565"  fill="rgb(255 255 254)">&quot;</text><text x="336" y="565"  fill="rgb(195 182 199)">,</text><text x="339" y="565"  fill="rgb(133 109 145)"> </text><text x="342" y="565"  fill="rgb(144 123 155)">&quot;</text><text x="345" y="565"  fill="rgb(146 126 157)">SU</text><text x="351" y="565"  fill="rgb(147 127 157)">M&quot;]</text><text x="360" y="565"  fill="rgb(148 128 158)">; </text><text x="366" y="565"  fill="rgb(147 128 158)">p</text><text x="369" y="565"  fill="rgb(148 129 158)">ri</text><text x="375" y="565"  fill="rgb(148 130 158)">v</text><text x="378" y="565"  fill="rgb(149 130 158)">a</text><text x="381" y="565"  fill="rgb(149 131 159)">te</text><text x="387" y="565"  fill="rgb(150 132 159)"> re</text><text x="396" y="565"  fill="rgb(151 133 159)">ad</text><text x="402" y="565"  fill="rgb(157 141 165)">o</text><text x="405" y="565"  fill="rgb(133 111 145)">n</text><text x="408" y="565"  fill="rgb(76 38 93)">l</text><text x="411" y="565"  fill="rgb(74 36 91)">y</text><text x="414" y="565"  fill="rgb(73 37 91)"> </text><text x="417" y="565"  fill="rgb(72 37 91)">m</text><text x="420" y="565"  fill="rgb(73 37 91)">st</text><text x="426" y="565"  fill="rgb(74 37 91)">ok</text><text x="432" y="565"  fill="rgb(73 38 91)">en: </text><text x="444" y="565"  fill="rgb(73 38 90)">s</text><text x="447" y="565"  fill="rgb(73 38 91)">t</text><text x="450" y="565"  fill="rgb(73 38 90)">r</text><text x="453" y="565"  fill="rgb(74 39 90)">i</text><text x="456" y="565"  fill="rgb(74 38 90)">n</text><text x="459" y="565"  fill="rgb(74 39 90)">g[</text><text x="465" y="565"  fill="rgb(73 39 90)">]</text><text x="468" y="565"  fill="rgb(74 39 90)"> = [&quot;C</text><text x="486" y="565"  fill="rgb(75 40 91)">O</text><text x="489" y="565"  fill="rgb(68 33 85)">U</text><text x="492" y="565"  fill="rgb(73 42 90)">N</text><text x="495" y="565"  fill="rgb(109 88 119)">T</text><text x="498" y="565"  fill="rgb(119 102 127)">&quot;</text><text x="501" y="565"  fill="rgb(115 96 122)">]</text><text x="504" y="565"  fill="rgb(111 89 119)">;</text><text x="507" y="565"  fill="rgb(91 57 107)"> </text><text x="510" y="565"  fill="rgb(88 54 105)">p</text><text x="513" y="565"  fill="rgb(89 54 107)">r</text><text x="516" y="565"  fill="rgb(88 54 107)">i</text><text x="519" y="565"  fill="rgb(86 52 105)">v</text><text x="522" y="565"  fill="rgb(87 51 106)">a</text><text x="525" y="565"  fill="rgb(86 50 106)">t</text><text x="528" y="565"  fill="rgb(85 47 102)">e</text><text x="531" y="565"  fill="rgb(82 45 99)"> </text><text x="534" y="565"  fill="rgb(79 41 98)">i</text><text x="537" y="565"  fill="rgb(87 55 104)">d</text><text x="540" y="565"  fill="rgb(105 87 114)">I</text><text x="543" y="565"  fill="rgb(103 84 111)">n</text><text x="546" y="565"  fill="rgb(107 87 115)">Q</text><text x="549" y="565"  fill="rgb(111 90 119)">u</text><text x="552" y="565"  fill="rgb(110 90 118)">e</text><text x="555" y="565"  fill="rgb(110 88 118)">r</text><text x="558" y="565"  fill="rgb(108 88 118)">y</text><text x="561" y="565"  fill="rgb(108 87 117)">: </text><text x="567" y="565"  fill="rgb(107 87 117)">s</text><text x="570" y="565"  fill="rgb(107 87 116)">t</text><text x="573" y="565"  fill="rgb(107 87 115)">r</text><text x="576" y="565"  fill="rgb(107 86 115)">ing[</text><text x="588" y="565"  fill="rgb(107 86 116)">]</text><text x="591" y="565"  fill="rgb(106 85 115)">;</text><text x="594" y="565"  fill="rgb(105 83 114)"> </text><text x="597" y="565"  fill="rgb(109 87 118)">/</text><text x="600" y="565"  fill="rgb(118 98 129)">/ </text><text x="606" y="565"  fill="rgb(117 96 127)">ma</text><text x="612" y="565"  fill="rgb(117 95 126)">k</text><text x="615" y="565"  fill="rgb(116 94 126)">e</text><text x="618" y="565"  fill="rgb(115 93 126)"> </text><text x="621" y="565"  fill="rgb(114 93 125)">s</text><text x="624" y="565"  fill="rgb(114 92 125)">u</text><text x="627" y="565"  fill="rgb(114 90 124)">r</text><text x="630" y="565"  fill="rgb(113 90 124)">e</text><text x="633" y="565"  fill="rgb(113 88 123)"> </text><text x="636" y="565"  fill="rgb(112 88 123)">t</text><text x="639" y="565"  fill="rgb(111 87 122)">he</text><text x="645" y="565"  fill="rgb(110 87 122)"> </text><text x="648" y="565"  fill="rgb(111 87 122)">q</text><text x="651" y="565"  fill="rgb(110 86 121)">ue</text><text x="657" y="565"  fill="rgb(109 84 121)">r</text><text x="660" y="565"  fill="rgb(109 83 120)">y</text><text x="663" y="565"  fill="rgb(108 81 120)"> </text><text x="666" y="565"  fill="rgb(108 82 119)">o</text><text x="669" y="565"  fill="rgb(107 81 119)">nl</text><text x="675" y="565"  fill="rgb(106 80 119)">y</text><text x="678" y="565"  fill="rgb(106 79 118)"> </text><text x="681" y="565"  fill="rgb(105 78 117)">h</text><text x="684" y="565"  fill="rgb(105 77 117)">as</text><text x="690" y="565"  fill="rgb(105 76 118)"> </text><text x="693" y="565"  fill="rgb(103 75 116)">o</text><text x="696" y="565"  fill="rgb(102 74 116)">n</text><text x="699" y="565"  fill="rgb(102 74 115)">e</text><text x="702" y="565"  fill="rgb(101 71 114)"> </text><text x="705" y="565"  fill="rgb(100 71 113)">i</text><text x="708" y="565"  fill="rgb(116 90 129)">d</text><text x="711" y="565"  fill="rgb(124 100 136)"> </text><text x="714" y="565"  fill="rgb(122 96 134)">pr</text><text x="720" y="565"  fill="rgb(120 95 133)">i</text><text x="723" y="565"  fill="rgb(120 94 133)">v</text><text x="726" y="565"  fill="rgb(119 92 132)">a</text><text x="729" y="565"  fill="rgb(119 91 132)">t</text><text x="732" y="565"  fill="rgb(118 90 132)">e</text><text x="735" y="565"  fill="rgb(118 90 131)"> </text><text x="738" y="565"  fill="rgb(117 89 131)">k</text><text x="741" y="565"  fill="rgb(116 88 131)">e</text><text x="744" y="565"  fill="rgb(116 87 130)">y</text><text x="747" y="565"  fill="rgb(115 87 130)">s</text><text x="750" y="565"  fill="rgb(115 86 129)">I</text><text x="753" y="565"  fill="rgb(114 86 128)">n</text><text x="756" y="565"  fill="rgb(115 87 130)">Q</text><text x="759" y="565"  fill="rgb(112 84 127)">u</text><text x="762" y="565"  fill="rgb(98 67 111)">e</text><text x="765" y="565"  fill="rgb(96 65 109)">r</text><text x="768" y="565"  fill="rgb(97 66 110)">y</text><text x="771" y="565"  fill="rgb(96 65 110)">: </text><text x="777" y="565"  fill="rgb(95 64 110)">s</text><text x="780" y="565"  fill="rgb(94 64 110)">t</text><text x="783" y="565"  fill="rgb(95 62 110)">r</text><text x="786" y="565"  fill="rgb(96 64 111)">i</text><text x="789" y="565"  fill="rgb(93 62 109)">n</text><text x="792" y="565"  fill="rgb(78 42 96)">g</text><text x="795" y="565"  fill="rgb(74 38 91)">[</text><text x="798" y="565"  fill="rgb(125 101 136)">]</text><text x="801" y="565"  fill="rgb(195 187 198)">;</text><text x="804" y="565"  fill="rgb(209 204 210)"> </text><text x="807" y="565"  fill="rgb(221 217 222)">/</text><text x="810" y="565"  fill="rgb(245 246 245)">/</text><text x="813" y="565"  fill="rgb(246 246 246)"> </text><text x="816" y="565"  fill="rgb(245 245 245)">all keys appeared in columns after being validated private transformationKey: string[]; // keys appeared in transform</text><text x="0" y="570"  fill="rgb(245 245 245)">ation, if there is a transformation private allInsightDataset: InsightDataset[]; private mfields: string[]; pr</text><text x="330" y="570"  fill="rgb(252 253 251)">i</text><text x="333" y="570"  fill="rgb(239 237 239)">v</text><text x="336" y="570"  fill="rgb(157 138 167)">a</text><text x="339" y="570"  fill="rgb(134 110 146)">t</text><text x="342" y="570"  fill="rgb(146 125 157)">e</text><text x="345" y="570"  fill="rgb(144 124 156)"> </text><text x="348" y="570"  fill="rgb(145 125 157)">s</text><text x="351" y="570"  fill="rgb(146 126 157)">fiel</text><text x="363" y="570"  fill="rgb(147 127 157)">ds</text><text x="369" y="570"  fill="rgb(147 128 158)">: </text><text x="375" y="570"  fill="rgb(148 129 158)">str</text><text x="384" y="570"  fill="rgb(149 130 159)">in</text><text x="390" y="570"  fill="rgb(149 131 159)">g[</text><text x="396" y="570"  fill="rgb(150 132 159)">];</text><text x="402" y="570"  fill="rgb(155 139 164)"> </text><text x="405" y="570"  fill="rgb(139 118 149)">c</text><text x="408" y="570"  fill="rgb(78 42 96)">o</text><text x="411" y="570"  fill="rgb(69 31 87)">n</text><text x="414" y="570"  fill="rgb(73 37 91)">s</text><text x="417" y="570"  fill="rgb(74 37 91)">tru</text><text x="426" y="570"  fill="rgb(75 38 91)">ct</text><text x="432" y="570"  fill="rgb(73 38 91)">o</text><text x="435" y="570"  fill="rgb(74 39 91)">r(i</text><text x="444" y="570"  fill="rgb(74 39 90)">n</text><text x="447" y="570"  fill="rgb(74 39 91)">s</text><text x="450" y="570"  fill="rgb(74 39 90)">ight</text><text x="462" y="570"  fill="rgb(75 40 90)">D</text><text x="465" y="570"  fill="rgb(73 40 90)">a</text><text x="468" y="570"  fill="rgb(74 40 90)">ta</text><text x="474" y="570"  fill="rgb(75 40 90)">se</text><text x="480" y="570"  fill="rgb(74 40 89)">ts: </text><text x="492" y="570"  fill="rgb(66 31 84)">I</text><text x="495" y="570"  fill="rgb(77 45 92)">n</text><text x="498" y="570"  fill="rgb(113 93 122)">s</text><text x="501" y="570"  fill="rgb(122 105 129)">i</text><text x="504" y="570"  fill="rgb(113 94 122)">g</text><text x="507" y="570"  fill="rgb(93 62 109)">h</text><text x="510" y="570"  fill="rgb(88 53 106)">t</text><text x="513" y="570"  fill="rgb(89 55 107)">D</text><text x="516" y="570"  fill="rgb(87 53 106)">a</text><text x="519" y="570"  fill="rgb(88 52 107)">t</text><text x="522" y="570"  fill="rgb(87 51 107)">a</text><text x="525" y="570"  fill="rgb(86 50 107)">s</text><text x="528" y="570"  fill="rgb(85 47 103)">e</text><text x="531" y="570"  fill="rgb(83 46 100)">t</text><text x="534" y="570"  fill="rgb(81 42 100)">[</text><text x="537" y="570"  fill="rgb(97 73 110)">]</text><text x="540" y="570"  fill="rgb(107 90 114)">)</text><text x="543" y="570"  fill="rgb(104 85 112)"> </text><text x="546" y="570"  fill="rgb(109 89 118)">{</text><text x="549" y="570"  fill="rgb(110 90 119)"> </text><text x="552" y="570"  fill="rgb(110 90 118)">this</text><text x="564" y="570"  fill="rgb(108 88 117)">.idI</text><text x="576" y="570"  fill="rgb(107 88 117)">n</text><text x="579" y="570"  fill="rgb(107 86 115)">Qu</text><text x="585" y="570"  fill="rgb(108 86 116)">e</text><text x="588" y="570"  fill="rgb(107 86 115)">ry</text><text x="594" y="570"  fill="rgb(106 85 114)"> </text><text x="597" y="570"  fill="rgb(110 89 119)">=</text><text x="600" y="570"  fill="rgb(119 99 129)"> [</text><text x="606" y="570"  fill="rgb(118 98 129)">]</text><text x="609" y="570"  fill="rgb(117 97 128)">;</text><text x="612" y="570"  fill="rgb(117 96 127)"> t</text><text x="618" y="570"  fill="rgb(117 95 127)">h</text><text x="621" y="570"  fill="rgb(116 95 126)">i</text><text x="624" y="570"  fill="rgb(116 93 125)">s</text><text x="627" y="570"  fill="rgb(115 93 125)">.</text><text x="630" y="570"  fill="rgb(114 92 125)">k</text><text x="633" y="570"  fill="rgb(113 91 124)">e</text><text x="636" y="570"  fill="rgb(114 89 124)">y</text><text x="639" y="570"  fill="rgb(113 88 123)">s</text><text x="642" y="570"  fill="rgb(112 88 123)">In</text><text x="648" y="570"  fill="rgb(110 87 122)">Qu</text><text x="654" y="570"  fill="rgb(110 86 121)">ery</text><text x="663" y="570"  fill="rgb(109 85 121)"> </text><text x="666" y="570"  fill="rgb(109 83 120)">=</text><text x="669" y="570"  fill="rgb(108 82 119)"> [</text><text x="675" y="570"  fill="rgb(107 81 119)">]</text><text x="678" y="570"  fill="rgb(106 81 119)">;</text><text x="681" y="570"  fill="rgb(106 80 119)"> </text><text x="684" y="570"  fill="rgb(105 79 118)">t</text><text x="687" y="570"  fill="rgb(106 79 118)">h</text><text x="690" y="570"  fill="rgb(105 78 117)">i</text><text x="693" y="570"  fill="rgb(105 77 117)">s.</text><text x="699" y="570"  fill="rgb(104 76 117)">t</text><text x="702" y="570"  fill="rgb(103 75 116)">r</text><text x="705" y="570"  fill="rgb(100 71 113)">a</text><text x="708" y="570"  fill="rgb(112 85 125)">n</text><text x="711" y="570"  fill="rgb(125 102 138)">s</text><text x="714" y="570"  fill="rgb(122 98 135)">f</text><text x="717" y="570"  fill="rgb(121 97 134)">o</text><text x="720" y="570"  fill="rgb(122 97 134)">r</text><text x="723" y="570"  fill="rgb(122 95 134)">m</text><text x="726" y="570"  fill="rgb(121 95 134)">a</text><text x="729" y="570"  fill="rgb(120 94 133)">t</text><text x="732" y="570"  fill="rgb(120 93 133)">i</text><text x="735" y="570"  fill="rgb(119 92 132)">o</text><text x="738" y="570"  fill="rgb(118 91 131)">n</text><text x="741" y="570"  fill="rgb(118 90 132)">K</text><text x="744" y="570"  fill="rgb(117 89 130)">e</text><text x="747" y="570"  fill="rgb(117 89 131)">y</text><text x="750" y="570"  fill="rgb(116 88 130)"> </text><text x="753" y="570"  fill="rgb(115 87 130)">=</text><text x="756" y="570"  fill="rgb(114 86 129)"> </text><text x="759" y="570"  fill="rgb(116 88 130)">[</text><text x="762" y="570"  fill="rgb(105 76 118)">]</text><text x="765" y="570"  fill="rgb(96 66 110)">;</text><text x="768" y="570"  fill="rgb(97 67 111)"> </text><text x="771" y="570"  fill="rgb(97 66 110)">th</text><text x="777" y="570"  fill="rgb(96 65 110)">is</text><text x="783" y="570"  fill="rgb(94 63 110)">.</text><text x="786" y="570"  fill="rgb(95 63 110)">a</text><text x="789" y="570"  fill="rgb(95 64 110)">l</text><text x="792" y="570"  fill="rgb(96 64 111)">l</text><text x="795" y="570"  fill="rgb(87 53 103)">I</text><text x="798" y="570"  fill="rgb(74 38 91)">n</text><text x="801" y="570"  fill="rgb(99 68 113)">s</text><text x="804" y="570"  fill="rgb(164 150 170)">i</text><text x="807" y="570"  fill="rgb(203 198 205)">g</text><text x="810" y="570"  fill="rgb(225 223 226)">h</text><text x="813" y="570"  fill="rgb(246 247 247)">t</text><text x="816" y="570"  fill="rgb(247 247 246)">D</text><text x="819" y="570"  fill="rgb(245 245 245)">ataset = insightDatasets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightErr</text><text x="0" y="575"  fill="rgb(245 245 245)">or(); } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS</text><text x="330" y="575"  fill="rgb(255 255 255)">&quot;</text><text x="333" y="575"  fill="rgb(212 204 215)">)</text><text x="336" y="575"  fill="rgb(134 110 147)"> </text><text x="339" y="575"  fill="rgb(140 119 152)">{</text><text x="342" y="575"  fill="rgb(144 124 156)"> </text><text x="345" y="575"  fill="rgb(144 123 155)">th</text><text x="351" y="575"  fill="rgb(145 125 157)">r</text><text x="354" y="575"  fill="rgb(145 125 156)">ow</text><text x="360" y="575"  fill="rgb(146 126 157)"> ne</text><text x="369" y="575"  fill="rgb(146 127 157)">w </text><text x="375" y="575"  fill="rgb(147 128 158)">In</text><text x="381" y="575"  fill="rgb(148 129 158)">sigh</text><text x="393" y="575"  fill="rgb(149 130 159)">t</text><text x="396" y="575"  fill="rgb(149 131 159)">Er</text><text x="402" y="575"  fill="rgb(153 136 162)">r</text><text x="405" y="575"  fill="rgb(149 132 157)">o</text><text x="408" y="575"  fill="rgb(93 63 109)">r</text><text x="411" y="575"  fill="rgb(61 22 81)">(</text><text x="414" y="575"  fill="rgb(73 35 90)">)</text><text x="417" y="575"  fill="rgb(75 38 91)">; </text><text x="423" y="575"  fill="rgb(74 37 91)">}</text><text x="426" y="575"  fill="rgb(75 38 91)"> </text><text x="429" y="575"  fill="rgb(74 38 91)">} </text><text x="435" y="575"  fill="rgb(74 39 91)">th</text><text x="441" y="575"  fill="rgb(74 39 90)">is</text><text x="447" y="575"  fill="rgb(75 40 91)">.va</text><text x="456" y="575"  fill="rgb(75 40 90)">lida</text><text x="468" y="575"  fill="rgb(74 40 90)">t</text><text x="471" y="575"  fill="rgb(74 40 91)">e</text><text x="474" y="575"  fill="rgb(74 40 90)">W</text><text x="477" y="575"  fill="rgb(74 40 89)">here(q</text><text x="495" y="575"  fill="rgb(68 33 84)">.</text><text x="498" y="575"  fill="rgb(79 48 93)">W</text><text x="501" y="575"  fill="rgb(117 97 123)">H</text><text x="504" y="575"  fill="rgb(122 107 130)">E</text><text x="507" y="575"  fill="rgb(98 66 111)">R</text><text x="510" y="575"  fill="rgb(88 52 106)">E</text><text x="513" y="575"  fill="rgb(89 55 107)">)</text><text x="516" y="575"  fill="rgb(88 53 106)">;</text><text x="519" y="575"  fill="rgb(88 52 107)"> </text><text x="522" y="575"  fill="rgb(87 51 108)">i</text><text x="525" y="575"  fill="rgb(88 50 107)">f</text><text x="528" y="575"  fill="rgb(85 48 102)"> </text><text x="531" y="575"  fill="rgb(81 43 100)">(</text><text x="534" y="575"  fill="rgb(87 51 103)">q</text><text x="537" y="575"  fill="rgb(106 87 114)">.</text><text x="540" y="575"  fill="rgb(106 87 113)">T</text><text x="543" y="575"  fill="rgb(108 88 117)">R</text><text x="546" y="575"  fill="rgb(111 92 120)">A</text><text x="549" y="575"  fill="rgb(110 90 120)">N</text><text x="552" y="575"  fill="rgb(110 90 119)">SF</text><text x="558" y="575"  fill="rgb(111 91 118)">O</text><text x="561" y="575"  fill="rgb(110 90 118)">R</text><text x="564" y="575"  fill="rgb(109 89 118)">MAT</text><text x="573" y="575"  fill="rgb(108 88 117)">ION</text><text x="582" y="575"  fill="rgb(107 87 116)">S) </text><text x="591" y="575"  fill="rgb(107 86 115)">{</text><text x="594" y="575"  fill="rgb(106 85 115)"> </text><text x="597" y="575"  fill="rgb(111 91 121)">t</text><text x="600" y="575"  fill="rgb(121 101 130)">h</text><text x="603" y="575"  fill="rgb(121 100 130)">i</text><text x="606" y="575"  fill="rgb(119 98 128)">s</text><text x="609" y="575"  fill="rgb(118 99 129)">.</text><text x="612" y="575"  fill="rgb(118 98 128)">v</text><text x="615" y="575"  fill="rgb(118 97 128)">a</text><text x="618" y="575"  fill="rgb(117 97 127)">l</text><text x="621" y="575"  fill="rgb(117 95 126)">i</text><text x="624" y="575"  fill="rgb(116 95 126)">d</text><text x="627" y="575"  fill="rgb(116 94 126)">at</text><text x="633" y="575"  fill="rgb(114 93 126)">e</text><text x="636" y="575"  fill="rgb(114 91 125)">T</text><text x="639" y="575"  fill="rgb(113 90 124)">r</text><text x="642" y="575"  fill="rgb(113 89 123)">an</text><text x="648" y="575"  fill="rgb(111 87 123)">s</text><text x="651" y="575"  fill="rgb(111 87 122)">f</text><text x="654" y="575"  fill="rgb(110 87 122)">o</text><text x="657" y="575"  fill="rgb(110 86 121)">rma</text><text x="666" y="575"  fill="rgb(109 85 121)">t</text><text x="669" y="575"  fill="rgb(109 84 121)">i</text><text x="672" y="575"  fill="rgb(109 83 120)">o</text><text x="675" y="575"  fill="rgb(108 82 119)">n</text><text x="678" y="575"  fill="rgb(107 81 119)">s(</text><text x="684" y="575"  fill="rgb(106 81 119)">q</text><text x="687" y="575"  fill="rgb(106 80 119)">.</text><text x="690" y="575"  fill="rgb(105 79 118)">T</text><text x="693" y="575"  fill="rgb(105 78 118)">R</text><text x="696" y="575"  fill="rgb(105 77 117)">AN</text><text x="702" y="575"  fill="rgb(104 76 117)">S</text><text x="705" y="575"  fill="rgb(101 72 114)">F</text><text x="708" y="575"  fill="rgb(109 82 122)">O</text><text x="711" y="575"  fill="rgb(125 100 137)">R</text><text x="714" y="575"  fill="rgb(124 100 136)">M</text><text x="717" y="575"  fill="rgb(122 98 135)">A</text><text x="720" y="575"  fill="rgb(122 97 134)">TI</text><text x="726" y="575"  fill="rgb(122 96 134)">O</text><text x="729" y="575"  fill="rgb(121 95 134)">N</text><text x="732" y="575"  fill="rgb(120 95 134)">S</text><text x="735" y="575"  fill="rgb(120 94 133)">)</text><text x="738" y="575"  fill="rgb(119 93 132)">;</text><text x="741" y="575"  fill="rgb(118 91 131)"> </text><text x="744" y="575"  fill="rgb(118 90 131)">}</text><text x="747" y="575"  fill="rgb(117 89 131)"> t</text><text x="753" y="575"  fill="rgb(116 88 130)">h</text><text x="756" y="575"  fill="rgb(115 87 130)">i</text><text x="759" y="575"  fill="rgb(116 88 131)">s</text><text x="762" y="575"  fill="rgb(111 83 126)">.</text><text x="765" y="575"  fill="rgb(97 69 111)">v</text><text x="768" y="575"  fill="rgb(97 68 111)">a</text><text x="771" y="575"  fill="rgb(97 67 111)">l</text><text x="774" y="575"  fill="rgb(97 67 112)">i</text><text x="777" y="575"  fill="rgb(97 66 111)">d</text><text x="780" y="575"  fill="rgb(96 65 110)">a</text><text x="783" y="575"  fill="rgb(95 64 110)">t</text><text x="786" y="575"  fill="rgb(96 65 110)">e</text><text x="789" y="575"  fill="rgb(95 64 110)">O</text><text x="792" y="575"  fill="rgb(94 63 110)">p</text><text x="795" y="575"  fill="rgb(95 64 110)">t</text><text x="798" y="575"  fill="rgb(93 61 109)">i</text><text x="801" y="575"  fill="rgb(82 48 99)">o</text><text x="804" y="575"  fill="rgb(84 51 100)">n</text><text x="807" y="575"  fill="rgb(134 111 144)">s</text><text x="810" y="575"  fill="rgb(194 185 197)">(</text><text x="813" y="575"  fill="rgb(233 232 233)">q</text><text x="816" y="575"  fill="rgb(250 251 249)">.</text><text x="819" y="575"  fill="rgb(246 247 247)">O</text><text x="822" y="575"  fill="rgb(245 245 245)">PTIONS); } public validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === </text><text x="0" y="580"  fill="rgb(245 245 245)">&quot;undefined&quot; || Object.keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.v</text><text x="327" y="580"  fill="rgb(248 249 248)">a</text><text x="330" y="580"  fill="rgb(247 247 247)">l</text><text x="333" y="580"  fill="rgb(177 160 185)">i</text><text x="336" y="580"  fill="rgb(131 105 142)">d</text><text x="339" y="580"  fill="rgb(144 123 155)">a</text><text x="342" y="580"  fill="rgb(143 122 155)">te</text><text x="348" y="580"  fill="rgb(144 122 155)">A</text><text x="351" y="580"  fill="rgb(144 123 155)">PP</text><text x="357" y="580"  fill="rgb(144 124 155)">LY</text><text x="363" y="580"  fill="rgb(145 125 156)">(q</text><text x="369" y="580"  fill="rgb(146 126 157)">.AP</text><text x="378" y="580"  fill="rgb(146 127 157)">PL</text><text x="384" y="580"  fill="rgb(147 128 158)">Y);</text><text x="393" y="580"  fill="rgb(148 129 158)"> </text><text x="396" y="580"  fill="rgb(149 130 159)">} </text><text x="402" y="580"  fill="rgb(150 131 160)">p</text><text x="405" y="580"  fill="rgb(151 135 159)">r</text><text x="408" y="580"  fill="rgb(120 97 131)">i</text><text x="411" y="580"  fill="rgb(66 26 84)">v</text><text x="414" y="580"  fill="rgb(66 28 83)">a</text><text x="417" y="580"  fill="rgb(75 40 91)">t</text><text x="420" y="580"  fill="rgb(75 38 91)">e </text><text x="426" y="580"  fill="rgb(74 39 91)">va</text><text x="432" y="580"  fill="rgb(75 39 92)">l</text><text x="435" y="580"  fill="rgb(75 40 91)">i</text><text x="438" y="580"  fill="rgb(75 40 90)">d</text><text x="441" y="580"  fill="rgb(75 40 91)">at</text><text x="447" y="580"  fill="rgb(74 40 91)">e</text><text x="450" y="580"  fill="rgb(75 40 91)">G</text><text x="453" y="580"  fill="rgb(75 40 92)">R</text><text x="456" y="580"  fill="rgb(75 40 91)">O</text><text x="459" y="580"  fill="rgb(75 40 90)">U</text><text x="462" y="580"  fill="rgb(75 40 91)">P(</text><text x="468" y="580"  fill="rgb(74 40 91)">q</text><text x="471" y="580"  fill="rgb(74 41 90)">: </text><text x="477" y="580"  fill="rgb(74 40 90)">an</text><text x="483" y="580"  fill="rgb(75 42 91)">y)</text><text x="489" y="580"  fill="rgb(74 41 90)">: </text><text x="495" y="580"  fill="rgb(75 42 90)">v</text><text x="498" y="580"  fill="rgb(68 32 84)">o</text><text x="501" y="580"  fill="rgb(81 50 94)">i</text><text x="504" y="580"  fill="rgb(120 104 127)">d</text><text x="507" y="580"  fill="rgb(107 81 118)"> </text><text x="510" y="580"  fill="rgb(87 51 106)">{</text><text x="513" y="580"  fill="rgb(89 55 107)"> </text><text x="516" y="580"  fill="rgb(88 53 107)">i</text><text x="519" y="580"  fill="rgb(88 52 107)">f</text><text x="522" y="580"  fill="rgb(88 51 108)"> </text><text x="525" y="580"  fill="rgb(87 50 107)">(</text><text x="528" y="580"  fill="rgb(83 48 101)">!</text><text x="531" y="580"  fill="rgb(80 40 101)">A</text><text x="534" y="580"  fill="rgb(97 69 110)">r</text><text x="537" y="580"  fill="rgb(110 93 116)">r</text><text x="540" y="580"  fill="rgb(108 88 115)">a</text><text x="543" y="580"  fill="rgb(111 93 121)">y</text><text x="546" y="580"  fill="rgb(111 93 120)">.</text><text x="549" y="580"  fill="rgb(111 92 121)">is</text><text x="555" y="580"  fill="rgb(111 91 120)">Ar</text><text x="561" y="580"  fill="rgb(110 90 118)">ra</text><text x="567" y="580"  fill="rgb(110 90 119)">y</text><text x="570" y="580"  fill="rgb(110 90 118)">(</text><text x="573" y="580"  fill="rgb(110 89 119)">q</text><text x="576" y="580"  fill="rgb(109 89 118)">)</text><text x="579" y="580"  fill="rgb(108 88 117)"> || </text><text x="591" y="580"  fill="rgb(108 87 116)">q</text><text x="594" y="580"  fill="rgb(107 86 115)">.</text><text x="597" y="580"  fill="rgb(112 93 122)">l</text><text x="600" y="580"  fill="rgb(123 104 132)">e</text><text x="603" y="580"  fill="rgb(122 102 131)">n</text><text x="606" y="580"  fill="rgb(121 100 130)">g</text><text x="609" y="580"  fill="rgb(120 100 129)">th</text><text x="615" y="580"  fill="rgb(119 99 129)"> </text><text x="618" y="580"  fill="rgb(118 98 129)">&lt;</text><text x="621" y="580"  fill="rgb(117 97 128)"> </text><text x="624" y="580"  fill="rgb(117 97 127)">1</text><text x="627" y="580"  fill="rgb(117 96 127)">)</text><text x="630" y="580"  fill="rgb(117 95 126)"> </text><text x="633" y="580"  fill="rgb(116 94 126)">{</text><text x="636" y="580"  fill="rgb(115 93 125)"> t</text><text x="642" y="580"  fill="rgb(114 92 125)">h</text><text x="645" y="580"  fill="rgb(114 91 124)">r</text><text x="648" y="580"  fill="rgb(113 90 124)">o</text><text x="651" y="580"  fill="rgb(112 88 124)">w</text><text x="654" y="580"  fill="rgb(112 88 123)"> </text><text x="657" y="580"  fill="rgb(112 87 122)">n</text><text x="660" y="580"  fill="rgb(110 87 122)">e</text><text x="663" y="580"  fill="rgb(111 87 122)">w</text><text x="666" y="580"  fill="rgb(110 86 121)"> I</text><text x="672" y="580"  fill="rgb(109 85 121)">n</text><text x="675" y="580"  fill="rgb(109 86 121)">s</text><text x="678" y="580"  fill="rgb(109 82 120)">i</text><text x="681" y="580"  fill="rgb(108 83 120)">g</text><text x="684" y="580"  fill="rgb(108 81 119)">h</text><text x="687" y="580"  fill="rgb(106 81 119)">t</text><text x="690" y="580"  fill="rgb(107 81 119)">E</text><text x="693" y="580"  fill="rgb(106 80 119)">r</text><text x="696" y="580"  fill="rgb(106 80 118)">r</text><text x="699" y="580"  fill="rgb(105 79 118)">o</text><text x="702" y="580"  fill="rgb(105 78 117)">r</text><text x="705" y="580"  fill="rgb(103 75 115)">(</text><text x="708" y="580"  fill="rgb(105 78 118)">)</text><text x="711" y="580"  fill="rgb(124 99 135)">;</text><text x="714" y="580"  fill="rgb(127 102 138)"> </text><text x="717" y="580"  fill="rgb(124 99 136)">/</text><text x="720" y="580"  fill="rgb(124 99 135)">/</text><text x="723" y="580"  fill="rgb(122 98 135)"> </text><text x="726" y="580"  fill="rgb(121 98 134)">q</text><text x="729" y="580"  fill="rgb(122 97 134)"> s</text><text x="735" y="580"  fill="rgb(121 96 135)">h</text><text x="738" y="580"  fill="rgb(121 95 134)">o</text><text x="741" y="580"  fill="rgb(120 94 133)">u</text><text x="744" y="580"  fill="rgb(120 93 133)">l</text><text x="747" y="580"  fill="rgb(118 91 132)">d</text><text x="750" y="580"  fill="rgb(118 90 132)"> </text><text x="753" y="580"  fill="rgb(118 90 131)">b</text><text x="756" y="580"  fill="rgb(117 89 131)">e</text><text x="759" y="580"  fill="rgb(118 89 132)"> </text><text x="762" y="580"  fill="rgb(115 87 129)">a</text><text x="765" y="580"  fill="rgb(100 73 115)">n</text><text x="768" y="580"  fill="rgb(97 68 110)"> </text><text x="771" y="580"  fill="rgb(98 69 111)">o</text><text x="774" y="580"  fill="rgb(97 68 111)">b</text><text x="777" y="580"  fill="rgb(97 67 111)">j</text><text x="780" y="580"  fill="rgb(97 67 110)">e</text><text x="783" y="580"  fill="rgb(96 65 110)">ct</text><text x="789" y="580"  fill="rgb(95 64 110)">, </text><text x="795" y="580"  fill="rgb(94 63 110)">a</text><text x="798" y="580"  fill="rgb(95 63 110)">n</text><text x="801" y="580"  fill="rgb(95 63 111)">d</text><text x="804" y="580"  fill="rgb(89 55 105)"> </text><text x="807" y="580"  fill="rgb(76 39 92)">s</text><text x="810" y="580"  fill="rgb(109 80 121)">h</text><text x="813" y="580"  fill="rgb(182 173 187)">o</text><text x="816" y="580"  fill="rgb(240 241 241)">u</text><text x="819" y="580"  fill="rgb(252 254 252)">l</text><text x="822" y="580"  fill="rgb(245 246 245)">d</text><text x="825" y="580"  fill="rgb(245 245 245)"> has at least one element } for (let key of q) { this.validateKey(key); this.transformationKey.push(key); // if th</text><text x="0" y="585"  fill="rgb(245 245 245)">e key is valid, push it to transformationKey } } private validateKey(key: string): void { let splittedKey: st</text><text x="327" y="585"  fill="rgb(252 254 251)">r</text><text x="330" y="585"  fill="rgb(231 228 233)">i</text><text x="333" y="585"  fill="rgb(147 125 158)">n</text><text x="336" y="585"  fill="rgb(135 113 149)">g</text><text x="339" y="585"  fill="rgb(143 121 155)">[</text><text x="342" y="585"  fill="rgb(143 121 154)">] </text><text x="348" y="585"  fill="rgb(143 121 155)">=</text><text x="351" y="585"  fill="rgb(143 122 154)"> </text><text x="354" y="585"  fill="rgb(144 123 155)">ke</text><text x="360" y="585"  fill="rgb(144 124 155)">y.s</text><text x="369" y="585"  fill="rgb(144 125 155)">p</text><text x="372" y="585"  fill="rgb(144 124 155)">li</text><text x="378" y="585"  fill="rgb(146 126 157)">t</text><text x="381" y="585"  fill="rgb(146 127 157)">(&quot;</text><text x="387" y="585"  fill="rgb(146 127 156)">_</text><text x="390" y="585"  fill="rgb(146 127 157)">&quot;</text><text x="393" y="585"  fill="rgb(146 128 156)">)</text><text x="396" y="585"  fill="rgb(148 129 157)">;</text><text x="399" y="585"  fill="rgb(148 129 158)"> i</text><text x="405" y="585"  fill="rgb(146 127 155)">f</text><text x="408" y="585"  fill="rgb(134 115 142)"> </text><text x="411" y="585"  fill="rgb(84 51 99)">(</text><text x="414" y="585"  fill="rgb(61 21 80)">s</text><text x="417" y="585"  fill="rgb(73 36 90)">p</text><text x="420" y="585"  fill="rgb(76 40 93)">l</text><text x="423" y="585"  fill="rgb(75 39 92)">i</text><text x="426" y="585"  fill="rgb(75 40 92)">tt</text><text x="432" y="585"  fill="rgb(75 40 91)">e</text><text x="435" y="585"  fill="rgb(76 41 93)">d</text><text x="438" y="585"  fill="rgb(75 40 93)">K</text><text x="441" y="585"  fill="rgb(75 40 92)">e</text><text x="444" y="585"  fill="rgb(76 41 92)">y</text><text x="447" y="585"  fill="rgb(75 41 92)">.</text><text x="450" y="585"  fill="rgb(74 41 92)">le</text><text x="456" y="585"  fill="rgb(75 40 92)">n</text><text x="459" y="585"  fill="rgb(76 40 92)">g</text><text x="462" y="585"  fill="rgb(76 41 92)">t</text><text x="465" y="585"  fill="rgb(76 40 92)">h </text><text x="471" y="585"  fill="rgb(75 42 91)">!</text><text x="474" y="585"  fill="rgb(75 43 92)">=</text><text x="477" y="585"  fill="rgb(76 43 92)">=</text><text x="480" y="585"  fill="rgb(76 43 91)"> </text><text x="483" y="585"  fill="rgb(76 43 92)">2)</text><text x="489" y="585"  fill="rgb(75 43 91)"> {</text><text x="495" y="585"  fill="rgb(76 43 91)"> </text><text x="498" y="585"  fill="rgb(77 44 92)">t</text><text x="501" y="585"  fill="rgb(69 34 84)">h</text><text x="504" y="585"  fill="rgb(85 55 96)">r</text><text x="507" y="585"  fill="rgb(104 79 116)">o</text><text x="510" y="585"  fill="rgb(91 59 110)">w</text><text x="513" y="585"  fill="rgb(89 53 107)"> </text><text x="516" y="585"  fill="rgb(89 52 108)">new</text><text x="525" y="585"  fill="rgb(87 50 106)"> </text><text x="528" y="585"  fill="rgb(83 44 102)">I</text><text x="531" y="585"  fill="rgb(86 49 103)">n</text><text x="534" y="585"  fill="rgb(107 88 117)">s</text><text x="537" y="585"  fill="rgb(110 93 117)">i</text><text x="540" y="585"  fill="rgb(111 91 118)">g</text><text x="543" y="585"  fill="rgb(113 94 122)">h</text><text x="546" y="585"  fill="rgb(112 93 121)">t</text><text x="549" y="585"  fill="rgb(113 94 122)">E</text><text x="552" y="585"  fill="rgb(111 92 121)">rr</text><text x="558" y="585"  fill="rgb(111 91 120)">o</text><text x="561" y="585"  fill="rgb(111 92 121)">r</text><text x="564" y="585"  fill="rgb(111 90 119)">(</text><text x="567" y="585"  fill="rgb(110 90 118)">)</text><text x="570" y="585"  fill="rgb(111 90 119)">;</text><text x="573" y="585"  fill="rgb(110 90 119)"> </text><text x="576" y="585"  fill="rgb(111 90 119)">}</text><text x="579" y="585"  fill="rgb(110 90 119)"> </text><text x="582" y="585"  fill="rgb(110 90 118)">i</text><text x="585" y="585"  fill="rgb(109 90 118)">f</text><text x="588" y="585"  fill="rgb(109 89 118)"> </text><text x="591" y="585"  fill="rgb(108 89 117)">(</text><text x="594" y="585"  fill="rgb(107 86 115)">!</text><text x="597" y="585"  fill="rgb(115 96 125)">(</text><text x="600" y="585"  fill="rgb(124 106 134)">t</text><text x="603" y="585"  fill="rgb(122 103 131)">h</text><text x="606" y="585"  fill="rgb(123 103 131)">i</text><text x="609" y="585"  fill="rgb(122 102 130)">s</text><text x="612" y="585"  fill="rgb(122 102 131)">.</text><text x="615" y="585"  fill="rgb(121 101 129)">v</text><text x="618" y="585"  fill="rgb(120 100 129)">a</text><text x="621" y="585"  fill="rgb(118 98 129)">l</text><text x="624" y="585"  fill="rgb(119 98 128)">i</text><text x="627" y="585"  fill="rgb(118 98 129)">d</text><text x="630" y="585"  fill="rgb(117 96 128)">a</text><text x="633" y="585"  fill="rgb(118 97 128)">t</text><text x="636" y="585"  fill="rgb(117 95 127)">e</text><text x="639" y="585"  fill="rgb(117 95 125)">I</text><text x="642" y="585"  fill="rgb(116 93 125)">d</text><text x="645" y="585"  fill="rgb(116 94 126)">s</text><text x="648" y="585"  fill="rgb(114 93 125)">t</text><text x="651" y="585"  fill="rgb(114 92 126)">r</text><text x="654" y="585"  fill="rgb(113 90 123)">i</text><text x="657" y="585"  fill="rgb(113 89 124)">ng</text><text x="663" y="585"  fill="rgb(112 88 123)">(</text><text x="666" y="585"  fill="rgb(111 87 121)">s</text><text x="669" y="585"  fill="rgb(110 87 122)">p</text><text x="672" y="585"  fill="rgb(110 87 121)">l</text><text x="675" y="585"  fill="rgb(110 86 121)">i</text><text x="678" y="585"  fill="rgb(110 85 120)">t</text><text x="681" y="585"  fill="rgb(109 85 121)">t</text><text x="684" y="585"  fill="rgb(109 84 120)">e</text><text x="687" y="585"  fill="rgb(109 83 120)">d</text><text x="690" y="585"  fill="rgb(109 83 119)">K</text><text x="693" y="585"  fill="rgb(107 81 119)">ey[</text><text x="702" y="585"  fill="rgb(105 80 119)">0</text><text x="705" y="585"  fill="rgb(106 79 118)">]</text><text x="708" y="585"  fill="rgb(103 76 115)">)</text><text x="711" y="585"  fill="rgb(119 95 131)"> </text><text x="714" y="585"  fill="rgb(129 105 139)">&amp;</text><text x="717" y="585"  fill="rgb(125 101 136)">&amp;</text><text x="720" y="585"  fill="rgb(125 100 136)"> (</text><text x="726" y="585"  fill="rgb(124 99 136)">t</text><text x="729" y="585"  fill="rgb(122 99 135)">h</text><text x="732" y="585"  fill="rgb(122 98 134)">is</text><text x="738" y="585"  fill="rgb(122 97 135)">.</text><text x="741" y="585"  fill="rgb(122 96 134)">m</text><text x="744" y="585"  fill="rgb(122 95 134)">f</text><text x="747" y="585"  fill="rgb(120 94 134)">i</text><text x="750" y="585"  fill="rgb(119 93 132)">e</text><text x="753" y="585"  fill="rgb(119 93 133)">l</text><text x="756" y="585"  fill="rgb(118 91 131)">d</text><text x="759" y="585"  fill="rgb(119 90 131)">s</text><text x="762" y="585"  fill="rgb(118 90 131)">.</text><text x="765" y="585"  fill="rgb(106 77 119)">i</text><text x="768" y="585"  fill="rgb(98 68 111)">n</text><text x="771" y="585"  fill="rgb(99 69 111)">cl</text><text x="777" y="585"  fill="rgb(97 68 111)">ud</text><text x="783" y="585"  fill="rgb(97 67 111)">e</text><text x="786" y="585"  fill="rgb(97 65 110)">s</text><text x="789" y="585"  fill="rgb(97 66 110)">(</text><text x="792" y="585"  fill="rgb(95 64 110)">spl</text><text x="801" y="585"  fill="rgb(93 63 110)">i</text><text x="804" y="585"  fill="rgb(95 64 111)">t</text><text x="807" y="585"  fill="rgb(94 63 110)">t</text><text x="810" y="585"  fill="rgb(77 41 93)">e</text><text x="813" y="585"  fill="rgb(90 58 105)">d</text><text x="816" y="585"  fill="rgb(167 153 173)">K</text><text x="819" y="585"  fill="rgb(243 243 241)">e</text><text x="822" y="585"  fill="rgb(251 253 251)">y</text><text x="825" y="585"  fill="rgb(245 245 245)">[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any): vo</text><text x="0" y="590"  fill="rgb(245 245 245)">id { if (!Array.isArray(q)) { throw new InsightError(); // q should be an array, and should have at least on</text><text x="324" y="590"  fill="rgb(246 246 246)">e</text><text x="327" y="590"  fill="rgb(251 251 250)"> </text><text x="330" y="590"  fill="rgb(205 195 210)">e</text><text x="333" y="590"  fill="rgb(132 107 145)">l</text><text x="336" y="590"  fill="rgb(140 118 153)">e</text><text x="339" y="590"  fill="rgb(141 118 153)">m</text><text x="342" y="590"  fill="rgb(142 119 153)">ent</text><text x="351" y="590"  fill="rgb(142 120 154)"> </text><text x="354" y="590"  fill="rgb(143 121 154)">} </text><text x="360" y="590"  fill="rgb(143 122 154)">f</text><text x="363" y="590"  fill="rgb(143 122 155)">o</text><text x="366" y="590"  fill="rgb(143 123 154)">r</text><text x="369" y="590"  fill="rgb(144 123 155)"> (l</text><text x="378" y="590"  fill="rgb(144 124 155)">e</text><text x="381" y="590"  fill="rgb(145 125 156)">t a</text><text x="390" y="590"  fill="rgb(145 126 156)">p</text><text x="393" y="590"  fill="rgb(146 126 156)">p</text><text x="396" y="590"  fill="rgb(146 128 156)">l</text><text x="399" y="590"  fill="rgb(146 129 156)">y</text><text x="402" y="590"  fill="rgb(148 129 158)">r</text><text x="405" y="590"  fill="rgb(143 122 151)">u</text><text x="408" y="590"  fill="rgb(128 107 136)">l</text><text x="411" y="590"  fill="rgb(104 81 115)">e</text><text x="414" y="590"  fill="rgb(71 35 88)"> </text><text x="417" y="590"  fill="rgb(67 27 84)">o</text><text x="420" y="590"  fill="rgb(76 40 92)">f</text><text x="423" y="590"  fill="rgb(76 40 93)"> </text><text x="426" y="590"  fill="rgb(76 40 92)">q</text><text x="429" y="590"  fill="rgb(76 41 93)">) { </text><text x="441" y="590"  fill="rgb(76 41 92)">if (</text><text x="453" y="590"  fill="rgb(75 41 92)">A</text><text x="456" y="590"  fill="rgb(75 42 92)">r</text><text x="459" y="590"  fill="rgb(76 42 92)">ra</text><text x="465" y="590"  fill="rgb(77 42 92)">y.</text><text x="471" y="590"  fill="rgb(77 43 92)">i</text><text x="474" y="590"  fill="rgb(76 43 92)">sAr</text><text x="483" y="590"  fill="rgb(76 43 91)">r</text><text x="486" y="590"  fill="rgb(76 44 91)">ay(a</text><text x="498" y="590"  fill="rgb(77 44 92)">p</text><text x="501" y="590"  fill="rgb(77 44 90)">p</text><text x="504" y="590"  fill="rgb(72 37 86)">l</text><text x="507" y="590"  fill="rgb(78 42 92)">y</text><text x="510" y="590"  fill="rgb(90 55 107)">r</text><text x="513" y="590"  fill="rgb(92 58 111)">u</text><text x="516" y="590"  fill="rgb(88 53 109)">l</text><text x="519" y="590"  fill="rgb(89 52 108)">e</text><text x="522" y="590"  fill="rgb(89 52 109)">)</text><text x="525" y="590"  fill="rgb(87 50 105)"> </text><text x="528" y="590"  fill="rgb(83 41 102)">|</text><text x="531" y="590"  fill="rgb(98 69 110)">|</text><text x="534" y="590"  fill="rgb(113 97 119)"> </text><text x="537" y="590"  fill="rgb(111 94 119)">O</text><text x="540" y="590"  fill="rgb(114 95 122)">bje</text><text x="549" y="590"  fill="rgb(113 94 122)">ct</text><text x="555" y="590"  fill="rgb(114 95 122)">.</text><text x="558" y="590"  fill="rgb(112 93 121)">k</text><text x="561" y="590"  fill="rgb(111 93 121)">e</text><text x="564" y="590"  fill="rgb(112 92 121)">y</text><text x="567" y="590"  fill="rgb(112 92 120)">s</text><text x="570" y="590"  fill="rgb(111 92 120)">(</text><text x="573" y="590"  fill="rgb(111 91 118)">a</text><text x="576" y="590"  fill="rgb(111 91 119)">p</text><text x="579" y="590"  fill="rgb(110 90 119)">plyr</text><text x="591" y="590"  fill="rgb(110 90 118)">u</text><text x="594" y="590"  fill="rgb(108 88 117)">l</text><text x="597" y="590"  fill="rgb(118 100 128)">e</text><text x="600" y="590"  fill="rgb(125 107 134)">)</text><text x="603" y="590"  fill="rgb(124 106 133)">.</text><text x="606" y="590"  fill="rgb(123 104 132)">l</text><text x="609" y="590"  fill="rgb(123 103 131)">en</text><text x="615" y="590"  fill="rgb(122 102 131)">g</text><text x="618" y="590"  fill="rgb(122 101 131)">t</text><text x="621" y="590"  fill="rgb(121 100 130)">h</text><text x="624" y="590"  fill="rgb(120 99 129)"> </text><text x="627" y="590"  fill="rgb(119 99 129)">&gt;</text><text x="630" y="590"  fill="rgb(119 98 129)"> </text><text x="633" y="590"  fill="rgb(118 98 129)">1</text><text x="636" y="590"  fill="rgb(118 97 128)">)</text><text x="639" y="590"  fill="rgb(117 96 127)"> </text><text x="642" y="590"  fill="rgb(117 95 127)">{ </text><text x="648" y="590"  fill="rgb(117 94 126)">t</text><text x="651" y="590"  fill="rgb(116 93 126)">h</text><text x="654" y="590"  fill="rgb(114 93 125)">r</text><text x="657" y="590"  fill="rgb(114 92 125)">o</text><text x="660" y="590"  fill="rgb(113 91 125)">w</text><text x="663" y="590"  fill="rgb(113 89 123)"> </text><text x="666" y="590"  fill="rgb(112 88 123)">ne</text><text x="672" y="590"  fill="rgb(111 88 123)">w</text><text x="675" y="590"  fill="rgb(111 87 122)"> </text><text x="678" y="590"  fill="rgb(110 87 122)">I</text><text x="681" y="590"  fill="rgb(110 86 120)">n</text><text x="684" y="590"  fill="rgb(110 86 121)">si</text><text x="690" y="590"  fill="rgb(109 84 121)">g</text><text x="693" y="590"  fill="rgb(109 84 120)">h</text><text x="696" y="590"  fill="rgb(108 82 120)">t</text><text x="699" y="590"  fill="rgb(108 82 119)">E</text><text x="702" y="590"  fill="rgb(107 81 119)">rr</text><text x="708" y="590"  fill="rgb(103 76 116)">o</text><text x="711" y="590"  fill="rgb(114 89 126)">r</text><text x="714" y="590"  fill="rgb(129 106 140)">(</text><text x="717" y="590"  fill="rgb(127 105 138)">)</text><text x="720" y="590"  fill="rgb(126 104 137)">;</text><text x="723" y="590"  fill="rgb(126 103 136)"> </text><text x="726" y="590"  fill="rgb(125 100 136)">}</text><text x="729" y="590"  fill="rgb(124 100 136)"> </text><text x="732" y="590"  fill="rgb(124 98 136)">l</text><text x="735" y="590"  fill="rgb(123 99 136)">e</text><text x="738" y="590"  fill="rgb(123 99 135)">t</text><text x="741" y="590"  fill="rgb(122 97 135)"> </text><text x="744" y="590"  fill="rgb(122 96 134)">app</text><text x="753" y="590"  fill="rgb(121 95 134)">l</text><text x="756" y="590"  fill="rgb(119 94 132)">y</text><text x="759" y="590"  fill="rgb(119 93 132)">k</text><text x="762" y="590"  fill="rgb(119 93 133)">e</text><text x="765" y="590"  fill="rgb(107 79 120)">y</text><text x="768" y="590"  fill="rgb(98 68 111)">:</text><text x="771" y="590"  fill="rgb(100 70 113)"> s</text><text x="777" y="590"  fill="rgb(100 69 112)">t</text><text x="780" y="590"  fill="rgb(98 67 111)">r</text><text x="783" y="590"  fill="rgb(98 68 111)">i</text><text x="786" y="590"  fill="rgb(97 67 111)">ng</text><text x="792" y="590"  fill="rgb(97 66 111)"> </text><text x="795" y="590"  fill="rgb(96 65 110)">=</text><text x="798" y="590"  fill="rgb(96 64 110)"> </text><text x="801" y="590"  fill="rgb(96 65 110)">O</text><text x="804" y="590"  fill="rgb(94 64 110)">b</text><text x="807" y="590"  fill="rgb(95 64 111)">j</text><text x="810" y="590"  fill="rgb(94 64 111)">e</text><text x="813" y="590"  fill="rgb(80 45 98)">c</text><text x="816" y="590"  fill="rgb(80 45 95)">t</text><text x="819" y="590"  fill="rgb(153 135 161)">.</text><text x="822" y="590"  fill="rgb(239 239 240)">k</text><text x="825" y="590"  fill="rgb(251 252 250)">e</text><text x="828" y="590"  fill="rgb(245 245 245)">ys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this</text><text x="0" y="595"  fill="rgb(245 245 245)">.transformationKey.includes(applykey)) { throw new InsightError(); } this.transformationKey.push(applykey); </text><text x="324" y="595"  fill="rgb(247 248 247)">i</text><text x="327" y="595"  fill="rgb(245 244 245)">f</text><text x="330" y="595"  fill="rgb(175 157 182)"> </text><text x="333" y="595"  fill="rgb(131 105 144)">(</text><text x="336" y="595"  fill="rgb(142 118 154)">A</text><text x="339" y="595"  fill="rgb(141 117 153)">rra</text><text x="348" y="595"  fill="rgb(141 118 153)">y</text><text x="351" y="595"  fill="rgb(141 118 154)">.</text><text x="354" y="595"  fill="rgb(142 119 153)">i</text><text x="357" y="595"  fill="rgb(142 120 154)">s</text><text x="360" y="595"  fill="rgb(142 120 153)">A</text><text x="363" y="595"  fill="rgb(143 121 154)">r</text><text x="366" y="595"  fill="rgb(143 122 154)">ra</text><text x="372" y="595"  fill="rgb(144 122 154)">y(</text><text x="378" y="595"  fill="rgb(143 123 154)">c</text><text x="381" y="595"  fill="rgb(144 124 155)">rit</text><text x="390" y="595"  fill="rgb(145 125 156)">e</text><text x="393" y="595"  fill="rgb(146 125 156)">r</text><text x="396" y="595"  fill="rgb(145 125 156)">i</text><text x="399" y="595"  fill="rgb(146 127 156)">a</text><text x="402" y="595"  fill="rgb(148 129 157)">)</text><text x="405" y="595"  fill="rgb(140 120 150)"> </text><text x="408" y="595"  fill="rgb(119 97 129)">|</text><text x="411" y="595"  fill="rgb(110 88 120)">|</text><text x="414" y="595"  fill="rgb(95 67 107)"> </text><text x="417" y="595"  fill="rgb(65 29 83)">O</text><text x="420" y="595"  fill="rgb(70 34 87)">b</text><text x="423" y="595"  fill="rgb(78 42 94)">j</text><text x="426" y="595"  fill="rgb(77 42 93)">ec</text><text x="432" y="595"  fill="rgb(77 42 92)">t.ke</text><text x="444" y="595"  fill="rgb(76 41 92)">y</text><text x="447" y="595"  fill="rgb(77 42 92)">s(c</text><text x="456" y="595"  fill="rgb(77 43 92)">ri</text><text x="462" y="595"  fill="rgb(77 44 92)">te</text><text x="468" y="595"  fill="rgb(76 44 92)">r</text><text x="471" y="595"  fill="rgb(77 44 92)">i</text><text x="474" y="595"  fill="rgb(77 44 91)">a)</text><text x="480" y="595"  fill="rgb(76 44 91)">.lengt</text><text x="498" y="595"  fill="rgb(76 45 91)">h</text><text x="501" y="595"  fill="rgb(77 44 91)"> </text><text x="504" y="595"  fill="rgb(77 45 91)">&gt;</text><text x="507" y="595"  fill="rgb(69 35 84)"> </text><text x="510" y="595"  fill="rgb(70 32 88)">1</text><text x="513" y="595"  fill="rgb(89 54 107)">)</text><text x="516" y="595"  fill="rgb(92 57 112)"> </text><text x="519" y="595"  fill="rgb(90 52 109)">{</text><text x="522" y="595"  fill="rgb(89 51 109)"> </text><text x="525" y="595"  fill="rgb(86 45 105)">t</text><text x="528" y="595"  fill="rgb(86 48 104)">h</text><text x="531" y="595"  fill="rgb(108 89 118)">r</text><text x="534" y="595"  fill="rgb(113 98 120)">o</text><text x="537" y="595"  fill="rgb(113 95 122)">w</text><text x="540" y="595"  fill="rgb(115 97 124)"> </text><text x="543" y="595"  fill="rgb(115 96 123)">n</text><text x="546" y="595"  fill="rgb(115 95 122)">e</text><text x="549" y="595"  fill="rgb(115 96 123)">w</text><text x="552" y="595"  fill="rgb(114 95 122)"> In</text><text x="561" y="595"  fill="rgb(113 95 122)">s</text><text x="564" y="595"  fill="rgb(113 94 122)">i</text><text x="567" y="595"  fill="rgb(112 93 121)">gh</text><text x="573" y="595"  fill="rgb(111 92 121)">t</text><text x="576" y="595"  fill="rgb(111 91 119)">Er</text><text x="582" y="595"  fill="rgb(111 90 118)">r</text><text x="585" y="595"  fill="rgb(111 91 119)">o</text><text x="588" y="595"  fill="rgb(111 90 119)">r</text><text x="591" y="595"  fill="rgb(110 90 119)">(</text><text x="594" y="595"  fill="rgb(110 91 119)">)</text><text x="597" y="595"  fill="rgb(123 105 132)">;</text><text x="600" y="595"  fill="rgb(127 109 134)"> </text><text x="603" y="595"  fill="rgb(124 106 133)">} </text><text x="609" y="595"  fill="rgb(124 105 133)">l</text><text x="612" y="595"  fill="rgb(123 105 133)">e</text><text x="615" y="595"  fill="rgb(123 104 132)">t</text><text x="618" y="595"  fill="rgb(123 103 131)"> </text><text x="621" y="595"  fill="rgb(122 102 130)">a</text><text x="624" y="595"  fill="rgb(122 101 130)">p</text><text x="627" y="595"  fill="rgb(121 101 130)">p</text><text x="630" y="595"  fill="rgb(120 100 129)">l</text><text x="633" y="595"  fill="rgb(120 99 128)">y</text><text x="636" y="595"  fill="rgb(118 98 128)">t</text><text x="639" y="595"  fill="rgb(118 98 129)">o</text><text x="642" y="595"  fill="rgb(117 97 128)">k</text><text x="645" y="595"  fill="rgb(118 97 128)">e</text><text x="648" y="595"  fill="rgb(117 95 126)">n:</text><text x="654" y="595"  fill="rgb(116 94 126)"> </text><text x="657" y="595"  fill="rgb(116 93 125)">s</text><text x="660" y="595"  fill="rgb(115 93 126)">t</text><text x="663" y="595"  fill="rgb(114 92 125)">ri</text><text x="669" y="595"  fill="rgb(113 89 123)">ng </text><text x="678" y="595"  fill="rgb(111 87 123)">=</text><text x="681" y="595"  fill="rgb(111 87 122)"> </text><text x="684" y="595"  fill="rgb(110 87 121)">O</text><text x="687" y="595"  fill="rgb(110 86 121)">bje</text><text x="696" y="595"  fill="rgb(109 85 121)">c</text><text x="699" y="595"  fill="rgb(109 84 120)">t</text><text x="702" y="595"  fill="rgb(109 83 120)">.</text><text x="705" y="595"  fill="rgb(108 81 119)">k</text><text x="708" y="595"  fill="rgb(105 78 118)">e</text><text x="711" y="595"  fill="rgb(109 84 122)">y</text><text x="714" y="595"  fill="rgb(127 105 138)">s</text><text x="717" y="595"  fill="rgb(130 108 140)">(</text><text x="720" y="595"  fill="rgb(127 105 138)">cr</text><text x="726" y="595"  fill="rgb(126 103 137)">it</text><text x="732" y="595"  fill="rgb(126 101 136)">e</text><text x="735" y="595"  fill="rgb(125 100 136)">r</text><text x="738" y="595"  fill="rgb(125 99 136)">i</text><text x="741" y="595"  fill="rgb(123 99 135)">a)</text><text x="747" y="595"  fill="rgb(122 98 135)">[</text><text x="750" y="595"  fill="rgb(122 97 134)">0]</text><text x="756" y="595"  fill="rgb(122 96 134)">; </text><text x="762" y="595"  fill="rgb(121 95 134)">i</text><text x="765" y="595"  fill="rgb(108 81 121)">f</text><text x="768" y="595"  fill="rgb(99 70 112)"> </text><text x="771" y="595"  fill="rgb(101 71 114)">(</text><text x="774" y="595"  fill="rgb(100 70 113)">!</text><text x="777" y="595"  fill="rgb(100 70 112)">t</text><text x="780" y="595"  fill="rgb(99 69 112)">h</text><text x="783" y="595"  fill="rgb(98 68 112)">i</text><text x="786" y="595"  fill="rgb(98 69 112)">s</text><text x="789" y="595"  fill="rgb(97 67 112)">.m</text><text x="795" y="595"  fill="rgb(97 66 111)">t</text><text x="798" y="595"  fill="rgb(97 65 111)">o</text><text x="801" y="595"  fill="rgb(96 64 110)">k</text><text x="804" y="595"  fill="rgb(96 63 110)">e</text><text x="807" y="595"  fill="rgb(95 63 110)">n.</text><text x="813" y="595"  fill="rgb(96 65 111)">i</text><text x="816" y="595"  fill="rgb(83 50 101)">n</text><text x="819" y="595"  fill="rgb(76 42 94)">c</text><text x="822" y="595"  fill="rgb(145 125 153)">l</text><text x="825" y="595"  fill="rgb(240 240 239)">u</text><text x="828" y="595"  fill="rgb(252 253 251)">d</text><text x="831" y="595"  fill="rgb(245 245 245)">es(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria</text><text x="0" y="600"  fill="rgb(245 245 245)">[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.includes(applyt</text><text x="324" y="600"  fill="rgb(248 249 248)">o</text><text x="327" y="600"  fill="rgb(235 233 237)">k</text><text x="330" y="600"  fill="rgb(153 130 164)">e</text><text x="333" y="600"  fill="rgb(134 109 147)">n</text><text x="336" y="600"  fill="rgb(140 116 152)">))</text><text x="342" y="600"  fill="rgb(141 117 153)"> {</text><text x="348" y="600"  fill="rgb(140 117 153)"> </text><text x="351" y="600"  fill="rgb(141 118 153)">if</text><text x="357" y="600"  fill="rgb(141 119 153)"> </text><text x="360" y="600"  fill="rgb(142 120 153)">(!</text><text x="366" y="600"  fill="rgb(143 121 154)">(</text><text x="369" y="600"  fill="rgb(142 121 154)">t</text><text x="372" y="600"  fill="rgb(143 122 154)">his</text><text x="381" y="600"  fill="rgb(144 123 155)">.v</text><text x="387" y="600"  fill="rgb(144 124 155)">al</text><text x="393" y="600"  fill="rgb(144 125 156)">i</text><text x="396" y="600"  fill="rgb(145 125 156)">da</text><text x="402" y="600"  fill="rgb(147 127 157)">t</text><text x="405" y="600"  fill="rgb(138 118 148)">e</text><text x="408" y="600"  fill="rgb(117 95 127)">I</text><text x="411" y="600"  fill="rgb(104 81 115)">d</text><text x="414" y="600"  fill="rgb(111 88 121)">s</text><text x="417" y="600"  fill="rgb(84 54 100)">t</text><text x="420" y="600"  fill="rgb(64 27 82)">r</text><text x="423" y="600"  fill="rgb(75 40 91)">i</text><text x="426" y="600"  fill="rgb(78 44 93)">n</text><text x="429" y="600"  fill="rgb(77 42 92)">g(key[</text><text x="447" y="600"  fill="rgb(78 43 92)">0])</text><text x="456" y="600"  fill="rgb(77 44 92)"> &amp;&amp; </text><text x="468" y="600"  fill="rgb(78 45 92)">t</text><text x="471" y="600"  fill="rgb(77 44 91)">his</text><text x="480" y="600"  fill="rgb(78 45 92)">.</text><text x="483" y="600"  fill="rgb(77 45 91)">m</text><text x="486" y="600"  fill="rgb(77 45 92)">f</text><text x="489" y="600"  fill="rgb(77 45 91)">ield</text><text x="501" y="600"  fill="rgb(78 45 91)">s</text><text x="504" y="600"  fill="rgb(78 48 92)">.</text><text x="507" y="600"  fill="rgb(75 44 91)">i</text><text x="510" y="600"  fill="rgb(63 27 82)">n</text><text x="513" y="600"  fill="rgb(69 31 88)">c</text><text x="516" y="600"  fill="rgb(90 52 107)">l</text><text x="519" y="600"  fill="rgb(95 57 113)">u</text><text x="522" y="600"  fill="rgb(89 51 108)">d</text><text x="525" y="600"  fill="rgb(83 42 104)">e</text><text x="528" y="600"  fill="rgb(96 64 110)">s</text><text x="531" y="600"  fill="rgb(116 100 122)">(</text><text x="534" y="600"  fill="rgb(113 96 121)">k</text><text x="537" y="600"  fill="rgb(115 97 124)">ey</text><text x="543" y="600"  fill="rgb(115 97 123)">[</text><text x="546" y="600"  fill="rgb(115 96 124)">1</text><text x="549" y="600"  fill="rgb(115 96 123)">])</text><text x="555" y="600"  fill="rgb(114 95 122)">))</text><text x="561" y="600"  fill="rgb(113 94 122)"> </text><text x="564" y="600"  fill="rgb(113 95 122)">{ </text><text x="570" y="600"  fill="rgb(113 94 122)">th</text><text x="576" y="600"  fill="rgb(111 92 120)">row</text><text x="585" y="600"  fill="rgb(111 91 119)"> n</text><text x="591" y="600"  fill="rgb(109 90 119)">e</text><text x="594" y="600"  fill="rgb(113 93 122)">w</text><text x="597" y="600"  fill="rgb(127 108 134)"> </text><text x="600" y="600"  fill="rgb(128 110 135)">I</text><text x="603" y="600"  fill="rgb(126 108 133)">n</text><text x="606" y="600"  fill="rgb(125 107 133)">s</text><text x="609" y="600"  fill="rgb(124 107 133)">i</text><text x="612" y="600"  fill="rgb(124 106 133)">g</text><text x="615" y="600"  fill="rgb(123 105 133)">h</text><text x="618" y="600"  fill="rgb(123 104 133)">t</text><text x="621" y="600"  fill="rgb(122 103 131)">E</text><text x="624" y="600"  fill="rgb(123 103 131)">r</text><text x="627" y="600"  fill="rgb(122 102 131)">r</text><text x="630" y="600"  fill="rgb(122 102 130)">o</text><text x="633" y="600"  fill="rgb(121 101 130)">r</text><text x="636" y="600"  fill="rgb(121 100 129)">(</text><text x="639" y="600"  fill="rgb(119 99 129)">)</text><text x="642" y="600"  fill="rgb(118 99 129)">;</text><text x="645" y="600"  fill="rgb(118 98 129)"> </text><text x="648" y="600"  fill="rgb(118 97 128)">}</text><text x="651" y="600"  fill="rgb(117 97 128)"> </text><text x="654" y="600"  fill="rgb(117 95 126)">}</text><text x="657" y="600"  fill="rgb(116 95 126)"> </text><text x="660" y="600"  fill="rgb(117 95 126)">e</text><text x="663" y="600"  fill="rgb(116 94 126)">l</text><text x="666" y="600"  fill="rgb(114 92 125)">se</text><text x="672" y="600"  fill="rgb(113 91 124)"> </text><text x="675" y="600"  fill="rgb(113 89 124)">i</text><text x="678" y="600"  fill="rgb(113 89 123)">f</text><text x="681" y="600"  fill="rgb(111 87 122)"> </text><text x="684" y="600"  fill="rgb(111 87 123)">(</text><text x="687" y="600"  fill="rgb(110 87 122)">t</text><text x="690" y="600"  fill="rgb(111 87 122)">h</text><text x="693" y="600"  fill="rgb(110 86 122)">i</text><text x="696" y="600"  fill="rgb(110 86 121)">s</text><text x="699" y="600"  fill="rgb(109 85 121)">.m</text><text x="705" y="600"  fill="rgb(109 84 120)">s</text><text x="708" y="600"  fill="rgb(108 82 119)">t</text><text x="711" y="600"  fill="rgb(106 80 119)">o</text><text x="714" y="600"  fill="rgb(124 101 134)">k</text><text x="717" y="600"  fill="rgb(131 110 141)">e</text><text x="720" y="600"  fill="rgb(128 106 139)">n</text><text x="723" y="600"  fill="rgb(127 105 139)">.</text><text x="726" y="600"  fill="rgb(128 104 138)">i</text><text x="729" y="600"  fill="rgb(127 104 137)">nc</text><text x="735" y="600"  fill="rgb(126 102 136)">lu</text><text x="741" y="600"  fill="rgb(125 100 136)">d</text><text x="744" y="600"  fill="rgb(124 99 136)">e</text><text x="747" y="600"  fill="rgb(123 99 135)">s</text><text x="750" y="600"  fill="rgb(122 98 135)">(a</text><text x="756" y="600"  fill="rgb(121 96 134)">p</text><text x="759" y="600"  fill="rgb(122 96 134)">p</text><text x="762" y="600"  fill="rgb(122 97 134)">l</text><text x="765" y="600"  fill="rgb(108 81 122)">y</text><text x="768" y="600"  fill="rgb(99 71 113)">t</text><text x="771" y="600"  fill="rgb(101 73 113)">o</text><text x="774" y="600"  fill="rgb(100 71 113)">ke</text><text x="780" y="600"  fill="rgb(99 70 113)">n</text><text x="783" y="600"  fill="rgb(99 69 112)">)</text><text x="786" y="600"  fill="rgb(97 68 111)">) {</text><text x="795" y="600"  fill="rgb(97 67 112)"> </text><text x="798" y="600"  fill="rgb(97 66 111)">i</text><text x="801" y="600"  fill="rgb(96 65 110)">f</text><text x="804" y="600"  fill="rgb(96 64 110)"> (</text><text x="810" y="600"  fill="rgb(95 63 110)">!(</text><text x="816" y="600"  fill="rgb(95 64 111)">t</text><text x="819" y="600"  fill="rgb(86 54 104)">h</text><text x="822" y="600"  fill="rgb(74 38 91)">i</text><text x="825" y="600"  fill="rgb(144 123 152)">s</text><text x="828" y="600"  fill="rgb(250 252 249)">.</text><text x="831" y="600"  fill="rgb(253 254 253)">v</text><text x="834" y="600"  fill="rgb(244 244 244)">a</text><text x="837" y="600"  fill="rgb(245 245 245)">lidateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new Insig</text><text x="0" y="605"  fill="rgb(245 245 245)">htError(); } } } } public validateOptions(q: any): void { let keys: any[] = Object.keys(q); for (let key of </text><text x="324" y="605"  fill="rgb(249 249 248)">k</text><text x="327" y="605"  fill="rgb(214 206 218)">e</text><text x="330" y="605"  fill="rgb(139 115 153)">y</text><text x="333" y="605"  fill="rgb(137 112 149)">s</text><text x="336" y="605"  fill="rgb(139 115 152)">) {</text><text x="345" y="605"  fill="rgb(140 116 152)"> </text><text x="348" y="605"  fill="rgb(139 116 152)">i</text><text x="351" y="605"  fill="rgb(139 117 152)">f</text><text x="354" y="605"  fill="rgb(140 117 152)"> (</text><text x="360" y="605"  fill="rgb(141 118 153)">ke</text><text x="366" y="605"  fill="rgb(142 119 153)">y</text><text x="369" y="605"  fill="rgb(141 120 154)"> </text><text x="372" y="605"  fill="rgb(142 121 154)">!==</text><text x="381" y="605"  fill="rgb(143 122 154)"> </text><text x="384" y="605"  fill="rgb(143 122 155)">&quot;C</text><text x="390" y="605"  fill="rgb(144 123 155)">OL</text><text x="396" y="605"  fill="rgb(144 124 155)">U</text><text x="399" y="605"  fill="rgb(144 124 154)">M</text><text x="402" y="605"  fill="rgb(146 126 157)">N</text><text x="405" y="605"  fill="rgb(135 115 146)">S</text><text x="408" y="605"  fill="rgb(114 91 124)">&quot;</text><text x="411" y="605"  fill="rgb(105 82 115)"> </text><text x="414" y="605"  fill="rgb(110 87 120)">&amp;</text><text x="417" y="605"  fill="rgb(109 85 118)">&amp;</text><text x="420" y="605"  fill="rgb(76 43 92)"> </text><text x="423" y="605"  fill="rgb(65 28 83)">k</text><text x="426" y="605"  fill="rgb(79 44 93)">e</text><text x="429" y="605"  fill="rgb(79 44 94)">y</text><text x="432" y="605"  fill="rgb(78 43 93)"> </text><text x="435" y="605"  fill="rgb(78 43 94)">!</text><text x="438" y="605"  fill="rgb(78 43 92)">=</text><text x="441" y="605"  fill="rgb(78 44 92)">=</text><text x="444" y="605"  fill="rgb(78 44 93)"> </text><text x="447" y="605"  fill="rgb(78 44 92)">&quot;</text><text x="450" y="605"  fill="rgb(79 44 92)">O</text><text x="453" y="605"  fill="rgb(79 45 93)">R</text><text x="456" y="605"  fill="rgb(78 45 93)">DE</text><text x="462" y="605"  fill="rgb(77 45 92)">R&quot;) </text><text x="474" y="605"  fill="rgb(77 46 92)">{</text><text x="477" y="605"  fill="rgb(78 46 92)"> </text><text x="480" y="605"  fill="rgb(78 46 93)">th</text><text x="486" y="605"  fill="rgb(78 46 92)">row</text><text x="495" y="605"  fill="rgb(78 47 92)"> ne</text><text x="504" y="605"  fill="rgb(78 48 92)">w</text><text x="507" y="605"  fill="rgb(77 47 92)"> </text><text x="510" y="605"  fill="rgb(68 33 85)">I</text><text x="513" y="605"  fill="rgb(62 23 80)">n</text><text x="516" y="605"  fill="rgb(69 30 87)">s</text><text x="519" y="605"  fill="rgb(90 51 108)">i</text><text x="522" y="605"  fill="rgb(92 52 112)">g</text><text x="525" y="605"  fill="rgb(86 48 108)">h</text><text x="528" y="605"  fill="rgb(109 87 119)">t</text><text x="531" y="605"  fill="rgb(117 102 123)">E</text><text x="534" y="605"  fill="rgb(116 97 123)">r</text><text x="537" y="605"  fill="rgb(117 99 125)">ro</text><text x="543" y="605"  fill="rgb(116 98 125)">r</text><text x="546" y="605"  fill="rgb(116 98 124)">(</text><text x="549" y="605"  fill="rgb(115 97 124)">)</text><text x="552" y="605"  fill="rgb(115 97 123)">;</text><text x="555" y="605"  fill="rgb(115 96 123)"> } </text><text x="564" y="605"  fill="rgb(114 95 122)">}</text><text x="567" y="605"  fill="rgb(114 96 122)"> t</text><text x="573" y="605"  fill="rgb(113 95 123)">h</text><text x="576" y="605"  fill="rgb(112 95 121)">i</text><text x="579" y="605"  fill="rgb(112 93 121)">s.v</text><text x="588" y="605"  fill="rgb(112 92 121)">a</text><text x="591" y="605"  fill="rgb(110 90 118)">l</text><text x="594" y="605"  fill="rgb(117 99 125)">i</text><text x="597" y="605"  fill="rgb(129 112 136)">d</text><text x="600" y="605"  fill="rgb(128 111 135)">a</text><text x="603" y="605"  fill="rgb(127 110 135)">t</text><text x="606" y="605"  fill="rgb(127 109 135)">e</text><text x="609" y="605"  fill="rgb(126 108 134)">Co</text><text x="615" y="605"  fill="rgb(125 106 133)">lu</text><text x="621" y="605"  fill="rgb(123 105 133)">m</text><text x="624" y="605"  fill="rgb(123 105 132)">n</text><text x="627" y="605"  fill="rgb(123 104 132)">s</text><text x="630" y="605"  fill="rgb(122 103 131)">(q</text><text x="636" y="605"  fill="rgb(122 102 131)">.</text><text x="639" y="605"  fill="rgb(121 101 130)">C</text><text x="642" y="605"  fill="rgb(120 100 129)">O</text><text x="645" y="605"  fill="rgb(119 99 129)">LU</text><text x="651" y="605"  fill="rgb(119 98 128)">M</text><text x="654" y="605"  fill="rgb(118 97 128)">N</text><text x="657" y="605"  fill="rgb(117 97 127)">S</text><text x="660" y="605"  fill="rgb(117 96 127)">)</text><text x="663" y="605"  fill="rgb(117 95 126)">;</text><text x="666" y="605"  fill="rgb(116 94 126)"> </text><text x="669" y="605"  fill="rgb(115 93 125)">if</text><text x="675" y="605"  fill="rgb(113 91 125)"> </text><text x="678" y="605"  fill="rgb(113 90 124)">(q</text><text x="684" y="605"  fill="rgb(113 89 124)">.</text><text x="687" y="605"  fill="rgb(112 88 123)">O</text><text x="690" y="605"  fill="rgb(112 87 122)">R</text><text x="693" y="605"  fill="rgb(111 87 122)">D</text><text x="696" y="605"  fill="rgb(110 86 122)">E</text><text x="699" y="605"  fill="rgb(110 86 121)">R) </text><text x="708" y="605"  fill="rgb(109 85 121)">{</text><text x="711" y="605"  fill="rgb(107 81 118)"> </text><text x="714" y="605"  fill="rgb(118 94 130)">t</text><text x="717" y="605"  fill="rgb(132 111 142)">h</text><text x="720" y="605"  fill="rgb(130 108 140)">i</text><text x="723" y="605"  fill="rgb(129 107 139)">s</text><text x="726" y="605"  fill="rgb(128 106 139)">.</text><text x="729" y="605"  fill="rgb(128 106 138)">v</text><text x="732" y="605"  fill="rgb(127 105 137)">a</text><text x="735" y="605"  fill="rgb(127 105 138)">l</text><text x="738" y="605"  fill="rgb(126 103 137)">i</text><text x="741" y="605"  fill="rgb(126 104 136)">d</text><text x="744" y="605"  fill="rgb(125 101 135)">a</text><text x="747" y="605"  fill="rgb(125 99 136)">t</text><text x="750" y="605"  fill="rgb(124 99 136)">e</text><text x="753" y="605"  fill="rgb(124 99 135)">O</text><text x="756" y="605"  fill="rgb(123 98 136)">r</text><text x="759" y="605"  fill="rgb(123 99 135)">d</text><text x="762" y="605"  fill="rgb(121 97 134)">e</text><text x="765" y="605"  fill="rgb(105 78 118)">r</text><text x="768" y="605"  fill="rgb(100 73 113)">(</text><text x="771" y="605"  fill="rgb(101 73 114)">q.</text><text x="777" y="605"  fill="rgb(100 72 114)">O</text><text x="780" y="605"  fill="rgb(100 71 114)">R</text><text x="783" y="605"  fill="rgb(100 70 112)">D</text><text x="786" y="605"  fill="rgb(99 69 112)">ER</text><text x="792" y="605"  fill="rgb(98 68 111)">);</text><text x="798" y="605"  fill="rgb(97 67 111)"> }</text><text x="804" y="605"  fill="rgb(97 66 110)"> </text><text x="807" y="605"  fill="rgb(96 65 110)">} </text><text x="813" y="605"  fill="rgb(96 63 110)">p</text><text x="816" y="605"  fill="rgb(95 63 110)">r</text><text x="819" y="605"  fill="rgb(96 64 111)">i</text><text x="822" y="605"  fill="rgb(88 55 105)">v</text><text x="825" y="605"  fill="rgb(67 31 86)">a</text><text x="828" y="605"  fill="rgb(153 134 161)">t</text><text x="831" y="605"  fill="rgb(255 255 255)">e</text><text x="834" y="605"  fill="rgb(251 251 251)"> </text><text x="837" y="605"  fill="rgb(244 244 244)">v</text><text x="840" y="605"  fill="rgb(245 245 245)">alidateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { i</text><text x="0" y="610"  fill="rgb(245 245 245)">f (this.transformationKey.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightErro</text><text x="324" y="610"  fill="rgb(248 250 248)">r</text><text x="327" y="610"  fill="rgb(191 177 197)">(</text><text x="330" y="610"  fill="rgb(131 106 146)">)</text><text x="333" y="610"  fill="rgb(137 112 150)">;</text><text x="336" y="610"  fill="rgb(138 114 150)"> </text><text x="339" y="610"  fill="rgb(138 114 151)">} </text><text x="345" y="610"  fill="rgb(138 115 151)">}</text><text x="348" y="610"  fill="rgb(139 115 152)"> e</text><text x="354" y="610"  fill="rgb(139 116 151)">ls</text><text x="360" y="610"  fill="rgb(140 117 152)">e </text><text x="366" y="610"  fill="rgb(141 118 153)">{</text><text x="369" y="610"  fill="rgb(140 119 152)"> </text><text x="372" y="610"  fill="rgb(140 120 154)">th</text><text x="378" y="610"  fill="rgb(141 120 152)">i</text><text x="381" y="610"  fill="rgb(142 121 153)">s</text><text x="384" y="610"  fill="rgb(142 121 154)">.</text><text x="387" y="610"  fill="rgb(142 121 153)">v</text><text x="390" y="610"  fill="rgb(142 122 154)">a</text><text x="393" y="610"  fill="rgb(143 122 155)">l</text><text x="396" y="610"  fill="rgb(144 123 154)">i</text><text x="399" y="610"  fill="rgb(144 124 155)">d</text><text x="402" y="610"  fill="rgb(144 125 156)">a</text><text x="405" y="610"  fill="rgb(131 110 143)">t</text><text x="408" y="610"  fill="rgb(110 87 121)">e</text><text x="411" y="610"  fill="rgb(108 84 118)">K</text><text x="414" y="610"  fill="rgb(108 85 119)">e</text><text x="417" y="610"  fill="rgb(111 89 121)">y</text><text x="420" y="610"  fill="rgb(104 80 115)">(</text><text x="423" y="610"  fill="rgb(69 34 86)">m</text><text x="426" y="610"  fill="rgb(69 33 86)">s</text><text x="429" y="610"  fill="rgb(80 45 95)">k</text><text x="432" y="610"  fill="rgb(80 44 94)">e</text><text x="435" y="610"  fill="rgb(79 44 94)">y</text><text x="438" y="610"  fill="rgb(79 44 93)">)</text><text x="441" y="610"  fill="rgb(79 45 93)">; }</text><text x="450" y="610"  fill="rgb(79 46 94)"> </text><text x="453" y="610"  fill="rgb(78 45 94)">t</text><text x="456" y="610"  fill="rgb(78 45 92)">hi</text><text x="462" y="610"  fill="rgb(78 46 93)">s</text><text x="465" y="610"  fill="rgb(78 47 93)">.</text><text x="468" y="610"  fill="rgb(78 46 94)">k</text><text x="471" y="610"  fill="rgb(78 45 93)">e</text><text x="474" y="610"  fill="rgb(78 47 94)">ys</text><text x="480" y="610"  fill="rgb(78 48 93)">In</text><text x="486" y="610"  fill="rgb(79 47 93)">Q</text><text x="489" y="610"  fill="rgb(78 48 93)">uery</text><text x="501" y="610"  fill="rgb(78 47 93)">.</text><text x="504" y="610"  fill="rgb(78 49 93)">p</text><text x="507" y="610"  fill="rgb(79 48 92)">u</text><text x="510" y="610"  fill="rgb(69 35 86)">s</text><text x="513" y="610"  fill="rgb(67 28 84)">h</text><text x="516" y="610"  fill="rgb(64 26 82)">(</text><text x="519" y="610"  fill="rgb(68 29 88)">m</text><text x="522" y="610"  fill="rgb(85 44 105)">s</text><text x="525" y="610"  fill="rgb(101 71 118)">k</text><text x="528" y="610"  fill="rgb(119 104 125)">e</text><text x="531" y="610"  fill="rgb(117 99 124)">y</text><text x="534" y="610"  fill="rgb(118 100 126)">); </text><text x="543" y="610"  fill="rgb(118 99 126)">}</text><text x="546" y="610"  fill="rgb(116 100 124)"> </text><text x="549" y="610"  fill="rgb(116 99 124)">}</text><text x="552" y="610"  fill="rgb(115 99 124)"> </text><text x="555" y="610"  fill="rgb(115 97 124)">priv</text><text x="567" y="610"  fill="rgb(115 97 122)">at</text><text x="573" y="610"  fill="rgb(115 97 123)">e</text><text x="576" y="610"  fill="rgb(114 96 122)"> </text><text x="579" y="610"  fill="rgb(114 95 122)">va</text><text x="585" y="610"  fill="rgb(112 95 122)">l</text><text x="588" y="610"  fill="rgb(113 94 122)">i</text><text x="591" y="610"  fill="rgb(110 91 119)">d</text><text x="594" y="610"  fill="rgb(123 104 130)">a</text><text x="597" y="610"  fill="rgb(131 114 138)">t</text><text x="600" y="610"  fill="rgb(130 112 135)">e</text><text x="603" y="610"  fill="rgb(129 110 136)">O</text><text x="606" y="610"  fill="rgb(129 111 136)">r</text><text x="609" y="610"  fill="rgb(128 110 135)">d</text><text x="612" y="610"  fill="rgb(127 110 135)">e</text><text x="615" y="610"  fill="rgb(127 109 135)">r</text><text x="618" y="610"  fill="rgb(126 108 134)">(</text><text x="621" y="610"  fill="rgb(125 106 133)">q</text><text x="624" y="610"  fill="rgb(123 106 133)">: </text><text x="630" y="610"  fill="rgb(124 105 133)">a</text><text x="633" y="610"  fill="rgb(122 104 133)">n</text><text x="636" y="610"  fill="rgb(123 103 131)">y)</text><text x="642" y="610"  fill="rgb(122 102 131)">:</text><text x="645" y="610"  fill="rgb(121 101 129)"> </text><text x="648" y="610"  fill="rgb(120 100 129)">vo</text><text x="654" y="610"  fill="rgb(118 98 129)">i</text><text x="657" y="610"  fill="rgb(119 98 128)">d</text><text x="660" y="610"  fill="rgb(118 98 128)"> </text><text x="663" y="610"  fill="rgb(117 97 128)">{</text><text x="666" y="610"  fill="rgb(118 96 128)"> </text><text x="669" y="610"  fill="rgb(117 95 127)">i</text><text x="672" y="610"  fill="rgb(117 94 126)">f</text><text x="675" y="610"  fill="rgb(116 94 126)"> </text><text x="678" y="610"  fill="rgb(115 93 126)">(</text><text x="681" y="610"  fill="rgb(114 92 125)">A</text><text x="684" y="610"  fill="rgb(113 91 124)">r</text><text x="687" y="610"  fill="rgb(113 90 123)">r</text><text x="690" y="610"  fill="rgb(113 89 124)">a</text><text x="693" y="610"  fill="rgb(113 88 122)">y</text><text x="696" y="610"  fill="rgb(112 88 123)">.</text><text x="699" y="610"  fill="rgb(110 87 122)">i</text><text x="702" y="610"  fill="rgb(111 87 122)">s</text><text x="705" y="610"  fill="rgb(110 86 121)">Ar</text><text x="711" y="610"  fill="rgb(109 85 119)">r</text><text x="714" y="610"  fill="rgb(112 88 124)">a</text><text x="717" y="610"  fill="rgb(130 108 141)">y</text><text x="720" y="610"  fill="rgb(132 110 141)">(</text><text x="723" y="610"  fill="rgb(131 109 140)">q</text><text x="726" y="610"  fill="rgb(130 107 139)">)</text><text x="729" y="610"  fill="rgb(130 108 139)">)</text><text x="732" y="610"  fill="rgb(128 107 139)"> </text><text x="735" y="610"  fill="rgb(128 106 139)">{</text><text x="738" y="610"  fill="rgb(127 105 138)"> </text><text x="741" y="610"  fill="rgb(126 104 138)">t</text><text x="744" y="610"  fill="rgb(127 104 138)">h</text><text x="747" y="610"  fill="rgb(127 103 136)">r</text><text x="750" y="610"  fill="rgb(126 101 136)">o</text><text x="753" y="610"  fill="rgb(126 100 136)">w</text><text x="756" y="610"  fill="rgb(124 99 135)"> </text><text x="759" y="610"  fill="rgb(125 101 137)">n</text><text x="762" y="610"  fill="rgb(119 93 132)">e</text><text x="765" y="610"  fill="rgb(101 75 115)">w</text><text x="768" y="610"  fill="rgb(101 75 113)"> </text><text x="771" y="610"  fill="rgb(101 74 114)">I</text><text x="774" y="610"  fill="rgb(101 73 114)">n</text><text x="777" y="610"  fill="rgb(102 73 114)">s</text><text x="780" y="610"  fill="rgb(101 73 113)">i</text><text x="783" y="610"  fill="rgb(100 71 113)">gh</text><text x="789" y="610"  fill="rgb(100 69 112)">t</text><text x="792" y="610"  fill="rgb(99 69 112)">Er</text><text x="798" y="610"  fill="rgb(97 68 111)">r</text><text x="801" y="610"  fill="rgb(98 68 111)">o</text><text x="804" y="610"  fill="rgb(97 67 111)">r(</text><text x="810" y="610"  fill="rgb(97 65 111)">)</text><text x="813" y="610"  fill="rgb(97 66 110)">;</text><text x="816" y="610"  fill="rgb(95 65 110)"> </text><text x="819" y="610"  fill="rgb(95 62 110)">}</text><text x="822" y="610"  fill="rgb(96 66 112)"> </text><text x="825" y="610"  fill="rgb(89 57 106)">e</text><text x="828" y="610"  fill="rgb(69 31 85)">l</text><text x="831" y="610"  fill="rgb(169 155 176)">s</text><text x="834" y="610"  fill="rgb(255 255 255)">e</text><text x="837" y="610"  fill="rgb(249 250 249)"> </text><text x="840" y="610"  fill="rgb(245 245 245)">if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q</text><text x="0" y="615"  fill="rgb(245 245 245)">.dir || !q.keys || Object.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !</text><text x="321" y="615"  fill="rgb(246 246 246)">=</text><text x="324" y="615"  fill="rgb(246 246 247)">=</text><text x="327" y="615"  fill="rgb(172 154 181)"> </text><text x="330" y="615"  fill="rgb(131 104 144)">&quot;</text><text x="333" y="615"  fill="rgb(137 112 150)">DO</text><text x="339" y="615"  fill="rgb(137 113 150)">WN</text><text x="345" y="615"  fill="rgb(138 113 150)">&quot;)</text><text x="351" y="615"  fill="rgb(139 115 152)"> {</text><text x="357" y="615"  fill="rgb(139 115 151)"> </text><text x="360" y="615"  fill="rgb(139 116 151)">t</text><text x="363" y="615"  fill="rgb(140 116 152)">hr</text><text x="369" y="615"  fill="rgb(140 117 152)">o</text><text x="372" y="615"  fill="rgb(140 118 152)">w </text><text x="378" y="615"  fill="rgb(140 119 152)">n</text><text x="381" y="615"  fill="rgb(141 119 152)">e</text><text x="384" y="615"  fill="rgb(141 120 153)">w</text><text x="387" y="615"  fill="rgb(142 120 153)"> </text><text x="390" y="615"  fill="rgb(142 120 152)">I</text><text x="393" y="615"  fill="rgb(143 121 153)">ns</text><text x="399" y="615"  fill="rgb(143 122 154)">i</text><text x="402" y="615"  fill="rgb(144 123 155)">g</text><text x="405" y="615"  fill="rgb(130 107 139)">h</text><text x="408" y="615"  fill="rgb(108 84 118)">tE</text><text x="414" y="615"  fill="rgb(109 85 119)">rr</text><text x="420" y="615"  fill="rgb(115 92 124)">o</text><text x="423" y="615"  fill="rgb(98 73 111)">r</text><text x="426" y="615"  fill="rgb(65 30 83)">(</text><text x="429" y="615"  fill="rgb(72 36 88)">)</text><text x="432" y="615"  fill="rgb(81 47 95)">;</text><text x="435" y="615"  fill="rgb(79 45 94)"> </text><text x="438" y="615"  fill="rgb(79 46 94)">} </text><text x="444" y="615"  fill="rgb(80 46 94)">l</text><text x="447" y="615"  fill="rgb(79 46 94)">e</text><text x="450" y="615"  fill="rgb(78 46 93)">t</text><text x="453" y="615"  fill="rgb(79 47 94)"> </text><text x="456" y="615"  fill="rgb(79 46 93)">k</text><text x="459" y="615"  fill="rgb(79 47 94)">eys:</text><text x="471" y="615"  fill="rgb(78 47 94)"> </text><text x="474" y="615"  fill="rgb(78 47 93)">an</text><text x="480" y="615"  fill="rgb(78 48 93)">y </text><text x="486" y="615"  fill="rgb(78 49 93)">=</text><text x="489" y="615"  fill="rgb(79 49 93)"> q.key</text><text x="507" y="615"  fill="rgb(80 49 93)">s</text><text x="510" y="615"  fill="rgb(72 36 87)">;</text><text x="513" y="615"  fill="rgb(66 27 85)"> </text><text x="516" y="615"  fill="rgb(67 29 85)">i</text><text x="519" y="615"  fill="rgb(63 24 81)">f</text><text x="522" y="615"  fill="rgb(65 26 85)"> </text><text x="525" y="615"  fill="rgb(105 83 117)">(</text><text x="528" y="615"  fill="rgb(127 113 132)">!</text><text x="531" y="615"  fill="rgb(120 101 126)">A</text><text x="534" y="615"  fill="rgb(119 101 127)">rra</text><text x="543" y="615"  fill="rgb(118 100 126)">y</text><text x="546" y="615"  fill="rgb(118 99 126)">.</text><text x="549" y="615"  fill="rgb(117 100 125)">is</text><text x="555" y="615"  fill="rgb(117 99 125)">Ar</text><text x="561" y="615"  fill="rgb(116 98 124)">r</text><text x="564" y="615"  fill="rgb(116 98 125)">a</text><text x="567" y="615"  fill="rgb(115 97 124)">y</text><text x="570" y="615"  fill="rgb(115 97 123)">(</text><text x="573" y="615"  fill="rgb(115 98 122)">k</text><text x="576" y="615"  fill="rgb(115 97 122)">ey</text><text x="582" y="615"  fill="rgb(115 97 123)">s</text><text x="585" y="615"  fill="rgb(114 96 122)">)</text><text x="588" y="615"  fill="rgb(113 95 122)"> </text><text x="591" y="615"  fill="rgb(113 94 121)">|</text><text x="594" y="615"  fill="rgb(128 111 135)">|</text><text x="597" y="615"  fill="rgb(134 117 140)"> </text><text x="600" y="615"  fill="rgb(131 114 137)">k</text><text x="603" y="615"  fill="rgb(129 112 136)">e</text><text x="606" y="615"  fill="rgb(129 111 136)">ys</text><text x="612" y="615"  fill="rgb(128 111 136)">.</text><text x="615" y="615"  fill="rgb(128 110 135)">l</text><text x="618" y="615"  fill="rgb(127 110 135)">e</text><text x="621" y="615"  fill="rgb(127 109 134)">n</text><text x="624" y="615"  fill="rgb(125 107 134)">g</text><text x="627" y="615"  fill="rgb(125 107 133)">th</text><text x="633" y="615"  fill="rgb(124 105 133)"> </text><text x="636" y="615"  fill="rgb(123 105 133)">&lt;</text><text x="639" y="615"  fill="rgb(123 104 132)"> 1</text><text x="645" y="615"  fill="rgb(122 103 131)">)</text><text x="648" y="615"  fill="rgb(121 102 131)"> </text><text x="651" y="615"  fill="rgb(121 101 130)">{</text><text x="654" y="615"  fill="rgb(120 100 130)"> </text><text x="657" y="615"  fill="rgb(120 99 129)">t</text><text x="660" y="615"  fill="rgb(119 99 129)">h</text><text x="663" y="615"  fill="rgb(118 99 129)">r</text><text x="666" y="615"  fill="rgb(118 98 129)">o</text><text x="669" y="615"  fill="rgb(118 97 128)">w</text><text x="672" y="615"  fill="rgb(117 96 127)"> n</text><text x="678" y="615"  fill="rgb(117 95 126)">e</text><text x="681" y="615"  fill="rgb(115 93 126)">w </text><text x="687" y="615"  fill="rgb(114 93 125)">I</text><text x="690" y="615"  fill="rgb(114 92 125)">n</text><text x="693" y="615"  fill="rgb(114 90 124)">s</text><text x="696" y="615"  fill="rgb(113 89 124)">i</text><text x="699" y="615"  fill="rgb(112 88 123)">gh</text><text x="705" y="615"  fill="rgb(111 88 123)">t</text><text x="708" y="615"  fill="rgb(111 87 122)">E</text><text x="711" y="615"  fill="rgb(111 87 121)">r</text><text x="714" y="615"  fill="rgb(110 86 120)">r</text><text x="717" y="615"  fill="rgb(127 105 136)">o</text><text x="720" y="615"  fill="rgb(134 112 143)">r</text><text x="723" y="615"  fill="rgb(131 110 141)">(</text><text x="726" y="615"  fill="rgb(131 109 140)">);</text><text x="732" y="615"  fill="rgb(130 108 140)"> </text><text x="735" y="615"  fill="rgb(129 107 139)">}</text><text x="738" y="615"  fill="rgb(129 108 139)"> </text><text x="741" y="615"  fill="rgb(128 106 139)">f</text><text x="744" y="615"  fill="rgb(128 105 138)">o</text><text x="747" y="615"  fill="rgb(127 105 138)">r</text><text x="750" y="615"  fill="rgb(127 104 137)"> (</text><text x="756" y="615"  fill="rgb(125 102 136)">l</text><text x="759" y="615"  fill="rgb(128 103 138)">e</text><text x="762" y="615"  fill="rgb(112 84 123)">t</text><text x="765" y="615"  fill="rgb(101 74 114)"> </text><text x="768" y="615"  fill="rgb(102 75 115)">a</text><text x="771" y="615"  fill="rgb(102 74 115)">ny</text><text x="777" y="615"  fill="rgb(101 72 114)">key</text><text x="786" y="615"  fill="rgb(100 71 113)"> o</text><text x="792" y="615"  fill="rgb(100 70 111)">f</text><text x="795" y="615"  fill="rgb(99 70 112)"> </text><text x="798" y="615"  fill="rgb(99 69 112)">k</text><text x="801" y="615"  fill="rgb(99 69 111)">e</text><text x="804" y="615"  fill="rgb(98 68 111)">ys</text><text x="810" y="615"  fill="rgb(97 67 111)">)</text><text x="813" y="615"  fill="rgb(97 67 112)"> </text><text x="816" y="615"  fill="rgb(97 66 111)">{</text><text x="819" y="615"  fill="rgb(96 65 111)"> </text><text x="822" y="615"  fill="rgb(95 63 110)">i</text><text x="825" y="615"  fill="rgb(98 67 113)">f</text><text x="828" y="615"  fill="rgb(87 54 103)"> </text><text x="831" y="615"  fill="rgb(73 38 91)">(</text><text x="834" y="615"  fill="rgb(189 178 195)">!</text><text x="837" y="615"  fill="rgb(255 255 255)">t</text><text x="840" y="615"  fill="rgb(246 247 246)">h</text><text x="843" y="615"  fill="rgb(245 245 245)">is.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { if</text><text x="0" y="620"  fill="rgb(245 245 245)"> (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFi</text><text x="321" y="620"  fill="rgb(247 248 247)">l</text><text x="324" y="620"  fill="rgb(235 233 237)">t</text><text x="327" y="620"  fill="rgb(157 134 167)">e</text><text x="330" y="620"  fill="rgb(131 104 144)">r</text><text x="333" y="620"  fill="rgb(136 110 149)">(</text><text x="336" y="620"  fill="rgb(137 111 150)">q</text><text x="339" y="620"  fill="rgb(137 112 150)">); }</text><text x="351" y="620"  fill="rgb(138 113 150)"> </text><text x="354" y="620"  fill="rgb(138 114 151)">}</text><text x="357" y="620"  fill="rgb(138 115 151)"> }</text><text x="363" y="620"  fill="rgb(139 115 151)"> p</text><text x="369" y="620"  fill="rgb(139 116 151)">ri</text><text x="375" y="620"  fill="rgb(139 117 151)">va</text><text x="381" y="620"  fill="rgb(140 118 152)">t</text><text x="384" y="620"  fill="rgb(141 118 152)">e </text><text x="390" y="620"  fill="rgb(141 119 152)">va</text><text x="396" y="620"  fill="rgb(142 120 153)">l</text><text x="399" y="620"  fill="rgb(143 121 154)">i</text><text x="402" y="620"  fill="rgb(144 121 154)">d</text><text x="405" y="620"  fill="rgb(126 103 136)">a</text><text x="408" y="620"  fill="rgb(106 82 118)">t</text><text x="411" y="620"  fill="rgb(108 84 119)">e</text><text x="414" y="620"  fill="rgb(109 85 119)">Fi</text><text x="420" y="620"  fill="rgb(110 86 120)">l</text><text x="423" y="620"  fill="rgb(115 93 125)">t</text><text x="426" y="620"  fill="rgb(93 65 106)">e</text><text x="429" y="620"  fill="rgb(66 30 82)">r</text><text x="432" y="620"  fill="rgb(75 40 90)">(</text><text x="435" y="620"  fill="rgb(81 48 96)">q</text><text x="438" y="620"  fill="rgb(80 47 94)">:</text><text x="441" y="620"  fill="rgb(79 47 94)"> </text><text x="444" y="620"  fill="rgb(80 47 94)">a</text><text x="447" y="620"  fill="rgb(79 47 94)">n</text><text x="450" y="620"  fill="rgb(80 48 94)">y</text><text x="453" y="620"  fill="rgb(79 47 94)">)</text><text x="456" y="620"  fill="rgb(80 48 94)">:</text><text x="459" y="620"  fill="rgb(79 47 94)"> </text><text x="462" y="620"  fill="rgb(80 48 94)">v</text><text x="465" y="620"  fill="rgb(80 48 93)">oi</text><text x="471" y="620"  fill="rgb(80 49 93)">d</text><text x="474" y="620"  fill="rgb(79 49 93)"> </text><text x="477" y="620"  fill="rgb(80 49 94)">{</text><text x="480" y="620"  fill="rgb(80 50 94)"> i</text><text x="486" y="620"  fill="rgb(79 50 93)">f</text><text x="489" y="620"  fill="rgb(80 50 93)"> (Obje</text><text x="507" y="620"  fill="rgb(81 51 94)">c</text><text x="510" y="620"  fill="rgb(73 38 89)">t</text><text x="513" y="620"  fill="rgb(67 28 84)">.</text><text x="516" y="620"  fill="rgb(68 30 85)">k</text><text x="519" y="620"  fill="rgb(66 27 85)">e</text><text x="522" y="620"  fill="rgb(65 30 83)">y</text><text x="525" y="620"  fill="rgb(80 53 93)">s</text><text x="528" y="620"  fill="rgb(111 91 120)">(</text><text x="531" y="620"  fill="rgb(128 113 134)">q</text><text x="534" y="620"  fill="rgb(121 104 129)">)</text><text x="537" y="620"  fill="rgb(119 101 127)">.</text><text x="540" y="620"  fill="rgb(120 102 127)">l</text><text x="543" y="620"  fill="rgb(119 101 127)">eng</text><text x="552" y="620"  fill="rgb(118 100 126)">t</text><text x="555" y="620"  fill="rgb(118 100 125)">h</text><text x="558" y="620"  fill="rgb(118 101 126)"> </text><text x="561" y="620"  fill="rgb(118 100 126)">!</text><text x="564" y="620"  fill="rgb(117 99 124)">=</text><text x="567" y="620"  fill="rgb(116 98 124)">=</text><text x="570" y="620"  fill="rgb(116 98 125)"> </text><text x="573" y="620"  fill="rgb(116 97 124)">1</text><text x="576" y="620"  fill="rgb(116 98 123)">)</text><text x="579" y="620"  fill="rgb(115 98 123)"> { </text><text x="588" y="620"  fill="rgb(113 94 121)">t</text><text x="591" y="620"  fill="rgb(118 100 126)">h</text><text x="594" y="620"  fill="rgb(133 117 140)">r</text><text x="597" y="620"  fill="rgb(134 118 141)">o</text><text x="600" y="620"  fill="rgb(133 116 139)">w</text><text x="603" y="620"  fill="rgb(131 114 139)"> </text><text x="606" y="620"  fill="rgb(131 113 138)">n</text><text x="609" y="620"  fill="rgb(130 113 137)">e</text><text x="612" y="620"  fill="rgb(129 112 136)">w</text><text x="615" y="620"  fill="rgb(129 111 136)"> I</text><text x="621" y="620"  fill="rgb(127 110 135)">ns</text><text x="627" y="620"  fill="rgb(127 109 135)">i</text><text x="630" y="620"  fill="rgb(126 108 134)">gh</text><text x="636" y="620"  fill="rgb(125 107 133)">t</text><text x="639" y="620"  fill="rgb(124 106 133)">E</text><text x="642" y="620"  fill="rgb(124 105 133)">r</text><text x="645" y="620"  fill="rgb(123 105 133)">r</text><text x="648" y="620"  fill="rgb(123 103 132)">o</text><text x="651" y="620"  fill="rgb(122 103 131)">r</text><text x="654" y="620"  fill="rgb(122 102 131)">(</text><text x="657" y="620"  fill="rgb(122 101 130)">)</text><text x="660" y="620"  fill="rgb(121 101 130)">;</text><text x="663" y="620"  fill="rgb(120 100 129)"> </text><text x="666" y="620"  fill="rgb(119 99 128)">}</text><text x="669" y="620"  fill="rgb(119 99 129)"> </text><text x="672" y="620"  fill="rgb(118 98 129)">el</text><text x="678" y="620"  fill="rgb(118 97 128)">s</text><text x="681" y="620"  fill="rgb(117 95 126)">e </text><text x="687" y="620"  fill="rgb(116 94 126)">{</text><text x="690" y="620"  fill="rgb(116 93 125)"> </text><text x="693" y="620"  fill="rgb(115 93 125)">l</text><text x="696" y="620"  fill="rgb(114 92 125)">e</text><text x="699" y="620"  fill="rgb(114 91 125)">t</text><text x="702" y="620"  fill="rgb(113 90 124)"> </text><text x="705" y="620"  fill="rgb(113 89 123)">k</text><text x="708" y="620"  fill="rgb(113 88 123)">e</text><text x="711" y="620"  fill="rgb(111 87 122)">y</text><text x="714" y="620"  fill="rgb(109 85 120)">:</text><text x="717" y="620"  fill="rgb(122 100 131)"> </text><text x="720" y="620"  fill="rgb(136 114 145)">s</text><text x="723" y="620"  fill="rgb(133 112 143)">t</text><text x="726" y="620"  fill="rgb(132 110 142)">ri</text><text x="732" y="620"  fill="rgb(132 110 141)">n</text><text x="735" y="620"  fill="rgb(131 110 141)">g</text><text x="738" y="620"  fill="rgb(131 108 140)"> </text><text x="741" y="620"  fill="rgb(130 108 139)">=</text><text x="744" y="620"  fill="rgb(129 107 139)"> </text><text x="747" y="620"  fill="rgb(128 106 139)">Ob</text><text x="753" y="620"  fill="rgb(127 104 138)">j</text><text x="756" y="620"  fill="rgb(130 108 141)">e</text><text x="759" y="620"  fill="rgb(121 96 132)">c</text><text x="762" y="620"  fill="rgb(103 75 116)">t</text><text x="765" y="620"  fill="rgb(104 75 116)">.</text><text x="768" y="620"  fill="rgb(104 76 117)">k</text><text x="771" y="620"  fill="rgb(103 75 116)">ey</text><text x="777" y="620"  fill="rgb(102 74 115)">s</text><text x="780" y="620"  fill="rgb(101 73 114)">(q</text><text x="786" y="620"  fill="rgb(101 71 114)">)</text><text x="789" y="620"  fill="rgb(101 72 114)">[</text><text x="792" y="620"  fill="rgb(100 71 114)">0]</text><text x="798" y="620"  fill="rgb(100 69 112)">;</text><text x="801" y="620"  fill="rgb(99 69 113)"> </text><text x="804" y="620"  fill="rgb(99 69 112)">le</text><text x="810" y="620"  fill="rgb(98 68 111)">t</text><text x="813" y="620"  fill="rgb(98 67 111)"> </text><text x="816" y="620"  fill="rgb(97 66 112)">v</text><text x="819" y="620"  fill="rgb(97 66 111)">al</text><text x="825" y="620"  fill="rgb(97 65 110)">u</text><text x="828" y="620"  fill="rgb(99 68 113)">e</text><text x="831" y="620"  fill="rgb(82 48 98)">:</text><text x="834" y="620"  fill="rgb(94 62 108)"> </text><text x="837" y="620"  fill="rgb(215 207 217)">a</text><text x="840" y="620"  fill="rgb(254 255 254)">n</text><text x="843" y="620"  fill="rgb(244 244 244)">y</text><text x="846" y="620"  fill="rgb(245 245 245)"> = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;:</text><text x="0" y="625"  fill="rgb(245 245 245)"> this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;</text><text x="321" y="625"  fill="rgb(249 250 249)">I</text><text x="324" y="625"  fill="rgb(221 215 225)">S</text><text x="327" y="625"  fill="rgb(146 122 159)">&quot;</text><text x="330" y="625"  fill="rgb(131 104 144)">:</text><text x="333" y="625"  fill="rgb(136 110 149)"> th</text><text x="342" y="625"  fill="rgb(137 111 150)">is.</text><text x="351" y="625"  fill="rgb(137 112 150)">v</text><text x="354" y="625"  fill="rgb(138 113 150)">alid</text><text x="366" y="625"  fill="rgb(138 114 151)">a</text><text x="369" y="625"  fill="rgb(138 115 151)">t</text><text x="372" y="625"  fill="rgb(139 115 151)">eIS</text><text x="381" y="625"  fill="rgb(139 116 151)">(v</text><text x="387" y="625"  fill="rgb(140 117 152)">alu</text><text x="396" y="625"  fill="rgb(141 118 152)">e</text><text x="399" y="625"  fill="rgb(142 120 153)">);</text><text x="405" y="625"  fill="rgb(123 100 133)"> </text><text x="408" y="625"  fill="rgb(107 82 118)">b</text><text x="411" y="625"  fill="rgb(109 85 120)">r</text><text x="414" y="625"  fill="rgb(109 85 119)">ea</text><text x="420" y="625"  fill="rgb(109 85 118)">k</text><text x="423" y="625"  fill="rgb(110 86 119)">;</text><text x="426" y="625"  fill="rgb(113 91 123)"> </text><text x="429" y="625"  fill="rgb(87 57 100)">d</text><text x="432" y="625"  fill="rgb(65 29 82)">e</text><text x="435" y="625"  fill="rgb(76 42 92)">f</text><text x="438" y="625"  fill="rgb(82 50 96)">a</text><text x="441" y="625"  fill="rgb(79 48 94)">u</text><text x="444" y="625"  fill="rgb(80 48 94)">lt: </text><text x="456" y="625"  fill="rgb(81 49 95)">t</text><text x="459" y="625"  fill="rgb(80 48 94)">h</text><text x="462" y="625"  fill="rgb(81 49 94)">row</text><text x="471" y="625"  fill="rgb(81 50 94)"> new</text><text x="483" y="625"  fill="rgb(80 50 93)"> Insig</text><text x="501" y="625"  fill="rgb(81 51 93)">ht</text><text x="507" y="625"  fill="rgb(82 52 94)">E</text><text x="510" y="625"  fill="rgb(74 40 90)">r</text><text x="513" y="625"  fill="rgb(67 28 85)">r</text><text x="516" y="625"  fill="rgb(68 30 86)">o</text><text x="519" y="625"  fill="rgb(67 28 86)">r</text><text x="522" y="625"  fill="rgb(76 45 91)">(</text><text x="525" y="625"  fill="rgb(77 48 90)">)</text><text x="528" y="625"  fill="rgb(76 48 90)">;</text><text x="531" y="625"  fill="rgb(108 87 117)"> </text><text x="534" y="625"  fill="rgb(129 113 135)">}</text><text x="537" y="625"  fill="rgb(123 107 131)"> </text><text x="540" y="625"  fill="rgb(120 102 128)">}</text><text x="543" y="625"  fill="rgb(120 103 128)"> </text><text x="546" y="625"  fill="rgb(119 102 127)">}</text><text x="549" y="625"  fill="rgb(119 102 128)"> p</text><text x="555" y="625"  fill="rgb(119 101 126)">ri</text><text x="561" y="625"  fill="rgb(119 100 126)">v</text><text x="564" y="625"  fill="rgb(118 101 125)">a</text><text x="567" y="625"  fill="rgb(117 100 125)">t</text><text x="570" y="625"  fill="rgb(116 99 125)">e </text><text x="576" y="625"  fill="rgb(116 98 125)">v</text><text x="579" y="625"  fill="rgb(116 99 124)">ali</text><text x="588" y="625"  fill="rgb(112 94 120)">d</text><text x="591" y="625"  fill="rgb(125 109 132)">a</text><text x="594" y="625"  fill="rgb(137 121 142)">t</text><text x="597" y="625"  fill="rgb(134 118 140)">e</text><text x="600" y="625"  fill="rgb(133 117 140)">NO</text><text x="606" y="625"  fill="rgb(132 115 139)">T</text><text x="609" y="625"  fill="rgb(132 115 138)">(</text><text x="612" y="625"  fill="rgb(130 114 138)">v</text><text x="615" y="625"  fill="rgb(130 113 137)">a</text><text x="618" y="625"  fill="rgb(129 112 136)">l</text><text x="621" y="625"  fill="rgb(129 112 135)">u</text><text x="624" y="625"  fill="rgb(128 110 136)">e</text><text x="627" y="625"  fill="rgb(128 110 135)">:</text><text x="630" y="625"  fill="rgb(127 110 135)"> </text><text x="633" y="625"  fill="rgb(127 109 135)">a</text><text x="636" y="625"  fill="rgb(126 108 134)">n</text><text x="639" y="625"  fill="rgb(125 107 133)">y</text><text x="642" y="625"  fill="rgb(124 107 133)">)</text><text x="645" y="625"  fill="rgb(124 106 133)">:</text><text x="648" y="625"  fill="rgb(123 105 133)"> </text><text x="651" y="625"  fill="rgb(123 104 132)">vo</text><text x="657" y="625"  fill="rgb(123 103 131)">i</text><text x="660" y="625"  fill="rgb(122 102 130)">d </text><text x="666" y="625"  fill="rgb(121 100 130)">{</text><text x="669" y="625"  fill="rgb(120 100 129)"> </text><text x="672" y="625"  fill="rgb(119 99 129)">i</text><text x="675" y="625"  fill="rgb(119 98 128)">f</text><text x="678" y="625"  fill="rgb(118 98 129)"> </text><text x="681" y="625"  fill="rgb(117 97 128)">(</text><text x="684" y="625"  fill="rgb(117 96 127)">ty</text><text x="690" y="625"  fill="rgb(116 95 126)">p</text><text x="693" y="625"  fill="rgb(116 94 126)">e</text><text x="696" y="625"  fill="rgb(115 93 125)">o</text><text x="699" y="625"  fill="rgb(114 93 125)">f</text><text x="702" y="625"  fill="rgb(114 92 125)"> </text><text x="705" y="625"  fill="rgb(113 91 124)">v</text><text x="708" y="625"  fill="rgb(113 90 124)">a</text><text x="711" y="625"  fill="rgb(112 88 123)">l</text><text x="714" y="625"  fill="rgb(110 86 121)">u</text><text x="717" y="625"  fill="rgb(116 93 128)">e</text><text x="720" y="625"  fill="rgb(135 114 144)"> </text><text x="723" y="625"  fill="rgb(135 113 143)">!</text><text x="726" y="625"  fill="rgb(134 112 143)">=</text><text x="729" y="625"  fill="rgb(134 111 143)">=</text><text x="732" y="625"  fill="rgb(132 111 142)"> </text><text x="735" y="625"  fill="rgb(132 110 142)">&quot;</text><text x="738" y="625"  fill="rgb(131 110 141)">o</text><text x="741" y="625"  fill="rgb(131 109 140)">b</text><text x="744" y="625"  fill="rgb(130 108 139)">je</text><text x="750" y="625"  fill="rgb(128 106 139)">c</text><text x="753" y="625"  fill="rgb(131 110 142)">t</text><text x="756" y="625"  fill="rgb(128 105 138)">&quot;</text><text x="759" y="625"  fill="rgb(109 81 120)">)</text><text x="762" y="625"  fill="rgb(103 74 116)"> </text><text x="765" y="625"  fill="rgb(105 77 117)">{ </text><text x="771" y="625"  fill="rgb(103 75 116)">thr</text><text x="780" y="625"  fill="rgb(102 74 115)">o</text><text x="783" y="625"  fill="rgb(101 73 114)">w</text><text x="786" y="625"  fill="rgb(101 72 114)"> ne</text><text x="795" y="625"  fill="rgb(100 71 114)">w </text><text x="801" y="625"  fill="rgb(100 70 113)">In</text><text x="807" y="625"  fill="rgb(99 69 113)">s</text><text x="810" y="625"  fill="rgb(98 68 112)">ig</text><text x="816" y="625"  fill="rgb(97 67 112)">h</text><text x="819" y="625"  fill="rgb(97 67 111)">t</text><text x="822" y="625"  fill="rgb(97 66 111)">Er</text><text x="828" y="625"  fill="rgb(97 65 111)">r</text><text x="831" y="625"  fill="rgb(99 67 112)">o</text><text x="834" y="625"  fill="rgb(78 44 95)">r</text><text x="837" y="625"  fill="rgb(123 97 134)">(</text><text x="840" y="625"  fill="rgb(242 242 242)">)</text><text x="843" y="625"  fill="rgb(250 250 250)">;</text><text x="846" y="625"  fill="rgb(244 244 244)"> </text><text x="849" y="625"  fill="rgb(245 245 245)">} this.validateFilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { th</text><text x="0" y="630"  fill="rgb(245 245 245)">row new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: stri</text><text x="321" y="630"  fill="rgb(252 253 251)">n</text><text x="324" y="630"  fill="rgb(208 200 214)">g</text><text x="327" y="630"  fill="rgb(137 112 151)">[</text><text x="330" y="630"  fill="rgb(131 104 144)">]</text><text x="333" y="630"  fill="rgb(135 109 149)"> </text><text x="336" y="630"  fill="rgb(135 110 148)">=</text><text x="339" y="630"  fill="rgb(136 110 149)"> O</text><text x="345" y="630"  fill="rgb(136 111 149)">b</text><text x="348" y="630"  fill="rgb(137 111 149)">j</text><text x="351" y="630"  fill="rgb(136 111 149)">e</text><text x="354" y="630"  fill="rgb(137 112 150)">ct.</text><text x="363" y="630"  fill="rgb(138 113 150)">ke</text><text x="369" y="630"  fill="rgb(137 114 150)">y</text><text x="372" y="630"  fill="rgb(138 115 151)">s(v</text><text x="381" y="630"  fill="rgb(139 115 151)">a</text><text x="384" y="630"  fill="rgb(139 116 151)">lue)</text><text x="396" y="630"  fill="rgb(139 116 152)">[</text><text x="399" y="630"  fill="rgb(142 118 153)">0</text><text x="402" y="630"  fill="rgb(141 119 151)">]</text><text x="405" y="630"  fill="rgb(119 94 129)">.</text><text x="408" y="630"  fill="rgb(108 83 118)">s</text><text x="411" y="630"  fill="rgb(110 86 120)">p</text><text x="414" y="630"  fill="rgb(109 85 120)">lit</text><text x="423" y="630"  fill="rgb(108 84 118)">(</text><text x="426" y="630"  fill="rgb(110 86 119)">&quot;</text><text x="429" y="630"  fill="rgb(110 88 121)">_</text><text x="432" y="630"  fill="rgb(81 50 95)">&quot;</text><text x="435" y="630"  fill="rgb(65 29 82)">)</text><text x="438" y="630"  fill="rgb(77 45 93)">;</text><text x="441" y="630"  fill="rgb(83 51 96)"> </text><text x="444" y="630"  fill="rgb(82 49 95)">i</text><text x="447" y="630"  fill="rgb(81 49 95)">f (s</text><text x="459" y="630"  fill="rgb(81 50 95)">k</text><text x="462" y="630"  fill="rgb(81 50 94)">e</text><text x="465" y="630"  fill="rgb(81 51 95)">y.</text><text x="471" y="630"  fill="rgb(82 51 95)">l</text><text x="474" y="630"  fill="rgb(82 51 94)">e</text><text x="477" y="630"  fill="rgb(81 50 93)">n</text><text x="480" y="630"  fill="rgb(82 51 94)">g</text><text x="483" y="630"  fill="rgb(81 51 94)">th !=</text><text x="498" y="630"  fill="rgb(82 52 94)">=</text><text x="501" y="630"  fill="rgb(82 52 93)"> </text><text x="504" y="630"  fill="rgb(81 52 93)">2</text><text x="507" y="630"  fill="rgb(82 54 95)">)</text><text x="510" y="630"  fill="rgb(75 44 90)"> </text><text x="513" y="630"  fill="rgb(66 28 86)">{</text><text x="516" y="630"  fill="rgb(67 28 85)"> </text><text x="519" y="630"  fill="rgb(70 33 87)">t</text><text x="522" y="630"  fill="rgb(81 52 93)">h</text><text x="525" y="630"  fill="rgb(83 55 95)">r</text><text x="528" y="630"  fill="rgb(77 47 89)">o</text><text x="531" y="630"  fill="rgb(76 47 89)">w</text><text x="534" y="630"  fill="rgb(104 82 115)"> </text><text x="537" y="630"  fill="rgb(128 113 135)">n</text><text x="540" y="630"  fill="rgb(124 108 131)">e</text><text x="543" y="630"  fill="rgb(119 102 128)">w</text><text x="546" y="630"  fill="rgb(120 103 129)"> </text><text x="549" y="630"  fill="rgb(120 103 128)">I</text><text x="552" y="630"  fill="rgb(119 102 128)">nsi</text><text x="561" y="630"  fill="rgb(119 101 126)">ght</text><text x="570" y="630"  fill="rgb(118 100 125)">E</text><text x="573" y="630"  fill="rgb(117 100 125)">r</text><text x="576" y="630"  fill="rgb(116 100 125)">r</text><text x="579" y="630"  fill="rgb(116 99 125)">o</text><text x="582" y="630"  fill="rgb(117 100 125)">r</text><text x="585" y="630"  fill="rgb(114 97 124)">(</text><text x="588" y="630"  fill="rgb(116 98 124)">)</text><text x="591" y="630"  fill="rgb(133 118 140)">;</text><text x="594" y="630"  fill="rgb(137 123 144)"> </text><text x="597" y="630"  fill="rgb(135 120 141)">} </text><text x="603" y="630"  fill="rgb(134 119 140)">e</text><text x="606" y="630"  fill="rgb(134 116 139)">l</text><text x="609" y="630"  fill="rgb(133 116 139)">s</text><text x="612" y="630"  fill="rgb(133 115 139)">e</text><text x="615" y="630"  fill="rgb(132 115 139)"> </text><text x="618" y="630"  fill="rgb(131 114 138)">{</text><text x="621" y="630"  fill="rgb(130 113 137)"> </text><text x="624" y="630"  fill="rgb(129 112 136)">l</text><text x="627" y="630"  fill="rgb(129 111 136)">e</text><text x="630" y="630"  fill="rgb(129 111 135)">t</text><text x="633" y="630"  fill="rgb(128 110 135)"> i</text><text x="639" y="630"  fill="rgb(127 109 135)">d</text><text x="642" y="630"  fill="rgb(126 109 134)">s</text><text x="645" y="630"  fill="rgb(126 108 134)">t</text><text x="648" y="630"  fill="rgb(125 107 133)">r</text><text x="651" y="630"  fill="rgb(125 106 133)">i</text><text x="654" y="630"  fill="rgb(123 105 133)">n</text><text x="657" y="630"  fill="rgb(123 105 132)">g</text><text x="660" y="630"  fill="rgb(123 104 132)">:</text><text x="663" y="630"  fill="rgb(122 104 132)"> </text><text x="666" y="630"  fill="rgb(122 102 130)">s</text><text x="669" y="630"  fill="rgb(121 102 130)">t</text><text x="672" y="630"  fill="rgb(121 101 130)">r</text><text x="675" y="630"  fill="rgb(121 101 129)">i</text><text x="678" y="630"  fill="rgb(119 99 128)">n</text><text x="681" y="630"  fill="rgb(118 98 129)">g</text><text x="684" y="630"  fill="rgb(118 98 128)"> </text><text x="687" y="630"  fill="rgb(118 97 128)">=</text><text x="690" y="630"  fill="rgb(117 97 127)"> </text><text x="693" y="630"  fill="rgb(117 96 127)">s</text><text x="696" y="630"  fill="rgb(116 95 126)">k</text><text x="699" y="630"  fill="rgb(116 94 126)">ey</text><text x="705" y="630"  fill="rgb(115 93 125)">[0</text><text x="711" y="630"  fill="rgb(113 91 124)">]</text><text x="714" y="630"  fill="rgb(112 88 123)">;</text><text x="717" y="630"  fill="rgb(114 89 124)"> </text><text x="720" y="630"  fill="rgb(131 111 141)">l</text><text x="723" y="630"  fill="rgb(136 116 146)">e</text><text x="726" y="630"  fill="rgb(134 114 143)">t</text><text x="729" y="630"  fill="rgb(135 113 143)"> </text><text x="732" y="630"  fill="rgb(134 113 143)">s</text><text x="735" y="630"  fill="rgb(133 112 142)">f</text><text x="738" y="630"  fill="rgb(133 111 142)">i</text><text x="741" y="630"  fill="rgb(132 110 142)">e</text><text x="744" y="630"  fill="rgb(131 110 141)">l</text><text x="747" y="630"  fill="rgb(130 109 141)">d</text><text x="750" y="630"  fill="rgb(134 112 143)">:</text><text x="753" y="630"  fill="rgb(133 111 143)"> </text><text x="756" y="630"  fill="rgb(111 86 123)">s</text><text x="759" y="630"  fill="rgb(103 74 114)">t</text><text x="762" y="630"  fill="rgb(104 78 117)">r</text><text x="765" y="630"  fill="rgb(105 78 117)">i</text><text x="768" y="630"  fill="rgb(105 77 117)">n</text><text x="771" y="630"  fill="rgb(104 76 117)">g =</text><text x="780" y="630"  fill="rgb(103 75 116)"> </text><text x="783" y="630"  fill="rgb(102 74 115)">s</text><text x="786" y="630"  fill="rgb(101 73 115)">k</text><text x="789" y="630"  fill="rgb(101 73 116)">e</text><text x="792" y="630"  fill="rgb(101 72 114)">y[</text><text x="798" y="630"  fill="rgb(100 71 114)">1]</text><text x="804" y="630"  fill="rgb(100 70 113)">; </text><text x="810" y="630"  fill="rgb(99 69 112)">le</text><text x="816" y="630"  fill="rgb(98 67 112)">t</text><text x="819" y="630"  fill="rgb(97 66 112)"> s</text><text x="825" y="630"  fill="rgb(97 66 111)">t</text><text x="828" y="630"  fill="rgb(97 66 112)">r</text><text x="831" y="630"  fill="rgb(97 65 112)">:</text><text x="834" y="630"  fill="rgb(94 61 109)"> </text><text x="837" y="630"  fill="rgb(76 39 93)">a</text><text x="840" y="630"  fill="rgb(161 143 169)">n</text><text x="843" y="630"  fill="rgb(255 255 255)">y</text><text x="846" y="630"  fill="rgb(246 247 246)"> </text><text x="849" y="630"  fill="rgb(245 245 245)">= Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slic</text><text x="0" y="635"  fill="rgb(245 245 245)">e(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new</text><text x="318" y="635"  fill="rgb(245 246 245)"> </text><text x="321" y="635"  fill="rgb(252 254 251)">I</text><text x="324" y="635"  fill="rgb(198 186 204)">n</text><text x="327" y="635"  fill="rgb(133 107 146)">s</text><text x="330" y="635"  fill="rgb(132 104 145)">i</text><text x="333" y="635"  fill="rgb(135 109 147)">g</text><text x="336" y="635"  fill="rgb(135 109 148)">h</text><text x="339" y="635"  fill="rgb(135 108 148)">t</text><text x="342" y="635"  fill="rgb(135 110 148)">Er</text><text x="348" y="635"  fill="rgb(135 110 149)">r</text><text x="351" y="635"  fill="rgb(137 111 148)">o</text><text x="354" y="635"  fill="rgb(136 110 150)">r</text><text x="357" y="635"  fill="rgb(137 110 150)">(</text><text x="360" y="635"  fill="rgb(136 111 149)">)</text><text x="363" y="635"  fill="rgb(136 112 149)">;</text><text x="366" y="635"  fill="rgb(137 112 150)"> </text><text x="369" y="635"  fill="rgb(138 113 150)">}</text><text x="372" y="635"  fill="rgb(137 114 150)"> </text><text x="375" y="635"  fill="rgb(137 113 149)">}</text><text x="378" y="635"  fill="rgb(138 114 150)"> </text><text x="381" y="635"  fill="rgb(138 115 151)">}</text><text x="384" y="635"  fill="rgb(138 115 150)"> </text><text x="387" y="635"  fill="rgb(139 115 151)">} </text><text x="393" y="635"  fill="rgb(140 116 151)">p</text><text x="396" y="635"  fill="rgb(139 116 151)">r</text><text x="399" y="635"  fill="rgb(142 119 153)">i</text><text x="402" y="635"  fill="rgb(138 116 148)">v</text><text x="405" y="635"  fill="rgb(114 90 125)">a</text><text x="408" y="635"  fill="rgb(109 84 119)">t</text><text x="411" y="635"  fill="rgb(109 85 120)">e</text><text x="414" y="635"  fill="rgb(110 86 120)"> </text><text x="417" y="635"  fill="rgb(110 86 121)">v</text><text x="420" y="635"  fill="rgb(110 86 120)">al</text><text x="426" y="635"  fill="rgb(108 84 118)">i</text><text x="429" y="635"  fill="rgb(111 88 122)">d</text><text x="432" y="635"  fill="rgb(109 87 120)">a</text><text x="435" y="635"  fill="rgb(79 48 94)">t</text><text x="438" y="635"  fill="rgb(66 32 83)">e</text><text x="441" y="635"  fill="rgb(79 46 94)">G</text><text x="444" y="635"  fill="rgb(84 52 98)">T</text><text x="447" y="635"  fill="rgb(83 51 96)">L</text><text x="450" y="635"  fill="rgb(82 50 96)">T</text><text x="453" y="635"  fill="rgb(82 51 96)">EQ(</text><text x="462" y="635"  fill="rgb(82 52 96)">val</text><text x="471" y="635"  fill="rgb(82 52 95)">ue</text><text x="477" y="635"  fill="rgb(82 53 95)">:</text><text x="480" y="635"  fill="rgb(82 52 95)"> an</text><text x="489" y="635"  fill="rgb(82 53 95)">y)</text><text x="495" y="635"  fill="rgb(82 52 94)">:</text><text x="498" y="635"  fill="rgb(83 53 95)"> </text><text x="501" y="635"  fill="rgb(81 54 95)">v</text><text x="504" y="635"  fill="rgb(82 53 95)">o</text><text x="507" y="635"  fill="rgb(83 54 96)">i</text><text x="510" y="635"  fill="rgb(77 46 92)">d</text><text x="513" y="635"  fill="rgb(68 29 86)"> </text><text x="516" y="635"  fill="rgb(65 27 84)">{</text><text x="519" y="635"  fill="rgb(77 45 90)"> </text><text x="522" y="635"  fill="rgb(83 56 95)">i</text><text x="525" y="635"  fill="rgb(82 54 94)">f</text><text x="528" y="635"  fill="rgb(84 55 96)"> </text><text x="531" y="635"  fill="rgb(80 51 93)">(</text><text x="534" y="635"  fill="rgb(75 46 89)">t</text><text x="537" y="635"  fill="rgb(99 76 110)">y</text><text x="540" y="635"  fill="rgb(127 111 134)">p</text><text x="543" y="635"  fill="rgb(125 108 132)">e</text><text x="546" y="635"  fill="rgb(120 104 128)">o</text><text x="549" y="635"  fill="rgb(122 105 129)">f</text><text x="552" y="635"  fill="rgb(121 104 129)"> v</text><text x="558" y="635"  fill="rgb(119 103 128)">alu</text><text x="567" y="635"  fill="rgb(120 102 127)">e</text><text x="570" y="635"  fill="rgb(119 102 127)"> </text><text x="573" y="635"  fill="rgb(118 100 125)">!</text><text x="576" y="635"  fill="rgb(118 102 126)">=</text><text x="579" y="635"  fill="rgb(118 101 126)">=</text><text x="582" y="635"  fill="rgb(117 100 125)"> </text><text x="585" y="635"  fill="rgb(113 97 122)">&quot;</text><text x="588" y="635"  fill="rgb(125 110 133)">o</text><text x="591" y="635"  fill="rgb(140 125 146)">b</text><text x="594" y="635"  fill="rgb(137 123 144)">j</text><text x="597" y="635"  fill="rgb(136 122 143)">e</text><text x="600" y="635"  fill="rgb(136 121 142)">c</text><text x="603" y="635"  fill="rgb(135 120 140)">t</text><text x="606" y="635"  fill="rgb(135 119 141)">&quot;</text><text x="609" y="635"  fill="rgb(133 117 140)"> |</text><text x="615" y="635"  fill="rgb(133 116 139)">|</text><text x="618" y="635"  fill="rgb(133 116 140)"> </text><text x="621" y="635"  fill="rgb(133 116 139)">O</text><text x="624" y="635"  fill="rgb(131 114 138)">b</text><text x="627" y="635"  fill="rgb(130 113 137)">j</text><text x="630" y="635"  fill="rgb(129 112 136)">e</text><text x="633" y="635"  fill="rgb(130 112 136)">c</text><text x="636" y="635"  fill="rgb(128 110 136)">t</text><text x="639" y="635"  fill="rgb(129 110 135)">.</text><text x="642" y="635"  fill="rgb(128 110 135)">ke</text><text x="648" y="635"  fill="rgb(126 109 134)">y</text><text x="651" y="635"  fill="rgb(126 107 134)">s</text><text x="654" y="635"  fill="rgb(124 106 133)">(</text><text x="657" y="635"  fill="rgb(125 107 133)">v</text><text x="660" y="635"  fill="rgb(124 106 133)">a</text><text x="663" y="635"  fill="rgb(124 105 133)">l</text><text x="666" y="635"  fill="rgb(123 104 132)">ue</text><text x="672" y="635"  fill="rgb(122 102 130)">)</text><text x="675" y="635"  fill="rgb(122 102 131)">.l</text><text x="681" y="635"  fill="rgb(120 100 129)">e</text><text x="684" y="635"  fill="rgb(119 100 129)">n</text><text x="687" y="635"  fill="rgb(119 98 129)">g</text><text x="690" y="635"  fill="rgb(119 98 128)">t</text><text x="693" y="635"  fill="rgb(117 98 129)">h</text><text x="696" y="635"  fill="rgb(118 97 128)"> </text><text x="699" y="635"  fill="rgb(118 96 128)">!</text><text x="702" y="635"  fill="rgb(117 96 126)">=</text><text x="705" y="635"  fill="rgb(117 94 126)">=</text><text x="708" y="635"  fill="rgb(116 94 126)"> </text><text x="711" y="635"  fill="rgb(115 93 125)">1</text><text x="714" y="635"  fill="rgb(113 91 125)">)</text><text x="717" y="635"  fill="rgb(112 89 123)"> </text><text x="720" y="635"  fill="rgb(127 106 136)">{</text><text x="723" y="635"  fill="rgb(138 119 147)"> </text><text x="726" y="635"  fill="rgb(135 116 144)">t</text><text x="729" y="635"  fill="rgb(135 114 143)">h</text><text x="732" y="635"  fill="rgb(135 114 144)">ro</text><text x="738" y="635"  fill="rgb(134 113 143)">w</text><text x="741" y="635"  fill="rgb(134 111 142)"> </text><text x="744" y="635"  fill="rgb(133 110 142)">n</text><text x="747" y="635"  fill="rgb(136 115 146)">e</text><text x="750" y="635"  fill="rgb(133 111 143)">w</text><text x="753" y="635"  fill="rgb(111 87 124)"> </text><text x="756" y="635"  fill="rgb(103 75 115)">I</text><text x="759" y="635"  fill="rgb(106 80 118)">ns</text><text x="765" y="635"  fill="rgb(106 79 118)">i</text><text x="768" y="635"  fill="rgb(105 78 117)">g</text><text x="771" y="635"  fill="rgb(105 77 117)">ht</text><text x="777" y="635"  fill="rgb(104 76 117)">E</text><text x="780" y="635"  fill="rgb(103 75 116)">rr</text><text x="786" y="635"  fill="rgb(102 74 115)">o</text><text x="789" y="635"  fill="rgb(102 74 116)">r</text><text x="792" y="635"  fill="rgb(101 72 115)">(</text><text x="795" y="635"  fill="rgb(101 73 115)">);</text><text x="801" y="635"  fill="rgb(101 72 114)"> </text><text x="804" y="635"  fill="rgb(100 71 114)">} l</text><text x="813" y="635"  fill="rgb(100 70 114)">e</text><text x="816" y="635"  fill="rgb(98 69 112)">t</text><text x="819" y="635"  fill="rgb(97 67 112)"> </text><text x="822" y="635"  fill="rgb(98 67 112)">m</text><text x="825" y="635"  fill="rgb(98 66 112)">k</text><text x="828" y="635"  fill="rgb(97 66 112)">e</text><text x="831" y="635"  fill="rgb(97 65 111)">y</text><text x="834" y="635"  fill="rgb(98 66 111)">:</text><text x="837" y="635"  fill="rgb(85 51 101)"> </text><text x="840" y="635"  fill="rgb(87 55 103)">s</text><text x="843" y="635"  fill="rgb(215 207 217)">t</text><text x="846" y="635"  fill="rgb(255 255 255)">r</text><text x="849" y="635"  fill="rgb(244 244 244)">i</text><text x="852" y="635"  fill="rgb(245 245 245)">ng[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let </text><text x="0" y="640"  fill="rgb(245 245 245)">idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typ</text><text x="318" y="640"  fill="rgb(246 246 246)">e</text><text x="321" y="640"  fill="rgb(250 253 250)">o</text><text x="324" y="640"  fill="rgb(187 170 194)">f</text><text x="327" y="640"  fill="rgb(130 100 143)"> </text><text x="330" y="640"  fill="rgb(132 105 145)">n</text><text x="333" y="640"  fill="rgb(134 107 147)">u</text><text x="336" y="640"  fill="rgb(135 108 147)">m </text><text x="342" y="640"  fill="rgb(135 109 148)">!==</text><text x="351" y="640"  fill="rgb(135 110 148)"> &quot;nu</text><text x="363" y="640"  fill="rgb(136 110 148)">m</text><text x="366" y="640"  fill="rgb(135 110 148)">b</text><text x="369" y="640"  fill="rgb(136 111 149)">e</text><text x="372" y="640"  fill="rgb(136 112 149)">r</text><text x="375" y="640"  fill="rgb(137 113 149)">&quot;)</text><text x="381" y="640"  fill="rgb(137 114 150)"> </text><text x="384" y="640"  fill="rgb(137 114 149)">|</text><text x="387" y="640"  fill="rgb(138 114 149)">|</text><text x="390" y="640"  fill="rgb(138 115 150)"> !t</text><text x="399" y="640"  fill="rgb(141 117 151)">h</text><text x="402" y="640"  fill="rgb(135 111 147)">i</text><text x="405" y="640"  fill="rgb(111 87 124)">s</text><text x="408" y="640"  fill="rgb(109 84 120)">.</text><text x="411" y="640"  fill="rgb(110 85 123)">v</text><text x="414" y="640"  fill="rgb(109 85 121)">a</text><text x="417" y="640"  fill="rgb(110 86 121)">li</text><text x="423" y="640"  fill="rgb(110 86 120)">d</text><text x="426" y="640"  fill="rgb(109 85 119)">at</text><text x="432" y="640"  fill="rgb(113 90 124)">e</text><text x="435" y="640"  fill="rgb(109 86 121)">I</text><text x="438" y="640"  fill="rgb(76 45 92)">d</text><text x="441" y="640"  fill="rgb(64 31 81)">s</text><text x="444" y="640"  fill="rgb(77 45 92)">t</text><text x="447" y="640"  fill="rgb(83 53 96)">r</text><text x="450" y="640"  fill="rgb(83 53 97)">i</text><text x="453" y="640"  fill="rgb(82 52 96)">ng(</text><text x="462" y="640"  fill="rgb(83 53 96)">i</text><text x="465" y="640"  fill="rgb(82 52 95)">ds</text><text x="471" y="640"  fill="rgb(82 53 96)">trin</text><text x="483" y="640"  fill="rgb(82 53 95)">g)</text><text x="489" y="640"  fill="rgb(83 54 95)"> </text><text x="492" y="640"  fill="rgb(82 53 95)">||</text><text x="498" y="640"  fill="rgb(83 54 95)"> </text><text x="501" y="640"  fill="rgb(82 54 95)">!t</text><text x="507" y="640"  fill="rgb(83 56 96)">h</text><text x="510" y="640"  fill="rgb(79 49 93)">i</text><text x="513" y="640"  fill="rgb(67 28 85)">s</text><text x="516" y="640"  fill="rgb(69 33 87)">.</text><text x="519" y="640"  fill="rgb(82 54 95)">m</text><text x="522" y="640"  fill="rgb(83 56 96)">f</text><text x="525" y="640"  fill="rgb(82 54 95)">i</text><text x="528" y="640"  fill="rgb(82 54 94)">e</text><text x="531" y="640"  fill="rgb(83 55 95)">l</text><text x="534" y="640"  fill="rgb(81 52 93)">d</text><text x="537" y="640"  fill="rgb(75 46 88)">s</text><text x="540" y="640"  fill="rgb(95 70 106)">.</text><text x="543" y="640"  fill="rgb(125 108 131)">i</text><text x="546" y="640"  fill="rgb(126 111 134)">n</text><text x="549" y="640"  fill="rgb(122 105 129)">cl</text><text x="555" y="640"  fill="rgb(121 104 129)">ude</text><text x="564" y="640"  fill="rgb(120 103 128)">s(m</text><text x="573" y="640"  fill="rgb(119 102 127)">fi</text><text x="579" y="640"  fill="rgb(119 102 126)">e</text><text x="582" y="640"  fill="rgb(116 99 124)">l</text><text x="585" y="640"  fill="rgb(119 102 126)">d</text><text x="588" y="640"  fill="rgb(137 124 143)">)</text><text x="591" y="640"  fill="rgb(140 126 146)">)</text><text x="594" y="640"  fill="rgb(138 124 143)"> </text><text x="597" y="640"  fill="rgb(137 123 144)">{</text><text x="600" y="640"  fill="rgb(137 122 143)"> </text><text x="603" y="640"  fill="rgb(136 121 142)">th</text><text x="609" y="640"  fill="rgb(135 119 141)">r</text><text x="612" y="640"  fill="rgb(135 120 141)">o</text><text x="615" y="640"  fill="rgb(134 118 141)">w</text><text x="618" y="640"  fill="rgb(133 118 140)"> </text><text x="621" y="640"  fill="rgb(133 117 140)">n</text><text x="624" y="640"  fill="rgb(133 116 139)">e</text><text x="627" y="640"  fill="rgb(132 116 139)">w</text><text x="630" y="640"  fill="rgb(131 114 138)"> I</text><text x="636" y="640"  fill="rgb(130 112 136)">n</text><text x="639" y="640"  fill="rgb(129 111 136)">si</text><text x="645" y="640"  fill="rgb(129 110 135)">g</text><text x="648" y="640"  fill="rgb(127 110 135)">h</text><text x="651" y="640"  fill="rgb(127 109 135)">t</text><text x="654" y="640"  fill="rgb(126 108 134)">Er</text><text x="660" y="640"  fill="rgb(125 108 134)">r</text><text x="663" y="640"  fill="rgb(124 106 133)">or</text><text x="669" y="640"  fill="rgb(123 105 133)">(</text><text x="672" y="640"  fill="rgb(123 104 132)">)</text><text x="675" y="640"  fill="rgb(123 103 132)">;</text><text x="678" y="640"  fill="rgb(123 103 131)"> </text><text x="681" y="640"  fill="rgb(122 102 131)">}</text><text x="684" y="640"  fill="rgb(121 101 130)"> </text><text x="687" y="640"  fill="rgb(121 100 130)">}</text><text x="690" y="640"  fill="rgb(120 99 129)"> </text><text x="693" y="640"  fill="rgb(119 99 129)">}</text><text x="696" y="640"  fill="rgb(118 98 129)"> </text><text x="699" y="640"  fill="rgb(118 98 128)">p</text><text x="702" y="640"  fill="rgb(118 97 128)">r</text><text x="705" y="640"  fill="rgb(117 96 127)">i</text><text x="708" y="640"  fill="rgb(117 95 127)">v</text><text x="711" y="640"  fill="rgb(116 94 126)">at</text><text x="717" y="640"  fill="rgb(113 91 124)">e</text><text x="720" y="640"  fill="rgb(123 102 132)"> </text><text x="723" y="640"  fill="rgb(139 120 148)">v</text><text x="726" y="640"  fill="rgb(136 117 146)">a</text><text x="729" y="640"  fill="rgb(136 116 145)">l</text><text x="732" y="640"  fill="rgb(135 115 145)">i</text><text x="735" y="640"  fill="rgb(135 115 144)">d</text><text x="738" y="640"  fill="rgb(135 114 144)">a</text><text x="741" y="640"  fill="rgb(136 115 145)">t</text><text x="744" y="640"  fill="rgb(138 117 147)">e</text><text x="747" y="640"  fill="rgb(129 109 139)">A</text><text x="750" y="640"  fill="rgb(111 85 123)">N</text><text x="753" y="640"  fill="rgb(103 76 115)">D</text><text x="756" y="640"  fill="rgb(108 80 118)">O</text><text x="759" y="640"  fill="rgb(107 80 119)">R(</text><text x="765" y="640"  fill="rgb(106 79 118)">va</text><text x="771" y="640"  fill="rgb(105 78 118)">l</text><text x="774" y="640"  fill="rgb(105 77 117)">ue</text><text x="780" y="640"  fill="rgb(104 76 117)">: </text><text x="786" y="640"  fill="rgb(103 75 116)">a</text><text x="789" y="640"  fill="rgb(102 75 115)">n</text><text x="792" y="640"  fill="rgb(102 74 115)">y</text><text x="795" y="640"  fill="rgb(102 74 114)">)</text><text x="798" y="640"  fill="rgb(101 73 115)">:</text><text x="801" y="640"  fill="rgb(101 72 115)"> </text><text x="804" y="640"  fill="rgb(101 72 114)">vo</text><text x="810" y="640"  fill="rgb(100 71 114)">id</text><text x="816" y="640"  fill="rgb(100 70 114)"> </text><text x="819" y="640"  fill="rgb(100 70 113)">{</text><text x="822" y="640"  fill="rgb(99 68 113)"> </text><text x="825" y="640"  fill="rgb(98 68 112)">i</text><text x="828" y="640"  fill="rgb(98 66 112)">f</text><text x="831" y="640"  fill="rgb(97 66 112)"> (</text><text x="837" y="640"  fill="rgb(98 67 111)">!</text><text x="840" y="640"  fill="rgb(72 36 89)">A</text><text x="843" y="640"  fill="rgb(133 109 144)">r</text><text x="846" y="640"  fill="rgb(248 248 248)">r</text><text x="849" y="640"  fill="rgb(251 252 250)">a</text><text x="852" y="640"  fill="rgb(245 245 245)">y.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { this</text><text x="0" y="645"  fill="rgb(245 245 245)">.validateFilter(innerObject); } } private validateIdstring(idstring: string): boolean { if (this.idInQuery</text><text x="318" y="645"  fill="rgb(247 247 247)">.</text><text x="321" y="645"  fill="rgb(247 249 248)">l</text><text x="324" y="645"  fill="rgb(176 158 185)">e</text><text x="327" y="645"  fill="rgb(127 97 141)">n</text><text x="330" y="645"  fill="rgb(133 104 146)">g</text><text x="333" y="645"  fill="rgb(134 105 147)">t</text><text x="336" y="645"  fill="rgb(134 105 146)">h</text><text x="339" y="645"  fill="rgb(134 106 147)"> </text><text x="342" y="645"  fill="rgb(134 108 147)">=</text><text x="345" y="645"  fill="rgb(135 108 147)">=</text><text x="348" y="645"  fill="rgb(135 108 148)">=</text><text x="351" y="645"  fill="rgb(135 108 147)"> </text><text x="354" y="645"  fill="rgb(135 109 148)">0) </text><text x="363" y="645"  fill="rgb(135 110 148)">{</text><text x="366" y="645"  fill="rgb(136 110 148)"> </text><text x="369" y="645"  fill="rgb(135 111 148)">f</text><text x="372" y="645"  fill="rgb(135 110 148)">o</text><text x="375" y="645"  fill="rgb(135 111 148)">r</text><text x="378" y="645"  fill="rgb(136 111 149)"> </text><text x="381" y="645"  fill="rgb(136 111 148)">(</text><text x="384" y="645"  fill="rgb(137 112 149)">l</text><text x="387" y="645"  fill="rgb(138 113 149)">et</text><text x="393" y="645"  fill="rgb(138 114 149)"> </text><text x="396" y="645"  fill="rgb(138 115 149)">i</text><text x="399" y="645"  fill="rgb(140 116 152)">n</text><text x="402" y="645"  fill="rgb(133 107 143)">s</text><text x="405" y="645"  fill="rgb(110 85 121)">i</text><text x="408" y="645"  fill="rgb(109 85 121)">g</text><text x="411" y="645"  fill="rgb(110 86 122)">ht</text><text x="417" y="645"  fill="rgb(110 85 121)">Da</text><text x="423" y="645"  fill="rgb(109 85 121)">t</text><text x="426" y="645"  fill="rgb(110 86 121)">a</text><text x="429" y="645"  fill="rgb(109 85 120)">s</text><text x="432" y="645"  fill="rgb(109 85 119)">e</text><text x="435" y="645"  fill="rgb(114 92 125)">t</text><text x="438" y="645"  fill="rgb(107 83 119)"> </text><text x="441" y="645"  fill="rgb(75 43 91)">o</text><text x="444" y="645"  fill="rgb(66 32 82)">f</text><text x="447" y="645"  fill="rgb(76 44 91)"> </text><text x="450" y="645"  fill="rgb(83 52 97)">t</text><text x="453" y="645"  fill="rgb(85 55 98)">h</text><text x="456" y="645"  fill="rgb(83 53 96)">i</text><text x="459" y="645"  fill="rgb(83 54 97)">s</text><text x="462" y="645"  fill="rgb(82 53 96)">.</text><text x="465" y="645"  fill="rgb(83 54 96)">a</text><text x="468" y="645"  fill="rgb(83 54 97)">l</text><text x="471" y="645"  fill="rgb(83 54 96)">lI</text><text x="477" y="645"  fill="rgb(82 53 96)">n</text><text x="480" y="645"  fill="rgb(82 54 96)">s</text><text x="483" y="645"  fill="rgb(83 54 95)">ightDa</text><text x="501" y="645"  fill="rgb(82 54 95)">t</text><text x="504" y="645"  fill="rgb(82 55 95)">a</text><text x="507" y="645"  fill="rgb(83 56 96)">s</text><text x="510" y="645"  fill="rgb(80 49 93)">e</text><text x="513" y="645"  fill="rgb(67 29 86)">t</text><text x="516" y="645"  fill="rgb(77 43 91)">)</text><text x="519" y="645"  fill="rgb(84 57 96)"> </text><text x="522" y="645"  fill="rgb(83 55 95)">{ if</text><text x="534" y="645"  fill="rgb(84 57 95)"> </text><text x="537" y="645"  fill="rgb(81 54 93)">(</text><text x="540" y="645"  fill="rgb(76 46 87)">i</text><text x="543" y="645"  fill="rgb(91 66 101)">n</text><text x="546" y="645"  fill="rgb(122 104 130)">s</text><text x="549" y="645"  fill="rgb(128 113 136)">i</text><text x="552" y="645"  fill="rgb(123 106 130)">g</text><text x="555" y="645"  fill="rgb(122 105 129)">htD</text><text x="564" y="645"  fill="rgb(122 104 129)">at</text><text x="570" y="645"  fill="rgb(121 104 129)">as</text><text x="576" y="645"  fill="rgb(120 103 128)">e</text><text x="579" y="645"  fill="rgb(119 102 127)">t</text><text x="582" y="645"  fill="rgb(116 99 124)">.</text><text x="585" y="645"  fill="rgb(131 115 137)">i</text><text x="588" y="645"  fill="rgb(143 131 149)">d</text><text x="591" y="645"  fill="rgb(140 127 146)"> </text><text x="594" y="645"  fill="rgb(139 126 145)">=</text><text x="597" y="645"  fill="rgb(138 125 144)">=</text><text x="600" y="645"  fill="rgb(138 124 144)">=</text><text x="603" y="645"  fill="rgb(138 123 144)"> </text><text x="606" y="645"  fill="rgb(136 122 143)">id</text><text x="612" y="645"  fill="rgb(136 121 142)">s</text><text x="615" y="645"  fill="rgb(136 120 141)">t</text><text x="618" y="645"  fill="rgb(135 120 141)">r</text><text x="621" y="645"  fill="rgb(135 118 141)">i</text><text x="624" y="645"  fill="rgb(133 117 140)">ng)</text><text x="633" y="645"  fill="rgb(133 116 139)"> </text><text x="636" y="645"  fill="rgb(131 114 138)">{</text><text x="639" y="645"  fill="rgb(130 113 137)"> t</text><text x="645" y="645"  fill="rgb(129 112 136)">h</text><text x="648" y="645"  fill="rgb(129 111 136)">i</text><text x="651" y="645"  fill="rgb(128 110 135)">s</text><text x="654" y="645"  fill="rgb(127 110 135)">.</text><text x="657" y="645"  fill="rgb(128 110 135)">i</text><text x="660" y="645"  fill="rgb(127 109 135)">d</text><text x="663" y="645"  fill="rgb(126 108 134)">I</text><text x="666" y="645"  fill="rgb(126 107 133)">n</text><text x="669" y="645"  fill="rgb(124 107 133)">Q</text><text x="672" y="645"  fill="rgb(124 106 133)">u</text><text x="675" y="645"  fill="rgb(124 105 133)">e</text><text x="678" y="645"  fill="rgb(123 105 133)">r</text><text x="681" y="645"  fill="rgb(122 103 131)">y.</text><text x="687" y="645"  fill="rgb(122 102 130)">p</text><text x="690" y="645"  fill="rgb(122 101 130)">u</text><text x="693" y="645"  fill="rgb(120 101 130)">s</text><text x="696" y="645"  fill="rgb(120 100 129)">h</text><text x="699" y="645"  fill="rgb(119 99 128)">(</text><text x="702" y="645"  fill="rgb(119 99 129)">i</text><text x="705" y="645"  fill="rgb(118 98 129)">ds</text><text x="711" y="645"  fill="rgb(117 96 127)">t</text><text x="714" y="645"  fill="rgb(117 95 126)">r</text><text x="717" y="645"  fill="rgb(115 93 124)">i</text><text x="720" y="645"  fill="rgb(120 98 129)">n</text><text x="723" y="645"  fill="rgb(138 119 147)">g</text><text x="726" y="645"  fill="rgb(139 121 149)">)</text><text x="729" y="645"  fill="rgb(137 118 146)">; </text><text x="735" y="645"  fill="rgb(136 118 146)">i</text><text x="738" y="645"  fill="rgb(139 120 149)">f</text><text x="741" y="645"  fill="rgb(136 117 146)"> </text><text x="744" y="645"  fill="rgb(122 101 134)">(</text><text x="747" y="645"  fill="rgb(108 82 120)">i</text><text x="750" y="645"  fill="rgb(105 77 116)">n</text><text x="753" y="645"  fill="rgb(108 81 119)">s</text><text x="756" y="645"  fill="rgb(108 81 120)">i</text><text x="759" y="645"  fill="rgb(107 80 119)">ghtD</text><text x="771" y="645"  fill="rgb(105 78 118)">at</text><text x="777" y="645"  fill="rgb(105 77 117)">ase</text><text x="786" y="645"  fill="rgb(104 76 117)">t</text><text x="789" y="645"  fill="rgb(104 75 116)">.ki</text><text x="798" y="645"  fill="rgb(102 74 115)">n</text><text x="801" y="645"  fill="rgb(102 73 115)">d</text><text x="804" y="645"  fill="rgb(101 72 114)"> </text><text x="807" y="645"  fill="rgb(102 73 115)">=</text><text x="810" y="645"  fill="rgb(101 72 114)">=</text><text x="813" y="645"  fill="rgb(100 71 114)">= </text><text x="819" y="645"  fill="rgb(100 70 113)">In</text><text x="825" y="645"  fill="rgb(99 69 113)">s</text><text x="828" y="645"  fill="rgb(98 68 112)">i</text><text x="831" y="645"  fill="rgb(97 67 112)">g</text><text x="834" y="645"  fill="rgb(98 67 112)">h</text><text x="837" y="645"  fill="rgb(99 68 113)">t</text><text x="840" y="645"  fill="rgb(90 56 106)">D</text><text x="843" y="645"  fill="rgb(80 47 97)">a</text><text x="846" y="645"  fill="rgb(200 192 205)">t</text><text x="849" y="645"  fill="rgb(255 255 255)">a</text><text x="852" y="645"  fill="rgb(246 246 246)">s</text><text x="855" y="645"  fill="rgb(245 245 245)">etKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { this.mf</text><text x="0" y="650"  fill="rgb(245 245 245)">ields = this.roommfields; this.sfields = this.roomsfields; } return true; } } return false; } else { retur</text><text x="318" y="650"  fill="rgb(248 249 248)">n</text><text x="321" y="650"  fill="rgb(242 241 242)"> </text><text x="324" y="650"  fill="rgb(170 150 179)">t</text><text x="327" y="650"  fill="rgb(126 96 141)">h</text><text x="330" y="650"  fill="rgb(132 103 145)">i</text><text x="333" y="650"  fill="rgb(134 105 147)">s</text><text x="336" y="650"  fill="rgb(134 105 146)">.i</text><text x="342" y="650"  fill="rgb(134 106 147)">d</text><text x="345" y="650"  fill="rgb(134 107 147)">I</text><text x="348" y="650"  fill="rgb(134 107 146)">n</text><text x="351" y="650"  fill="rgb(135 108 146)">Q</text><text x="354" y="650"  fill="rgb(135 108 147)">u</text><text x="357" y="650"  fill="rgb(135 109 147)">er</text><text x="363" y="650"  fill="rgb(135 109 148)">y</text><text x="366" y="650"  fill="rgb(135 110 148)">.incl</text><text x="381" y="650"  fill="rgb(135 111 148)">u</text><text x="384" y="650"  fill="rgb(136 111 149)">d</text><text x="387" y="650"  fill="rgb(136 112 149)">e</text><text x="390" y="650"  fill="rgb(136 113 149)">s</text><text x="393" y="650"  fill="rgb(137 113 149)">(</text><text x="396" y="650"  fill="rgb(138 114 149)">i</text><text x="399" y="650"  fill="rgb(140 116 151)">d</text><text x="402" y="650"  fill="rgb(128 104 140)">s</text><text x="405" y="650"  fill="rgb(109 84 122)">t</text><text x="408" y="650"  fill="rgb(110 85 123)">r</text><text x="411" y="650"  fill="rgb(110 85 122)">i</text><text x="414" y="650"  fill="rgb(110 86 122)">n</text><text x="417" y="650"  fill="rgb(110 85 122)">g)</text><text x="423" y="650"  fill="rgb(109 85 122)">;</text><text x="426" y="650"  fill="rgb(109 86 121)"> </text><text x="429" y="650"  fill="rgb(110 86 122)">}</text><text x="432" y="650"  fill="rgb(109 85 121)"> </text><text x="435" y="650"  fill="rgb(109 85 120)">}</text><text x="438" y="650"  fill="rgb(114 91 124)"> </text><text x="441" y="650"  fill="rgb(105 80 118)">p</text><text x="444" y="650"  fill="rgb(74 42 90)">u</text><text x="447" y="650"  fill="rgb(66 31 82)">b</text><text x="450" y="650"  fill="rgb(74 41 88)">l</text><text x="453" y="650"  fill="rgb(80 51 94)">i</text><text x="456" y="650"  fill="rgb(85 56 99)">c</text><text x="459" y="650"  fill="rgb(84 56 98)"> </text><text x="462" y="650"  fill="rgb(83 54 97)">g</text><text x="465" y="650"  fill="rgb(83 54 96)">etIdIn</text><text x="483" y="650"  fill="rgb(83 54 97)">Q</text><text x="486" y="650"  fill="rgb(84 55 96)">uer</text><text x="495" y="650"  fill="rgb(83 55 96)">y</text><text x="498" y="650"  fill="rgb(84 55 96)">()</text><text x="504" y="650"  fill="rgb(83 55 96)">:</text><text x="507" y="650"  fill="rgb(84 58 96)"> </text><text x="510" y="650"  fill="rgb(79 50 93)">s</text><text x="513" y="650"  fill="rgb(70 35 88)">t</text><text x="516" y="650"  fill="rgb(83 53 95)">r</text><text x="519" y="650"  fill="rgb(85 57 96)">i</text><text x="522" y="650"  fill="rgb(83 55 95)">n</text><text x="525" y="650"  fill="rgb(84 56 95)">g[</text><text x="531" y="650"  fill="rgb(84 57 95)">]</text><text x="534" y="650"  fill="rgb(84 57 94)"> </text><text x="537" y="650"  fill="rgb(83 58 94)">{</text><text x="540" y="650"  fill="rgb(83 57 94)"> </text><text x="543" y="650"  fill="rgb(78 50 89)">r</text><text x="546" y="650"  fill="rgb(88 62 99)">e</text><text x="549" y="650"  fill="rgb(118 100 126)">t</text><text x="552" y="650"  fill="rgb(131 116 138)">u</text><text x="555" y="650"  fill="rgb(125 108 132)">r</text><text x="558" y="650"  fill="rgb(122 105 130)">n</text><text x="561" y="650"  fill="rgb(123 106 129)"> </text><text x="564" y="650"  fill="rgb(122 105 129)">thi</text><text x="573" y="650"  fill="rgb(121 104 129)">s</text><text x="576" y="650"  fill="rgb(120 103 128)">.</text><text x="579" y="650"  fill="rgb(117 100 125)">i</text><text x="582" y="650"  fill="rgb(125 109 133)">d</text><text x="585" y="650"  fill="rgb(143 131 149)">I</text><text x="588" y="650"  fill="rgb(143 130 148)">n</text><text x="591" y="650"  fill="rgb(141 128 147)">Q</text><text x="594" y="650"  fill="rgb(140 127 146)">u</text><text x="597" y="650"  fill="rgb(139 126 145)">e</text><text x="600" y="650"  fill="rgb(138 126 145)">r</text><text x="603" y="650"  fill="rgb(138 125 144)">y</text><text x="606" y="650"  fill="rgb(137 123 143)">;</text><text x="609" y="650"  fill="rgb(137 123 144)"> </text><text x="612" y="650"  fill="rgb(136 122 143)">} </text><text x="618" y="650"  fill="rgb(136 121 141)">}</text><text x="621" y="650"  fill="rgb(135 120 141)"> </text><text x="624" y="650"  fill="rgb(135 119 141)">i</text><text x="627" y="650"  fill="rgb(134 118 140)">m</text><text x="630" y="650"  fill="rgb(133 118 140)">p</text><text x="633" y="650"  fill="rgb(133 117 140)">o</text><text x="636" y="650"  fill="rgb(132 116 139)">r</text><text x="639" y="650"  fill="rgb(133 116 139)">t</text><text x="642" y="650"  fill="rgb(132 115 139)"> </text><text x="645" y="650"  fill="rgb(130 114 138)">{</text><text x="648" y="650"  fill="rgb(130 112 136)">I</text><text x="651" y="650"  fill="rgb(129 112 136)">n</text><text x="654" y="650"  fill="rgb(129 111 135)">s</text><text x="657" y="650"  fill="rgb(129 111 136)">i</text><text x="660" y="650"  fill="rgb(128 110 135)">g</text><text x="663" y="650"  fill="rgb(127 110 135)">h</text><text x="666" y="650"  fill="rgb(126 108 134)">tD</text><text x="672" y="650"  fill="rgb(125 107 133)">a</text><text x="675" y="650"  fill="rgb(124 107 133)">t</text><text x="678" y="650"  fill="rgb(124 105 133)">a</text><text x="681" y="650"  fill="rgb(123 105 133)">s</text><text x="684" y="650"  fill="rgb(123 104 132)">e</text><text x="687" y="650"  fill="rgb(122 103 131)">t</text><text x="690" y="650"  fill="rgb(123 103 131)">,</text><text x="693" y="650"  fill="rgb(122 103 131)"> </text><text x="696" y="650"  fill="rgb(121 101 130)">I</text><text x="699" y="650"  fill="rgb(121 100 129)">n</text><text x="702" y="650"  fill="rgb(120 100 129)">s</text><text x="705" y="650"  fill="rgb(119 99 129)">i</text><text x="708" y="650"  fill="rgb(118 98 128)">g</text><text x="711" y="650"  fill="rgb(118 97 129)">h</text><text x="714" y="650"  fill="rgb(117 97 128)">t</text><text x="717" y="650"  fill="rgb(116 94 126)">D</text><text x="720" y="650"  fill="rgb(117 96 127)">a</text><text x="723" y="650"  fill="rgb(134 116 144)">t</text><text x="726" y="650"  fill="rgb(141 124 150)">a</text><text x="729" y="650"  fill="rgb(140 122 149)">s</text><text x="732" y="650"  fill="rgb(142 125 151)">e</text><text x="735" y="650"  fill="rgb(141 123 150)">t</text><text x="738" y="650"  fill="rgb(130 110 140)">K</text><text x="741" y="650"  fill="rgb(115 92 127)">i</text><text x="744" y="650"  fill="rgb(106 80 118)">n</text><text x="747" y="650"  fill="rgb(107 81 119)">d</text><text x="750" y="650"  fill="rgb(109 83 121)">,</text><text x="753" y="650"  fill="rgb(108 82 120)"> </text><text x="756" y="650"  fill="rgb(109 82 120)">I</text><text x="759" y="650"  fill="rgb(109 82 119)">n</text><text x="762" y="650"  fill="rgb(108 81 119)">s</text><text x="765" y="650"  fill="rgb(108 80 119)">i</text><text x="768" y="650"  fill="rgb(107 80 119)">g</text><text x="771" y="650"  fill="rgb(107 80 118)">h</text><text x="774" y="650"  fill="rgb(105 78 117)">tE</text><text x="780" y="650"  fill="rgb(105 77 117)">rr</text><text x="786" y="650"  fill="rgb(104 76 117)">or</text><text x="792" y="650"  fill="rgb(104 75 117)">} </text><text x="798" y="650"  fill="rgb(103 75 116)">f</text><text x="801" y="650"  fill="rgb(103 74 116)">ro</text><text x="807" y="650"  fill="rgb(102 73 115)">m</text><text x="810" y="650"  fill="rgb(101 72 114)"> &quot;</text><text x="816" y="650"  fill="rgb(100 71 114)">.</text><text x="819" y="650"  fill="rgb(100 70 113)">/</text><text x="822" y="650"  fill="rgb(100 71 114)">I</text><text x="825" y="650"  fill="rgb(99 69 113)">In</text><text x="831" y="650"  fill="rgb(99 68 112)">s</text><text x="834" y="650"  fill="rgb(98 68 112)">i</text><text x="837" y="650"  fill="rgb(97 67 112)">g</text><text x="840" y="650"  fill="rgb(100 68 114)">h</text><text x="843" y="650"  fill="rgb(76 41 93)">t</text><text x="846" y="650"  fill="rgb(137 116 149)">F</text><text x="849" y="650"  fill="rgb(247 247 246)">a</text><text x="852" y="650"  fill="rgb(251 252 251)">c</text><text x="855" y="650"  fill="rgb(245 245 245)">ade&quot;; export default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;</text><text x="0" y="655"  fill="rgb(245 245 245)">fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, </text><text x="318" y="655"  fill="rgb(249 250 248)">&quot;</text><text x="321" y="655"  fill="rgb(239 237 240)">u</text><text x="324" y="655"  fill="rgb(165 144 175)">u</text><text x="327" y="655"  fill="rgb(125 94 141)">i</text><text x="330" y="655"  fill="rgb(131 101 144)">d</text><text x="333" y="655"  fill="rgb(132 103 145)">&quot;</text><text x="336" y="655"  fill="rgb(133 104 146)">];</text><text x="342" y="655"  fill="rgb(134 105 146)"> </text><text x="345" y="655"  fill="rgb(134 105 145)">p</text><text x="348" y="655"  fill="rgb(133 106 146)">ri</text><text x="354" y="655"  fill="rgb(135 107 147)">v</text><text x="357" y="655"  fill="rgb(134 107 146)">a</text><text x="360" y="655"  fill="rgb(135 108 147)">t</text><text x="363" y="655"  fill="rgb(135 108 146)">e </text><text x="369" y="655"  fill="rgb(135 109 148)">re</text><text x="375" y="655"  fill="rgb(135 109 147)">a</text><text x="378" y="655"  fill="rgb(135 110 148)">d</text><text x="381" y="655"  fill="rgb(136 110 148)">on</text><text x="387" y="655"  fill="rgb(137 111 148)">l</text><text x="390" y="655"  fill="rgb(136 111 148)">y</text><text x="393" y="655"  fill="rgb(137 112 148)"> </text><text x="396" y="655"  fill="rgb(137 112 149)">r</text><text x="399" y="655"  fill="rgb(138 115 150)">o</text><text x="402" y="655"  fill="rgb(124 99 137)">o</text><text x="405" y="655"  fill="rgb(110 84 122)">m</text><text x="408" y="655"  fill="rgb(111 86 123)">mf</text><text x="414" y="655"  fill="rgb(109 84 121)">ie</text><text x="420" y="655"  fill="rgb(110 85 122)">l</text><text x="423" y="655"  fill="rgb(110 84 121)">d</text><text x="426" y="655"  fill="rgb(109 84 120)">s</text><text x="429" y="655"  fill="rgb(110 86 122)">:</text><text x="432" y="655"  fill="rgb(110 86 123)"> </text><text x="435" y="655"  fill="rgb(109 85 121)">s</text><text x="438" y="655"  fill="rgb(109 84 119)">t</text><text x="441" y="655"  fill="rgb(113 91 124)">r</text><text x="444" y="655"  fill="rgb(103 77 116)">i</text><text x="447" y="655"  fill="rgb(73 41 88)">n</text><text x="450" y="655"  fill="rgb(66 34 83)">g</text><text x="453" y="655"  fill="rgb(71 40 88)">[</text><text x="456" y="655"  fill="rgb(77 47 92)">]</text><text x="459" y="655"  fill="rgb(85 55 98)"> </text><text x="462" y="655"  fill="rgb(86 57 99)">=</text><text x="465" y="655"  fill="rgb(85 56 98)"> </text><text x="468" y="655"  fill="rgb(83 54 97)">[&quot;</text><text x="474" y="655"  fill="rgb(84 55 97)">l</text><text x="477" y="655"  fill="rgb(85 56 97)">a</text><text x="480" y="655"  fill="rgb(85 56 98)">t</text><text x="483" y="655"  fill="rgb(85 56 97)">&quot;</text><text x="486" y="655"  fill="rgb(85 56 98)">,</text><text x="489" y="655"  fill="rgb(85 56 97)"> &quot;</text><text x="495" y="655"  fill="rgb(84 56 97)">l</text><text x="498" y="655"  fill="rgb(84 56 98)">on</text><text x="504" y="655"  fill="rgb(85 57 97)">&quot;</text><text x="507" y="655"  fill="rgb(86 58 98)">,</text><text x="510" y="655"  fill="rgb(81 52 94)"> </text><text x="513" y="655"  fill="rgb(78 46 91)">&quot;</text><text x="516" y="655"  fill="rgb(87 60 97)">s</text><text x="519" y="655"  fill="rgb(85 57 96)">e</text><text x="522" y="655"  fill="rgb(85 57 95)">a</text><text x="525" y="655"  fill="rgb(85 58 96)">t</text><text x="528" y="655"  fill="rgb(85 58 95)">s&quot;]</text><text x="537" y="655"  fill="rgb(85 58 94)">;</text><text x="540" y="655"  fill="rgb(85 58 95)"> </text><text x="543" y="655"  fill="rgb(85 60 96)">p</text><text x="546" y="655"  fill="rgb(80 53 91)">r</text><text x="549" y="655"  fill="rgb(83 58 96)">i</text><text x="552" y="655"  fill="rgb(113 95 122)">v</text><text x="555" y="655"  fill="rgb(132 117 138)">a</text><text x="558" y="655"  fill="rgb(126 110 133)">t</text><text x="561" y="655"  fill="rgb(123 106 131)">e</text><text x="564" y="655"  fill="rgb(123 107 130)"> </text><text x="567" y="655"  fill="rgb(123 106 129)">r</text><text x="570" y="655"  fill="rgb(122 105 129)">e</text><text x="573" y="655"  fill="rgb(123 106 130)">a</text><text x="576" y="655"  fill="rgb(120 103 128)">d</text><text x="579" y="655"  fill="rgb(122 104 128)">o</text><text x="582" y="655"  fill="rgb(141 128 146)">n</text><text x="585" y="655"  fill="rgb(145 134 151)">l</text><text x="588" y="655"  fill="rgb(143 131 149)">y</text><text x="591" y="655"  fill="rgb(143 130 148)"> </text><text x="594" y="655"  fill="rgb(142 129 147)">r</text><text x="597" y="655"  fill="rgb(142 128 147)">o</text><text x="600" y="655"  fill="rgb(141 127 146)">o</text><text x="603" y="655"  fill="rgb(140 127 146)">m</text><text x="606" y="655"  fill="rgb(139 126 146)">s</text><text x="609" y="655"  fill="rgb(138 124 144)">fi</text><text x="615" y="655"  fill="rgb(137 124 144)">e</text><text x="618" y="655"  fill="rgb(137 123 143)">l</text><text x="621" y="655"  fill="rgb(136 123 143)">d</text><text x="624" y="655"  fill="rgb(136 121 142)">s</text><text x="627" y="655"  fill="rgb(135 121 142)">:</text><text x="630" y="655"  fill="rgb(135 120 141)"> </text><text x="633" y="655"  fill="rgb(135 119 141)">s</text><text x="636" y="655"  fill="rgb(134 118 140)">t</text><text x="639" y="655"  fill="rgb(133 117 140)">r</text><text x="642" y="655"  fill="rgb(133 116 139)">i</text><text x="645" y="655"  fill="rgb(133 115 139)">n</text><text x="648" y="655"  fill="rgb(132 115 138)">g</text><text x="651" y="655"  fill="rgb(131 114 138)">[</text><text x="654" y="655"  fill="rgb(129 112 137)">]</text><text x="657" y="655"  fill="rgb(129 112 136)"> =</text><text x="663" y="655"  fill="rgb(129 111 135)"> </text><text x="666" y="655"  fill="rgb(128 110 136)">[</text><text x="669" y="655"  fill="rgb(127 109 135)">&quot;</text><text x="672" y="655"  fill="rgb(126 109 135)">f</text><text x="675" y="655"  fill="rgb(127 109 134)">u</text><text x="678" y="655"  fill="rgb(125 107 134)">l</text><text x="681" y="655"  fill="rgb(125 107 133)">l</text><text x="684" y="655"  fill="rgb(124 106 133)">na</text><text x="690" y="655"  fill="rgb(123 105 132)">m</text><text x="693" y="655"  fill="rgb(123 104 132)">e</text><text x="696" y="655"  fill="rgb(122 103 131)">&quot;</text><text x="699" y="655"  fill="rgb(122 102 131)">,</text><text x="702" y="655"  fill="rgb(122 102 130)"> </text><text x="705" y="655"  fill="rgb(121 101 130)">&quot;</text><text x="708" y="655"  fill="rgb(121 100 129)">s</text><text x="711" y="655"  fill="rgb(119 99 129)">h</text><text x="714" y="655"  fill="rgb(118 98 129)">o</text><text x="717" y="655"  fill="rgb(117 97 127)">r</text><text x="720" y="655"  fill="rgb(116 95 126)">t</text><text x="723" y="655"  fill="rgb(133 115 142)">n</text><text x="726" y="655"  fill="rgb(148 132 156)">a</text><text x="729" y="655"  fill="rgb(143 126 152)">m</text><text x="732" y="655"  fill="rgb(135 114 143)">e</text><text x="735" y="655"  fill="rgb(120 98 130)">&quot;</text><text x="738" y="655"  fill="rgb(108 83 121)">,</text><text x="741" y="655"  fill="rgb(107 81 119)"> </text><text x="744" y="655"  fill="rgb(110 85 122)">&quot;</text><text x="747" y="655"  fill="rgb(109 84 122)">nu</text><text x="753" y="655"  fill="rgb(109 83 121)">m</text><text x="756" y="655"  fill="rgb(108 82 120)">be</text><text x="762" y="655"  fill="rgb(108 81 120)">r</text><text x="765" y="655"  fill="rgb(108 81 119)">&quot; </text><text x="771" y="655"  fill="rgb(107 80 119)">,</text><text x="774" y="655"  fill="rgb(106 79 118)"> </text><text x="777" y="655"  fill="rgb(105 79 118)">&quot;</text><text x="780" y="655"  fill="rgb(105 78 118)">na</text><text x="786" y="655"  fill="rgb(105 77 117)">m</text><text x="789" y="655"  fill="rgb(104 76 117)">e&quot;,</text><text x="798" y="655"  fill="rgb(104 75 117)"> </text><text x="801" y="655"  fill="rgb(103 74 116)">&quot;</text><text x="804" y="655"  fill="rgb(104 74 116)">a</text><text x="807" y="655"  fill="rgb(102 73 115)">ddr</text><text x="816" y="655"  fill="rgb(101 72 115)">e</text><text x="819" y="655"  fill="rgb(100 71 115)">ss</text><text x="825" y="655"  fill="rgb(100 71 114)">&quot;</text><text x="828" y="655"  fill="rgb(100 70 114)">,</text><text x="831" y="655"  fill="rgb(99 69 113)"> </text><text x="834" y="655"  fill="rgb(98 68 112)">&quot;</text><text x="837" y="655"  fill="rgb(98 69 112)">t</text><text x="840" y="655"  fill="rgb(99 69 113)">y</text><text x="843" y="655"  fill="rgb(92 60 107)">p</text><text x="846" y="655"  fill="rgb(93 61 108)">e</text><text x="849" y="655"  fill="rgb(217 212 219)">&quot;</text><text x="852" y="655"  fill="rgb(255 255 255)">,</text><text x="855" y="655"  fill="rgb(245 245 245)"> &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonl</text><text x="0" y="660"  fill="rgb(245 245 245)">y mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id priva</text><text x="318" y="660"  fill="rgb(249 251 248)">t</text><text x="321" y="660"  fill="rgb(236 234 238)">e</text><text x="324" y="660"  fill="rgb(160 137 172)"> </text><text x="327" y="660"  fill="rgb(124 92 138)">k</text><text x="330" y="660"  fill="rgb(129 101 144)">e</text><text x="333" y="660"  fill="rgb(131 102 145)">y</text><text x="336" y="660"  fill="rgb(132 102 145)">s</text><text x="339" y="660"  fill="rgb(132 103 145)">I</text><text x="342" y="660"  fill="rgb(133 104 145)">n</text><text x="345" y="660"  fill="rgb(133 104 146)">Q</text><text x="348" y="660"  fill="rgb(134 104 145)">u</text><text x="351" y="660"  fill="rgb(134 106 145)">e</text><text x="354" y="660"  fill="rgb(132 106 146)">r</text><text x="357" y="660"  fill="rgb(134 107 147)">y:</text><text x="363" y="660"  fill="rgb(135 108 147)"> </text><text x="366" y="660"  fill="rgb(134 107 146)">s</text><text x="369" y="660"  fill="rgb(135 108 147)">t</text><text x="372" y="660"  fill="rgb(135 108 148)">r</text><text x="375" y="660"  fill="rgb(135 109 148)">i</text><text x="378" y="660"  fill="rgb(135 109 147)">ng</text><text x="384" y="660"  fill="rgb(135 110 148)">[]</text><text x="390" y="660"  fill="rgb(136 110 148)">;</text><text x="393" y="660"  fill="rgb(136 111 148)"> </text><text x="396" y="660"  fill="rgb(137 110 148)">/</text><text x="399" y="660"  fill="rgb(137 112 149)">/</text><text x="402" y="660"  fill="rgb(120 95 133)"> </text><text x="405" y="660"  fill="rgb(110 84 123)">a</text><text x="408" y="660"  fill="rgb(111 85 123)">l</text><text x="411" y="660"  fill="rgb(110 84 122)">l</text><text x="414" y="660"  fill="rgb(110 85 122)"> k</text><text x="420" y="660"  fill="rgb(109 85 121)">e</text><text x="423" y="660"  fill="rgb(110 85 122)">y</text><text x="426" y="660"  fill="rgb(110 85 123)">s</text><text x="429" y="660"  fill="rgb(109 85 121)"> </text><text x="432" y="660"  fill="rgb(109 84 121)">a</text><text x="435" y="660"  fill="rgb(110 86 122)">p</text><text x="438" y="660"  fill="rgb(109 85 121)">p</text><text x="441" y="660"  fill="rgb(109 84 119)">e</text><text x="444" y="660"  fill="rgb(114 91 125)">a</text><text x="447" y="660"  fill="rgb(102 77 115)">r</text><text x="450" y="660"  fill="rgb(73 43 89)">e</text><text x="453" y="660"  fill="rgb(69 35 84)">d</text><text x="456" y="660"  fill="rgb(72 39 86)"> </text><text x="459" y="660"  fill="rgb(75 42 88)">i</text><text x="462" y="660"  fill="rgb(81 50 94)">n</text><text x="465" y="660"  fill="rgb(86 57 99)"> </text><text x="468" y="660"  fill="rgb(87 59 100)">c</text><text x="471" y="660"  fill="rgb(87 57 99)">o</text><text x="474" y="660"  fill="rgb(86 56 98)">l</text><text x="477" y="660"  fill="rgb(86 57 98)">umn</text><text x="486" y="660"  fill="rgb(86 58 98)">s </text><text x="492" y="660"  fill="rgb(85 57 98)">a</text><text x="495" y="660"  fill="rgb(85 56 98)">f</text><text x="498" y="660"  fill="rgb(85 58 97)">t</text><text x="501" y="660"  fill="rgb(85 57 97)">e</text><text x="504" y="660"  fill="rgb(86 57 98)">r</text><text x="507" y="660"  fill="rgb(85 57 97)"> b</text><text x="513" y="660"  fill="rgb(85 58 97)">e</text><text x="516" y="660"  fill="rgb(87 59 97)">i</text><text x="519" y="660"  fill="rgb(86 59 98)">ng</text><text x="525" y="660"  fill="rgb(86 59 97)"> </text><text x="528" y="660"  fill="rgb(86 60 98)">v</text><text x="531" y="660"  fill="rgb(86 60 97)">alid</text><text x="543" y="660"  fill="rgb(85 59 97)">a</text><text x="546" y="660"  fill="rgb(86 61 97)">t</text><text x="549" y="660"  fill="rgb(82 54 93)">e</text><text x="552" y="660"  fill="rgb(80 53 92)">d</text><text x="555" y="660"  fill="rgb(106 86 116)"> </text><text x="558" y="660"  fill="rgb(130 114 137)">p</text><text x="561" y="660"  fill="rgb(127 112 135)">r</text><text x="564" y="660"  fill="rgb(123 107 131)">i</text><text x="567" y="660"  fill="rgb(125 108 130)">v</text><text x="570" y="660"  fill="rgb(124 107 130)">a</text><text x="573" y="660"  fill="rgb(122 106 129)">t</text><text x="576" y="660"  fill="rgb(120 102 126)">e</text><text x="579" y="660"  fill="rgb(138 124 144)"> </text><text x="582" y="660"  fill="rgb(149 138 154)">t</text><text x="585" y="660"  fill="rgb(145 134 151)">r</text><text x="588" y="660"  fill="rgb(144 132 151)">a</text><text x="591" y="660"  fill="rgb(143 131 150)">n</text><text x="594" y="660"  fill="rgb(143 131 148)">s</text><text x="597" y="660"  fill="rgb(143 131 149)">f</text><text x="600" y="660"  fill="rgb(143 130 148)">o</text><text x="603" y="660"  fill="rgb(141 128 147)">rm</text><text x="609" y="660"  fill="rgb(140 127 146)">a</text><text x="612" y="660"  fill="rgb(139 126 145)">t</text><text x="615" y="660"  fill="rgb(138 126 144)">i</text><text x="618" y="660"  fill="rgb(138 125 145)">o</text><text x="621" y="660"  fill="rgb(138 124 143)">n</text><text x="624" y="660"  fill="rgb(137 123 144)">Ke</text><text x="630" y="660"  fill="rgb(136 121 143)">y</text><text x="633" y="660"  fill="rgb(135 121 142)">:</text><text x="636" y="660"  fill="rgb(135 120 140)"> </text><text x="639" y="660"  fill="rgb(135 118 140)">s</text><text x="642" y="660"  fill="rgb(134 118 140)">t</text><text x="645" y="660"  fill="rgb(133 117 139)">r</text><text x="648" y="660"  fill="rgb(133 117 140)">i</text><text x="651" y="660"  fill="rgb(133 116 139)">n</text><text x="654" y="660"  fill="rgb(132 115 139)">g</text><text x="657" y="660"  fill="rgb(131 114 138)">[</text><text x="660" y="660"  fill="rgb(130 114 138)">]</text><text x="663" y="660"  fill="rgb(129 112 137)">;</text><text x="666" y="660"  fill="rgb(129 111 136)"> </text><text x="669" y="660"  fill="rgb(129 110 135)">/</text><text x="672" y="660"  fill="rgb(128 111 135)">/</text><text x="675" y="660"  fill="rgb(129 111 136)"> </text><text x="678" y="660"  fill="rgb(126 109 135)">k</text><text x="681" y="660"  fill="rgb(127 109 135)">e</text><text x="684" y="660"  fill="rgb(126 107 133)">y</text><text x="687" y="660"  fill="rgb(126 108 133)">s</text><text x="690" y="660"  fill="rgb(125 107 133)"> </text><text x="693" y="660"  fill="rgb(124 106 133)">a</text><text x="696" y="660"  fill="rgb(122 105 133)">p</text><text x="699" y="660"  fill="rgb(123 104 133)">p</text><text x="702" y="660"  fill="rgb(122 103 132)">e</text><text x="705" y="660"  fill="rgb(122 102 130)">a</text><text x="708" y="660"  fill="rgb(122 101 130)">r</text><text x="711" y="660"  fill="rgb(121 100 130)">e</text><text x="714" y="660"  fill="rgb(121 101 131)">d</text><text x="717" y="660"  fill="rgb(123 103 132)"> </text><text x="720" y="660"  fill="rgb(121 100 129)">i</text><text x="723" y="660"  fill="rgb(128 109 137)">n</text><text x="726" y="660"  fill="rgb(135 116 144)"> </text><text x="729" y="660"  fill="rgb(120 98 130)">t</text><text x="732" y="660"  fill="rgb(110 85 121)">r</text><text x="735" y="660"  fill="rgb(108 83 120)">a</text><text x="738" y="660"  fill="rgb(111 86 123)">n</text><text x="741" y="660"  fill="rgb(112 87 124)">s</text><text x="744" y="660"  fill="rgb(111 86 123)">f</text><text x="747" y="660"  fill="rgb(110 86 122)">o</text><text x="750" y="660"  fill="rgb(110 84 122)">r</text><text x="753" y="660"  fill="rgb(110 85 122)">m</text><text x="756" y="660"  fill="rgb(109 83 122)">a</text><text x="759" y="660"  fill="rgb(108 82 120)">t</text><text x="762" y="660"  fill="rgb(109 82 120)">io</text><text x="768" y="660"  fill="rgb(109 82 119)">n</text><text x="771" y="660"  fill="rgb(108 81 119)">,</text><text x="774" y="660"  fill="rgb(107 80 119)"> </text><text x="777" y="660"  fill="rgb(108 80 119)">i</text><text x="780" y="660"  fill="rgb(107 79 119)">f</text><text x="783" y="660"  fill="rgb(105 78 118)"> </text><text x="786" y="660"  fill="rgb(105 79 118)">t</text><text x="789" y="660"  fill="rgb(105 78 118)">h</text><text x="792" y="660"  fill="rgb(105 77 117)">er</text><text x="798" y="660"  fill="rgb(103 76 118)">e</text><text x="801" y="660"  fill="rgb(104 76 117)"> </text><text x="804" y="660"  fill="rgb(104 75 116)">i</text><text x="807" y="660"  fill="rgb(103 75 115)">s</text><text x="810" y="660"  fill="rgb(103 74 116)"> a</text><text x="816" y="660"  fill="rgb(102 73 115)"> </text><text x="819" y="660"  fill="rgb(101 72 114)">t</text><text x="822" y="660"  fill="rgb(101 72 115)">r</text><text x="825" y="660"  fill="rgb(101 72 114)">a</text><text x="828" y="660"  fill="rgb(100 71 114)">n</text><text x="831" y="660"  fill="rgb(100 70 114)">sf</text><text x="837" y="660"  fill="rgb(99 70 113)">o</text><text x="840" y="660"  fill="rgb(99 69 113)">r</text><text x="843" y="660"  fill="rgb(100 70 113)">m</text><text x="846" y="660"  fill="rgb(83 49 99)">a</text><text x="849" y="660"  fill="rgb(171 157 179)">t</text><text x="852" y="660"  fill="rgb(250 251 250)">i</text><text x="855" y="660"  fill="rgb(247 247 246)">o</text><text x="858" y="660"  fill="rgb(245 245 245)">n private allInsightDataset: InsightDataset[]; private mfields: string[]; private sfields: string[]; co</text><text x="0" y="665"  fill="rgb(245 245 245)">nstructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transforma</text><text x="318" y="665"  fill="rgb(251 252 250)">t</text><text x="321" y="665"  fill="rgb(232 230 235)">i</text><text x="324" y="665"  fill="rgb(155 130 168)">o</text><text x="327" y="665"  fill="rgb(123 91 137)">n</text><text x="330" y="665"  fill="rgb(130 99 143)">K</text><text x="333" y="665"  fill="rgb(130 101 145)">e</text><text x="336" y="665"  fill="rgb(130 102 145)">y</text><text x="339" y="665"  fill="rgb(131 102 145)"> =</text><text x="345" y="665"  fill="rgb(132 103 146)"> </text><text x="348" y="665"  fill="rgb(132 103 145)">[</text><text x="351" y="665"  fill="rgb(133 104 146)">]</text><text x="354" y="665"  fill="rgb(132 105 145)">; </text><text x="360" y="665"  fill="rgb(133 106 146)">t</text><text x="363" y="665"  fill="rgb(133 106 147)">h</text><text x="366" y="665"  fill="rgb(133 106 146)">i</text><text x="369" y="665"  fill="rgb(134 107 146)">s.a</text><text x="378" y="665"  fill="rgb(134 108 146)">l</text><text x="381" y="665"  fill="rgb(135 108 146)">l</text><text x="384" y="665"  fill="rgb(135 109 147)">Insi</text><text x="396" y="665"  fill="rgb(136 111 149)">g</text><text x="399" y="665"  fill="rgb(135 108 147)">h</text><text x="402" y="665"  fill="rgb(118 91 129)">t</text><text x="405" y="665"  fill="rgb(110 84 122)">D</text><text x="408" y="665"  fill="rgb(111 85 124)">a</text><text x="411" y="665"  fill="rgb(111 85 123)">t</text><text x="414" y="665"  fill="rgb(110 84 122)">ase</text><text x="423" y="665"  fill="rgb(109 85 121)">t</text><text x="426" y="665"  fill="rgb(109 84 121)"> </text><text x="429" y="665"  fill="rgb(110 85 122)">= in</text><text x="441" y="665"  fill="rgb(109 84 120)">s</text><text x="444" y="665"  fill="rgb(109 85 120)">i</text><text x="447" y="665"  fill="rgb(115 92 126)">g</text><text x="450" y="665"  fill="rgb(102 78 115)">h</text><text x="453" y="665"  fill="rgb(72 42 88)">t</text><text x="456" y="665"  fill="rgb(69 36 84)">D</text><text x="459" y="665"  fill="rgb(73 40 87)">at</text><text x="465" y="665"  fill="rgb(76 44 89)">a</text><text x="468" y="665"  fill="rgb(82 52 95)">s</text><text x="471" y="665"  fill="rgb(86 58 98)">e</text><text x="474" y="665"  fill="rgb(87 60 99)">t</text><text x="477" y="665"  fill="rgb(86 58 98)">s; } pu</text><text x="498" y="665"  fill="rgb(86 59 97)">b</text><text x="501" y="665"  fill="rgb(86 58 98)">l</text><text x="504" y="665"  fill="rgb(86 59 98)">ic</text><text x="510" y="665"  fill="rgb(86 60 98)"> validat</text><text x="534" y="665"  fill="rgb(86 60 97)">e(q:</text><text x="546" y="665"  fill="rgb(86 61 97)"> </text><text x="549" y="665"  fill="rgb(87 61 97)">a</text><text x="552" y="665"  fill="rgb(83 56 94)">n</text><text x="555" y="665"  fill="rgb(78 52 90)">y</text><text x="558" y="665"  fill="rgb(100 77 109)">)</text><text x="561" y="665"  fill="rgb(128 112 134)">:</text><text x="564" y="665"  fill="rgb(130 114 137)"> </text><text x="567" y="665"  fill="rgb(126 109 133)">v</text><text x="570" y="665"  fill="rgb(124 107 130)">o</text><text x="573" y="665"  fill="rgb(119 102 127)">i</text><text x="576" y="665"  fill="rgb(135 121 141)">d</text><text x="579" y="665"  fill="rgb(153 141 156)"> </text><text x="582" y="665"  fill="rgb(149 137 154)">{</text><text x="585" y="665"  fill="rgb(147 135 152)"> </text><text x="588" y="665"  fill="rgb(146 134 152)">i</text><text x="591" y="665"  fill="rgb(145 134 151)">f</text><text x="594" y="665"  fill="rgb(144 132 150)"> (</text><text x="600" y="665"  fill="rgb(144 132 149)">!</text><text x="603" y="665"  fill="rgb(142 132 148)">q</text><text x="606" y="665"  fill="rgb(142 129 148)"> </text><text x="609" y="665"  fill="rgb(142 129 147)">|</text><text x="612" y="665"  fill="rgb(141 128 147)">|</text><text x="615" y="665"  fill="rgb(140 127 146)"> </text><text x="618" y="665"  fill="rgb(139 126 145)">!</text><text x="621" y="665"  fill="rgb(139 125 145)">q</text><text x="624" y="665"  fill="rgb(138 125 145)">.</text><text x="627" y="665"  fill="rgb(138 124 144)">W</text><text x="630" y="665"  fill="rgb(137 123 144)">H</text><text x="633" y="665"  fill="rgb(137 123 143)">E</text><text x="636" y="665"  fill="rgb(136 122 143)">R</text><text x="639" y="665"  fill="rgb(136 120 142)">E</text><text x="642" y="665"  fill="rgb(136 120 141)"> </text><text x="645" y="665"  fill="rgb(135 120 141)">|</text><text x="648" y="665"  fill="rgb(134 118 141)">|</text><text x="651" y="665"  fill="rgb(133 117 140)"> !</text><text x="657" y="665"  fill="rgb(133 116 139)">q</text><text x="660" y="665"  fill="rgb(132 115 139)">.O</text><text x="666" y="665"  fill="rgb(130 113 137)">P</text><text x="669" y="665"  fill="rgb(130 112 137)">T</text><text x="672" y="665"  fill="rgb(129 112 136)">IO</text><text x="678" y="665"  fill="rgb(128 110 136)">N</text><text x="681" y="665"  fill="rgb(128 110 135)">S</text><text x="684" y="665"  fill="rgb(127 109 135)">) </text><text x="690" y="665"  fill="rgb(126 108 134)">{</text><text x="693" y="665"  fill="rgb(125 108 134)"> </text><text x="696" y="665"  fill="rgb(124 106 133)">thro</text><text x="708" y="665"  fill="rgb(126 107 135)">w</text><text x="711" y="665"  fill="rgb(126 108 134)"> </text><text x="714" y="665"  fill="rgb(123 104 132)">n</text><text x="717" y="665"  fill="rgb(117 97 127)">e</text><text x="720" y="665"  fill="rgb(107 84 118)">w</text><text x="723" y="665"  fill="rgb(102 77 114)"> </text><text x="726" y="665"  fill="rgb(109 84 121)">I</text><text x="729" y="665"  fill="rgb(109 84 122)">n</text><text x="732" y="665"  fill="rgb(110 86 123)">s</text><text x="735" y="665"  fill="rgb(112 87 125)">i</text><text x="738" y="665"  fill="rgb(111 87 124)">gh</text><text x="744" y="665"  fill="rgb(111 86 123)">tE</text><text x="750" y="665"  fill="rgb(110 86 122)">rr</text><text x="756" y="665"  fill="rgb(110 84 122)">or</text><text x="762" y="665"  fill="rgb(109 83 122)">(</text><text x="765" y="665"  fill="rgb(109 83 121)">)</text><text x="768" y="665"  fill="rgb(109 82 121)">;</text><text x="771" y="665"  fill="rgb(108 81 120)"> } </text><text x="780" y="665"  fill="rgb(108 80 119)">f</text><text x="783" y="665"  fill="rgb(108 79 119)">o</text><text x="786" y="665"  fill="rgb(107 79 119)">r</text><text x="789" y="665"  fill="rgb(106 78 118)"> (</text><text x="795" y="665"  fill="rgb(105 77 117)">le</text><text x="801" y="665"  fill="rgb(105 77 118)">t</text><text x="804" y="665"  fill="rgb(104 76 117)"> </text><text x="807" y="665"  fill="rgb(104 75 117)">key</text><text x="816" y="665"  fill="rgb(102 73 115)"> o</text><text x="822" y="665"  fill="rgb(102 73 114)">f</text><text x="825" y="665"  fill="rgb(101 72 114)"> </text><text x="828" y="665"  fill="rgb(101 71 114)">O</text><text x="831" y="665"  fill="rgb(100 70 114)">bjec</text><text x="843" y="665"  fill="rgb(100 71 114)">t</text><text x="846" y="665"  fill="rgb(87 55 103)">.</text><text x="849" y="665"  fill="rgb(132 108 143)">k</text><text x="852" y="665"  fill="rgb(241 241 241)">e</text><text x="855" y="665"  fill="rgb(249 250 249)">y</text><text x="858" y="665"  fill="rgb(245 245 245)">s(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError</text><text x="0" y="670"  fill="rgb(245 245 245)">(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIO</text><text x="318" y="670"  fill="rgb(250 252 250)">N</text><text x="321" y="670"  fill="rgb(232 230 235)">S</text><text x="324" y="670"  fill="rgb(152 128 166)">)</text><text x="327" y="670"  fill="rgb(121 89 137)">;</text><text x="330" y="670"  fill="rgb(129 99 143)"> </text><text x="333" y="670"  fill="rgb(130 100 144)">} </text><text x="339" y="670"  fill="rgb(130 101 144)">th</text><text x="345" y="670"  fill="rgb(131 102 145)">is.</text><text x="354" y="670"  fill="rgb(132 103 145)">v</text><text x="357" y="670"  fill="rgb(132 104 145)">a</text><text x="360" y="670"  fill="rgb(132 105 145)">lida</text><text x="372" y="670"  fill="rgb(133 106 145)">te</text><text x="378" y="670"  fill="rgb(134 107 146)">Opti</text><text x="390" y="670"  fill="rgb(135 108 146)">o</text><text x="393" y="670"  fill="rgb(135 109 147)">n</text><text x="396" y="670"  fill="rgb(136 110 148)">s</text><text x="399" y="670"  fill="rgb(131 105 144)">(</text><text x="402" y="670"  fill="rgb(116 90 129)">q</text><text x="405" y="670"  fill="rgb(110 84 122)">.</text><text x="408" y="670"  fill="rgb(111 85 123)">O</text><text x="411" y="670"  fill="rgb(111 85 124)">P</text><text x="414" y="670"  fill="rgb(111 85 123)">T</text><text x="417" y="670"  fill="rgb(110 84 122)">IO</text><text x="423" y="670"  fill="rgb(110 85 122)">N</text><text x="426" y="670"  fill="rgb(110 84 121)">S</text><text x="429" y="670"  fill="rgb(110 85 122)">); </text><text x="438" y="670"  fill="rgb(110 85 121)">}</text><text x="441" y="670"  fill="rgb(110 84 122)"> </text><text x="444" y="670"  fill="rgb(109 84 121)">p</text><text x="447" y="670"  fill="rgb(110 86 121)">u</text><text x="450" y="670"  fill="rgb(115 92 126)">b</text><text x="453" y="670"  fill="rgb(102 78 115)">l</text><text x="456" y="670"  fill="rgb(74 43 89)">i</text><text x="459" y="670"  fill="rgb(69 37 84)">c</text><text x="462" y="670"  fill="rgb(73 42 88)"> </text><text x="465" y="670"  fill="rgb(73 41 87)">v</text><text x="468" y="670"  fill="rgb(72 40 86)">a</text><text x="471" y="670"  fill="rgb(77 46 90)">l</text><text x="474" y="670"  fill="rgb(82 54 94)">i</text><text x="477" y="670"  fill="rgb(86 59 99)">d</text><text x="480" y="670"  fill="rgb(87 61 100)">a</text><text x="483" y="670"  fill="rgb(87 61 99)">t</text><text x="486" y="670"  fill="rgb(87 59 98)">e</text><text x="489" y="670"  fill="rgb(86 59 98)">Tra</text><text x="498" y="670"  fill="rgb(86 60 99)">ns</text><text x="504" y="670"  fill="rgb(86 61 98)">formatio</text><text x="528" y="670"  fill="rgb(86 60 98)">n</text><text x="531" y="670"  fill="rgb(86 61 97)">s(q</text><text x="540" y="670"  fill="rgb(86 61 98)">:</text><text x="543" y="670"  fill="rgb(86 61 97)"> </text><text x="546" y="670"  fill="rgb(86 61 98)">a</text><text x="549" y="670"  fill="rgb(86 61 97)">n</text><text x="552" y="670"  fill="rgb(87 63 98)">y</text><text x="555" y="670"  fill="rgb(84 59 95)">)</text><text x="558" y="670"  fill="rgb(79 52 89)">:</text><text x="561" y="670"  fill="rgb(95 72 104)"> </text><text x="564" y="670"  fill="rgb(124 107 131)">v</text><text x="567" y="670"  fill="rgb(131 115 138)">o</text><text x="570" y="670"  fill="rgb(122 105 130)">i</text><text x="573" y="670"  fill="rgb(134 118 140)">d</text><text x="576" y="670"  fill="rgb(154 142 158)"> </text><text x="579" y="670"  fill="rgb(152 140 156)">{</text><text x="582" y="670"  fill="rgb(149 137 153)"> i</text><text x="588" y="670"  fill="rgb(147 135 153)">f</text><text x="591" y="670"  fill="rgb(147 135 152)"> </text><text x="594" y="670"  fill="rgb(146 135 151)">(</text><text x="597" y="670"  fill="rgb(146 134 151)">t</text><text x="600" y="670"  fill="rgb(145 133 151)">y</text><text x="603" y="670"  fill="rgb(144 132 149)">p</text><text x="606" y="670"  fill="rgb(143 131 149)">eo</text><text x="612" y="670"  fill="rgb(143 130 148)">f</text><text x="615" y="670"  fill="rgb(142 129 148)"> </text><text x="618" y="670"  fill="rgb(141 128 147)">q</text><text x="621" y="670"  fill="rgb(140 127 146)">.G</text><text x="627" y="670"  fill="rgb(139 126 145)">R</text><text x="630" y="670"  fill="rgb(138 125 145)">OU</text><text x="636" y="670"  fill="rgb(137 123 144)">P </text><text x="642" y="670"  fill="rgb(136 122 143)">=</text><text x="645" y="670"  fill="rgb(136 121 142)">=</text><text x="648" y="670"  fill="rgb(136 120 142)">=</text><text x="651" y="670"  fill="rgb(135 119 141)"> </text><text x="654" y="670"  fill="rgb(134 118 141)">&quot;</text><text x="657" y="670"  fill="rgb(134 118 140)">u</text><text x="660" y="670"  fill="rgb(133 117 140)">n</text><text x="663" y="670"  fill="rgb(133 116 139)">d</text><text x="666" y="670"  fill="rgb(132 115 139)">e</text><text x="669" y="670"  fill="rgb(132 114 138)">f</text><text x="672" y="670"  fill="rgb(131 114 138)">i</text><text x="675" y="670"  fill="rgb(130 113 137)">n</text><text x="678" y="670"  fill="rgb(130 110 136)">e</text><text x="681" y="670"  fill="rgb(129 111 135)">d</text><text x="684" y="670"  fill="rgb(128 110 135)">&quot;</text><text x="687" y="670"  fill="rgb(129 111 136)"> </text><text x="690" y="670"  fill="rgb(128 111 136)">|</text><text x="693" y="670"  fill="rgb(129 111 136)">| t</text><text x="702" y="670"  fill="rgb(128 110 135)">y</text><text x="705" y="670"  fill="rgb(124 106 133)">p</text><text x="708" y="670"  fill="rgb(118 98 129)">e</text><text x="711" y="670"  fill="rgb(111 89 121)">o</text><text x="714" y="670"  fill="rgb(103 79 113)">f</text><text x="717" y="670"  fill="rgb(97 72 109)"> </text><text x="720" y="670"  fill="rgb(93 66 106)">q</text><text x="723" y="670"  fill="rgb(95 68 107)">.</text><text x="726" y="670"  fill="rgb(109 85 121)">A</text><text x="729" y="670"  fill="rgb(114 90 127)">P</text><text x="732" y="670"  fill="rgb(112 88 125)">P</text><text x="735" y="670"  fill="rgb(112 87 124)">LY</text><text x="741" y="670"  fill="rgb(111 86 123)"> </text><text x="744" y="670"  fill="rgb(110 86 123)">==</text><text x="750" y="670"  fill="rgb(111 86 123)">= </text><text x="756" y="670"  fill="rgb(110 85 122)">&quot;</text><text x="759" y="670"  fill="rgb(110 84 122)">und</text><text x="768" y="670"  fill="rgb(109 82 122)">e</text><text x="771" y="670"  fill="rgb(109 82 121)">fi</text><text x="777" y="670"  fill="rgb(108 81 120)">n</text><text x="780" y="670"  fill="rgb(107 80 119)">e</text><text x="783" y="670"  fill="rgb(108 80 119)">d</text><text x="786" y="670"  fill="rgb(108 79 119)">&quot;</text><text x="789" y="670"  fill="rgb(107 79 119)"> </text><text x="792" y="670"  fill="rgb(106 78 118)">|</text><text x="795" y="670"  fill="rgb(105 77 118)">|</text><text x="798" y="670"  fill="rgb(106 78 118)"> </text><text x="801" y="670"  fill="rgb(105 77 117)">O</text><text x="804" y="670"  fill="rgb(104 76 117)">b</text><text x="807" y="670"  fill="rgb(104 75 117)">j</text><text x="810" y="670"  fill="rgb(104 76 117)">e</text><text x="813" y="670"  fill="rgb(104 74 117)">c</text><text x="816" y="670"  fill="rgb(103 74 116)">t.</text><text x="822" y="670"  fill="rgb(102 73 116)">ke</text><text x="828" y="670"  fill="rgb(100 72 114)">y</text><text x="831" y="670"  fill="rgb(101 71 115)">s</text><text x="834" y="670"  fill="rgb(100 70 114)">(</text><text x="837" y="670"  fill="rgb(100 69 114)">q)</text><text x="843" y="670"  fill="rgb(101 69 115)">.</text><text x="846" y="670"  fill="rgb(94 62 109)">l</text><text x="849" y="670"  fill="rgb(107 78 120)">e</text><text x="852" y="670"  fill="rgb(227 224 228)">n</text><text x="855" y="670"  fill="rgb(250 251 249)">g</text><text x="858" y="670"  fill="rgb(245 245 245)">th !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } pri</text><text x="0" y="675"  fill="rgb(245 245 245)">vate validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q</text><text x="318" y="675"  fill="rgb(251 252 250)"> </text><text x="321" y="675"  fill="rgb(234 231 235)">s</text><text x="324" y="675"  fill="rgb(152 129 167)">h</text><text x="327" y="675"  fill="rgb(120 88 136)">o</text><text x="330" y="675"  fill="rgb(128 98 143)">u</text><text x="333" y="675"  fill="rgb(129 99 144)">l</text><text x="336" y="675"  fill="rgb(130 100 143)">d</text><text x="339" y="675"  fill="rgb(130 100 144)"> be</text><text x="348" y="675"  fill="rgb(130 101 145)"> </text><text x="351" y="675"  fill="rgb(131 102 145)">an</text><text x="357" y="675"  fill="rgb(131 103 145)"> o</text><text x="363" y="675"  fill="rgb(132 104 145)">b</text><text x="366" y="675"  fill="rgb(133 105 145)">ject,</text><text x="381" y="675"  fill="rgb(134 106 145)"> </text><text x="384" y="675"  fill="rgb(134 107 146)">an</text><text x="390" y="675"  fill="rgb(135 108 147)">d </text><text x="396" y="675"  fill="rgb(136 110 148)">s</text><text x="399" y="675"  fill="rgb(129 104 142)">h</text><text x="402" y="675"  fill="rgb(115 89 129)">o</text><text x="405" y="675"  fill="rgb(110 84 124)">u</text><text x="408" y="675"  fill="rgb(111 85 124)">ld </text><text x="417" y="675"  fill="rgb(110 84 123)">h</text><text x="420" y="675"  fill="rgb(110 84 122)">as</text><text x="426" y="675"  fill="rgb(111 85 122)"> </text><text x="429" y="675"  fill="rgb(110 86 122)">a</text><text x="432" y="675"  fill="rgb(110 85 122)">t </text><text x="438" y="675"  fill="rgb(110 84 122)">l</text><text x="441" y="675"  fill="rgb(110 84 121)">e</text><text x="444" y="675"  fill="rgb(110 85 122)">a</text><text x="447" y="675"  fill="rgb(109 84 121)">s</text><text x="450" y="675"  fill="rgb(110 84 121)">t</text><text x="453" y="675"  fill="rgb(115 92 125)"> </text><text x="456" y="675"  fill="rgb(102 77 116)">o</text><text x="459" y="675"  fill="rgb(74 43 89)">n</text><text x="462" y="675"  fill="rgb(70 37 83)">e</text><text x="465" y="675"  fill="rgb(75 43 89)"> </text><text x="468" y="675"  fill="rgb(74 43 89)">e</text><text x="471" y="675"  fill="rgb(74 42 88)">l</text><text x="474" y="675"  fill="rgb(73 41 87)">e</text><text x="477" y="675"  fill="rgb(77 46 90)">m</text><text x="480" y="675"  fill="rgb(82 52 95)">e</text><text x="483" y="675"  fill="rgb(85 58 98)">n</text><text x="486" y="675"  fill="rgb(88 61 100)">t</text><text x="489" y="675"  fill="rgb(88 63 101)"> }</text><text x="495" y="675"  fill="rgb(87 61 100)"> </text><text x="498" y="675"  fill="rgb(86 61 99)">f</text><text x="501" y="675"  fill="rgb(86 61 98)">o</text><text x="504" y="675"  fill="rgb(87 61 98)">r</text><text x="507" y="675"  fill="rgb(86 61 98)"> (le</text><text x="519" y="675"  fill="rgb(86 61 99)">t</text><text x="522" y="675"  fill="rgb(86 61 98)"> k</text><text x="528" y="675"  fill="rgb(86 61 97)">e</text><text x="531" y="675"  fill="rgb(86 61 98)">y </text><text x="537" y="675"  fill="rgb(86 61 99)">o</text><text x="540" y="675"  fill="rgb(87 62 99)">f</text><text x="543" y="675"  fill="rgb(86 62 98)"> </text><text x="546" y="675"  fill="rgb(87 63 98)">q</text><text x="549" y="675"  fill="rgb(86 63 97)">) {</text><text x="558" y="675"  fill="rgb(86 62 96)"> </text><text x="561" y="675"  fill="rgb(82 57 92)">t</text><text x="564" y="675"  fill="rgb(90 67 100)">h</text><text x="567" y="675"  fill="rgb(114 96 123)">i</text><text x="570" y="675"  fill="rgb(142 130 147)">s</text><text x="573" y="675"  fill="rgb(158 147 162)">.</text><text x="576" y="675"  fill="rgb(153 141 157)">v</text><text x="579" y="675"  fill="rgb(151 138 154)">a</text><text x="582" y="675"  fill="rgb(150 138 155)">l</text><text x="585" y="675"  fill="rgb(149 137 154)">id</text><text x="591" y="675"  fill="rgb(148 136 153)">a</text><text x="594" y="675"  fill="rgb(147 135 152)">t</text><text x="597" y="675"  fill="rgb(146 135 151)">eK</text><text x="603" y="675"  fill="rgb(144 133 151)">e</text><text x="606" y="675"  fill="rgb(144 133 150)">y</text><text x="609" y="675"  fill="rgb(144 132 149)">(</text><text x="612" y="675"  fill="rgb(143 132 149)">k</text><text x="615" y="675"  fill="rgb(143 131 149)">e</text><text x="618" y="675"  fill="rgb(142 129 147)">y)</text><text x="624" y="675"  fill="rgb(141 128 147)">;</text><text x="627" y="675"  fill="rgb(140 127 146)"> t</text><text x="633" y="675"  fill="rgb(138 125 145)">h</text><text x="636" y="675"  fill="rgb(138 125 144)">i</text><text x="639" y="675"  fill="rgb(137 124 144)">s</text><text x="642" y="675"  fill="rgb(137 123 144)">.</text><text x="645" y="675"  fill="rgb(136 122 143)">tr</text><text x="651" y="675"  fill="rgb(135 120 141)">a</text><text x="654" y="675"  fill="rgb(136 121 141)">n</text><text x="657" y="675"  fill="rgb(135 119 141)">s</text><text x="660" y="675"  fill="rgb(134 118 140)">f</text><text x="663" y="675"  fill="rgb(134 117 140)">o</text><text x="666" y="675"  fill="rgb(133 117 140)">r</text><text x="669" y="675"  fill="rgb(132 116 139)">m</text><text x="672" y="675"  fill="rgb(134 117 140)">a</text><text x="675" y="675"  fill="rgb(133 117 139)">t</text><text x="678" y="675"  fill="rgb(133 116 140)">i</text><text x="681" y="675"  fill="rgb(133 117 140)">o</text><text x="684" y="675"  fill="rgb(134 118 139)">n</text><text x="687" y="675"  fill="rgb(133 116 139)">K</text><text x="690" y="675"  fill="rgb(132 115 138)">e</text><text x="693" y="675"  fill="rgb(129 112 136)">y</text><text x="696" y="675"  fill="rgb(124 105 131)">.</text><text x="699" y="675"  fill="rgb(117 96 126)">p</text><text x="702" y="675"  fill="rgb(110 88 121)">u</text><text x="705" y="675"  fill="rgb(105 82 116)">s</text><text x="708" y="675"  fill="rgb(100 74 111)">h</text><text x="711" y="675"  fill="rgb(98 69 110)">(</text><text x="714" y="675"  fill="rgb(97 71 109)">k</text><text x="717" y="675"  fill="rgb(99 71 110)">e</text><text x="720" y="675"  fill="rgb(98 70 109)">y</text><text x="723" y="675"  fill="rgb(97 70 109)">)</text><text x="726" y="675"  fill="rgb(110 86 122)">;</text><text x="729" y="675"  fill="rgb(115 91 128)"> </text><text x="732" y="675"  fill="rgb(112 88 125)">/</text><text x="735" y="675"  fill="rgb(112 87 124)">/ i</text><text x="744" y="675"  fill="rgb(111 86 124)">f</text><text x="747" y="675"  fill="rgb(110 86 123)"> th</text><text x="756" y="675"  fill="rgb(110 85 122)">e</text><text x="759" y="675"  fill="rgb(110 84 122)"> ke</text><text x="768" y="675"  fill="rgb(109 83 122)">y</text><text x="771" y="675"  fill="rgb(109 82 122)"> </text><text x="774" y="675"  fill="rgb(109 82 121)">is</text><text x="780" y="675"  fill="rgb(108 81 120)"> </text><text x="783" y="675"  fill="rgb(107 80 120)">va</text><text x="789" y="675"  fill="rgb(107 79 119)">lid</text><text x="798" y="675"  fill="rgb(106 78 119)">,</text><text x="801" y="675"  fill="rgb(105 77 118)"> p</text><text x="807" y="675"  fill="rgb(104 77 117)">u</text><text x="810" y="675"  fill="rgb(104 76 117)">s</text><text x="813" y="675"  fill="rgb(104 75 117)">h</text><text x="816" y="675"  fill="rgb(103 74 116)"> it</text><text x="825" y="675"  fill="rgb(102 73 115)"> t</text><text x="831" y="675"  fill="rgb(101 72 115)">o</text><text x="834" y="675"  fill="rgb(100 71 114)"> </text><text x="837" y="675"  fill="rgb(100 70 114)">tr</text><text x="843" y="675"  fill="rgb(100 69 114)">a</text><text x="846" y="675"  fill="rgb(97 65 111)">n</text><text x="849" y="675"  fill="rgb(98 68 114)">s</text><text x="852" y="675"  fill="rgb(207 199 210)">f</text><text x="855" y="675"  fill="rgb(250 251 249)">o</text><text x="858" y="675"  fill="rgb(245 245 245)">rmationKey } } private validateKey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if </text><text x="0" y="680"  fill="rgb(245 245 245)">(splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (t</text><text x="318" y="680"  fill="rgb(250 251 249)">h</text><text x="321" y="680"  fill="rgb(237 235 239)">i</text><text x="324" y="680"  fill="rgb(154 130 167)">s</text><text x="327" y="680"  fill="rgb(119 86 135)">.</text><text x="330" y="680"  fill="rgb(129 97 142)">m</text><text x="333" y="680"  fill="rgb(129 98 143)">f</text><text x="336" y="680"  fill="rgb(128 98 142)">i</text><text x="339" y="680"  fill="rgb(129 99 143)">el</text><text x="345" y="680"  fill="rgb(130 100 144)">d</text><text x="348" y="680"  fill="rgb(130 100 143)">s</text><text x="351" y="680"  fill="rgb(129 101 145)">.</text><text x="354" y="680"  fill="rgb(130 101 145)">i</text><text x="357" y="680"  fill="rgb(130 101 144)">n</text><text x="360" y="680"  fill="rgb(131 102 145)">c</text><text x="363" y="680"  fill="rgb(131 103 145)">l</text><text x="366" y="680"  fill="rgb(132 104 145)">udes</text><text x="378" y="680"  fill="rgb(133 105 145)">(s</text><text x="384" y="680"  fill="rgb(134 106 145)">pl</text><text x="390" y="680"  fill="rgb(133 106 145)">i</text><text x="393" y="680"  fill="rgb(134 107 146)">t</text><text x="396" y="680"  fill="rgb(136 108 148)">t</text><text x="399" y="680"  fill="rgb(126 100 139)">e</text><text x="402" y="680"  fill="rgb(114 88 128)">d</text><text x="405" y="680"  fill="rgb(111 85 124)">Key[1</text><text x="420" y="680"  fill="rgb(111 85 123)">]</text><text x="423" y="680"  fill="rgb(110 84 122)">)</text><text x="426" y="680"  fill="rgb(111 85 123)"> </text><text x="429" y="680"  fill="rgb(110 84 122)">|</text><text x="432" y="680"  fill="rgb(110 85 122)">|</text><text x="435" y="680"  fill="rgb(111 85 123)"> </text><text x="438" y="680"  fill="rgb(110 85 122)">t</text><text x="441" y="680"  fill="rgb(110 84 121)">h</text><text x="444" y="680"  fill="rgb(110 83 121)">i</text><text x="447" y="680"  fill="rgb(110 84 122)">s</text><text x="450" y="680"  fill="rgb(109 83 121)">.</text><text x="453" y="680"  fill="rgb(109 85 120)">s</text><text x="456" y="680"  fill="rgb(114 90 125)">f</text><text x="459" y="680"  fill="rgb(104 78 116)">i</text><text x="462" y="680"  fill="rgb(76 45 91)">e</text><text x="465" y="680"  fill="rgb(70 38 85)">l</text><text x="468" y="680"  fill="rgb(75 44 90)">d</text><text x="471" y="680"  fill="rgb(75 44 89)">s</text><text x="474" y="680"  fill="rgb(74 43 89)">.</text><text x="477" y="680"  fill="rgb(74 42 87)">i</text><text x="480" y="680"  fill="rgb(74 42 88)">n</text><text x="483" y="680"  fill="rgb(74 44 89)">c</text><text x="486" y="680"  fill="rgb(79 50 92)">l</text><text x="489" y="680"  fill="rgb(85 57 97)">u</text><text x="492" y="680"  fill="rgb(87 61 100)">d</text><text x="495" y="680"  fill="rgb(89 64 101)">es(</text><text x="504" y="680"  fill="rgb(88 63 101)">s</text><text x="507" y="680"  fill="rgb(88 62 100)">p</text><text x="510" y="680"  fill="rgb(87 61 99)">li</text><text x="516" y="680"  fill="rgb(86 61 98)">tt</text><text x="522" y="680"  fill="rgb(87 62 99)">edK</text><text x="531" y="680"  fill="rgb(87 62 100)">e</text><text x="534" y="680"  fill="rgb(87 62 99)">y</text><text x="537" y="680"  fill="rgb(87 63 99)">[</text><text x="540" y="680"  fill="rgb(87 63 98)">1</text><text x="543" y="680"  fill="rgb(87 63 99)">]</text><text x="546" y="680"  fill="rgb(87 63 98)">))))</text><text x="558" y="680"  fill="rgb(88 64 98)"> </text><text x="561" y="680"  fill="rgb(87 63 97)">{</text><text x="564" y="680"  fill="rgb(80 56 91)"> </text><text x="567" y="680"  fill="rgb(87 63 98)">t</text><text x="570" y="680"  fill="rgb(133 118 138)">h</text><text x="573" y="680"  fill="rgb(163 156 167)">r</text><text x="576" y="680"  fill="rgb(158 149 162)">o</text><text x="579" y="680"  fill="rgb(152 139 156)">w</text><text x="582" y="680"  fill="rgb(152 140 155)"> </text><text x="585" y="680"  fill="rgb(152 140 156)">n</text><text x="588" y="680"  fill="rgb(151 138 155)">e</text><text x="591" y="680"  fill="rgb(149 137 154)">w </text><text x="597" y="680"  fill="rgb(148 136 153)">I</text><text x="600" y="680"  fill="rgb(148 136 152)">n</text><text x="603" y="680"  fill="rgb(147 135 152)">s</text><text x="606" y="680"  fill="rgb(146 135 152)">i</text><text x="609" y="680"  fill="rgb(145 134 151)">g</text><text x="612" y="680"  fill="rgb(145 133 150)">h</text><text x="615" y="680"  fill="rgb(144 132 150)">t</text><text x="618" y="680"  fill="rgb(143 131 148)">E</text><text x="621" y="680"  fill="rgb(143 131 149)">r</text><text x="624" y="680"  fill="rgb(142 130 148)">r</text><text x="627" y="680"  fill="rgb(141 129 148)">o</text><text x="630" y="680"  fill="rgb(141 128 147)">r</text><text x="633" y="680"  fill="rgb(140 127 146)">(</text><text x="636" y="680"  fill="rgb(140 126 145)">)</text><text x="639" y="680"  fill="rgb(138 125 145)">;</text><text x="642" y="680"  fill="rgb(137 123 144)"> }</text><text x="648" y="680"  fill="rgb(137 123 143)"> </text><text x="651" y="680"  fill="rgb(136 123 144)">}</text><text x="654" y="680"  fill="rgb(137 122 143)"> </text><text x="657" y="680"  fill="rgb(137 123 144)">p</text><text x="660" y="680"  fill="rgb(137 124 143)">r</text><text x="663" y="680"  fill="rgb(138 124 144)">i</text><text x="666" y="680"  fill="rgb(138 125 145)">v</text><text x="669" y="680"  fill="rgb(138 123 144)">a</text><text x="672" y="680"  fill="rgb(138 123 143)">t</text><text x="675" y="680"  fill="rgb(136 122 142)">e</text><text x="678" y="680"  fill="rgb(134 119 141)"> </text><text x="681" y="680"  fill="rgb(131 114 138)">v</text><text x="684" y="680"  fill="rgb(126 107 133)">a</text><text x="687" y="680"  fill="rgb(119 100 128)">l</text><text x="690" y="680"  fill="rgb(113 91 123)">i</text><text x="693" y="680"  fill="rgb(106 82 116)">d</text><text x="696" y="680"  fill="rgb(102 77 113)">a</text><text x="699" y="680"  fill="rgb(98 73 109)">t</text><text x="702" y="680"  fill="rgb(97 72 110)">e</text><text x="705" y="680"  fill="rgb(98 74 110)">A</text><text x="708" y="680"  fill="rgb(100 75 111)">P</text><text x="711" y="680"  fill="rgb(101 74 112)">P</text><text x="714" y="680"  fill="rgb(100 74 111)">L</text><text x="717" y="680"  fill="rgb(100 73 111)">Y</text><text x="720" y="680"  fill="rgb(99 72 110)">(</text><text x="723" y="680"  fill="rgb(97 70 109)">q</text><text x="726" y="680"  fill="rgb(108 83 121)">:</text><text x="729" y="680"  fill="rgb(115 92 129)"> </text><text x="732" y="680"  fill="rgb(114 89 126)">a</text><text x="735" y="680"  fill="rgb(113 88 126)">n</text><text x="738" y="680"  fill="rgb(112 88 125)">y</text><text x="741" y="680"  fill="rgb(112 87 124)">)</text><text x="744" y="680"  fill="rgb(111 86 124)">: v</text><text x="753" y="680"  fill="rgb(110 86 123)">o</text><text x="756" y="680"  fill="rgb(110 85 122)">id </text><text x="765" y="680"  fill="rgb(110 84 122)">{</text><text x="768" y="680"  fill="rgb(110 84 121)"> </text><text x="771" y="680"  fill="rgb(109 83 121)">i</text><text x="774" y="680"  fill="rgb(109 83 122)">f</text><text x="777" y="680"  fill="rgb(109 82 121)"> </text><text x="780" y="680"  fill="rgb(108 81 120)">(!</text><text x="786" y="680"  fill="rgb(107 80 120)">Ar</text><text x="792" y="680"  fill="rgb(106 79 119)">r</text><text x="795" y="680"  fill="rgb(107 79 120)">a</text><text x="798" y="680"  fill="rgb(107 79 119)">y</text><text x="801" y="680"  fill="rgb(106 78 119)">.</text><text x="804" y="680"  fill="rgb(105 77 118)">is</text><text x="810" y="680"  fill="rgb(105 77 119)">A</text><text x="813" y="680"  fill="rgb(104 76 118)">r</text><text x="816" y="680"  fill="rgb(104 75 117)">ra</text><text x="822" y="680"  fill="rgb(103 74 116)">y(</text><text x="828" y="680"  fill="rgb(102 73 116)">q)</text><text x="834" y="680"  fill="rgb(101 72 115)">) </text><text x="840" y="680"  fill="rgb(100 71 114)">{ </text><text x="846" y="680"  fill="rgb(98 67 112)">t</text><text x="849" y="680"  fill="rgb(95 63 110)">h</text><text x="852" y="680"  fill="rgb(193 181 198)">r</text><text x="855" y="680"  fill="rgb(250 251 250)">o</text><text x="858" y="680"  fill="rgb(245 245 245)">w new InsightError(); // q should be an array, and should have at least one element } for (let applyrul</text><text x="0" y="685"  fill="rgb(245 245 245)">e of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); }</text><text x="318" y="685"  fill="rgb(249 250 249)"> </text><text x="321" y="685"  fill="rgb(240 238 241)">l</text><text x="324" y="685"  fill="rgb(154 129 167)">e</text><text x="327" y="685"  fill="rgb(118 85 134)">t</text><text x="330" y="685"  fill="rgb(128 97 141)"> </text><text x="333" y="685"  fill="rgb(129 97 142)">a</text><text x="336" y="685"  fill="rgb(129 98 143)">pp</text><text x="342" y="685"  fill="rgb(129 99 144)">lyk</text><text x="351" y="685"  fill="rgb(130 100 143)">e</text><text x="354" y="685"  fill="rgb(130 100 145)">y</text><text x="357" y="685"  fill="rgb(130 101 145)">:</text><text x="360" y="685"  fill="rgb(130 101 144)"> s</text><text x="366" y="685"  fill="rgb(130 103 144)">tr</text><text x="372" y="685"  fill="rgb(130 102 143)">i</text><text x="375" y="685"  fill="rgb(132 104 145)">ng </text><text x="384" y="685"  fill="rgb(133 105 145)">= O</text><text x="393" y="685"  fill="rgb(132 106 145)">b</text><text x="396" y="685"  fill="rgb(133 107 147)">j</text><text x="399" y="685"  fill="rgb(125 96 138)">e</text><text x="402" y="685"  fill="rgb(114 87 128)">c</text><text x="405" y="685"  fill="rgb(111 85 124)">t.keys(</text><text x="426" y="685"  fill="rgb(110 84 122)">ap</text><text x="432" y="685"  fill="rgb(110 84 123)">p</text><text x="435" y="685"  fill="rgb(110 84 122)">l</text><text x="438" y="685"  fill="rgb(110 83 122)">y</text><text x="441" y="685"  fill="rgb(110 84 122)">ru</text><text x="447" y="685"  fill="rgb(110 84 121)">le</text><text x="453" y="685"  fill="rgb(109 84 121)">)</text><text x="456" y="685"  fill="rgb(108 84 119)">[</text><text x="459" y="685"  fill="rgb(114 90 124)">0</text><text x="462" y="685"  fill="rgb(105 79 118)">]</text><text x="465" y="685"  fill="rgb(77 47 92)">;</text><text x="468" y="685"  fill="rgb(71 39 85)"> </text><text x="471" y="685"  fill="rgb(75 44 90)">l</text><text x="474" y="685"  fill="rgb(75 44 89)">et</text><text x="480" y="685"  fill="rgb(75 45 89)"> </text><text x="483" y="685"  fill="rgb(73 44 89)">c</text><text x="486" y="685"  fill="rgb(74 43 88)">r</text><text x="489" y="685"  fill="rgb(74 44 88)">i</text><text x="492" y="685"  fill="rgb(76 46 89)">t</text><text x="495" y="685"  fill="rgb(79 51 91)">e</text><text x="498" y="685"  fill="rgb(83 55 95)">r</text><text x="501" y="685"  fill="rgb(87 61 99)">i</text><text x="504" y="685"  fill="rgb(89 64 101)">a</text><text x="507" y="685"  fill="rgb(90 65 102)"> =</text><text x="513" y="685"  fill="rgb(89 65 101)"> a</text><text x="519" y="685"  fill="rgb(90 65 101)">p</text><text x="522" y="685"  fill="rgb(89 64 100)">p</text><text x="525" y="685"  fill="rgb(89 63 100)">l</text><text x="528" y="685"  fill="rgb(88 63 100)">y</text><text x="531" y="685"  fill="rgb(88 62 98)">r</text><text x="534" y="685"  fill="rgb(87 63 99)">u</text><text x="537" y="685"  fill="rgb(88 63 99)">le</text><text x="543" y="685"  fill="rgb(87 63 98)">[</text><text x="546" y="685"  fill="rgb(88 63 99)">a</text><text x="549" y="685"  fill="rgb(89 63 100)">p</text><text x="552" y="685"  fill="rgb(88 63 99)">p</text><text x="555" y="685"  fill="rgb(88 64 99)">ly</text><text x="561" y="685"  fill="rgb(85 61 97)">k</text><text x="564" y="685"  fill="rgb(93 70 103)">e</text><text x="567" y="685"  fill="rgb(100 79 109)">y</text><text x="570" y="685"  fill="rgb(95 73 105)">]</text><text x="573" y="685"  fill="rgb(119 103 127)">;</text><text x="576" y="685"  fill="rgb(159 150 162)"> </text><text x="579" y="685"  fill="rgb(161 153 165)">i</text><text x="582" y="685"  fill="rgb(152 142 157)">f</text><text x="585" y="685"  fill="rgb(152 141 158)"> </text><text x="588" y="685"  fill="rgb(152 141 156)">(</text><text x="591" y="685"  fill="rgb(151 139 156)">a</text><text x="594" y="685"  fill="rgb(150 138 155)">p</text><text x="597" y="685"  fill="rgb(150 138 154)">p</text><text x="600" y="685"  fill="rgb(149 137 154)">l</text><text x="603" y="685"  fill="rgb(148 136 152)">y</text><text x="606" y="685"  fill="rgb(148 135 153)">k</text><text x="609" y="685"  fill="rgb(146 134 151)">ey</text><text x="615" y="685"  fill="rgb(145 133 151)">.</text><text x="618" y="685"  fill="rgb(145 131 150)">l</text><text x="621" y="685"  fill="rgb(144 132 149)">e</text><text x="624" y="685"  fill="rgb(143 131 148)">n</text><text x="627" y="685"  fill="rgb(143 131 149)">gt</text><text x="633" y="685"  fill="rgb(144 131 149)">h</text><text x="636" y="685"  fill="rgb(143 130 149)"> </text><text x="639" y="685"  fill="rgb(144 132 149)">=</text><text x="642" y="685"  fill="rgb(142 131 148)">=</text><text x="645" y="685"  fill="rgb(143 131 149)">=</text><text x="648" y="685"  fill="rgb(143 131 148)"> </text><text x="651" y="685"  fill="rgb(142 131 148)">0</text><text x="654" y="685"  fill="rgb(141 129 148)"> </text><text x="657" y="685"  fill="rgb(140 127 146)">|</text><text x="660" y="685"  fill="rgb(139 125 145)">|</text><text x="663" y="685"  fill="rgb(136 122 142)"> </text><text x="666" y="685"  fill="rgb(132 116 139)">a</text><text x="669" y="685"  fill="rgb(127 109 134)">p</text><text x="672" y="685"  fill="rgb(122 102 130)">p</text><text x="675" y="685"  fill="rgb(116 96 125)">l</text><text x="678" y="685"  fill="rgb(110 88 119)">y</text><text x="681" y="685"  fill="rgb(105 82 115)">k</text><text x="684" y="685"  fill="rgb(102 77 113)">e</text><text x="687" y="685"  fill="rgb(102 75 111)">y</text><text x="690" y="685"  fill="rgb(101 74 111)">.</text><text x="693" y="685"  fill="rgb(101 74 112)">i</text><text x="696" y="685"  fill="rgb(101 76 112)">n</text><text x="699" y="685"  fill="rgb(102 78 113)">c</text><text x="702" y="685"  fill="rgb(103 78 113)">l</text><text x="705" y="685"  fill="rgb(102 77 113)">ud</text><text x="711" y="685"  fill="rgb(101 76 112)">e</text><text x="714" y="685"  fill="rgb(100 76 111)">s</text><text x="717" y="685"  fill="rgb(100 75 111)">(</text><text x="720" y="685"  fill="rgb(100 75 112)">&quot;</text><text x="723" y="685"  fill="rgb(97 71 109)">_</text><text x="726" y="685"  fill="rgb(106 80 118)">&quot;</text><text x="729" y="685"  fill="rgb(116 92 128)">)</text><text x="732" y="685"  fill="rgb(115 90 127)"> </text><text x="735" y="685"  fill="rgb(114 89 127)">||</text><text x="741" y="685"  fill="rgb(112 88 126)"> </text><text x="744" y="685"  fill="rgb(112 87 124)">t</text><text x="747" y="685"  fill="rgb(112 87 125)">hi</text><text x="753" y="685"  fill="rgb(110 86 124)">s</text><text x="756" y="685"  fill="rgb(111 86 124)">.</text><text x="759" y="685"  fill="rgb(111 86 123)">t</text><text x="762" y="685"  fill="rgb(111 86 124)">r</text><text x="765" y="685"  fill="rgb(110 85 123)">a</text><text x="768" y="685"  fill="rgb(110 85 122)">n</text><text x="771" y="685"  fill="rgb(110 84 122)">sf</text><text x="777" y="685"  fill="rgb(109 83 122)">o</text><text x="780" y="685"  fill="rgb(109 83 121)">r</text><text x="783" y="685"  fill="rgb(109 82 121)">m</text><text x="786" y="685"  fill="rgb(108 81 120)">a</text><text x="789" y="685"  fill="rgb(108 80 120)">t</text><text x="792" y="685"  fill="rgb(107 80 119)">i</text><text x="795" y="685"  fill="rgb(107 80 120)">o</text><text x="798" y="685"  fill="rgb(106 79 119)">n</text><text x="801" y="685"  fill="rgb(105 78 119)">K</text><text x="804" y="685"  fill="rgb(106 78 119)">ey</text><text x="810" y="685"  fill="rgb(105 77 119)">.i</text><text x="816" y="685"  fill="rgb(104 76 118)">nc</text><text x="822" y="685"  fill="rgb(104 75 117)">lud</text><text x="831" y="685"  fill="rgb(103 74 117)">e</text><text x="834" y="685"  fill="rgb(102 73 116)">s</text><text x="837" y="685"  fill="rgb(102 73 115)">(</text><text x="840" y="685"  fill="rgb(103 73 116)">a</text><text x="843" y="685"  fill="rgb(101 72 114)">p</text><text x="846" y="685"  fill="rgb(100 69 113)">p</text><text x="849" y="685"  fill="rgb(94 62 109)">l</text><text x="852" y="685"  fill="rgb(189 177 194)">y</text><text x="855" y="685"  fill="rgb(250 251 250)">k</text><text x="858" y="685"  fill="rgb(245 245 245)">ey)) { throw new InsightError(); } this.transformationKey.push(applykey); if (Array.isArray(criteria) |</text><text x="0" y="690"  fill="rgb(245 245 245)">| Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(cri</text><text x="318" y="690"  fill="rgb(248 249 247)">t</text><text x="321" y="690"  fill="rgb(246 245 245)">e</text><text x="324" y="690"  fill="rgb(158 136 171)">r</text><text x="327" y="690"  fill="rgb(116 83 133)">i</text><text x="330" y="690"  fill="rgb(125 95 141)">a</text><text x="333" y="690"  fill="rgb(127 96 142)">)</text><text x="336" y="690"  fill="rgb(129 97 142)">[</text><text x="339" y="690"  fill="rgb(128 97 142)">0</text><text x="342" y="690"  fill="rgb(128 97 143)">]</text><text x="345" y="690"  fill="rgb(128 97 142)">;</text><text x="348" y="690"  fill="rgb(128 98 143)"> </text><text x="351" y="690"  fill="rgb(130 99 143)">i</text><text x="354" y="690"  fill="rgb(129 99 143)">f (!</text><text x="366" y="690"  fill="rgb(130 100 143)">t</text><text x="369" y="690"  fill="rgb(130 101 143)">h</text><text x="372" y="690"  fill="rgb(130 102 144)">is.</text><text x="381" y="690"  fill="rgb(131 103 144)">m</text><text x="384" y="690"  fill="rgb(131 103 145)">t</text><text x="387" y="690"  fill="rgb(131 103 144)">o</text><text x="390" y="690"  fill="rgb(132 104 145)">ke</text><text x="396" y="690"  fill="rgb(132 105 145)">n</text><text x="399" y="690"  fill="rgb(123 95 136)">.</text><text x="402" y="690"  fill="rgb(115 87 129)">i</text><text x="405" y="690"  fill="rgb(112 86 126)">n</text><text x="408" y="690"  fill="rgb(112 86 125)">c</text><text x="411" y="690"  fill="rgb(111 85 125)">lu</text><text x="417" y="690"  fill="rgb(111 85 124)">des</text><text x="426" y="690"  fill="rgb(111 85 123)">(</text><text x="429" y="690"  fill="rgb(111 84 122)">a</text><text x="432" y="690"  fill="rgb(111 85 123)">pp</text><text x="438" y="690"  fill="rgb(111 84 123)">l</text><text x="441" y="690"  fill="rgb(110 83 122)">y</text><text x="444" y="690"  fill="rgb(110 84 122)">to</text><text x="450" y="690"  fill="rgb(110 83 122)">k</text><text x="453" y="690"  fill="rgb(110 83 121)">e</text><text x="456" y="690"  fill="rgb(110 84 121)">n</text><text x="459" y="690"  fill="rgb(110 84 120)">)</text><text x="462" y="690"  fill="rgb(115 90 126)"> </text><text x="465" y="690"  fill="rgb(107 81 119)">&amp;</text><text x="468" y="690"  fill="rgb(79 48 92)">&amp;</text><text x="471" y="690"  fill="rgb(70 38 84)"> </text><text x="474" y="690"  fill="rgb(76 45 90)">!</text><text x="477" y="690"  fill="rgb(76 45 89)">th</text><text x="483" y="690"  fill="rgb(76 45 90)">i</text><text x="486" y="690"  fill="rgb(76 46 90)">s</text><text x="489" y="690"  fill="rgb(75 45 88)">.</text><text x="492" y="690"  fill="rgb(75 44 88)">m</text><text x="495" y="690"  fill="rgb(74 44 87)">st</text><text x="501" y="690"  fill="rgb(74 45 87)">o</text><text x="504" y="690"  fill="rgb(77 48 89)">k</text><text x="507" y="690"  fill="rgb(79 52 92)">e</text><text x="510" y="690"  fill="rgb(83 56 95)">n</text><text x="513" y="690"  fill="rgb(86 60 97)">.</text><text x="516" y="690"  fill="rgb(88 63 100)">i</text><text x="519" y="690"  fill="rgb(90 64 100)">n</text><text x="522" y="690"  fill="rgb(90 66 102)">c</text><text x="525" y="690"  fill="rgb(90 66 101)">l</text><text x="528" y="690"  fill="rgb(91 67 102)">ud</text><text x="534" y="690"  fill="rgb(91 66 101)">es</text><text x="540" y="690"  fill="rgb(90 66 101)">(</text><text x="543" y="690"  fill="rgb(90 67 101)">a</text><text x="546" y="690"  fill="rgb(90 65 101)">p</text><text x="549" y="690"  fill="rgb(89 66 100)">pl</text><text x="555" y="690"  fill="rgb(88 65 99)">y</text><text x="558" y="690"  fill="rgb(87 62 98)">t</text><text x="561" y="690"  fill="rgb(95 74 106)">o</text><text x="564" y="690"  fill="rgb(106 88 114)">k</text><text x="567" y="690"  fill="rgb(106 89 114)">e</text><text x="570" y="690"  fill="rgb(101 82 110)">n</text><text x="573" y="690"  fill="rgb(94 72 103)">)</text><text x="576" y="690"  fill="rgb(111 92 119)">)</text><text x="579" y="690"  fill="rgb(149 139 154)"> </text><text x="582" y="690"  fill="rgb(163 156 167)">{</text><text x="585" y="690"  fill="rgb(156 146 160)"> </text><text x="588" y="690"  fill="rgb(154 144 159)">th</text><text x="594" y="690"  fill="rgb(154 143 158)">r</text><text x="597" y="690"  fill="rgb(154 142 158)">ow</text><text x="603" y="690"  fill="rgb(153 142 157)"> n</text><text x="609" y="690"  fill="rgb(153 141 157)">e</text><text x="612" y="690"  fill="rgb(153 142 157)">w</text><text x="615" y="690"  fill="rgb(152 142 156)"> </text><text x="618" y="690"  fill="rgb(151 142 156)">I</text><text x="621" y="690"  fill="rgb(151 140 156)">n</text><text x="624" y="690"  fill="rgb(151 140 155)">s</text><text x="627" y="690"  fill="rgb(149 138 154)">i</text><text x="630" y="690"  fill="rgb(148 137 153)">g</text><text x="633" y="690"  fill="rgb(146 135 151)">h</text><text x="636" y="690"  fill="rgb(143 131 150)">t</text><text x="639" y="690"  fill="rgb(142 128 147)">E</text><text x="642" y="690"  fill="rgb(139 124 144)">r</text><text x="645" y="690"  fill="rgb(135 119 142)">r</text><text x="648" y="690"  fill="rgb(130 115 138)">o</text><text x="651" y="690"  fill="rgb(126 109 134)">r</text><text x="654" y="690"  fill="rgb(122 102 130)">(</text><text x="657" y="690"  fill="rgb(118 97 126)">)</text><text x="660" y="690"  fill="rgb(114 92 123)">;</text><text x="663" y="690"  fill="rgb(109 87 119)"> </text><text x="666" y="690"  fill="rgb(105 81 116)">}</text><text x="669" y="690"  fill="rgb(104 80 114)"> </text><text x="672" y="690"  fill="rgb(103 78 114)">l</text><text x="675" y="690"  fill="rgb(102 77 112)">e</text><text x="678" y="690"  fill="rgb(102 77 113)">t</text><text x="681" y="690"  fill="rgb(103 78 114)"> </text><text x="684" y="690"  fill="rgb(103 80 114)">k</text><text x="687" y="690"  fill="rgb(105 81 115)">e</text><text x="690" y="690"  fill="rgb(106 81 114)">y</text><text x="693" y="690"  fill="rgb(106 81 116)">:</text><text x="696" y="690"  fill="rgb(104 79 115)"> </text><text x="699" y="690"  fill="rgb(104 79 114)">s</text><text x="702" y="690"  fill="rgb(103 78 114)">t</text><text x="705" y="690"  fill="rgb(104 78 114)">r</text><text x="708" y="690"  fill="rgb(102 78 114)">i</text><text x="711" y="690"  fill="rgb(102 77 113)">ng[</text><text x="720" y="690"  fill="rgb(101 76 112)">]</text><text x="723" y="690"  fill="rgb(99 73 110)"> </text><text x="726" y="690"  fill="rgb(105 80 116)">=</text><text x="729" y="690"  fill="rgb(116 91 129)"> </text><text x="732" y="690"  fill="rgb(116 90 128)">c</text><text x="735" y="690"  fill="rgb(114 88 127)">rit</text><text x="744" y="690"  fill="rgb(113 87 126)">er</text><text x="750" y="690"  fill="rgb(112 86 125)">ia</text><text x="756" y="690"  fill="rgb(111 86 124)">[a</text><text x="762" y="690"  fill="rgb(111 85 124)">pp</text><text x="768" y="690"  fill="rgb(110 84 123)">ly</text><text x="774" y="690"  fill="rgb(110 84 122)">t</text><text x="777" y="690"  fill="rgb(109 83 122)">oke</text><text x="786" y="690"  fill="rgb(109 82 121)">n</text><text x="789" y="690"  fill="rgb(108 80 121)">]</text><text x="792" y="690"  fill="rgb(108 80 120)">.</text><text x="795" y="690"  fill="rgb(108 80 119)">s</text><text x="798" y="690"  fill="rgb(106 80 120)">p</text><text x="801" y="690"  fill="rgb(105 79 119)">li</text><text x="807" y="690"  fill="rgb(106 79 119)">t</text><text x="810" y="690"  fill="rgb(106 78 119)">(</text><text x="813" y="690"  fill="rgb(105 77 118)">&quot;_</text><text x="819" y="690"  fill="rgb(104 76 118)">&quot;)</text><text x="825" y="690"  fill="rgb(104 75 117)">; </text><text x="831" y="690"  fill="rgb(103 74 117)">if</text><text x="837" y="690"  fill="rgb(102 73 117)"> (k</text><text x="846" y="690"  fill="rgb(100 69 113)">e</text><text x="849" y="690"  fill="rgb(97 65 111)">y</text><text x="852" y="690"  fill="rgb(192 181 197)">.</text><text x="855" y="690"  fill="rgb(250 251 249)">l</text><text x="858" y="690"  fill="rgb(245 245 245)">ength !== 2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateI</text><text x="0" y="695"  fill="rgb(245 245 245)">dstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.i</text><text x="318" y="695"  fill="rgb(246 247 246)">n</text><text x="321" y="695"  fill="rgb(251 253 250)">c</text><text x="324" y="695"  fill="rgb(163 142 175)">l</text><text x="327" y="695"  fill="rgb(115 81 132)">u</text><text x="330" y="695"  fill="rgb(125 93 140)">d</text><text x="333" y="695"  fill="rgb(126 94 141)">e</text><text x="336" y="695"  fill="rgb(126 95 142)">s</text><text x="339" y="695"  fill="rgb(127 96 142)">(</text><text x="342" y="695"  fill="rgb(128 97 143)">a</text><text x="345" y="695"  fill="rgb(128 97 142)">p</text><text x="348" y="695"  fill="rgb(127 96 142)">p</text><text x="351" y="695"  fill="rgb(129 97 142)">l</text><text x="354" y="695"  fill="rgb(129 98 142)">yt</text><text x="360" y="695"  fill="rgb(129 99 142)">o</text><text x="363" y="695"  fill="rgb(129 98 142)">k</text><text x="366" y="695"  fill="rgb(129 98 143)">e</text><text x="369" y="695"  fill="rgb(129 100 143)">n)</text><text x="375" y="695"  fill="rgb(129 101 144)">)</text><text x="378" y="695"  fill="rgb(130 101 143)"> </text><text x="381" y="695"  fill="rgb(130 102 144)">{ i</text><text x="390" y="695"  fill="rgb(130 102 143)">f</text><text x="393" y="695"  fill="rgb(131 103 144)"> </text><text x="396" y="695"  fill="rgb(132 103 144)">(</text><text x="399" y="695"  fill="rgb(121 93 135)">!</text><text x="402" y="695"  fill="rgb(115 88 130)">(</text><text x="405" y="695"  fill="rgb(112 86 126)">th</text><text x="411" y="695"  fill="rgb(111 85 125)">is.va</text><text x="426" y="695"  fill="rgb(111 85 124)">l</text><text x="429" y="695"  fill="rgb(111 85 123)">i</text><text x="432" y="695"  fill="rgb(111 84 122)">d</text><text x="435" y="695"  fill="rgb(111 84 123)">a</text><text x="438" y="695"  fill="rgb(111 84 122)">t</text><text x="441" y="695"  fill="rgb(111 83 123)">e</text><text x="444" y="695"  fill="rgb(110 83 122)">Idst</text><text x="456" y="695"  fill="rgb(110 83 121)">r</text><text x="459" y="695"  fill="rgb(110 84 121)">i</text><text x="462" y="695"  fill="rgb(110 85 121)">n</text><text x="465" y="695"  fill="rgb(116 91 125)">g</text><text x="468" y="695"  fill="rgb(108 81 120)">(</text><text x="471" y="695"  fill="rgb(81 51 93)">k</text><text x="474" y="695"  fill="rgb(71 39 84)">e</text><text x="477" y="695"  fill="rgb(75 44 88)">y</text><text x="480" y="695"  fill="rgb(77 45 89)">[</text><text x="483" y="695"  fill="rgb(76 45 89)">0</text><text x="486" y="695"  fill="rgb(75 46 89)">]</text><text x="489" y="695"  fill="rgb(76 47 90)">) &amp;</text><text x="498" y="695"  fill="rgb(75 46 89)">&amp;</text><text x="501" y="695"  fill="rgb(74 45 88)"> </text><text x="504" y="695"  fill="rgb(74 45 87)">(t</text><text x="510" y="695"  fill="rgb(75 45 88)">h</text><text x="513" y="695"  fill="rgb(75 46 87)">i</text><text x="516" y="695"  fill="rgb(76 48 88)">s</text><text x="519" y="695"  fill="rgb(79 51 90)">.</text><text x="522" y="695"  fill="rgb(80 52 93)">s</text><text x="525" y="695"  fill="rgb(82 57 93)">f</text><text x="528" y="695"  fill="rgb(84 58 95)">i</text><text x="531" y="695"  fill="rgb(86 60 97)">e</text><text x="534" y="695"  fill="rgb(87 62 98)">l</text><text x="537" y="695"  fill="rgb(87 63 98)">d</text><text x="540" y="695"  fill="rgb(89 64 100)">s</text><text x="543" y="695"  fill="rgb(89 65 100)">.</text><text x="546" y="695"  fill="rgb(90 67 101)">in</text><text x="552" y="695"  fill="rgb(88 65 100)">c</text><text x="555" y="695"  fill="rgb(89 66 100)">l</text><text x="558" y="695"  fill="rgb(99 78 109)">u</text><text x="561" y="695"  fill="rgb(110 92 118)">d</text><text x="564" y="695"  fill="rgb(110 91 118)">e</text><text x="567" y="695"  fill="rgb(107 88 115)">s</text><text x="570" y="695"  fill="rgb(109 89 116)">(</text><text x="573" y="695"  fill="rgb(107 87 114)">k</text><text x="576" y="695"  fill="rgb(99 77 106)">e</text><text x="579" y="695"  fill="rgb(106 87 114)">y</text><text x="582" y="695"  fill="rgb(139 126 144)">[</text><text x="585" y="695"  fill="rgb(160 152 163)">1</text><text x="588" y="695"  fill="rgb(159 150 162)">]</text><text x="591" y="695"  fill="rgb(154 144 158)">)</text><text x="594" y="695"  fill="rgb(152 142 157)"> </text><text x="597" y="695"  fill="rgb(152 141 157)">|</text><text x="600" y="695"  fill="rgb(151 138 155)">|</text><text x="603" y="695"  fill="rgb(149 136 153)"> </text><text x="606" y="695"  fill="rgb(146 134 151)">t</text><text x="609" y="695"  fill="rgb(144 132 150)">h</text><text x="612" y="695"  fill="rgb(141 128 146)">i</text><text x="615" y="695"  fill="rgb(139 124 145)">s</text><text x="618" y="695"  fill="rgb(136 121 142)">.</text><text x="621" y="695"  fill="rgb(134 117 141)">m</text><text x="624" y="695"  fill="rgb(132 114 138)">f</text><text x="627" y="695"  fill="rgb(128 111 135)">i</text><text x="630" y="695"  fill="rgb(123 106 133)">e</text><text x="633" y="695"  fill="rgb(120 101 129)">l</text><text x="636" y="695"  fill="rgb(117 97 127)">d</text><text x="639" y="695"  fill="rgb(115 93 124)">s</text><text x="642" y="695"  fill="rgb(113 90 121)">.</text><text x="645" y="695"  fill="rgb(110 86 119)">i</text><text x="648" y="695"  fill="rgb(109 84 117)">n</text><text x="651" y="695"  fill="rgb(107 82 117)">c</text><text x="654" y="695"  fill="rgb(105 80 115)">l</text><text x="657" y="695"  fill="rgb(105 81 116)">u</text><text x="660" y="695"  fill="rgb(105 80 116)">d</text><text x="663" y="695"  fill="rgb(106 81 116)">es</text><text x="669" y="695"  fill="rgb(105 82 116)">(</text><text x="672" y="695"  fill="rgb(106 83 117)">ke</text><text x="678" y="695"  fill="rgb(107 82 117)">y</text><text x="681" y="695"  fill="rgb(106 82 118)">[</text><text x="684" y="695"  fill="rgb(106 82 117)">1</text><text x="687" y="695"  fill="rgb(105 82 116)">]</text><text x="690" y="695"  fill="rgb(105 81 116)">)</text><text x="693" y="695"  fill="rgb(105 80 115)">))</text><text x="699" y="695"  fill="rgb(104 79 114)">) </text><text x="705" y="695"  fill="rgb(103 78 114)">{ </text><text x="711" y="695"  fill="rgb(102 77 114)">t</text><text x="714" y="695"  fill="rgb(103 77 114)">h</text><text x="717" y="695"  fill="rgb(102 77 113)">ro</text><text x="723" y="695"  fill="rgb(100 74 110)">w</text><text x="726" y="695"  fill="rgb(105 80 115)"> </text><text x="729" y="695"  fill="rgb(115 91 128)">n</text><text x="732" y="695"  fill="rgb(116 91 128)">e</text><text x="735" y="695"  fill="rgb(115 89 127)">w </text><text x="741" y="695"  fill="rgb(114 88 127)">I</text><text x="744" y="695"  fill="rgb(113 87 126)">nsi</text><text x="753" y="695"  fill="rgb(112 86 125)">g</text><text x="756" y="695"  fill="rgb(111 86 124)">htE</text><text x="765" y="695"  fill="rgb(111 85 124)">r</text><text x="768" y="695"  fill="rgb(111 84 124)">r</text><text x="771" y="695"  fill="rgb(110 84 124)">or</text><text x="777" y="695"  fill="rgb(110 83 123)">(</text><text x="780" y="695"  fill="rgb(109 82 122)">)</text><text x="783" y="695"  fill="rgb(110 82 122)">; </text><text x="789" y="695"  fill="rgb(109 82 121)">}</text><text x="792" y="695"  fill="rgb(109 82 122)"> }</text><text x="798" y="695"  fill="rgb(107 80 120)"> }</text><text x="804" y="695"  fill="rgb(106 80 120)"> </text><text x="807" y="695"  fill="rgb(106 79 119)">} </text><text x="813" y="695"  fill="rgb(105 78 119)">p</text><text x="816" y="695"  fill="rgb(105 77 118)">ubl</text><text x="825" y="695"  fill="rgb(104 76 118)">ic</text><text x="831" y="695"  fill="rgb(104 75 117)"> v</text><text x="837" y="695"  fill="rgb(103 74 117)">al</text><text x="843" y="695"  fill="rgb(102 73 117)">i</text><text x="846" y="695"  fill="rgb(98 68 113)">d</text><text x="849" y="695"  fill="rgb(101 71 115)">a</text><text x="852" y="695"  fill="rgb(204 196 208)">t</text><text x="855" y="695"  fill="rgb(250 251 249)">e</text><text x="858" y="695"  fill="rgb(245 245 245)">Options(q: any): void { let keys: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot;</text><text x="0" y="700"  fill="rgb(245 245 245)"> &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.</text><text x="318" y="700"  fill="rgb(246 246 246)">v</text><text x="321" y="700"  fill="rgb(254 255 252)">a</text><text x="324" y="700"  fill="rgb(171 152 182)">l</text><text x="327" y="700"  fill="rgb(115 80 132)">i</text><text x="330" y="700"  fill="rgb(124 92 140)">d</text><text x="333" y="700"  fill="rgb(126 94 141)">a</text><text x="336" y="700"  fill="rgb(126 95 142)">te</text><text x="342" y="700"  fill="rgb(126 96 142)">Or</text><text x="348" y="700"  fill="rgb(127 96 142)">d</text><text x="351" y="700"  fill="rgb(128 97 142)">er</text><text x="357" y="700"  fill="rgb(129 98 143)">(</text><text x="360" y="700"  fill="rgb(129 98 142)">q.</text><text x="366" y="700"  fill="rgb(129 99 143)">O</text><text x="369" y="700"  fill="rgb(129 98 143)">R</text><text x="372" y="700"  fill="rgb(129 99 143)">DER</text><text x="381" y="700"  fill="rgb(130 100 143)">); </text><text x="390" y="700"  fill="rgb(130 101 143)">}</text><text x="393" y="700"  fill="rgb(131 102 144)"> </text><text x="396" y="700"  fill="rgb(132 103 145)">}</text><text x="399" y="700"  fill="rgb(121 93 136)"> </text><text x="402" y="700"  fill="rgb(115 88 130)">p</text><text x="405" y="700"  fill="rgb(111 85 126)">ri</text><text x="411" y="700"  fill="rgb(112 86 126)">v</text><text x="414" y="700"  fill="rgb(111 85 125)">ate va</text><text x="432" y="700"  fill="rgb(111 84 124)">l</text><text x="435" y="700"  fill="rgb(111 84 123)">id</text><text x="441" y="700"  fill="rgb(111 84 122)">at</text><text x="447" y="700"  fill="rgb(110 83 122)">eCo</text><text x="456" y="700"  fill="rgb(110 83 121)">l</text><text x="459" y="700"  fill="rgb(110 84 121)">um</text><text x="465" y="700"  fill="rgb(110 84 120)">n</text><text x="468" y="700"  fill="rgb(114 89 125)">s</text><text x="471" y="700"  fill="rgb(110 83 120)">(</text><text x="474" y="700"  fill="rgb(83 54 95)">q</text><text x="477" y="700"  fill="rgb(70 39 83)">:</text><text x="480" y="700"  fill="rgb(75 45 88)"> </text><text x="483" y="700"  fill="rgb(76 45 90)">an</text><text x="489" y="700"  fill="rgb(76 47 90)">y): v</text><text x="504" y="700"  fill="rgb(76 47 89)">oid</text><text x="513" y="700"  fill="rgb(75 48 88)"> </text><text x="516" y="700"  fill="rgb(75 48 87)">{</text><text x="519" y="700"  fill="rgb(75 47 87)"> </text><text x="522" y="700"  fill="rgb(75 47 88)">if</text><text x="528" y="700"  fill="rgb(75 46 88)"> </text><text x="531" y="700"  fill="rgb(75 46 87)">(</text><text x="534" y="700"  fill="rgb(75 48 89)">!</text><text x="537" y="700"  fill="rgb(76 49 89)">q</text><text x="540" y="700"  fill="rgb(77 50 89)"> </text><text x="543" y="700"  fill="rgb(77 51 89)">|</text><text x="546" y="700"  fill="rgb(79 53 91)">|</text><text x="549" y="700"  fill="rgb(77 51 91)"> </text><text x="552" y="700"  fill="rgb(79 53 91)">q</text><text x="555" y="700"  fill="rgb(88 64 98)">.</text><text x="558" y="700"  fill="rgb(94 73 105)">l</text><text x="561" y="700"  fill="rgb(95 73 104)">e</text><text x="564" y="700"  fill="rgb(94 71 104)">ng</text><text x="570" y="700"  fill="rgb(94 70 104)">t</text><text x="573" y="700"  fill="rgb(94 71 104)">h</text><text x="576" y="700"  fill="rgb(93 69 103)"> </text><text x="579" y="700"  fill="rgb(88 64 98)">&lt;</text><text x="582" y="700"  fill="rgb(87 63 96)"> </text><text x="585" y="700"  fill="rgb(108 87 116)">1</text><text x="588" y="700"  fill="rgb(129 112 137)">)</text><text x="591" y="700"  fill="rgb(132 115 140)"> </text><text x="594" y="700"  fill="rgb(125 107 134)">{</text><text x="597" y="700"  fill="rgb(122 103 131)"> </text><text x="600" y="700"  fill="rgb(122 102 130)">t</text><text x="603" y="700"  fill="rgb(119 98 129)">h</text><text x="606" y="700"  fill="rgb(117 97 127)">r</text><text x="609" y="700"  fill="rgb(116 95 126)">o</text><text x="612" y="700"  fill="rgb(114 93 123)">w</text><text x="615" y="700"  fill="rgb(112 90 123)"> </text><text x="618" y="700"  fill="rgb(110 89 121)">n</text><text x="621" y="700"  fill="rgb(110 88 121)">e</text><text x="624" y="700"  fill="rgb(110 86 119)">w</text><text x="627" y="700"  fill="rgb(109 87 121)"> </text><text x="630" y="700"  fill="rgb(109 87 120)">I</text><text x="633" y="700"  fill="rgb(109 86 119)">n</text><text x="636" y="700"  fill="rgb(108 86 120)">s</text><text x="639" y="700"  fill="rgb(109 87 120)">ig</text><text x="645" y="700"  fill="rgb(109 86 120)">h</text><text x="648" y="700"  fill="rgb(110 86 119)">t</text><text x="651" y="700"  fill="rgb(110 87 120)">E</text><text x="654" y="700"  fill="rgb(110 86 119)">r</text><text x="657" y="700"  fill="rgb(109 86 120)">r</text><text x="660" y="700"  fill="rgb(110 86 120)">o</text><text x="663" y="700"  fill="rgb(110 86 119)">r(</text><text x="669" y="700"  fill="rgb(109 85 119)">)</text><text x="672" y="700"  fill="rgb(108 84 119)">;</text><text x="675" y="700"  fill="rgb(107 84 118)"> </text><text x="678" y="700"  fill="rgb(106 83 117)">}</text><text x="681" y="700"  fill="rgb(106 82 117)"> fo</text><text x="690" y="700"  fill="rgb(105 81 116)">r </text><text x="696" y="700"  fill="rgb(105 80 115)">(l</text><text x="702" y="700"  fill="rgb(104 79 114)">et</text><text x="708" y="700"  fill="rgb(103 78 114)"> </text><text x="711" y="700"  fill="rgb(102 77 114)">ms</text><text x="717" y="700"  fill="rgb(103 77 114)">k</text><text x="720" y="700"  fill="rgb(102 76 113)">e</text><text x="723" y="700"  fill="rgb(101 74 111)">y</text><text x="726" y="700"  fill="rgb(104 78 114)"> </text><text x="729" y="700"  fill="rgb(116 92 127)">o</text><text x="732" y="700"  fill="rgb(116 92 128)">f</text><text x="735" y="700"  fill="rgb(115 90 127)"> </text><text x="738" y="700"  fill="rgb(115 89 127)">q)</text><text x="744" y="700"  fill="rgb(114 88 127)"> </text><text x="747" y="700"  fill="rgb(113 87 126)">{ i</text><text x="756" y="700"  fill="rgb(112 86 125)">f</text><text x="759" y="700"  fill="rgb(111 86 125)"> (t</text><text x="768" y="700"  fill="rgb(111 85 124)">h</text><text x="771" y="700"  fill="rgb(110 84 124)">is.</text><text x="780" y="700"  fill="rgb(110 83 123)">tr</text><text x="786" y="700"  fill="rgb(110 82 123)">a</text><text x="789" y="700"  fill="rgb(109 81 122)">nsf</text><text x="798" y="700"  fill="rgb(107 80 122)">o</text><text x="801" y="700"  fill="rgb(107 80 120)">rm</text><text x="807" y="700"  fill="rgb(106 79 119)">at</text><text x="813" y="700"  fill="rgb(105 79 119)">i</text><text x="816" y="700"  fill="rgb(105 78 119)">o</text><text x="819" y="700"  fill="rgb(105 77 119)">nKe</text><text x="828" y="700"  fill="rgb(104 76 118)">y</text><text x="831" y="700"  fill="rgb(104 75 117)">.le</text><text x="840" y="700"  fill="rgb(103 74 117)">n</text><text x="843" y="700"  fill="rgb(104 75 117)">g</text><text x="846" y="700"  fill="rgb(97 68 113)">t</text><text x="849" y="700"  fill="rgb(108 80 121)">h</text><text x="852" y="700"  fill="rgb(218 213 221)"> </text><text x="855" y="700"  fill="rgb(250 251 249)">&gt;</text><text x="858" y="700"  fill="rgb(245 245 245)"> 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightError(); } } else { this.validate</text><text x="0" y="705"  fill="rgb(245 245 245)">Key(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q))</text><text x="321" y="705"  fill="rgb(255 255 253)"> </text><text x="324" y="705"  fill="rgb(180 163 189)">{</text><text x="327" y="705"  fill="rgb(115 80 132)"> </text><text x="330" y="705"  fill="rgb(123 89 139)">t</text><text x="333" y="705"  fill="rgb(126 93 141)">h</text><text x="336" y="705"  fill="rgb(126 94 141)">r</text><text x="339" y="705"  fill="rgb(126 94 142)">o</text><text x="342" y="705"  fill="rgb(126 94 141)">w</text><text x="345" y="705"  fill="rgb(126 95 142)"> n</text><text x="351" y="705"  fill="rgb(127 96 142)">ew I</text><text x="363" y="705"  fill="rgb(128 97 142)">ns</text><text x="369" y="705"  fill="rgb(129 97 142)">i</text><text x="372" y="705"  fill="rgb(129 98 142)">ght</text><text x="381" y="705"  fill="rgb(129 99 143)">Err</text><text x="390" y="705"  fill="rgb(130 100 143)">o</text><text x="393" y="705"  fill="rgb(130 101 143)">r</text><text x="396" y="705"  fill="rgb(130 100 143)">(</text><text x="399" y="705"  fill="rgb(120 92 135)">)</text><text x="402" y="705"  fill="rgb(116 88 131)">;</text><text x="405" y="705"  fill="rgb(112 86 127)"> </text><text x="408" y="705"  fill="rgb(113 85 126)">}</text><text x="411" y="705"  fill="rgb(112 85 127)"> </text><text x="414" y="705"  fill="rgb(111 86 126)">e</text><text x="417" y="705"  fill="rgb(112 86 126)">l</text><text x="420" y="705"  fill="rgb(111 85 125)">s</text><text x="423" y="705"  fill="rgb(112 85 126)">e</text><text x="426" y="705"  fill="rgb(111 85 125)"> i</text><text x="432" y="705"  fill="rgb(111 85 126)">f</text><text x="435" y="705"  fill="rgb(111 85 124)"> </text><text x="438" y="705"  fill="rgb(111 84 124)">(</text><text x="441" y="705"  fill="rgb(111 84 123)">typ</text><text x="450" y="705"  fill="rgb(110 83 122)">eof </text><text x="462" y="705"  fill="rgb(110 84 121)">q</text><text x="465" y="705"  fill="rgb(109 84 121)"> </text><text x="468" y="705"  fill="rgb(109 83 121)">=</text><text x="471" y="705"  fill="rgb(114 88 124)">=</text><text x="474" y="705"  fill="rgb(111 85 122)">=</text><text x="477" y="705"  fill="rgb(85 56 97)"> </text><text x="480" y="705"  fill="rgb(69 40 84)">&quot;</text><text x="483" y="705"  fill="rgb(75 45 89)">s</text><text x="486" y="705"  fill="rgb(77 47 90)">t</text><text x="489" y="705"  fill="rgb(76 46 90)">r</text><text x="492" y="705"  fill="rgb(76 47 89)">in</text><text x="498" y="705"  fill="rgb(76 47 90)">g</text><text x="501" y="705"  fill="rgb(77 48 90)">&quot;</text><text x="504" y="705"  fill="rgb(76 47 89)">) </text><text x="510" y="705"  fill="rgb(77 48 89)">{ </text><text x="516" y="705"  fill="rgb(77 49 89)">if </text><text x="525" y="705"  fill="rgb(77 50 89)">(</text><text x="528" y="705"  fill="rgb(76 49 89)">!</text><text x="531" y="705"  fill="rgb(76 48 89)">t</text><text x="534" y="705"  fill="rgb(75 48 89)">hi</text><text x="540" y="705"  fill="rgb(75 48 88)">s</text><text x="543" y="705"  fill="rgb(75 47 87)">.</text><text x="546" y="705"  fill="rgb(73 46 85)">k</text><text x="549" y="705"  fill="rgb(75 47 87)">e</text><text x="552" y="705"  fill="rgb(83 57 94)">y</text><text x="555" y="705"  fill="rgb(87 62 98)">s</text><text x="558" y="705"  fill="rgb(86 61 96)">I</text><text x="561" y="705"  fill="rgb(85 60 95)">n</text><text x="564" y="705"  fill="rgb(84 59 95)">Q</text><text x="567" y="705"  fill="rgb(84 60 95)">u</text><text x="570" y="705"  fill="rgb(84 59 95)">ery.</text><text x="582" y="705"  fill="rgb(81 56 93)">i</text><text x="585" y="705"  fill="rgb(75 49 87)">n</text><text x="588" y="705"  fill="rgb(87 61 98)">c</text><text x="591" y="705"  fill="rgb(112 90 122)">l</text><text x="594" y="705"  fill="rgb(122 101 132)">u</text><text x="597" y="705"  fill="rgb(117 96 127)">d</text><text x="600" y="705"  fill="rgb(114 93 124)">e</text><text x="603" y="705"  fill="rgb(116 94 126)">s</text><text x="606" y="705"  fill="rgb(115 93 125)">(q</text><text x="612" y="705"  fill="rgb(115 94 125)">))</text><text x="618" y="705"  fill="rgb(115 93 124)"> </text><text x="621" y="705"  fill="rgb(114 92 124)">{</text><text x="624" y="705"  fill="rgb(114 93 124)"> </text><text x="627" y="705"  fill="rgb(113 92 124)">thr</text><text x="636" y="705"  fill="rgb(112 91 123)">ow </text><text x="645" y="705"  fill="rgb(112 89 123)">n</text><text x="648" y="705"  fill="rgb(111 89 121)">e</text><text x="651" y="705"  fill="rgb(111 88 121)">w </text><text x="657" y="705"  fill="rgb(110 87 120)">I</text><text x="660" y="705"  fill="rgb(110 86 120)">ns</text><text x="666" y="705"  fill="rgb(110 86 119)">i</text><text x="669" y="705"  fill="rgb(109 85 119)">g</text><text x="672" y="705"  fill="rgb(109 85 118)">h</text><text x="675" y="705"  fill="rgb(108 84 118)">tE</text><text x="681" y="705"  fill="rgb(107 83 118)">r</text><text x="684" y="705"  fill="rgb(106 82 117)">ro</text><text x="690" y="705"  fill="rgb(106 82 118)">r</text><text x="693" y="705"  fill="rgb(105 81 116)">(</text><text x="696" y="705"  fill="rgb(105 81 117)">)</text><text x="699" y="705"  fill="rgb(105 80 116)">; </text><text x="705" y="705"  fill="rgb(104 79 115)">} </text><text x="711" y="705"  fill="rgb(103 78 114)">}</text><text x="714" y="705"  fill="rgb(102 77 114)"> el</text><text x="723" y="705"  fill="rgb(100 75 112)">s</text><text x="726" y="705"  fill="rgb(102 77 114)">e</text><text x="729" y="705"  fill="rgb(116 91 127)"> </text><text x="732" y="705"  fill="rgb(118 93 130)">{</text><text x="735" y="705"  fill="rgb(116 92 128)"> </text><text x="738" y="705"  fill="rgb(116 91 128)">i</text><text x="741" y="705"  fill="rgb(115 91 127)">f</text><text x="744" y="705"  fill="rgb(115 89 127)"> </text><text x="747" y="705"  fill="rgb(115 88 127)">(</text><text x="750" y="705"  fill="rgb(115 89 127)">!</text><text x="753" y="705"  fill="rgb(114 89 126)">q</text><text x="756" y="705"  fill="rgb(113 88 126)">.</text><text x="759" y="705"  fill="rgb(113 86 125)">d</text><text x="762" y="705"  fill="rgb(113 86 126)">i</text><text x="765" y="705"  fill="rgb(112 86 125)">r </text><text x="771" y="705"  fill="rgb(111 85 124)">||</text><text x="777" y="705"  fill="rgb(111 84 124)"> </text><text x="780" y="705"  fill="rgb(110 83 123)">!q</text><text x="786" y="705"  fill="rgb(109 82 122)">.</text><text x="789" y="705"  fill="rgb(110 82 122)">ke</text><text x="795" y="705"  fill="rgb(109 81 122)">y</text><text x="798" y="705"  fill="rgb(109 81 121)">s</text><text x="801" y="705"  fill="rgb(108 80 121)"> ||</text><text x="810" y="705"  fill="rgb(107 79 120)"> </text><text x="813" y="705"  fill="rgb(107 80 120)">O</text><text x="816" y="705"  fill="rgb(106 78 119)">bj</text><text x="822" y="705"  fill="rgb(105 77 119)">ect</text><text x="831" y="705"  fill="rgb(104 76 118)">.</text><text x="834" y="705"  fill="rgb(104 75 117)">key</text><text x="843" y="705"  fill="rgb(104 75 118)">s</text><text x="846" y="705"  fill="rgb(95 64 110)">(</text><text x="849" y="705"  fill="rgb(121 97 133)">q</text><text x="852" y="705"  fill="rgb(232 231 234)">)</text><text x="855" y="705"  fill="rgb(249 250 249)">.</text><text x="858" y="705"  fill="rgb(245 245 245)">length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new Insight</text><text x="0" y="710"  fill="rgb(245 245 245)">Error(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError();</text><text x="321" y="710"  fill="rgb(254 255 252)"> </text><text x="324" y="710"  fill="rgb(191 177 198)">}</text><text x="327" y="710"  fill="rgb(117 81 134)"> </text><text x="330" y="710"  fill="rgb(121 86 138)">f</text><text x="333" y="710"  fill="rgb(125 91 140)">o</text><text x="336" y="710"  fill="rgb(125 93 140)">r</text><text x="339" y="710"  fill="rgb(125 93 142)"> </text><text x="342" y="710"  fill="rgb(126 94 141)">(l</text><text x="348" y="710"  fill="rgb(126 93 140)">e</text><text x="351" y="710"  fill="rgb(126 95 142)">t</text><text x="354" y="710"  fill="rgb(126 95 141)"> </text><text x="357" y="710"  fill="rgb(126 94 141)">a</text><text x="360" y="710"  fill="rgb(126 95 141)">n</text><text x="363" y="710"  fill="rgb(127 95 141)">y</text><text x="366" y="710"  fill="rgb(127 96 142)">k</text><text x="369" y="710"  fill="rgb(126 95 142)">e</text><text x="372" y="710"  fill="rgb(127 96 142)">y</text><text x="375" y="710"  fill="rgb(129 97 142)"> o</text><text x="381" y="710"  fill="rgb(129 98 142)">f</text><text x="384" y="710"  fill="rgb(128 97 142)"> </text><text x="387" y="710"  fill="rgb(128 98 142)">k</text><text x="390" y="710"  fill="rgb(130 99 143)">e</text><text x="393" y="710"  fill="rgb(131 100 144)">y</text><text x="396" y="710"  fill="rgb(128 99 143)">s</text><text x="399" y="710"  fill="rgb(119 90 135)">)</text><text x="402" y="710"  fill="rgb(116 87 132)"> </text><text x="405" y="710"  fill="rgb(113 86 127)">{ </text><text x="411" y="710"  fill="rgb(111 86 126)">i</text><text x="414" y="710"  fill="rgb(111 85 126)">f </text><text x="420" y="710"  fill="rgb(112 86 126)">(</text><text x="423" y="710"  fill="rgb(111 85 126)">!</text><text x="426" y="710"  fill="rgb(112 85 126)">th</text><text x="432" y="710"  fill="rgb(111 85 126)">is</text><text x="438" y="710"  fill="rgb(111 85 125)">.</text><text x="441" y="710"  fill="rgb(111 84 124)">key</text><text x="450" y="710"  fill="rgb(111 84 123)">s</text><text x="453" y="710"  fill="rgb(111 83 123)">I</text><text x="456" y="710"  fill="rgb(110 83 123)">nQ</text><text x="462" y="710"  fill="rgb(110 83 122)">ue</text><text x="468" y="710"  fill="rgb(110 84 122)">ry</text><text x="474" y="710"  fill="rgb(112 86 124)">.</text><text x="477" y="710"  fill="rgb(112 85 123)">i</text><text x="480" y="710"  fill="rgb(89 61 101)">n</text><text x="483" y="710"  fill="rgb(71 42 85)">c</text><text x="486" y="710"  fill="rgb(76 46 88)">l</text><text x="489" y="710"  fill="rgb(77 47 90)">ud</text><text x="495" y="710"  fill="rgb(77 48 90)">e</text><text x="498" y="710"  fill="rgb(77 48 89)">s(</text><text x="504" y="710"  fill="rgb(78 49 90)">an</text><text x="510" y="710"  fill="rgb(77 48 89)">yk</text><text x="516" y="710"  fill="rgb(78 48 90)">e</text><text x="519" y="710"  fill="rgb(78 49 90)">y</text><text x="522" y="710"  fill="rgb(78 49 89)">)</text><text x="525" y="710"  fill="rgb(77 49 89)">)</text><text x="528" y="710"  fill="rgb(77 50 89)"> { t</text><text x="540" y="710"  fill="rgb(77 50 88)">h</text><text x="543" y="710"  fill="rgb(75 48 86)">r</text><text x="546" y="710"  fill="rgb(79 53 90)">o</text><text x="549" y="710"  fill="rgb(88 63 99)">w</text><text x="552" y="710"  fill="rgb(90 65 101)"> </text><text x="555" y="710"  fill="rgb(88 63 99)">new I</text><text x="570" y="710"  fill="rgb(88 64 99)">n</text><text x="573" y="710"  fill="rgb(87 64 99)">s</text><text x="576" y="710"  fill="rgb(87 64 98)">i</text><text x="579" y="710"  fill="rgb(88 64 99)">g</text><text x="582" y="710"  fill="rgb(88 63 99)">h</text><text x="585" y="710"  fill="rgb(88 62 98)">t</text><text x="588" y="710"  fill="rgb(83 58 93)">E</text><text x="591" y="710"  fill="rgb(85 61 95)">r</text><text x="594" y="710"  fill="rgb(107 84 116)">r</text><text x="597" y="710"  fill="rgb(124 103 132)">or</text><text x="603" y="710"  fill="rgb(119 98 128)">(</text><text x="606" y="710"  fill="rgb(118 97 126)">)</text><text x="609" y="710"  fill="rgb(117 96 126)">;</text><text x="612" y="710"  fill="rgb(117 96 127)"> }</text><text x="618" y="710"  fill="rgb(117 95 126)"> </text><text x="621" y="710"  fill="rgb(116 93 124)">}</text><text x="624" y="710"  fill="rgb(116 94 126)"> </text><text x="627" y="710"  fill="rgb(115 92 124)">}</text><text x="630" y="710"  fill="rgb(114 92 124)"> }</text><text x="636" y="710"  fill="rgb(113 92 123)"> </text><text x="639" y="710"  fill="rgb(113 90 123)">publ</text><text x="651" y="710"  fill="rgb(111 88 122)">i</text><text x="654" y="710"  fill="rgb(111 88 121)">c </text><text x="660" y="710"  fill="rgb(110 87 120)">va</text><text x="666" y="710"  fill="rgb(110 86 120)">li</text><text x="672" y="710"  fill="rgb(110 86 119)">d</text><text x="675" y="710"  fill="rgb(110 86 120)">a</text><text x="678" y="710"  fill="rgb(109 85 119)">t</text><text x="681" y="710"  fill="rgb(108 84 118)">e</text><text x="684" y="710"  fill="rgb(107 83 117)">Wh</text><text x="690" y="710"  fill="rgb(106 82 118)">e</text><text x="693" y="710"  fill="rgb(106 82 117)">r</text><text x="696" y="710"  fill="rgb(105 81 117)">e(</text><text x="702" y="710"  fill="rgb(105 80 116)">q</text><text x="705" y="710"  fill="rgb(105 79 115)">:</text><text x="708" y="710"  fill="rgb(104 79 115)"> </text><text x="711" y="710"  fill="rgb(103 79 115)">a</text><text x="714" y="710"  fill="rgb(102 78 114)">ny</text><text x="720" y="710"  fill="rgb(102 77 114)">)</text><text x="723" y="710"  fill="rgb(100 75 113)">:</text><text x="726" y="710"  fill="rgb(102 77 115)"> </text><text x="729" y="710"  fill="rgb(115 90 127)">v</text><text x="732" y="710"  fill="rgb(118 93 130)">o</text><text x="735" y="710"  fill="rgb(117 92 129)">i</text><text x="738" y="710"  fill="rgb(116 91 128)">d </text><text x="744" y="710"  fill="rgb(115 90 127)">{</text><text x="747" y="710"  fill="rgb(115 89 127)"> if</text><text x="756" y="710"  fill="rgb(114 88 127)"> </text><text x="759" y="710"  fill="rgb(113 87 126)">(</text><text x="762" y="710"  fill="rgb(113 86 126)">Ar</text><text x="768" y="710"  fill="rgb(112 86 125)">ra</text><text x="774" y="710"  fill="rgb(111 85 124)">y</text><text x="777" y="710"  fill="rgb(111 84 124)">.is</text><text x="786" y="710"  fill="rgb(110 83 124)">Ar</text><text x="792" y="710"  fill="rgb(110 82 123)">ra</text><text x="798" y="710"  fill="rgb(110 82 122)">y</text><text x="801" y="710"  fill="rgb(109 81 122)">(</text><text x="804" y="710"  fill="rgb(108 80 122)">q)</text><text x="810" y="710"  fill="rgb(108 79 121)">) </text><text x="816" y="710"  fill="rgb(107 78 120)">{</text><text x="819" y="710"  fill="rgb(107 78 119)"> </text><text x="822" y="710"  fill="rgb(106 77 119)">th</text><text x="828" y="710"  fill="rgb(106 76 119)">r</text><text x="831" y="710"  fill="rgb(105 76 119)">o</text><text x="834" y="710"  fill="rgb(104 76 119)">w </text><text x="840" y="710"  fill="rgb(105 76 119)">n</text><text x="843" y="710"  fill="rgb(101 70 115)">e</text><text x="846" y="710"  fill="rgb(100 70 114)">w</text><text x="849" y="710"  fill="rgb(147 128 156)"> </text><text x="852" y="710"  fill="rgb(240 239 240)">I</text><text x="855" y="710"  fill="rgb(249 249 248)">n</text><text x="858" y="710"  fill="rgb(245 245 245)">sightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validat</text><text x="0" y="715"  fill="rgb(245 245 245)">eFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: stri</text><text x="321" y="715"  fill="rgb(250 251 249)">n</text><text x="324" y="715"  fill="rgb(219 212 223)">g</text><text x="327" y="715"  fill="rgb(125 92 142)"> </text><text x="330" y="715"  fill="rgb(118 83 135)">=</text><text x="333" y="715"  fill="rgb(125 91 141)"> </text><text x="336" y="715"  fill="rgb(124 91 141)">O</text><text x="339" y="715"  fill="rgb(125 92 140)">bje</text><text x="348" y="715"  fill="rgb(125 93 141)">c</text><text x="351" y="715"  fill="rgb(125 93 140)">t.</text><text x="357" y="715"  fill="rgb(126 94 141)">k</text><text x="360" y="715"  fill="rgb(126 94 140)">e</text><text x="363" y="715"  fill="rgb(126 95 141)">ys(</text><text x="372" y="715"  fill="rgb(127 96 142)">q)[</text><text x="381" y="715"  fill="rgb(128 97 142)">0];</text><text x="390" y="715"  fill="rgb(128 98 142)"> </text><text x="393" y="715"  fill="rgb(129 99 143)">l</text><text x="396" y="715"  fill="rgb(128 98 142)">e</text><text x="399" y="715"  fill="rgb(119 90 134)">t</text><text x="402" y="715"  fill="rgb(116 86 131)"> </text><text x="405" y="715"  fill="rgb(113 85 127)">v</text><text x="408" y="715"  fill="rgb(113 86 128)">a</text><text x="411" y="715"  fill="rgb(112 86 127)">lue</text><text x="420" y="715"  fill="rgb(111 85 127)">:</text><text x="423" y="715"  fill="rgb(112 86 126)"> </text><text x="426" y="715"  fill="rgb(111 85 126)">a</text><text x="429" y="715"  fill="rgb(112 85 126)">ny</text><text x="435" y="715"  fill="rgb(111 85 125)"> =</text><text x="441" y="715"  fill="rgb(111 84 124)"> Obje</text><text x="456" y="715"  fill="rgb(110 83 123)">ct.v</text><text x="468" y="715"  fill="rgb(110 83 122)">al</text><text x="474" y="715"  fill="rgb(109 83 121)">u</text><text x="477" y="715"  fill="rgb(112 87 125)">e</text><text x="480" y="715"  fill="rgb(115 89 127)">s</text><text x="483" y="715"  fill="rgb(93 66 106)">(</text><text x="486" y="715"  fill="rgb(72 42 86)">q</text><text x="489" y="715"  fill="rgb(75 46 87)">)</text><text x="492" y="715"  fill="rgb(77 48 90)">[0</text><text x="498" y="715"  fill="rgb(78 49 91)">]</text><text x="501" y="715"  fill="rgb(78 49 90)">;</text><text x="504" y="715"  fill="rgb(77 48 90)"> </text><text x="507" y="715"  fill="rgb(78 49 90)">switch</text><text x="525" y="715"  fill="rgb(78 48 90)"> </text><text x="528" y="715"  fill="rgb(78 49 90)">(</text><text x="531" y="715"  fill="rgb(77 49 89)">k</text><text x="534" y="715"  fill="rgb(77 50 89)">e</text><text x="537" y="715"  fill="rgb(76 48 87)">y</text><text x="540" y="715"  fill="rgb(75 49 87)">)</text><text x="543" y="715"  fill="rgb(82 57 94)"> </text><text x="546" y="715"  fill="rgb(90 66 101)">{</text><text x="549" y="715"  fill="rgb(90 67 101)"> </text><text x="552" y="715"  fill="rgb(89 64 100)">case &quot;</text><text x="570" y="715"  fill="rgb(88 63 99)">AN</text><text x="576" y="715"  fill="rgb(88 63 98)">D&quot;:</text><text x="585" y="715"  fill="rgb(89 64 100)"> </text><text x="588" y="715"  fill="rgb(88 64 99)">c</text><text x="591" y="715"  fill="rgb(85 60 95)">a</text><text x="594" y="715"  fill="rgb(82 58 93)">s</text><text x="597" y="715"  fill="rgb(96 72 106)">e</text><text x="600" y="715"  fill="rgb(118 96 127)"> </text><text x="603" y="715"  fill="rgb(124 103 134)">&quot;</text><text x="606" y="715"  fill="rgb(120 99 130)">O</text><text x="609" y="715"  fill="rgb(117 96 126)">R</text><text x="612" y="715"  fill="rgb(117 96 127)">&quot;: </text><text x="621" y="715"  fill="rgb(117 95 126)">t</text><text x="624" y="715"  fill="rgb(116 94 126)">hi</text><text x="630" y="715"  fill="rgb(115 93 125)">s</text><text x="633" y="715"  fill="rgb(114 92 124)">.v</text><text x="639" y="715"  fill="rgb(113 91 123)">a</text><text x="642" y="715"  fill="rgb(113 90 123)">li</text><text x="648" y="715"  fill="rgb(113 90 122)">d</text><text x="651" y="715"  fill="rgb(112 89 123)">a</text><text x="654" y="715"  fill="rgb(111 88 122)">te</text><text x="660" y="715"  fill="rgb(111 87 121)">A</text><text x="663" y="715"  fill="rgb(110 87 120)">N</text><text x="666" y="715"  fill="rgb(110 86 120)">DOR(v</text><text x="681" y="715"  fill="rgb(109 85 119)">a</text><text x="684" y="715"  fill="rgb(108 84 118)">lue</text><text x="693" y="715"  fill="rgb(107 83 117)">)</text><text x="696" y="715"  fill="rgb(106 82 118)">;</text><text x="699" y="715"  fill="rgb(105 81 117)"> </text><text x="702" y="715"  fill="rgb(106 81 117)">b</text><text x="705" y="715"  fill="rgb(105 81 117)">r</text><text x="708" y="715"  fill="rgb(105 79 115)">e</text><text x="711" y="715"  fill="rgb(105 79 116)">ak</text><text x="717" y="715"  fill="rgb(104 78 115)">;</text><text x="720" y="715"  fill="rgb(103 78 115)"> </text><text x="723" y="715"  fill="rgb(102 76 114)">c</text><text x="726" y="715"  fill="rgb(102 75 114)">a</text><text x="729" y="715"  fill="rgb(114 89 126)">s</text><text x="732" y="715"  fill="rgb(118 93 130)">e</text><text x="735" y="715"  fill="rgb(116 92 129)"> </text><text x="738" y="715"  fill="rgb(115 90 129)">&quot;N</text><text x="744" y="715"  fill="rgb(116 90 129)">O</text><text x="747" y="715"  fill="rgb(115 89 128)">T&quot;</text><text x="753" y="715"  fill="rgb(115 88 127)">:</text><text x="756" y="715"  fill="rgb(114 87 127)"> th</text><text x="765" y="715"  fill="rgb(113 86 126)">is</text><text x="771" y="715"  fill="rgb(112 86 125)">.v</text><text x="777" y="715"  fill="rgb(112 85 125)">a</text><text x="780" y="715"  fill="rgb(111 85 124)">l</text><text x="783" y="715"  fill="rgb(111 84 124)">id</text><text x="789" y="715"  fill="rgb(110 83 124)">ate</text><text x="798" y="715"  fill="rgb(110 81 123)">N</text><text x="801" y="715"  fill="rgb(109 81 122)">OT</text><text x="807" y="715"  fill="rgb(108 80 122)">(va</text><text x="816" y="715"  fill="rgb(108 79 121)">l</text><text x="819" y="715"  fill="rgb(107 79 121)">u</text><text x="822" y="715"  fill="rgb(107 78 120)">e)</text><text x="828" y="715"  fill="rgb(106 77 120)">;</text><text x="831" y="715"  fill="rgb(105 76 119)"> br</text><text x="840" y="715"  fill="rgb(100 70 117)">e</text><text x="843" y="715"  fill="rgb(103 72 118)">a</text><text x="846" y="715"  fill="rgb(119 95 130)">k</text><text x="849" y="715"  fill="rgb(168 154 174)">;</text><text x="852" y="715"  fill="rgb(243 242 243)"> </text><text x="855" y="715"  fill="rgb(247 248 247)">c</text><text x="858" y="715"  fill="rgb(245 245 245)">ase &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); b</text><text x="0" y="720"  fill="rgb(245 245 245)">reak; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value !==</text><text x="321" y="720"  fill="rgb(246 246 246)"> </text><text x="324" y="720"  fill="rgb(244 243 244)">&quot;</text><text x="327" y="720"  fill="rgb(151 125 165)">o</text><text x="330" y="720"  fill="rgb(113 76 131)">b</text><text x="333" y="720"  fill="rgb(122 88 140)">j</text><text x="336" y="720"  fill="rgb(124 90 142)">e</text><text x="339" y="720"  fill="rgb(124 90 140)">c</text><text x="342" y="720"  fill="rgb(124 91 140)">t&quot;)</text><text x="351" y="720"  fill="rgb(125 92 140)"> </text><text x="354" y="720"  fill="rgb(125 93 141)">{ t</text><text x="363" y="720"  fill="rgb(125 93 140)">h</text><text x="366" y="720"  fill="rgb(126 94 141)">r</text><text x="369" y="720"  fill="rgb(126 95 142)">ow n</text><text x="381" y="720"  fill="rgb(127 96 142)">ew</text><text x="387" y="720"  fill="rgb(128 97 142)"> I</text><text x="393" y="720"  fill="rgb(128 98 142)">n</text><text x="396" y="720"  fill="rgb(127 97 142)">s</text><text x="399" y="720"  fill="rgb(119 90 135)">i</text><text x="402" y="720"  fill="rgb(116 87 132)">g</text><text x="405" y="720"  fill="rgb(114 86 129)">h</text><text x="408" y="720"  fill="rgb(113 85 128)">t</text><text x="411" y="720"  fill="rgb(113 86 128)">E</text><text x="414" y="720"  fill="rgb(112 86 127)">rro</text><text x="423" y="720"  fill="rgb(111 85 126)">r</text><text x="426" y="720"  fill="rgb(111 84 125)">(</text><text x="429" y="720"  fill="rgb(111 85 126)">)</text><text x="432" y="720"  fill="rgb(112 85 126)">; </text><text x="438" y="720"  fill="rgb(112 85 125)">}</text><text x="441" y="720"  fill="rgb(111 85 125)"> </text><text x="444" y="720"  fill="rgb(110 83 124)">t</text><text x="447" y="720"  fill="rgb(111 84 124)">his</text><text x="456" y="720"  fill="rgb(110 83 123)">.v</text><text x="462" y="720"  fill="rgb(110 84 124)">a</text><text x="465" y="720"  fill="rgb(110 83 123)">l</text><text x="468" y="720"  fill="rgb(110 83 122)">idat</text><text x="480" y="720"  fill="rgb(112 87 125)">e</text><text x="483" y="720"  fill="rgb(115 90 127)">F</text><text x="486" y="720"  fill="rgb(96 69 109)">i</text><text x="489" y="720"  fill="rgb(75 46 89)">l</text><text x="492" y="720"  fill="rgb(74 45 87)">t</text><text x="495" y="720"  fill="rgb(78 49 91)">er(</text><text x="504" y="720"  fill="rgb(78 49 90)">value</text><text x="519" y="720"  fill="rgb(78 50 91)">)</text><text x="522" y="720"  fill="rgb(78 49 90)">;</text><text x="525" y="720"  fill="rgb(78 50 91)"> </text><text x="528" y="720"  fill="rgb(78 51 91)">}</text><text x="531" y="720"  fill="rgb(77 50 89)"> </text><text x="534" y="720"  fill="rgb(76 48 88)">p</text><text x="537" y="720"  fill="rgb(78 51 89)">r</text><text x="540" y="720"  fill="rgb(85 60 97)">i</text><text x="543" y="720"  fill="rgb(91 67 102)">v</text><text x="546" y="720"  fill="rgb(90 66 101)">a</text><text x="549" y="720"  fill="rgb(89 65 100)">t</text><text x="552" y="720"  fill="rgb(89 65 101)">e</text><text x="555" y="720"  fill="rgb(89 65 100)"> vali</text><text x="570" y="720"  fill="rgb(89 64 100)">d</text><text x="573" y="720"  fill="rgb(89 63 100)">a</text><text x="576" y="720"  fill="rgb(89 64 99)">t</text><text x="579" y="720"  fill="rgb(89 63 99)">e</text><text x="582" y="720"  fill="rgb(89 64 99)">I</text><text x="585" y="720"  fill="rgb(88 63 99)">S</text><text x="588" y="720"  fill="rgb(89 64 99)">(</text><text x="591" y="720"  fill="rgb(89 64 100)">v</text><text x="594" y="720"  fill="rgb(86 62 97)">a</text><text x="597" y="720"  fill="rgb(82 57 93)">l</text><text x="600" y="720"  fill="rgb(89 64 99)">u</text><text x="603" y="720"  fill="rgb(108 85 118)">e</text><text x="606" y="720"  fill="rgb(123 102 133)">:</text><text x="609" y="720"  fill="rgb(122 101 131)"> </text><text x="612" y="720"  fill="rgb(118 97 128)">a</text><text x="615" y="720"  fill="rgb(117 96 127)">ny</text><text x="621" y="720"  fill="rgb(117 95 126)">):</text><text x="627" y="720"  fill="rgb(116 94 126)"> vo</text><text x="636" y="720"  fill="rgb(114 92 124)">i</text><text x="639" y="720"  fill="rgb(114 92 125)">d </text><text x="645" y="720"  fill="rgb(113 90 123)">{ </text><text x="651" y="720"  fill="rgb(112 89 122)">i</text><text x="654" y="720"  fill="rgb(112 89 123)">f</text><text x="657" y="720"  fill="rgb(111 88 122)"> (</text><text x="663" y="720"  fill="rgb(110 88 122)">t</text><text x="666" y="720"  fill="rgb(110 86 120)">ypeof</text><text x="681" y="720"  fill="rgb(109 85 119)"> v</text><text x="687" y="720"  fill="rgb(109 85 118)">a</text><text x="690" y="720"  fill="rgb(108 84 119)">lu</text><text x="696" y="720"  fill="rgb(107 83 118)">e</text><text x="699" y="720"  fill="rgb(106 82 117)"> !</text><text x="705" y="720"  fill="rgb(105 82 117)">=</text><text x="708" y="720"  fill="rgb(105 81 117)">=</text><text x="711" y="720"  fill="rgb(105 80 116)"> </text><text x="714" y="720"  fill="rgb(105 80 115)">&quot;</text><text x="717" y="720"  fill="rgb(105 79 115)">o</text><text x="720" y="720"  fill="rgb(105 78 115)">b</text><text x="723" y="720"  fill="rgb(104 78 115)">j</text><text x="726" y="720"  fill="rgb(103 77 114)">e</text><text x="729" y="720"  fill="rgb(114 88 126)">c</text><text x="732" y="720"  fill="rgb(119 93 130)">t</text><text x="735" y="720"  fill="rgb(117 92 130)">&quot;)</text><text x="741" y="720"  fill="rgb(115 90 128)"> </text><text x="744" y="720"  fill="rgb(116 90 128)">{</text><text x="747" y="720"  fill="rgb(115 90 128)"> </text><text x="750" y="720"  fill="rgb(115 89 128)">th</text><text x="756" y="720"  fill="rgb(115 88 127)">r</text><text x="759" y="720"  fill="rgb(114 87 127)">ow n</text><text x="771" y="720"  fill="rgb(113 86 127)">e</text><text x="774" y="720"  fill="rgb(112 86 126)">w </text><text x="780" y="720"  fill="rgb(111 85 125)">In</text><text x="786" y="720"  fill="rgb(111 84 124)">si</text><text x="792" y="720"  fill="rgb(110 83 124)">gh</text><text x="798" y="720"  fill="rgb(110 82 123)">t</text><text x="801" y="720"  fill="rgb(110 82 122)">E</text><text x="804" y="720"  fill="rgb(109 81 122)">rro</text><text x="813" y="720"  fill="rgb(108 80 122)">r()</text><text x="822" y="720"  fill="rgb(107 79 121)">; }</text><text x="831" y="720"  fill="rgb(106 77 120)"> i</text><text x="837" y="720"  fill="rgb(101 70 115)">f</text><text x="840" y="720"  fill="rgb(102 71 117)"> </text><text x="843" y="720"  fill="rgb(126 104 138)">(</text><text x="846" y="720"  fill="rgb(129 108 138)">O</text><text x="849" y="720"  fill="rgb(178 166 184)">b</text><text x="852" y="720"  fill="rgb(246 246 246)">j</text><text x="855" y="720"  fill="rgb(247 247 247)">e</text><text x="858" y="720"  fill="rgb(245 245 245)">ct.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0].s</text><text x="0" y="725"  fill="rgb(245 245 245)">plit(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let s</text><text x="324" y="725"  fill="rgb(249 250 249)">f</text><text x="327" y="725"  fill="rgb(187 170 196)">i</text><text x="330" y="725"  fill="rgb(126 93 144)">e</text><text x="333" y="725"  fill="rgb(114 80 133)">l</text><text x="336" y="725"  fill="rgb(121 86 138)">d</text><text x="339" y="725"  fill="rgb(124 90 141)">:</text><text x="342" y="725"  fill="rgb(123 90 140)"> </text><text x="345" y="725"  fill="rgb(124 91 140)">str</text><text x="354" y="725"  fill="rgb(125 92 140)">in</text><text x="360" y="725"  fill="rgb(125 93 141)">g</text><text x="363" y="725"  fill="rgb(125 93 140)"> =</text><text x="369" y="725"  fill="rgb(125 93 141)"> </text><text x="372" y="725"  fill="rgb(126 94 141)">s</text><text x="375" y="725"  fill="rgb(125 94 141)">k</text><text x="378" y="725"  fill="rgb(126 95 142)">ey[</text><text x="387" y="725"  fill="rgb(126 95 141)">1</text><text x="390" y="725"  fill="rgb(127 96 142)">]</text><text x="393" y="725"  fill="rgb(128 97 143)">;</text><text x="396" y="725"  fill="rgb(127 96 142)"> </text><text x="399" y="725"  fill="rgb(118 89 135)">l</text><text x="402" y="725"  fill="rgb(116 87 133)">e</text><text x="405" y="725"  fill="rgb(114 86 130)">t</text><text x="408" y="725"  fill="rgb(113 85 128)"> s</text><text x="414" y="725"  fill="rgb(112 85 127)">t</text><text x="417" y="725"  fill="rgb(111 85 126)">r</text><text x="420" y="725"  fill="rgb(112 86 126)">:</text><text x="423" y="725"  fill="rgb(112 86 127)"> </text><text x="426" y="725"  fill="rgb(111 85 126)">a</text><text x="429" y="725"  fill="rgb(111 84 125)">n</text><text x="432" y="725"  fill="rgb(111 85 126)">y</text><text x="435" y="725"  fill="rgb(112 85 126)"> =</text><text x="441" y="725"  fill="rgb(111 85 125)"> </text><text x="444" y="725"  fill="rgb(111 84 125)">O</text><text x="447" y="725"  fill="rgb(111 84 124)">bje</text><text x="456" y="725"  fill="rgb(110 83 124)">c</text><text x="459" y="725"  fill="rgb(110 83 123)">t.v</text><text x="468" y="725"  fill="rgb(110 83 124)">a</text><text x="471" y="725"  fill="rgb(110 83 122)">lu</text><text x="477" y="725"  fill="rgb(109 82 122)">e</text><text x="480" y="725"  fill="rgb(109 83 122)">s</text><text x="483" y="725"  fill="rgb(110 85 123)">(</text><text x="486" y="725"  fill="rgb(113 88 126)">v</text><text x="489" y="725"  fill="rgb(100 73 115)">a</text><text x="492" y="725"  fill="rgb(78 49 91)">l</text><text x="495" y="725"  fill="rgb(74 45 87)">u</text><text x="498" y="725"  fill="rgb(78 50 91)">e</text><text x="501" y="725"  fill="rgb(78 49 91)">)</text><text x="504" y="725"  fill="rgb(78 49 90)">[0]</text><text x="513" y="725"  fill="rgb(78 50 91)">; i</text><text x="522" y="725"  fill="rgb(78 50 90)">f</text><text x="525" y="725"  fill="rgb(78 51 91)"> </text><text x="528" y="725"  fill="rgb(77 50 89)">(</text><text x="531" y="725"  fill="rgb(77 48 87)">t</text><text x="534" y="725"  fill="rgb(81 54 92)">y</text><text x="537" y="725"  fill="rgb(89 64 100)">p</text><text x="540" y="725"  fill="rgb(92 67 103)">e</text><text x="543" y="725"  fill="rgb(91 66 102)">o</text><text x="546" y="725"  fill="rgb(89 65 100)">f </text><text x="552" y="725"  fill="rgb(89 65 101)">st</text><text x="558" y="725"  fill="rgb(89 65 100)">r</text><text x="561" y="725"  fill="rgb(89 65 101)"> </text><text x="564" y="725"  fill="rgb(89 65 100)">!==</text><text x="573" y="725"  fill="rgb(89 64 100)"> </text><text x="576" y="725"  fill="rgb(89 65 100)">&quot;s</text><text x="582" y="725"  fill="rgb(89 64 100)">tr</text><text x="588" y="725"  fill="rgb(89 64 99)">ing</text><text x="597" y="725"  fill="rgb(87 63 99)">&quot;</text><text x="600" y="725"  fill="rgb(85 60 96)">) </text><text x="606" y="725"  fill="rgb(99 75 109)">{</text><text x="609" y="725"  fill="rgb(120 97 128)"> </text><text x="612" y="725"  fill="rgb(124 104 134)">t</text><text x="615" y="725"  fill="rgb(120 99 130)">h</text><text x="618" y="725"  fill="rgb(118 96 127)">r</text><text x="621" y="725"  fill="rgb(117 96 127)">o</text><text x="624" y="725"  fill="rgb(117 95 126)">w</text><text x="627" y="725"  fill="rgb(116 95 126)"> </text><text x="630" y="725"  fill="rgb(116 94 126)">ne</text><text x="636" y="725"  fill="rgb(115 93 125)">w </text><text x="642" y="725"  fill="rgb(114 92 125)">I</text><text x="645" y="725"  fill="rgb(113 91 125)">n</text><text x="648" y="725"  fill="rgb(113 90 123)">s</text><text x="651" y="725"  fill="rgb(114 91 124)">i</text><text x="654" y="725"  fill="rgb(113 90 123)">g</text><text x="657" y="725"  fill="rgb(112 89 123)">h</text><text x="660" y="725"  fill="rgb(111 89 122)">t</text><text x="663" y="725"  fill="rgb(112 88 122)">E</text><text x="666" y="725"  fill="rgb(111 88 122)">r</text><text x="669" y="725"  fill="rgb(111 87 121)">r</text><text x="672" y="725"  fill="rgb(110 86 121)">o</text><text x="675" y="725"  fill="rgb(110 86 120)">r()</text><text x="684" y="725"  fill="rgb(109 85 120)">; </text><text x="690" y="725"  fill="rgb(108 84 118)">}</text><text x="693" y="725"  fill="rgb(108 84 119)"> </text><text x="696" y="725"  fill="rgb(107 83 118)">e</text><text x="699" y="725"  fill="rgb(107 83 117)">l</text><text x="702" y="725"  fill="rgb(106 82 117)">se</text><text x="708" y="725"  fill="rgb(105 81 117)"> { </text><text x="717" y="725"  fill="rgb(105 79 116)">i</text><text x="720" y="725"  fill="rgb(105 80 116)">f</text><text x="723" y="725"  fill="rgb(104 78 115)"> </text><text x="726" y="725"  fill="rgb(103 79 115)">(</text><text x="729" y="725"  fill="rgb(114 89 127)">(</text><text x="732" y="725"  fill="rgb(119 93 131)">s</text><text x="735" y="725"  fill="rgb(118 92 129)">tr</text><text x="741" y="725"  fill="rgb(117 91 129)">.s</text><text x="747" y="725"  fill="rgb(115 90 129)">l</text><text x="750" y="725"  fill="rgb(115 89 128)">i</text><text x="753" y="725"  fill="rgb(115 89 129)">ce</text><text x="759" y="725"  fill="rgb(115 88 127)">(</text><text x="762" y="725"  fill="rgb(114 87 127)">1, </text><text x="771" y="725"  fill="rgb(113 86 127)">-1</text><text x="777" y="725"  fill="rgb(112 86 126)">)</text><text x="780" y="725"  fill="rgb(111 85 125)">.i</text><text x="786" y="725"  fill="rgb(111 84 124)">nc</text><text x="792" y="725"  fill="rgb(110 83 125)">l</text><text x="795" y="725"  fill="rgb(110 83 124)">ud</text><text x="801" y="725"  fill="rgb(110 82 124)">e</text><text x="804" y="725"  fill="rgb(110 82 123)">s(</text><text x="810" y="725"  fill="rgb(110 81 122)">&quot;</text><text x="813" y="725"  fill="rgb(109 80 122)">*&quot;</text><text x="819" y="725"  fill="rgb(108 80 122)">))</text><text x="825" y="725"  fill="rgb(108 79 121)"> </text><text x="828" y="725"  fill="rgb(109 80 122)">|</text><text x="831" y="725"  fill="rgb(106 76 119)">|</text><text x="834" y="725"  fill="rgb(101 70 115)"> </text><text x="837" y="725"  fill="rgb(106 75 120)">!</text><text x="840" y="725"  fill="rgb(127 105 139)">t</text><text x="843" y="725"  fill="rgb(140 122 149)">h</text><text x="846" y="725"  fill="rgb(125 103 135)">i</text><text x="849" y="725"  fill="rgb(196 189 201)">s</text><text x="852" y="725"  fill="rgb(250 251 250)">.</text><text x="855" y="725"  fill="rgb(246 246 246)">v</text><text x="858" y="725"  fill="rgb(245 245 245)">alidateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } privat</text><text x="0" y="730"  fill="rgb(245 245 245)">e validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { thr</text><text x="324" y="730"  fill="rgb(248 249 247)">o</text><text x="327" y="730"  fill="rgb(208 197 214)">w</text><text x="330" y="730"  fill="rgb(157 131 170)"> </text><text x="333" y="730"  fill="rgb(133 102 151)">n</text><text x="336" y="730"  fill="rgb(114 77 132)">e</text><text x="339" y="730"  fill="rgb(118 83 136)">w</text><text x="342" y="730"  fill="rgb(122 88 140)"> </text><text x="345" y="730"  fill="rgb(123 89 141)">I</text><text x="348" y="730"  fill="rgb(123 89 140)">n</text><text x="351" y="730"  fill="rgb(123 90 140)">s</text><text x="354" y="730"  fill="rgb(124 91 140)">ig</text><text x="360" y="730"  fill="rgb(124 91 139)">h</text><text x="363" y="730"  fill="rgb(125 92 140)">tE</text><text x="369" y="730"  fill="rgb(125 93 141)">rr</text><text x="375" y="730"  fill="rgb(124 93 141)">o</text><text x="378" y="730"  fill="rgb(125 93 140)">r</text><text x="381" y="730"  fill="rgb(126 94 141)">();</text><text x="390" y="730"  fill="rgb(126 95 140)"> </text><text x="393" y="730"  fill="rgb(127 96 142)">}</text><text x="396" y="730"  fill="rgb(126 95 141)"> </text><text x="399" y="730"  fill="rgb(118 87 134)">l</text><text x="402" y="730"  fill="rgb(116 86 133)">e</text><text x="405" y="730"  fill="rgb(114 86 129)">t</text><text x="408" y="730"  fill="rgb(112 84 127)"> m</text><text x="414" y="730"  fill="rgb(113 85 127)">ke</text><text x="420" y="730"  fill="rgb(112 85 126)">y</text><text x="423" y="730"  fill="rgb(111 85 126)">: st</text><text x="435" y="730"  fill="rgb(112 85 126)">ri</text><text x="441" y="730"  fill="rgb(111 84 125)">n</text><text x="444" y="730"  fill="rgb(111 84 124)">g</text><text x="447" y="730"  fill="rgb(111 85 126)">[</text><text x="450" y="730"  fill="rgb(111 84 125)">]</text><text x="453" y="730"  fill="rgb(110 83 124)"> =</text><text x="459" y="730"  fill="rgb(111 84 124)"> </text><text x="462" y="730"  fill="rgb(110 83 123)">Ob</text><text x="468" y="730"  fill="rgb(110 83 124)">j</text><text x="471" y="730"  fill="rgb(110 83 123)">ect</text><text x="480" y="730"  fill="rgb(110 83 122)">.</text><text x="483" y="730"  fill="rgb(109 83 122)">ke</text><text x="489" y="730"  fill="rgb(114 89 126)">y</text><text x="492" y="730"  fill="rgb(104 79 118)">s</text><text x="495" y="730"  fill="rgb(82 53 94)">(</text><text x="498" y="730"  fill="rgb(73 44 86)">v</text><text x="501" y="730"  fill="rgb(77 50 92)">a</text><text x="504" y="730"  fill="rgb(78 51 92)">l</text><text x="507" y="730"  fill="rgb(78 50 91)">ue)[0</text><text x="522" y="730"  fill="rgb(78 51 91)">]</text><text x="525" y="730"  fill="rgb(77 48 89)">.</text><text x="528" y="730"  fill="rgb(76 48 88)">s</text><text x="531" y="730"  fill="rgb(84 57 96)">p</text><text x="534" y="730"  fill="rgb(93 67 104)">l</text><text x="537" y="730"  fill="rgb(93 68 104)">i</text><text x="540" y="730"  fill="rgb(91 66 102)">t</text><text x="543" y="730"  fill="rgb(91 66 103)">(</text><text x="546" y="730"  fill="rgb(90 65 102)">&quot;</text><text x="549" y="730"  fill="rgb(91 66 103)">_&quot;</text><text x="555" y="730"  fill="rgb(91 66 102)">)</text><text x="558" y="730"  fill="rgb(90 65 101)">;</text><text x="561" y="730"  fill="rgb(90 65 102)"> </text><text x="564" y="730"  fill="rgb(90 67 101)">i</text><text x="567" y="730"  fill="rgb(90 66 101)">f</text><text x="570" y="730"  fill="rgb(89 65 101)"> </text><text x="573" y="730"  fill="rgb(90 66 101)">(</text><text x="576" y="730"  fill="rgb(90 66 100)">m</text><text x="579" y="730"  fill="rgb(89 65 100)">k</text><text x="582" y="730"  fill="rgb(89 64 100)">e</text><text x="585" y="730"  fill="rgb(89 65 100)">y.</text><text x="591" y="730"  fill="rgb(89 66 100)">l</text><text x="594" y="730"  fill="rgb(89 64 100)">e</text><text x="597" y="730"  fill="rgb(88 64 100)">n</text><text x="600" y="730"  fill="rgb(89 64 100)">g</text><text x="603" y="730"  fill="rgb(88 63 99)">t</text><text x="606" y="730"  fill="rgb(84 59 94)">h</text><text x="609" y="730"  fill="rgb(90 67 100)"> </text><text x="612" y="730"  fill="rgb(111 89 120)">!</text><text x="615" y="730"  fill="rgb(124 103 134)">=</text><text x="618" y="730"  fill="rgb(123 101 132)">=</text><text x="621" y="730"  fill="rgb(119 96 128)"> </text><text x="624" y="730"  fill="rgb(118 96 128)">2</text><text x="627" y="730"  fill="rgb(117 95 127)">) </text><text x="633" y="730"  fill="rgb(116 94 126)">{ </text><text x="639" y="730"  fill="rgb(116 92 125)">thr</text><text x="648" y="730"  fill="rgb(114 90 125)">o</text><text x="651" y="730"  fill="rgb(113 90 124)">w</text><text x="654" y="730"  fill="rgb(114 91 124)"> </text><text x="657" y="730"  fill="rgb(113 90 123)">ne</text><text x="663" y="730"  fill="rgb(112 89 123)">w</text><text x="666" y="730"  fill="rgb(112 88 122)"> In</text><text x="675" y="730"  fill="rgb(111 87 122)">s</text><text x="678" y="730"  fill="rgb(110 86 121)">ig</text><text x="684" y="730"  fill="rgb(110 86 120)">h</text><text x="687" y="730"  fill="rgb(109 85 120)">t</text><text x="690" y="730"  fill="rgb(109 84 119)">Err</text><text x="699" y="730"  fill="rgb(108 83 119)">o</text><text x="702" y="730"  fill="rgb(108 83 118)">r</text><text x="705" y="730"  fill="rgb(108 83 119)">(</text><text x="708" y="730"  fill="rgb(107 82 118)">)</text><text x="711" y="730"  fill="rgb(106 81 117)">; </text><text x="717" y="730"  fill="rgb(105 80 117)">} </text><text x="723" y="730"  fill="rgb(105 79 116)">e</text><text x="726" y="730"  fill="rgb(104 79 115)">l</text><text x="729" y="730"  fill="rgb(115 90 127)">s</text><text x="732" y="730"  fill="rgb(120 95 132)">e</text><text x="735" y="730"  fill="rgb(119 93 131)"> </text><text x="738" y="730"  fill="rgb(118 92 130)">{</text><text x="741" y="730"  fill="rgb(117 91 129)"> </text><text x="744" y="730"  fill="rgb(117 90 129)">l</text><text x="747" y="730"  fill="rgb(117 90 130)">e</text><text x="750" y="730"  fill="rgb(116 89 129)">t</text><text x="753" y="730"  fill="rgb(115 88 129)"> i</text><text x="759" y="730"  fill="rgb(116 88 129)">d</text><text x="762" y="730"  fill="rgb(115 87 128)">st</text><text x="768" y="730"  fill="rgb(114 86 127)">r</text><text x="771" y="730"  fill="rgb(113 86 126)">i</text><text x="774" y="730"  fill="rgb(113 86 127)">ng</text><text x="780" y="730"  fill="rgb(112 86 126)">: </text><text x="786" y="730"  fill="rgb(111 85 125)">s</text><text x="789" y="730"  fill="rgb(111 84 125)">trin</text><text x="801" y="730"  fill="rgb(110 82 124)">g = </text><text x="813" y="730"  fill="rgb(110 80 122)">m</text><text x="816" y="730"  fill="rgb(109 80 123)">k</text><text x="819" y="730"  fill="rgb(109 80 122)">e</text><text x="822" y="730"  fill="rgb(108 80 123)">y[</text><text x="828" y="730"  fill="rgb(104 74 119)">0</text><text x="831" y="730"  fill="rgb(101 69 115)">]</text><text x="834" y="730"  fill="rgb(112 83 124)">;</text><text x="837" y="730"  fill="rgb(134 114 144)"> </text><text x="840" y="730"  fill="rgb(142 125 151)">l</text><text x="843" y="730"  fill="rgb(136 115 143)">e</text><text x="846" y="730"  fill="rgb(131 110 140)">t</text><text x="849" y="730"  fill="rgb(219 216 222)"> </text><text x="852" y="730"  fill="rgb(253 255 253)">m</text><text x="855" y="730"  fill="rgb(245 245 245)">field: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.</text><text x="0" y="735"  fill="rgb(245 245 245)">validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private vali</text><text x="324" y="735"  fill="rgb(248 249 247)">d</text><text x="327" y="735"  fill="rgb(228 222 231)">a</text><text x="330" y="735"  fill="rgb(164 140 177)">te</text><text x="336" y="735"  fill="rgb(143 114 158)">A</text><text x="339" y="735"  fill="rgb(119 83 136)">N</text><text x="342" y="735"  fill="rgb(115 78 133)">D</text><text x="345" y="735"  fill="rgb(120 86 138)">O</text><text x="348" y="735"  fill="rgb(124 89 140)">R</text><text x="351" y="735"  fill="rgb(123 90 139)">(</text><text x="354" y="735"  fill="rgb(122 90 140)">v</text><text x="357" y="735"  fill="rgb(123 89 140)">a</text><text x="360" y="735"  fill="rgb(123 90 140)">l</text><text x="363" y="735"  fill="rgb(124 91 140)">ue</text><text x="369" y="735"  fill="rgb(125 91 140)">:</text><text x="372" y="735"  fill="rgb(125 92 140)"> a</text><text x="378" y="735"  fill="rgb(124 92 140)">n</text><text x="381" y="735"  fill="rgb(125 93 140)">y</text><text x="384" y="735"  fill="rgb(124 92 140)">)</text><text x="387" y="735"  fill="rgb(125 93 140)">:</text><text x="390" y="735"  fill="rgb(126 94 141)"> </text><text x="393" y="735"  fill="rgb(126 95 141)">v</text><text x="396" y="735"  fill="rgb(126 94 141)">o</text><text x="399" y="735"  fill="rgb(119 88 136)">i</text><text x="402" y="735"  fill="rgb(116 85 132)">d</text><text x="405" y="735"  fill="rgb(114 85 130)"> </text><text x="408" y="735"  fill="rgb(114 84 129)">{</text><text x="411" y="735"  fill="rgb(113 85 129)"> </text><text x="414" y="735"  fill="rgb(112 84 128)">i</text><text x="417" y="735"  fill="rgb(113 85 128)">f</text><text x="420" y="735"  fill="rgb(113 85 127)"> </text><text x="423" y="735"  fill="rgb(113 85 128)">(</text><text x="426" y="735"  fill="rgb(113 85 127)">!</text><text x="429" y="735"  fill="rgb(112 85 126)">A</text><text x="432" y="735"  fill="rgb(112 84 126)">r</text><text x="435" y="735"  fill="rgb(111 84 126)">r</text><text x="438" y="735"  fill="rgb(112 85 126)">ay.</text><text x="447" y="735"  fill="rgb(111 83 124)">i</text><text x="450" y="735"  fill="rgb(111 84 124)">s</text><text x="453" y="735"  fill="rgb(111 84 125)">A</text><text x="456" y="735"  fill="rgb(111 84 124)">rray</text><text x="468" y="735"  fill="rgb(110 83 124)">(va</text><text x="477" y="735"  fill="rgb(110 83 123)">l</text><text x="480" y="735"  fill="rgb(109 82 122)">u</text><text x="483" y="735"  fill="rgb(110 84 122)">e</text><text x="486" y="735"  fill="rgb(109 83 122)">)</text><text x="489" y="735"  fill="rgb(109 82 122)"> </text><text x="492" y="735"  fill="rgb(114 88 126)">|</text><text x="495" y="735"  fill="rgb(108 82 122)">|</text><text x="498" y="735"  fill="rgb(86 57 99)"> </text><text x="501" y="735"  fill="rgb(73 45 86)">v</text><text x="504" y="735"  fill="rgb(76 49 91)">a</text><text x="507" y="735"  fill="rgb(79 51 92)">lue</text><text x="516" y="735"  fill="rgb(78 50 91)">.</text><text x="519" y="735"  fill="rgb(79 51 92)">l</text><text x="522" y="735"  fill="rgb(76 48 90)">e</text><text x="525" y="735"  fill="rgb(79 51 91)">n</text><text x="528" y="735"  fill="rgb(88 62 99)">g</text><text x="531" y="735"  fill="rgb(95 70 106)">t</text><text x="534" y="735"  fill="rgb(93 68 104)">h</text><text x="537" y="735"  fill="rgb(91 66 103)"> &lt; </text><text x="546" y="735"  fill="rgb(92 67 103)">1</text><text x="549" y="735"  fill="rgb(91 66 103)">)</text><text x="552" y="735"  fill="rgb(92 67 103)"> </text><text x="555" y="735"  fill="rgb(91 66 102)">{</text><text x="558" y="735"  fill="rgb(92 67 103)"> </text><text x="561" y="735"  fill="rgb(90 66 101)">t</text><text x="564" y="735"  fill="rgb(91 67 102)">h</text><text x="567" y="735"  fill="rgb(90 67 101)">r</text><text x="570" y="735"  fill="rgb(91 65 102)">ow</text><text x="576" y="735"  fill="rgb(90 65 100)"> </text><text x="579" y="735"  fill="rgb(89 65 100)">ne</text><text x="585" y="735"  fill="rgb(90 65 100)">w</text><text x="588" y="735"  fill="rgb(89 65 101)"> </text><text x="591" y="735"  fill="rgb(89 66 101)">I</text><text x="594" y="735"  fill="rgb(90 65 101)">ns</text><text x="600" y="735"  fill="rgb(89 65 100)">ig</text><text x="606" y="735"  fill="rgb(90 66 101)">h</text><text x="609" y="735"  fill="rgb(86 62 96)">t</text><text x="612" y="735"  fill="rgb(85 60 95)">E</text><text x="615" y="735"  fill="rgb(99 75 108)">r</text><text x="618" y="735"  fill="rgb(118 95 128)">r</text><text x="621" y="735"  fill="rgb(125 102 134)">o</text><text x="624" y="735"  fill="rgb(121 98 130)">r</text><text x="627" y="735"  fill="rgb(118 95 128)">(</text><text x="630" y="735"  fill="rgb(117 94 128)">)</text><text x="633" y="735"  fill="rgb(118 95 128)">;</text><text x="636" y="735"  fill="rgb(117 94 127)"> </text><text x="639" y="735"  fill="rgb(116 92 125)">}</text><text x="642" y="735"  fill="rgb(116 91 125)"> f</text><text x="648" y="735"  fill="rgb(115 91 125)">o</text><text x="651" y="735"  fill="rgb(114 90 125)">r (</text><text x="660" y="735"  fill="rgb(113 89 123)">l</text><text x="663" y="735"  fill="rgb(113 88 123)">e</text><text x="666" y="735"  fill="rgb(112 88 123)">t</text><text x="669" y="735"  fill="rgb(112 87 123)"> </text><text x="672" y="735"  fill="rgb(112 87 122)">inn</text><text x="681" y="735"  fill="rgb(110 86 121)">er</text><text x="687" y="735"  fill="rgb(110 86 122)">O</text><text x="690" y="735"  fill="rgb(110 86 121)">b</text><text x="693" y="735"  fill="rgb(110 84 119)">j</text><text x="696" y="735"  fill="rgb(109 84 119)">ect</text><text x="705" y="735"  fill="rgb(108 83 118)"> </text><text x="708" y="735"  fill="rgb(108 83 119)">o</text><text x="711" y="735"  fill="rgb(106 81 117)">f</text><text x="714" y="735"  fill="rgb(106 80 117)"> </text><text x="717" y="735"  fill="rgb(106 81 117)">v</text><text x="720" y="735"  fill="rgb(106 79 117)">a</text><text x="723" y="735"  fill="rgb(105 79 117)">l</text><text x="726" y="735"  fill="rgb(105 79 116)">u</text><text x="729" y="735"  fill="rgb(117 91 129)">e</text><text x="732" y="735"  fill="rgb(120 95 133)">)</text><text x="735" y="735"  fill="rgb(119 92 131)"> </text><text x="738" y="735"  fill="rgb(119 93 132)">{</text><text x="741" y="735"  fill="rgb(118 93 131)"> </text><text x="744" y="735"  fill="rgb(117 91 130)">t</text><text x="747" y="735"  fill="rgb(117 91 129)">h</text><text x="750" y="735"  fill="rgb(117 90 130)">i</text><text x="753" y="735"  fill="rgb(116 89 129)">s</text><text x="756" y="735"  fill="rgb(116 89 130)">.</text><text x="759" y="735"  fill="rgb(115 88 129)">v</text><text x="762" y="735"  fill="rgb(115 87 128)">ali</text><text x="771" y="735"  fill="rgb(114 86 128)">dat</text><text x="780" y="735"  fill="rgb(114 86 126)">e</text><text x="783" y="735"  fill="rgb(113 86 126)">Fi</text><text x="789" y="735"  fill="rgb(111 85 126)">lt</text><text x="795" y="735"  fill="rgb(111 84 125)">er</text><text x="801" y="735"  fill="rgb(110 83 124)">(in</text><text x="810" y="735"  fill="rgb(110 82 124)">n</text><text x="813" y="735"  fill="rgb(109 82 123)">e</text><text x="816" y="735"  fill="rgb(109 81 125)">r</text><text x="819" y="735"  fill="rgb(109 82 124)">O</text><text x="822" y="735"  fill="rgb(106 78 122)">b</text><text x="825" y="735"  fill="rgb(102 71 117)">j</text><text x="828" y="735"  fill="rgb(105 76 119)">e</text><text x="831" y="735"  fill="rgb(123 100 134)">c</text><text x="834" y="735"  fill="rgb(143 125 150)">t</text><text x="837" y="735"  fill="rgb(144 127 151)">)</text><text x="840" y="735"  fill="rgb(139 122 148)">;</text><text x="843" y="735"  fill="rgb(131 110 140)"> </text><text x="846" y="735"  fill="rgb(149 133 157)">}</text><text x="849" y="735"  fill="rgb(235 233 236)"> </text><text x="852" y="735"  fill="rgb(251 253 251)">}</text><text x="855" y="735"  fill="rgb(245 245 245)"> private validateIdstring(idstring: string): boolean { if (this.idInQuery.length === 0) { for (let insig</text><text x="0" y="740"  fill="rgb(245 245 245)">htDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); </text><text x="324" y="740"  fill="rgb(247 248 247)">i</text><text x="327" y="740"  fill="rgb(242 241 243)">f</text><text x="330" y="740"  fill="rgb(176 154 186)"> </text><text x="333" y="740"  fill="rgb(156 131 170)">(</text><text x="336" y="740"  fill="rgb(168 145 180)">i</text><text x="339" y="740"  fill="rgb(156 129 170)">n</text><text x="342" y="740"  fill="rgb(132 100 149)">s</text><text x="345" y="740"  fill="rgb(118 81 134)">i</text><text x="348" y="740"  fill="rgb(116 80 135)">g</text><text x="351" y="740"  fill="rgb(121 86 138)">h</text><text x="354" y="740"  fill="rgb(122 87 138)">t</text><text x="357" y="740"  fill="rgb(122 88 139)">D</text><text x="360" y="740"  fill="rgb(122 89 140)">a</text><text x="363" y="740"  fill="rgb(122 89 139)">t</text><text x="366" y="740"  fill="rgb(123 89 140)">as</text><text x="372" y="740"  fill="rgb(123 90 140)">e</text><text x="375" y="740"  fill="rgb(124 90 139)">t</text><text x="378" y="740"  fill="rgb(124 91 140)">.</text><text x="381" y="740"  fill="rgb(123 91 140)">k</text><text x="384" y="740"  fill="rgb(124 92 140)">in</text><text x="390" y="740"  fill="rgb(125 93 140)">d</text><text x="393" y="740"  fill="rgb(125 93 141)"> =</text><text x="399" y="740"  fill="rgb(120 88 136)">=</text><text x="402" y="740"  fill="rgb(117 86 133)">=</text><text x="405" y="740"  fill="rgb(115 85 131)"> </text><text x="408" y="740"  fill="rgb(114 83 130)">In</text><text x="414" y="740"  fill="rgb(113 84 130)">s</text><text x="417" y="740"  fill="rgb(112 84 129)">i</text><text x="420" y="740"  fill="rgb(112 84 128)">gh</text><text x="426" y="740"  fill="rgb(112 84 127)">tD</text><text x="432" y="740"  fill="rgb(112 83 127)">at</text><text x="438" y="740"  fill="rgb(111 83 126)">a</text><text x="441" y="740"  fill="rgb(111 84 126)">s</text><text x="444" y="740"  fill="rgb(111 85 126)">e</text><text x="447" y="740"  fill="rgb(112 84 125)">t</text><text x="450" y="740"  fill="rgb(111 84 124)">K</text><text x="453" y="740"  fill="rgb(111 84 125)">in</text><text x="459" y="740"  fill="rgb(111 84 124)">d.C</text><text x="468" y="740"  fill="rgb(110 83 124)">ours</text><text x="480" y="740"  fill="rgb(110 83 123)">e</text><text x="483" y="740"  fill="rgb(109 82 122)">s) </text><text x="492" y="740"  fill="rgb(109 82 121)">{</text><text x="495" y="740"  fill="rgb(113 87 126)"> </text><text x="498" y="740"  fill="rgb(112 87 125)">t</text><text x="501" y="740"  fill="rgb(90 63 104)">h</text><text x="504" y="740"  fill="rgb(74 45 87)">i</text><text x="507" y="740"  fill="rgb(77 48 89)">s</text><text x="510" y="740"  fill="rgb(79 51 92)">.m</text><text x="516" y="740"  fill="rgb(78 50 91)">f</text><text x="519" y="740"  fill="rgb(76 48 89)">i</text><text x="522" y="740"  fill="rgb(83 56 95)">e</text><text x="525" y="740"  fill="rgb(92 68 103)">l</text><text x="528" y="740"  fill="rgb(95 71 106)">d</text><text x="531" y="740"  fill="rgb(94 69 104)">s</text><text x="534" y="740"  fill="rgb(92 67 103)"> </text><text x="537" y="740"  fill="rgb(93 68 104)">=</text><text x="540" y="740"  fill="rgb(92 67 104)"> </text><text x="543" y="740"  fill="rgb(92 67 103)">th</text><text x="549" y="740"  fill="rgb(92 67 102)">i</text><text x="552" y="740"  fill="rgb(92 67 103)">s.co</text><text x="564" y="740"  fill="rgb(92 66 103)">u</text><text x="567" y="740"  fill="rgb(92 67 103)">rs</text><text x="573" y="740"  fill="rgb(91 67 102)">e</text><text x="576" y="740"  fill="rgb(91 66 103)">m</text><text x="579" y="740"  fill="rgb(91 66 102)">f</text><text x="582" y="740"  fill="rgb(91 66 103)">i</text><text x="585" y="740"  fill="rgb(90 65 101)">e</text><text x="588" y="740"  fill="rgb(91 66 101)">l</text><text x="591" y="740"  fill="rgb(90 65 100)">d</text><text x="594" y="740"  fill="rgb(90 66 101)">s; t</text><text x="606" y="740"  fill="rgb(90 66 100)">h</text><text x="609" y="740"  fill="rgb(91 67 101)">i</text><text x="612" y="740"  fill="rgb(87 63 98)">s</text><text x="615" y="740"  fill="rgb(83 58 93)">.</text><text x="618" y="740"  fill="rgb(90 65 100)">s</text><text x="621" y="740"  fill="rgb(109 86 119)">f</text><text x="624" y="740"  fill="rgb(122 100 132)">i</text><text x="627" y="740"  fill="rgb(123 101 133)">e</text><text x="630" y="740"  fill="rgb(119 96 129)">l</text><text x="633" y="740"  fill="rgb(118 95 128)">d</text><text x="636" y="740"  fill="rgb(117 94 128)">s </text><text x="642" y="740"  fill="rgb(116 93 126)">=</text><text x="645" y="740"  fill="rgb(115 92 126)"> </text><text x="648" y="740"  fill="rgb(116 91 125)">t</text><text x="651" y="740"  fill="rgb(115 91 125)">hi</text><text x="657" y="740"  fill="rgb(114 90 125)">s</text><text x="660" y="740"  fill="rgb(114 90 124)">.</text><text x="663" y="740"  fill="rgb(113 89 124)">c</text><text x="666" y="740"  fill="rgb(112 88 124)">o</text><text x="669" y="740"  fill="rgb(112 88 123)">u</text><text x="672" y="740"  fill="rgb(112 87 122)">rse</text><text x="681" y="740"  fill="rgb(111 87 122)">s</text><text x="684" y="740"  fill="rgb(110 86 121)">fi</text><text x="690" y="740"  fill="rgb(110 86 122)">e</text><text x="693" y="740"  fill="rgb(110 86 120)">l</text><text x="696" y="740"  fill="rgb(109 85 120)">d</text><text x="699" y="740"  fill="rgb(109 84 119)">s; }</text><text x="711" y="740"  fill="rgb(107 82 117)"> e</text><text x="717" y="740"  fill="rgb(106 81 117)">ls</text><text x="723" y="740"  fill="rgb(105 80 117)">e</text><text x="726" y="740"  fill="rgb(105 79 117)"> </text><text x="729" y="740"  fill="rgb(117 90 128)">{</text><text x="732" y="740"  fill="rgb(120 94 133)"> </text><text x="735" y="740"  fill="rgb(119 93 132)">t</text><text x="738" y="740"  fill="rgb(119 92 132)">h</text><text x="741" y="740"  fill="rgb(118 92 131)">i</text><text x="744" y="740"  fill="rgb(117 91 130)">s.m</text><text x="753" y="740"  fill="rgb(116 90 129)">f</text><text x="756" y="740"  fill="rgb(116 89 129)">ie</text><text x="762" y="740"  fill="rgb(115 88 129)">l</text><text x="765" y="740"  fill="rgb(115 87 129)">ds </text><text x="774" y="740"  fill="rgb(114 86 128)">= t</text><text x="783" y="740"  fill="rgb(113 86 126)">h</text><text x="786" y="740"  fill="rgb(112 86 126)">i</text><text x="789" y="740"  fill="rgb(113 86 126)">s</text><text x="792" y="740"  fill="rgb(112 85 126)">.ro</text><text x="801" y="740"  fill="rgb(111 84 125)">o</text><text x="804" y="740"  fill="rgb(110 83 124)">m</text><text x="807" y="740"  fill="rgb(110 83 125)">mf</text><text x="813" y="740"  fill="rgb(110 83 124)">i</text><text x="816" y="740"  fill="rgb(108 79 122)">e</text><text x="819" y="740"  fill="rgb(104 73 119)">l</text><text x="822" y="740"  fill="rgb(105 75 120)">d</text><text x="825" y="740"  fill="rgb(118 92 130)">s</text><text x="828" y="740"  fill="rgb(138 120 147)">;</text><text x="831" y="740"  fill="rgb(147 132 155)"> </text><text x="834" y="740"  fill="rgb(144 128 152)">t</text><text x="837" y="740"  fill="rgb(139 122 148)">h</text><text x="840" y="740"  fill="rgb(140 123 149)">i</text><text x="843" y="740"  fill="rgb(126 105 135)">s</text><text x="846" y="740"  fill="rgb(174 162 179)">.</text><text x="849" y="740"  fill="rgb(246 247 246)">s</text><text x="852" y="740"  fill="rgb(248 249 248)">f</text><text x="855" y="740"  fill="rgb(245 245 245)">ields = this.roomsfields; } return true; } } return false; } else { return this.idInQuery.includes(idstr</text><text x="0" y="745"  fill="rgb(245 245 245)">ing); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatase</text><text x="324" y="745"  fill="rgb(246 246 246)">t</text><text x="327" y="745"  fill="rgb(248 249 248)">K</text><text x="330" y="745"  fill="rgb(203 189 209)">i</text><text x="333" y="745"  fill="rgb(149 121 164)">n</text><text x="336" y="745"  fill="rgb(162 138 175)">d</text><text x="339" y="745"  fill="rgb(166 143 179)">,</text><text x="342" y="745"  fill="rgb(165 140 177)"> </text><text x="345" y="745"  fill="rgb(152 123 165)">I</text><text x="348" y="745"  fill="rgb(131 99 147)">n</text><text x="351" y="745"  fill="rgb(119 82 137)">s</text><text x="354" y="745"  fill="rgb(116 79 133)">i</text><text x="357" y="745"  fill="rgb(119 83 136)">g</text><text x="360" y="745"  fill="rgb(121 86 138)">h</text><text x="363" y="745"  fill="rgb(122 87 140)">t</text><text x="366" y="745"  fill="rgb(123 89 140)">E</text><text x="369" y="745"  fill="rgb(122 89 140)">r</text><text x="372" y="745"  fill="rgb(122 88 139)">r</text><text x="375" y="745"  fill="rgb(123 89 140)">o</text><text x="378" y="745"  fill="rgb(123 89 139)">r</text><text x="381" y="745"  fill="rgb(124 91 140)">}</text><text x="384" y="745"  fill="rgb(123 92 140)"> </text><text x="387" y="745"  fill="rgb(123 91 140)">fr</text><text x="393" y="745"  fill="rgb(124 92 140)">o</text><text x="396" y="745"  fill="rgb(124 92 141)">m</text><text x="399" y="745"  fill="rgb(119 87 136)"> </text><text x="402" y="745"  fill="rgb(118 86 134)">&quot;</text><text x="405" y="745"  fill="rgb(115 85 132)">.</text><text x="408" y="745"  fill="rgb(113 83 129)">/IIn</text><text x="420" y="745"  fill="rgb(112 83 129)">si</text><text x="426" y="745"  fill="rgb(112 84 128)">ghtF</text><text x="438" y="745"  fill="rgb(111 83 127)">a</text><text x="441" y="745"  fill="rgb(111 83 126)">ca</text><text x="447" y="745"  fill="rgb(111 84 126)">de&quot;</text><text x="456" y="745"  fill="rgb(111 84 125)">; </text><text x="462" y="745"  fill="rgb(110 83 124)">e</text><text x="465" y="745"  fill="rgb(111 84 125)">xp</text><text x="471" y="745"  fill="rgb(110 83 124)">ort </text><text x="483" y="745"  fill="rgb(110 83 123)">d</text><text x="486" y="745"  fill="rgb(110 82 122)">e</text><text x="489" y="745"  fill="rgb(109 82 122)">fa</text><text x="495" y="745"  fill="rgb(109 83 122)">u</text><text x="498" y="745"  fill="rgb(112 87 125)">l</text><text x="501" y="745"  fill="rgb(112 88 126)">t</text><text x="504" y="745"  fill="rgb(95 69 109)"> </text><text x="507" y="745"  fill="rgb(78 50 91)">c</text><text x="510" y="745"  fill="rgb(76 47 89)">l</text><text x="513" y="745"  fill="rgb(77 49 90)">a</text><text x="516" y="745"  fill="rgb(79 51 92)">s</text><text x="519" y="745"  fill="rgb(86 59 98)">s</text><text x="522" y="745"  fill="rgb(94 71 105)"> </text><text x="525" y="745"  fill="rgb(95 72 107)">Q</text><text x="528" y="745"  fill="rgb(93 69 105)">ue</text><text x="534" y="745"  fill="rgb(93 68 104)">ryVali</text><text x="552" y="745"  fill="rgb(93 67 104)">d</text><text x="555" y="745"  fill="rgb(93 67 103)">at</text><text x="561" y="745"  fill="rgb(92 67 103)">o</text><text x="564" y="745"  fill="rgb(93 68 103)">r</text><text x="567" y="745"  fill="rgb(92 67 103)"> {</text><text x="573" y="745"  fill="rgb(91 67 103)"> </text><text x="576" y="745"  fill="rgb(92 68 103)">p</text><text x="579" y="745"  fill="rgb(92 67 103)">riv</text><text x="588" y="745"  fill="rgb(91 66 102)">a</text><text x="591" y="745"  fill="rgb(91 67 102)">te re</text><text x="606" y="745"  fill="rgb(91 67 101)">ado</text><text x="615" y="745"  fill="rgb(89 66 100)">n</text><text x="618" y="745"  fill="rgb(86 62 97)">l</text><text x="621" y="745"  fill="rgb(85 61 96)">y</text><text x="624" y="745"  fill="rgb(97 74 107)"> </text><text x="627" y="745"  fill="rgb(114 91 124)">c</text><text x="630" y="745"  fill="rgb(123 100 133)">o</text><text x="633" y="745"  fill="rgb(121 98 131)">u</text><text x="636" y="745"  fill="rgb(117 94 129)">r</text><text x="639" y="745"  fill="rgb(117 94 128)">se</text><text x="645" y="745"  fill="rgb(117 93 127)">m</text><text x="648" y="745"  fill="rgb(116 92 126)">f</text><text x="651" y="745"  fill="rgb(116 92 125)">i</text><text x="654" y="745"  fill="rgb(115 91 125)">eld</text><text x="663" y="745"  fill="rgb(113 89 125)">s:</text><text x="669" y="745"  fill="rgb(113 89 124)"> </text><text x="672" y="745"  fill="rgb(112 88 124)">s</text><text x="675" y="745"  fill="rgb(112 87 123)">t</text><text x="678" y="745"  fill="rgb(112 87 122)">r</text><text x="681" y="745"  fill="rgb(111 87 122)">in</text><text x="687" y="745"  fill="rgb(111 86 121)">g[</text><text x="693" y="745"  fill="rgb(111 86 122)">]</text><text x="696" y="745"  fill="rgb(110 86 121)"> </text><text x="699" y="745"  fill="rgb(109 85 120)">= </text><text x="705" y="745"  fill="rgb(109 84 119)">[</text><text x="708" y="745"  fill="rgb(109 84 120)">&quot;</text><text x="711" y="745"  fill="rgb(109 84 119)">a</text><text x="714" y="745"  fill="rgb(108 82 118)">vg</text><text x="720" y="745"  fill="rgb(107 82 117)">&quot;</text><text x="723" y="745"  fill="rgb(106 80 116)">,</text><text x="726" y="745"  fill="rgb(107 81 117)"> </text><text x="729" y="745"  fill="rgb(119 92 130)">&quot;</text><text x="732" y="745"  fill="rgb(121 94 134)">p</text><text x="735" y="745"  fill="rgb(120 93 133)">a</text><text x="738" y="745"  fill="rgb(119 92 132)">ss</text><text x="744" y="745"  fill="rgb(118 91 131)">&quot;, </text><text x="753" y="745"  fill="rgb(118 90 131)">&quot;</text><text x="756" y="745"  fill="rgb(117 89 130)">fai</text><text x="765" y="745"  fill="rgb(116 88 129)">l</text><text x="768" y="745"  fill="rgb(115 87 129)">&quot;, </text><text x="777" y="745"  fill="rgb(114 86 128)">&quot;au</text><text x="786" y="745"  fill="rgb(113 86 127)">di</text><text x="792" y="745"  fill="rgb(113 86 126)">t</text><text x="795" y="745"  fill="rgb(112 85 126)">&quot;,</text><text x="801" y="745"  fill="rgb(112 86 126)"> </text><text x="804" y="745"  fill="rgb(111 84 126)">&quot;</text><text x="807" y="745"  fill="rgb(109 81 124)">y</text><text x="810" y="745"  fill="rgb(108 79 123)">e</text><text x="813" y="745"  fill="rgb(105 75 120)">a</text><text x="816" y="745"  fill="rgb(107 79 122)">r</text><text x="819" y="745"  fill="rgb(121 95 132)">&quot;</text><text x="822" y="745"  fill="rgb(136 116 145)">]</text><text x="825" y="745"  fill="rgb(147 132 155)">;</text><text x="828" y="745"  fill="rgb(149 133 156)"> </text><text x="831" y="745"  fill="rgb(143 127 152)">p</text><text x="834" y="745"  fill="rgb(141 124 150)">r</text><text x="837" y="745"  fill="rgb(142 125 150)">i</text><text x="840" y="745"  fill="rgb(139 122 148)">v</text><text x="843" y="745"  fill="rgb(127 108 136)">a</text><text x="846" y="745"  fill="rgb(203 196 207)">t</text><text x="849" y="745"  fill="rgb(255 255 255)">e</text><text x="852" y="745"  fill="rgb(246 246 246)"> </text><text x="855" y="745"  fill="rgb(245 245 245)">readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roomm</text><text x="0" y="750"  fill="rgb(245 245 245)">fields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;</text><text x="327" y="750"  fill="rgb(251 253 250)">,</text><text x="330" y="750"  fill="rgb(228 222 230)"> </text><text x="333" y="750"  fill="rgb(156 129 171)">&quot;</text><text x="336" y="750"  fill="rgb(156 131 170)">n</text><text x="339" y="750"  fill="rgb(160 136 173)">u</text><text x="342" y="750"  fill="rgb(162 137 175)">m</text><text x="345" y="750"  fill="rgb(166 143 178)">b</text><text x="348" y="750"  fill="rgb(165 141 176)">e</text><text x="351" y="750"  fill="rgb(152 125 165)">r</text><text x="354" y="750"  fill="rgb(134 103 149)">&quot;</text><text x="357" y="750"  fill="rgb(121 86 137)"> </text><text x="360" y="750"  fill="rgb(116 79 133)">,</text><text x="363" y="750"  fill="rgb(115 79 133)"> </text><text x="366" y="750"  fill="rgb(118 82 137)">&quot;</text><text x="369" y="750"  fill="rgb(121 87 139)">n</text><text x="372" y="750"  fill="rgb(123 89 139)">a</text><text x="375" y="750"  fill="rgb(123 89 140)">me</text><text x="381" y="750"  fill="rgb(122 89 139)">&quot;</text><text x="384" y="750"  fill="rgb(123 90 140)">,</text><text x="387" y="750"  fill="rgb(123 91 140)"> &quot;</text><text x="393" y="750"  fill="rgb(124 92 140)">a</text><text x="396" y="750"  fill="rgb(124 92 141)">d</text><text x="399" y="750"  fill="rgb(119 87 136)">d</text><text x="402" y="750"  fill="rgb(117 86 133)">r</text><text x="405" y="750"  fill="rgb(116 85 132)">e</text><text x="408" y="750"  fill="rgb(113 83 131)">s</text><text x="411" y="750"  fill="rgb(113 83 129)">s&quot;,</text><text x="420" y="750"  fill="rgb(113 84 129)"> </text><text x="423" y="750"  fill="rgb(112 84 129)">&quot;t</text><text x="429" y="750"  fill="rgb(112 84 128)">yp</text><text x="435" y="750"  fill="rgb(112 84 129)">e</text><text x="438" y="750"  fill="rgb(112 84 128)">&quot;</text><text x="441" y="750"  fill="rgb(111 83 127)">,</text><text x="444" y="750"  fill="rgb(111 83 126)"> &quot;</text><text x="450" y="750"  fill="rgb(111 84 126)">fur</text><text x="459" y="750"  fill="rgb(110 84 126)">n</text><text x="462" y="750"  fill="rgb(110 83 125)">i</text><text x="465" y="750"  fill="rgb(111 84 126)">t</text><text x="468" y="750"  fill="rgb(111 84 125)">u</text><text x="471" y="750"  fill="rgb(110 83 124)">re&quot;, </text><text x="486" y="750"  fill="rgb(110 82 122)">&quot;</text><text x="489" y="750"  fill="rgb(109 82 122)">hr</text><text x="495" y="750"  fill="rgb(109 83 122)">e</text><text x="498" y="750"  fill="rgb(109 82 122)">f</text><text x="501" y="750"  fill="rgb(111 85 123)">&quot;</text><text x="504" y="750"  fill="rgb(113 88 126)">]</text><text x="507" y="750"  fill="rgb(100 74 114)">;</text><text x="510" y="750"  fill="rgb(76 47 90)"> </text><text x="513" y="750"  fill="rgb(73 45 86)">p</text><text x="516" y="750"  fill="rgb(90 65 102)">r</text><text x="519" y="750"  fill="rgb(97 74 108)">i</text><text x="522" y="750"  fill="rgb(94 71 107)">v</text><text x="525" y="750"  fill="rgb(94 70 106)">at</text><text x="531" y="750"  fill="rgb(93 69 105)">e read</text><text x="549" y="750"  fill="rgb(93 68 104)">o</text><text x="552" y="750"  fill="rgb(93 69 104)">nl</text><text x="558" y="750"  fill="rgb(93 69 103)">y </text><text x="564" y="750"  fill="rgb(93 69 104)">m</text><text x="567" y="750"  fill="rgb(93 68 104)">t</text><text x="570" y="750"  fill="rgb(92 67 103)">ok</text><text x="576" y="750"  fill="rgb(93 68 103)">e</text><text x="579" y="750"  fill="rgb(92 67 103)">n:</text><text x="585" y="750"  fill="rgb(92 68 103)"> stri</text><text x="600" y="750"  fill="rgb(91 67 102)">ng</text><text x="606" y="750"  fill="rgb(92 68 102)">[</text><text x="609" y="750"  fill="rgb(91 67 102)">]</text><text x="612" y="750"  fill="rgb(90 67 102)"> </text><text x="615" y="750"  fill="rgb(91 67 101)">=</text><text x="618" y="750"  fill="rgb(91 67 102)"> </text><text x="621" y="750"  fill="rgb(89 65 99)">[</text><text x="624" y="750"  fill="rgb(86 62 97)">&quot;</text><text x="627" y="750"  fill="rgb(89 65 100)">M</text><text x="630" y="750"  fill="rgb(103 79 113)">A</text><text x="633" y="750"  fill="rgb(119 95 129)">X</text><text x="636" y="750"  fill="rgb(123 100 134)">&quot;</text><text x="639" y="750"  fill="rgb(119 97 131)">,</text><text x="642" y="750"  fill="rgb(117 94 127)"> </text><text x="645" y="750"  fill="rgb(117 93 128)">&quot;</text><text x="648" y="750"  fill="rgb(117 93 127)">M</text><text x="651" y="750"  fill="rgb(116 92 126)">IN</text><text x="657" y="750"  fill="rgb(115 91 125)">&quot;, </text><text x="666" y="750"  fill="rgb(114 89 125)">&quot;</text><text x="669" y="750"  fill="rgb(113 89 125)">AV</text><text x="675" y="750"  fill="rgb(112 88 124)">G</text><text x="678" y="750"  fill="rgb(112 87 123)">&quot;</text><text x="681" y="750"  fill="rgb(111 87 122)">, &quot;</text><text x="690" y="750"  fill="rgb(111 86 122)">SU</text><text x="696" y="750"  fill="rgb(110 86 121)">M</text><text x="699" y="750"  fill="rgb(110 85 120)">&quot;</text><text x="702" y="750"  fill="rgb(109 85 120)">];</text><text x="708" y="750"  fill="rgb(109 83 119)"> </text><text x="711" y="750"  fill="rgb(109 83 120)">p</text><text x="714" y="750"  fill="rgb(109 82 119)">r</text><text x="717" y="750"  fill="rgb(108 81 118)">i</text><text x="720" y="750"  fill="rgb(108 81 119)">v</text><text x="723" y="750"  fill="rgb(107 80 117)">a</text><text x="726" y="750"  fill="rgb(108 81 118)">t</text><text x="729" y="750"  fill="rgb(119 92 132)">e</text><text x="732" y="750"  fill="rgb(122 95 135)"> </text><text x="735" y="750"  fill="rgb(120 93 133)">re</text><text x="741" y="750"  fill="rgb(119 92 132)">a</text><text x="744" y="750"  fill="rgb(118 91 131)">don</text><text x="753" y="750"  fill="rgb(118 90 131)">l</text><text x="756" y="750"  fill="rgb(117 89 130)">y m</text><text x="765" y="750"  fill="rgb(117 88 129)">s</text><text x="768" y="750"  fill="rgb(116 88 129)">t</text><text x="771" y="750"  fill="rgb(115 87 129)">ok</text><text x="777" y="750"  fill="rgb(114 86 128)">en:</text><text x="786" y="750"  fill="rgb(114 86 127)"> </text><text x="789" y="750"  fill="rgb(113 86 127)">s</text><text x="792" y="750"  fill="rgb(114 87 128)">t</text><text x="795" y="750"  fill="rgb(114 87 127)">r</text><text x="798" y="750"  fill="rgb(112 84 126)">i</text><text x="801" y="750"  fill="rgb(109 81 124)">n</text><text x="804" y="750"  fill="rgb(106 76 121)">g</text><text x="807" y="750"  fill="rgb(105 74 121)">[</text><text x="810" y="750"  fill="rgb(111 82 125)">]</text><text x="813" y="750"  fill="rgb(123 100 135)"> </text><text x="816" y="750"  fill="rgb(139 121 148)">=</text><text x="819" y="750"  fill="rgb(149 134 156)"> </text><text x="822" y="750"  fill="rgb(150 136 157)">[</text><text x="825" y="750"  fill="rgb(146 131 154)">&quot;</text><text x="828" y="750"  fill="rgb(144 128 152)">C</text><text x="831" y="750"  fill="rgb(143 127 151)">O</text><text x="834" y="750"  fill="rgb(143 126 151)">U</text><text x="837" y="750"  fill="rgb(144 127 151)">N</text><text x="840" y="750"  fill="rgb(134 115 143)">T</text><text x="843" y="750"  fill="rgb(142 124 149)">&quot;</text><text x="846" y="750"  fill="rgb(227 224 229)">]</text><text x="849" y="750"  fill="rgb(254 255 254)">;</text><text x="852" y="750"  fill="rgb(245 245 245)"> private idInQuery: string[]; // make sure the query only has one id private keysInQuery: string[]; // al</text><text x="0" y="755"  fill="rgb(245 245 245)">l keys appeared in columns after being validated private transformationKey: string[]; // keys appeared in tra</text><text x="327" y="755"  fill="rgb(248 250 248)">n</text><text x="330" y="755"  fill="rgb(245 245 245)">s</text><text x="333" y="755"  fill="rgb(181 161 191)">f</text><text x="336" y="755"  fill="rgb(148 118 163)">o</text><text x="339" y="755"  fill="rgb(160 137 174)">r</text><text x="342" y="755"  fill="rgb(160 135 173)">ma</text><text x="348" y="755"  fill="rgb(162 137 175)">t</text><text x="351" y="755"  fill="rgb(166 143 179)">i</text><text x="354" y="755"  fill="rgb(166 144 179)">o</text><text x="357" y="755"  fill="rgb(158 132 170)">n</text><text x="360" y="755"  fill="rgb(143 114 158)">,</text><text x="363" y="755"  fill="rgb(126 93 143)"> </text><text x="366" y="755"  fill="rgb(116 81 135)">i</text><text x="369" y="755"  fill="rgb(114 79 132)">f</text><text x="372" y="755"  fill="rgb(116 79 133)"> </text><text x="375" y="755"  fill="rgb(119 84 136)">t</text><text x="378" y="755"  fill="rgb(122 88 138)">h</text><text x="381" y="755"  fill="rgb(123 89 140)">er</text><text x="387" y="755"  fill="rgb(122 89 139)">e</text><text x="390" y="755"  fill="rgb(123 90 140)"> i</text><text x="396" y="755"  fill="rgb(125 92 141)">s</text><text x="399" y="755"  fill="rgb(120 88 136)"> </text><text x="402" y="755"  fill="rgb(118 86 133)">a</text><text x="405" y="755"  fill="rgb(117 85 132)"> </text><text x="408" y="755"  fill="rgb(114 83 131)">t</text><text x="411" y="755"  fill="rgb(115 83 131)">r</text><text x="414" y="755"  fill="rgb(113 83 131)">a</text><text x="417" y="755"  fill="rgb(113 83 129)">nsfo</text><text x="429" y="755"  fill="rgb(113 84 129)">rm</text><text x="435" y="755"  fill="rgb(112 84 128)">a</text><text x="438" y="755"  fill="rgb(111 84 129)">t</text><text x="441" y="755"  fill="rgb(111 83 128)">i</text><text x="444" y="755"  fill="rgb(111 83 127)">on</text><text x="450" y="755"  fill="rgb(111 83 126)"> p</text><text x="456" y="755"  fill="rgb(111 84 126)">ri</text><text x="462" y="755"  fill="rgb(110 83 126)">va</text><text x="468" y="755"  fill="rgb(111 83 125)">t</text><text x="471" y="755"  fill="rgb(111 84 126)">e</text><text x="474" y="755"  fill="rgb(110 83 125)"> </text><text x="477" y="755"  fill="rgb(110 83 124)">al</text><text x="483" y="755"  fill="rgb(110 83 123)">l</text><text x="486" y="755"  fill="rgb(110 82 123)">Ins</text><text x="495" y="755"  fill="rgb(109 82 122)">ig</text><text x="501" y="755"  fill="rgb(109 83 122)">h</text><text x="504" y="755"  fill="rgb(108 82 121)">t</text><text x="507" y="755"  fill="rgb(108 80 122)">D</text><text x="510" y="755"  fill="rgb(112 87 125)">a</text><text x="513" y="755"  fill="rgb(101 78 112)">t</text><text x="516" y="755"  fill="rgb(89 64 100)">a</text><text x="519" y="755"  fill="rgb(93 68 104)">s</text><text x="522" y="755"  fill="rgb(95 70 107)">e</text><text x="525" y="755"  fill="rgb(94 69 106)">t:</text><text x="531" y="755"  fill="rgb(94 70 106)"> Insi</text><text x="546" y="755"  fill="rgb(93 69 105)">ghtDa</text><text x="561" y="755"  fill="rgb(93 69 106)">t</text><text x="564" y="755"  fill="rgb(93 69 104)">a</text><text x="567" y="755"  fill="rgb(93 69 105)">s</text><text x="570" y="755"  fill="rgb(93 69 103)">et</text><text x="576" y="755"  fill="rgb(93 68 103)">[</text><text x="579" y="755"  fill="rgb(93 69 103)">]; pr</text><text x="594" y="755"  fill="rgb(92 68 103)">iv</text><text x="600" y="755"  fill="rgb(93 68 103)">a</text><text x="603" y="755"  fill="rgb(93 69 103)">t</text><text x="606" y="755"  fill="rgb(92 68 103)">e</text><text x="609" y="755"  fill="rgb(91 67 102)"> </text><text x="612" y="755"  fill="rgb(90 67 101)">m</text><text x="615" y="755"  fill="rgb(91 67 101)">f</text><text x="618" y="755"  fill="rgb(91 68 102)">i</text><text x="621" y="755"  fill="rgb(92 66 102)">e</text><text x="624" y="755"  fill="rgb(91 66 102)">l</text><text x="627" y="755"  fill="rgb(88 65 99)">d</text><text x="630" y="755"  fill="rgb(85 60 97)">s</text><text x="633" y="755"  fill="rgb(93 68 104)">:</text><text x="636" y="755"  fill="rgb(112 88 122)"> </text><text x="639" y="755"  fill="rgb(122 100 134)">s</text><text x="642" y="755"  fill="rgb(122 99 133)">t</text><text x="645" y="755"  fill="rgb(118 96 130)">r</text><text x="648" y="755"  fill="rgb(116 93 128)">in</text><text x="654" y="755"  fill="rgb(116 92 127)">g[</text><text x="660" y="755"  fill="rgb(115 91 126)">];</text><text x="666" y="755"  fill="rgb(115 90 125)"> p</text><text x="672" y="755"  fill="rgb(113 89 125)">r</text><text x="675" y="755"  fill="rgb(114 89 125)">i</text><text x="678" y="755"  fill="rgb(113 89 125)">v</text><text x="681" y="755"  fill="rgb(112 87 123)">a</text><text x="684" y="755"  fill="rgb(111 86 123)">t</text><text x="687" y="755"  fill="rgb(111 87 122)">e </text><text x="693" y="755"  fill="rgb(111 86 122)">sf</text><text x="699" y="755"  fill="rgb(110 86 121)">i</text><text x="702" y="755"  fill="rgb(110 85 121)">e</text><text x="705" y="755"  fill="rgb(110 84 120)">l</text><text x="708" y="755"  fill="rgb(110 83 120)">d</text><text x="711" y="755"  fill="rgb(109 83 120)">s:</text><text x="717" y="755"  fill="rgb(109 82 119)"> </text><text x="720" y="755"  fill="rgb(108 81 119)">s</text><text x="723" y="755"  fill="rgb(107 80 118)">t</text><text x="726" y="755"  fill="rgb(109 81 120)">r</text><text x="729" y="755"  fill="rgb(120 94 133)">i</text><text x="732" y="755"  fill="rgb(122 95 135)">n</text><text x="735" y="755"  fill="rgb(121 94 134)">g</text><text x="738" y="755"  fill="rgb(119 93 133)">[</text><text x="741" y="755"  fill="rgb(119 92 132)">];</text><text x="747" y="755"  fill="rgb(118 91 131)"> co</text><text x="756" y="755"  fill="rgb(118 90 131)">n</text><text x="759" y="755"  fill="rgb(116 89 130)">s</text><text x="762" y="755"  fill="rgb(117 89 130)">t</text><text x="765" y="755"  fill="rgb(117 89 131)">r</text><text x="768" y="755"  fill="rgb(116 88 130)">uc</text><text x="774" y="755"  fill="rgb(115 87 129)">to</text><text x="780" y="755"  fill="rgb(114 86 129)">r</text><text x="783" y="755"  fill="rgb(114 86 130)">(</text><text x="786" y="755"  fill="rgb(115 87 129)">i</text><text x="789" y="755"  fill="rgb(114 86 129)">n</text><text x="792" y="755"  fill="rgb(112 83 126)">s</text><text x="795" y="755"  fill="rgb(108 79 123)">i</text><text x="798" y="755"  fill="rgb(106 75 121)">g</text><text x="801" y="755"  fill="rgb(108 78 122)">h</text><text x="804" y="755"  fill="rgb(117 91 130)">t</text><text x="807" y="755"  fill="rgb(131 109 142)">D</text><text x="810" y="755"  fill="rgb(146 129 153)">a</text><text x="813" y="755"  fill="rgb(154 141 160)">t</text><text x="816" y="755"  fill="rgb(154 139 159)">a</text><text x="819" y="755"  fill="rgb(148 133 155)">s</text><text x="822" y="755"  fill="rgb(146 131 154)">e</text><text x="825" y="755"  fill="rgb(146 130 154)">t</text><text x="828" y="755"  fill="rgb(145 130 153)">s</text><text x="831" y="755"  fill="rgb(145 129 153)">:</text><text x="834" y="755"  fill="rgb(144 128 152)"> </text><text x="837" y="755"  fill="rgb(145 128 152)">I</text><text x="840" y="755"  fill="rgb(130 110 138)">n</text><text x="843" y="755"  fill="rgb(169 156 175)">s</text><text x="846" y="755"  fill="rgb(248 248 248)">i</text><text x="849" y="755"  fill="rgb(249 249 249)">g</text><text x="852" y="755"  fill="rgb(245 245 245)">htDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.allInsightDa</text><text x="0" y="760"  fill="rgb(245 245 245)">taset = insightDatasets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new Insi</text><text x="327" y="760"  fill="rgb(245 246 245)">g</text><text x="330" y="760"  fill="rgb(254 255 253)">h</text><text x="333" y="760"  fill="rgb(215 205 219)">t</text><text x="336" y="760"  fill="rgb(149 119 163)">E</text><text x="339" y="760"  fill="rgb(157 130 171)">r</text><text x="342" y="760"  fill="rgb(159 135 174)">r</text><text x="345" y="760"  fill="rgb(160 135 173)">or</text><text x="351" y="760"  fill="rgb(160 134 173)">(</text><text x="354" y="760"  fill="rgb(162 137 175)">)</text><text x="357" y="760"  fill="rgb(166 143 179)">;</text><text x="360" y="760"  fill="rgb(167 146 180)"> </text><text x="363" y="760"  fill="rgb(165 142 178)">}</text><text x="366" y="760"  fill="rgb(155 129 168)"> </text><text x="369" y="760"  fill="rgb(139 109 153)">f</text><text x="372" y="760"  fill="rgb(124 91 142)">o</text><text x="375" y="760"  fill="rgb(118 81 135)">r</text><text x="378" y="760"  fill="rgb(115 78 133)"> </text><text x="381" y="760"  fill="rgb(116 80 134)">(</text><text x="384" y="760"  fill="rgb(118 83 136)">l</text><text x="387" y="760"  fill="rgb(122 88 138)">e</text><text x="390" y="760"  fill="rgb(123 90 140)">t</text><text x="393" y="760"  fill="rgb(122 90 139)"> </text><text x="396" y="760"  fill="rgb(123 90 138)">k</text><text x="399" y="760"  fill="rgb(121 87 137)">e</text><text x="402" y="760"  fill="rgb(118 85 135)">y</text><text x="405" y="760"  fill="rgb(117 84 133)"> </text><text x="408" y="760"  fill="rgb(115 83 131)">o</text><text x="411" y="760"  fill="rgb(114 82 131)">f </text><text x="417" y="760"  fill="rgb(113 82 130)">Obje</text><text x="429" y="760"  fill="rgb(113 82 129)">ct.</text><text x="438" y="760"  fill="rgb(112 84 129)">k</text><text x="441" y="760"  fill="rgb(112 84 128)">e</text><text x="444" y="760"  fill="rgb(111 83 128)">ys(</text><text x="453" y="760"  fill="rgb(111 83 127)">q))</text><text x="462" y="760"  fill="rgb(110 82 126)"> {</text><text x="468" y="760"  fill="rgb(111 82 126)"> </text><text x="471" y="760"  fill="rgb(111 83 126)">i</text><text x="474" y="760"  fill="rgb(111 84 126)">f</text><text x="477" y="760"  fill="rgb(110 83 124)"> (key</text><text x="492" y="760"  fill="rgb(110 82 123)"> </text><text x="495" y="760"  fill="rgb(110 82 124)">!</text><text x="498" y="760"  fill="rgb(111 83 123)">=</text><text x="501" y="760"  fill="rgb(108 79 121)">=</text><text x="504" y="760"  fill="rgb(105 75 118)"> </text><text x="507" y="760"  fill="rgb(121 97 132)">&quot;</text><text x="510" y="760"  fill="rgb(144 125 154)">O</text><text x="513" y="760"  fill="rgb(142 123 152)">P</text><text x="516" y="760"  fill="rgb(110 87 122)">T</text><text x="519" y="760"  fill="rgb(88 62 100)">I</text><text x="522" y="760"  fill="rgb(91 67 102)">O</text><text x="525" y="760"  fill="rgb(95 72 106)">N</text><text x="528" y="760"  fill="rgb(95 71 107)">S</text><text x="531" y="760"  fill="rgb(95 71 106)">&quot; </text><text x="537" y="760"  fill="rgb(94 70 106)">&amp;&amp;</text><text x="543" y="760"  fill="rgb(95 71 106)"> </text><text x="546" y="760"  fill="rgb(94 70 106)">k</text><text x="549" y="760"  fill="rgb(93 69 106)">ey </text><text x="558" y="760"  fill="rgb(94 70 106)">!</text><text x="561" y="760"  fill="rgb(95 71 106)">=</text><text x="564" y="760"  fill="rgb(93 69 105)">=</text><text x="567" y="760"  fill="rgb(93 69 104)"> </text><text x="570" y="760"  fill="rgb(93 70 105)">&quot;</text><text x="573" y="760"  fill="rgb(94 71 106)">W</text><text x="576" y="760"  fill="rgb(94 70 104)">H</text><text x="579" y="760"  fill="rgb(93 70 104)">E</text><text x="582" y="760"  fill="rgb(93 71 105)">R</text><text x="585" y="760"  fill="rgb(93 71 103)">E</text><text x="588" y="760"  fill="rgb(93 69 103)">&quot; &amp;</text><text x="597" y="760"  fill="rgb(93 70 104)">&amp;</text><text x="600" y="760"  fill="rgb(93 68 103)"> </text><text x="603" y="760"  fill="rgb(92 68 103)">k</text><text x="606" y="760"  fill="rgb(91 69 102)">e</text><text x="609" y="760"  fill="rgb(92 69 102)">y</text><text x="612" y="760"  fill="rgb(92 69 103)"> </text><text x="615" y="760"  fill="rgb(92 67 103)">!</text><text x="618" y="760"  fill="rgb(92 68 103)">=</text><text x="621" y="760"  fill="rgb(92 67 103)">=</text><text x="624" y="760"  fill="rgb(93 69 103)"> </text><text x="627" y="760"  fill="rgb(92 68 103)">&quot;</text><text x="630" y="760"  fill="rgb(92 68 102)">T</text><text x="633" y="760"  fill="rgb(89 64 99)">R</text><text x="636" y="760"  fill="rgb(88 62 98)">A</text><text x="639" y="760"  fill="rgb(97 73 109)">N</text><text x="642" y="760"  fill="rgb(114 91 126)">S</text><text x="645" y="760"  fill="rgb(122 98 133)">F</text><text x="648" y="760"  fill="rgb(120 96 133)">O</text><text x="651" y="760"  fill="rgb(117 94 129)">R</text><text x="654" y="760"  fill="rgb(115 92 127)">M</text><text x="657" y="760"  fill="rgb(116 92 127)">AT</text><text x="663" y="760"  fill="rgb(115 91 127)">I</text><text x="666" y="760"  fill="rgb(114 90 126)">ON</text><text x="672" y="760"  fill="rgb(114 89 125)">S</text><text x="675" y="760"  fill="rgb(113 89 125)">&quot;</text><text x="678" y="760"  fill="rgb(114 89 125)">)</text><text x="681" y="760"  fill="rgb(113 88 125)"> {</text><text x="687" y="760"  fill="rgb(111 86 124)"> </text><text x="690" y="760"  fill="rgb(112 87 124)">t</text><text x="693" y="760"  fill="rgb(111 87 123)">hr</text><text x="699" y="760"  fill="rgb(110 86 123)">o</text><text x="702" y="760"  fill="rgb(110 86 122)">w n</text><text x="711" y="760"  fill="rgb(109 84 120)">e</text><text x="714" y="760"  fill="rgb(109 83 120)">w</text><text x="717" y="760"  fill="rgb(109 83 119)"> </text><text x="720" y="760"  fill="rgb(109 82 119)">I</text><text x="723" y="760"  fill="rgb(107 80 118)">n</text><text x="726" y="760"  fill="rgb(110 84 123)">s</text><text x="729" y="760"  fill="rgb(121 95 135)">ig</text><text x="735" y="760"  fill="rgb(120 94 134)">h</text><text x="738" y="760"  fill="rgb(121 94 134)">t</text><text x="741" y="760"  fill="rgb(119 93 133)">E</text><text x="744" y="760"  fill="rgb(119 92 133)">rr</text><text x="750" y="760"  fill="rgb(118 92 132)">o</text><text x="753" y="760"  fill="rgb(118 91 131)">r</text><text x="756" y="760"  fill="rgb(118 91 132)">(</text><text x="759" y="760"  fill="rgb(118 90 131)">)</text><text x="762" y="760"  fill="rgb(116 89 131)">; }</text><text x="771" y="760"  fill="rgb(115 88 130)"> </text><text x="774" y="760"  fill="rgb(116 89 131)">} </text><text x="780" y="760"  fill="rgb(115 87 130)">t</text><text x="783" y="760"  fill="rgb(112 84 127)">h</text><text x="786" y="760"  fill="rgb(109 80 125)">i</text><text x="789" y="760"  fill="rgb(108 78 123)">s</text><text x="792" y="760"  fill="rgb(108 79 124)">.</text><text x="795" y="760"  fill="rgb(116 88 129)">v</text><text x="798" y="760"  fill="rgb(128 106 140)">a</text><text x="801" y="760"  fill="rgb(143 127 151)">l</text><text x="804" y="760"  fill="rgb(155 140 160)">i</text><text x="807" y="760"  fill="rgb(157 144 163)">d</text><text x="810" y="760"  fill="rgb(155 141 161)">a</text><text x="813" y="760"  fill="rgb(150 136 157)">t</text><text x="816" y="760"  fill="rgb(148 133 155)">e</text><text x="819" y="760"  fill="rgb(149 134 155)">W</text><text x="822" y="760"  fill="rgb(148 133 156)">h</text><text x="825" y="760"  fill="rgb(147 132 156)">e</text><text x="828" y="760"  fill="rgb(147 132 155)">r</text><text x="831" y="760"  fill="rgb(146 131 154)">e</text><text x="834" y="760"  fill="rgb(146 130 154)">(</text><text x="837" y="760"  fill="rgb(142 125 150)">q</text><text x="840" y="760"  fill="rgb(135 116 143)">.</text><text x="843" y="760"  fill="rgb(203 196 206)">W</text><text x="846" y="760"  fill="rgb(255 255 255)">H</text><text x="849" y="760"  fill="rgb(245 245 245)">ERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateOptions(q.O</text><text x="0" y="765"  fill="rgb(245 245 245)">PTIONS); } public validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY</text><text x="330" y="765"  fill="rgb(250 251 250)"> </text><text x="333" y="765"  fill="rgb(244 243 244)">=</text><text x="336" y="765"  fill="rgb(172 149 182)">=</text><text x="339" y="765"  fill="rgb(148 117 163)">=</text><text x="342" y="765"  fill="rgb(160 135 175)"> </text><text x="345" y="765"  fill="rgb(159 134 173)">&quot;</text><text x="348" y="765"  fill="rgb(159 135 173)">u</text><text x="351" y="765"  fill="rgb(160 135 173)">n</text><text x="354" y="765"  fill="rgb(161 136 174)">d</text><text x="357" y="765"  fill="rgb(160 135 173)">e</text><text x="360" y="765"  fill="rgb(160 136 174)">f</text><text x="363" y="765"  fill="rgb(165 142 177)">i</text><text x="366" y="765"  fill="rgb(168 147 181)">n</text><text x="369" y="765"  fill="rgb(170 147 180)">e</text><text x="372" y="765"  fill="rgb(165 143 177)">d</text><text x="375" y="765"  fill="rgb(156 131 169)">&quot;</text><text x="378" y="765"  fill="rgb(143 114 158)"> </text><text x="381" y="765"  fill="rgb(129 97 146)">|</text><text x="384" y="765"  fill="rgb(120 85 137)">|</text><text x="387" y="765"  fill="rgb(115 79 133)"> O</text><text x="393" y="765"  fill="rgb(118 84 135)">b</text><text x="396" y="765"  fill="rgb(120 86 136)">j</text><text x="399" y="765"  fill="rgb(121 86 137)">e</text><text x="402" y="765"  fill="rgb(118 84 135)">c</text><text x="405" y="765"  fill="rgb(116 84 133)">t</text><text x="408" y="765"  fill="rgb(115 83 131)">.</text><text x="411" y="765"  fill="rgb(115 83 130)">ke</text><text x="417" y="765"  fill="rgb(114 82 130)">ys</text><text x="423" y="765"  fill="rgb(113 82 130)">(q)</text><text x="432" y="765"  fill="rgb(113 82 129)">.l</text><text x="438" y="765"  fill="rgb(113 83 129)">e</text><text x="441" y="765"  fill="rgb(113 84 129)">n</text><text x="444" y="765"  fill="rgb(113 83 129)">g</text><text x="447" y="765"  fill="rgb(112 82 128)">th </text><text x="456" y="765"  fill="rgb(111 83 127)">!==</text><text x="465" y="765"  fill="rgb(110 82 126)"> </text><text x="468" y="765"  fill="rgb(110 83 127)">2</text><text x="471" y="765"  fill="rgb(110 82 126)">) </text><text x="477" y="765"  fill="rgb(110 83 126)">{</text><text x="480" y="765"  fill="rgb(110 82 126)"> </text><text x="483" y="765"  fill="rgb(110 83 126)">t</text><text x="486" y="765"  fill="rgb(110 83 125)">h</text><text x="489" y="765"  fill="rgb(110 83 124)">r</text><text x="492" y="765"  fill="rgb(110 83 125)">o</text><text x="495" y="765"  fill="rgb(110 82 125)">w</text><text x="498" y="765"  fill="rgb(107 78 122)"> </text><text x="501" y="765"  fill="rgb(107 78 120)">n</text><text x="504" y="765"  fill="rgb(127 104 138)">e</text><text x="507" y="765"  fill="rgb(144 125 152)">w</text><text x="510" y="765"  fill="rgb(140 121 149)"> </text><text x="513" y="765"  fill="rgb(142 122 151)">I</text><text x="516" y="765"  fill="rgb(144 126 154)">n</text><text x="519" y="765"  fill="rgb(121 100 132)">s</text><text x="522" y="765"  fill="rgb(93 70 104)">i</text><text x="525" y="765"  fill="rgb(91 67 102)">g</text><text x="528" y="765"  fill="rgb(97 72 107)">h</text><text x="531" y="765"  fill="rgb(97 72 106)">t</text><text x="534" y="765"  fill="rgb(96 72 107)">Erro</text><text x="546" y="765"  fill="rgb(95 71 106)">r(); </text><text x="561" y="765"  fill="rgb(95 72 106)">} t</text><text x="570" y="765"  fill="rgb(94 71 106)">h</text><text x="573" y="765"  fill="rgb(94 70 105)">is.v</text><text x="585" y="765"  fill="rgb(94 71 106)">al</text><text x="591" y="765"  fill="rgb(94 70 104)">id</text><text x="597" y="765"  fill="rgb(93 70 104)">a</text><text x="600" y="765"  fill="rgb(92 70 104)">t</text><text x="603" y="765"  fill="rgb(92 69 104)">e</text><text x="606" y="765"  fill="rgb(93 70 104)">GR</text><text x="612" y="765"  fill="rgb(93 69 104)">OUP</text><text x="621" y="765"  fill="rgb(93 70 103)">(</text><text x="624" y="765"  fill="rgb(93 69 103)">q.G</text><text x="633" y="765"  fill="rgb(93 69 104)">R</text><text x="636" y="765"  fill="rgb(90 67 101)">O</text><text x="639" y="765"  fill="rgb(87 62 97)">U</text><text x="642" y="765"  fill="rgb(89 65 100)">P</text><text x="645" y="765"  fill="rgb(100 77 112)">)</text><text x="648" y="765"  fill="rgb(115 91 127)">;</text><text x="651" y="765"  fill="rgb(122 97 134)"> </text><text x="654" y="765"  fill="rgb(120 96 132)">t</text><text x="657" y="765"  fill="rgb(117 93 128)">hi</text><text x="663" y="765"  fill="rgb(115 91 127)">s</text><text x="666" y="765"  fill="rgb(114 91 127)">.v</text><text x="672" y="765"  fill="rgb(115 91 127)">a</text><text x="675" y="765"  fill="rgb(114 90 126)">l</text><text x="678" y="765"  fill="rgb(112 88 125)">id</text><text x="684" y="765"  fill="rgb(113 88 125)">at</text><text x="690" y="765"  fill="rgb(112 87 124)">eA</text><text x="696" y="765"  fill="rgb(111 86 124)">PP</text><text x="702" y="765"  fill="rgb(111 86 123)">LY</text><text x="708" y="765"  fill="rgb(110 86 122)">(q</text><text x="714" y="765"  fill="rgb(110 84 121)">.</text><text x="717" y="765"  fill="rgb(109 83 121)">AP</text><text x="723" y="765"  fill="rgb(107 81 119)">P</text><text x="726" y="765"  fill="rgb(111 85 124)">L</text><text x="729" y="765"  fill="rgb(122 96 135)">Y</text><text x="732" y="765"  fill="rgb(122 95 135)">)</text><text x="735" y="765"  fill="rgb(120 93 134)">;</text><text x="738" y="765"  fill="rgb(121 94 134)"> </text><text x="741" y="765"  fill="rgb(121 93 134)">}</text><text x="744" y="765"  fill="rgb(120 92 133)"> pr</text><text x="753" y="765"  fill="rgb(118 92 132)">i</text><text x="756" y="765"  fill="rgb(118 91 132)">va</text><text x="762" y="765"  fill="rgb(118 90 131)">t</text><text x="765" y="765"  fill="rgb(117 89 131)">e</text><text x="768" y="765"  fill="rgb(116 89 131)"> </text><text x="771" y="765"  fill="rgb(116 86 129)">v</text><text x="774" y="765"  fill="rgb(113 84 127)">a</text><text x="777" y="765"  fill="rgb(110 80 126)">l</text><text x="780" y="765"  fill="rgb(109 79 124)">i</text><text x="783" y="765"  fill="rgb(112 83 126)">d</text><text x="786" y="765"  fill="rgb(119 94 132)">a</text><text x="789" y="765"  fill="rgb(132 109 141)">t</text><text x="792" y="765"  fill="rgb(144 127 153)">e</text><text x="795" y="765"  fill="rgb(155 142 161)">G</text><text x="798" y="765"  fill="rgb(160 148 165)">R</text><text x="801" y="765"  fill="rgb(159 147 164)">O</text><text x="804" y="765"  fill="rgb(156 143 161)">U</text><text x="807" y="765"  fill="rgb(152 138 159)">P</text><text x="810" y="765"  fill="rgb(151 136 158)">(q</text><text x="816" y="765"  fill="rgb(150 135 157)">: </text><text x="822" y="765"  fill="rgb(150 135 156)">an</text><text x="828" y="765"  fill="rgb(148 133 156)">y</text><text x="831" y="765"  fill="rgb(147 132 155)">)</text><text x="834" y="765"  fill="rgb(147 133 155)">:</text><text x="837" y="765"  fill="rgb(136 120 145)"> </text><text x="840" y="765"  fill="rgb(153 138 161)">v</text><text x="843" y="765"  fill="rgb(237 235 238)">o</text><text x="846" y="765"  fill="rgb(250 251 250)">i</text><text x="849" y="765"  fill="rgb(245 245 245)">d { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should be an object, and shoul</text><text x="0" y="770"  fill="rgb(245 245 245)">d has at least one element } for (let key of q) { this.validateKey(key); this.transformationKey.push(key); // i</text><text x="333" y="770"  fill="rgb(255 255 255)">f</text><text x="336" y="770"  fill="rgb(208 197 214)"> </text><text x="339" y="770"  fill="rgb(147 118 163)">t</text><text x="342" y="770"  fill="rgb(157 130 171)">h</text><text x="345" y="770"  fill="rgb(159 133 173)">e</text><text x="348" y="770"  fill="rgb(159 134 173)"> </text><text x="351" y="770"  fill="rgb(160 135 173)">key</text><text x="360" y="770"  fill="rgb(161 136 174)"> </text><text x="363" y="770"  fill="rgb(160 135 173)">i</text><text x="366" y="770"  fill="rgb(161 137 174)">s</text><text x="369" y="770"  fill="rgb(164 139 176)"> </text><text x="372" y="770"  fill="rgb(167 144 178)">v</text><text x="375" y="770"  fill="rgb(169 147 180)">a</text><text x="378" y="770"  fill="rgb(169 148 181)">l</text><text x="381" y="770"  fill="rgb(166 144 178)">i</text><text x="384" y="770"  fill="rgb(157 133 170)">d</text><text x="387" y="770"  fill="rgb(147 120 161)">,</text><text x="390" y="770"  fill="rgb(137 107 153)"> </text><text x="393" y="770"  fill="rgb(128 96 144)">p</text><text x="396" y="770"  fill="rgb(120 87 137)">u</text><text x="399" y="770"  fill="rgb(115 81 133)">s</text><text x="402" y="770"  fill="rgb(111 76 130)">h</text><text x="405" y="770"  fill="rgb(112 77 129)"> </text><text x="408" y="770"  fill="rgb(112 80 129)">i</text><text x="411" y="770"  fill="rgb(113 81 130)">t </text><text x="417" y="770"  fill="rgb(115 83 131)">t</text><text x="420" y="770"  fill="rgb(115 82 131)">o</text><text x="423" y="770"  fill="rgb(114 83 131)"> </text><text x="426" y="770"  fill="rgb(114 83 130)">t</text><text x="429" y="770"  fill="rgb(114 82 130)">ra</text><text x="435" y="770"  fill="rgb(114 82 129)">n</text><text x="438" y="770"  fill="rgb(113 82 129)">s</text><text x="441" y="770"  fill="rgb(114 83 129)">f</text><text x="444" y="770"  fill="rgb(113 83 129)">or</text><text x="450" y="770"  fill="rgb(113 82 128)">ma</text><text x="456" y="770"  fill="rgb(112 82 128)">t</text><text x="459" y="770"  fill="rgb(112 82 127)">i</text><text x="462" y="770"  fill="rgb(112 83 128)">o</text><text x="465" y="770"  fill="rgb(111 82 127)">n</text><text x="468" y="770"  fill="rgb(110 82 126)">Ke</text><text x="474" y="770"  fill="rgb(111 82 126)">y }</text><text x="483" y="770"  fill="rgb(110 81 126)"> </text><text x="486" y="770"  fill="rgb(110 82 125)">}</text><text x="489" y="770"  fill="rgb(110 82 124)"> p</text><text x="495" y="770"  fill="rgb(106 76 120)">r</text><text x="498" y="770"  fill="rgb(109 80 124)">i</text><text x="501" y="770"  fill="rgb(132 110 143)">v</text><text x="504" y="770"  fill="rgb(145 127 156)">a</text><text x="507" y="770"  fill="rgb(141 121 151)">t</text><text x="510" y="770"  fill="rgb(138 117 148)">e </text><text x="516" y="770"  fill="rgb(140 121 150)">v</text><text x="519" y="770"  fill="rgb(144 125 154)">a</text><text x="522" y="770"  fill="rgb(131 109 140)">l</text><text x="525" y="770"  fill="rgb(103 79 114)">i</text><text x="528" y="770"  fill="rgb(91 65 102)">d</text><text x="531" y="770"  fill="rgb(95 70 106)">a</text><text x="534" y="770"  fill="rgb(97 73 109)">t</text><text x="537" y="770"  fill="rgb(97 73 108)">e</text><text x="540" y="770"  fill="rgb(96 72 107)">Key(ke</text><text x="558" y="770"  fill="rgb(96 71 107)">y</text><text x="561" y="770"  fill="rgb(95 71 106)">:</text><text x="564" y="770"  fill="rgb(96 72 106)"> s</text><text x="570" y="770"  fill="rgb(95 72 106)">t</text><text x="573" y="770"  fill="rgb(95 71 106)">r</text><text x="576" y="770"  fill="rgb(94 71 105)">ing</text><text x="585" y="770"  fill="rgb(95 71 106)">)</text><text x="588" y="770"  fill="rgb(94 70 106)">:</text><text x="591" y="770"  fill="rgb(94 71 105)"> void {</text><text x="612" y="770"  fill="rgb(93 70 105)"> </text><text x="615" y="770"  fill="rgb(93 70 104)">le</text><text x="621" y="770"  fill="rgb(93 69 104)">t</text><text x="624" y="770"  fill="rgb(93 69 103)"> </text><text x="627" y="770"  fill="rgb(93 70 104)">sp</text><text x="633" y="770"  fill="rgb(93 69 103)">lit</text><text x="642" y="770"  fill="rgb(90 66 100)">t</text><text x="645" y="770"  fill="rgb(87 63 98)">e</text><text x="648" y="770"  fill="rgb(93 69 103)">d</text><text x="651" y="770"  fill="rgb(106 81 116)">K</text><text x="654" y="770"  fill="rgb(118 92 128)">e</text><text x="657" y="770"  fill="rgb(121 96 133)">y</text><text x="660" y="770"  fill="rgb(120 95 131)">:</text><text x="663" y="770"  fill="rgb(116 92 128)"> </text><text x="666" y="770"  fill="rgb(116 92 127)">st</text><text x="672" y="770"  fill="rgb(115 91 127)">ri</text><text x="678" y="770"  fill="rgb(114 90 125)">n</text><text x="681" y="770"  fill="rgb(113 88 125)">g[] </text><text x="693" y="770"  fill="rgb(112 87 124)">= </text><text x="699" y="770"  fill="rgb(111 86 124)">k</text><text x="702" y="770"  fill="rgb(111 86 123)">ey.</text><text x="711" y="770"  fill="rgb(110 85 122)">sp</text><text x="717" y="770"  fill="rgb(110 84 122)">l</text><text x="720" y="770"  fill="rgb(109 83 121)">i</text><text x="723" y="770"  fill="rgb(108 81 119)">t</text><text x="726" y="770"  fill="rgb(115 87 127)">(</text><text x="729" y="770"  fill="rgb(123 95 136)">&quot;</text><text x="732" y="770"  fill="rgb(122 95 135)">_</text><text x="735" y="770"  fill="rgb(122 94 135)">&quot;</text><text x="738" y="770"  fill="rgb(121 93 134)">)</text><text x="741" y="770"  fill="rgb(121 93 135)">;</text><text x="744" y="770"  fill="rgb(121 93 134)"> </text><text x="747" y="770"  fill="rgb(120 93 133)">i</text><text x="750" y="770"  fill="rgb(120 92 133)">f</text><text x="753" y="770"  fill="rgb(118 92 133)"> </text><text x="756" y="770"  fill="rgb(116 89 132)">(</text><text x="759" y="770"  fill="rgb(116 88 131)">s</text><text x="762" y="770"  fill="rgb(114 86 130)">p</text><text x="765" y="770"  fill="rgb(112 82 127)">l</text><text x="768" y="770"  fill="rgb(111 81 126)">i</text><text x="771" y="770"  fill="rgb(112 84 128)">t</text><text x="774" y="770"  fill="rgb(118 91 132)">t</text><text x="777" y="770"  fill="rgb(127 102 137)">e</text><text x="780" y="770"  fill="rgb(137 119 147)">d</text><text x="783" y="770"  fill="rgb(149 133 156)">K</text><text x="786" y="770"  fill="rgb(157 145 163)">e</text><text x="789" y="770"  fill="rgb(162 151 166)">y</text><text x="792" y="770"  fill="rgb(163 152 166)">.</text><text x="795" y="770"  fill="rgb(160 149 165)">l</text><text x="798" y="770"  fill="rgb(157 144 162)">e</text><text x="801" y="770"  fill="rgb(155 141 160)">n</text><text x="804" y="770"  fill="rgb(153 139 159)">g</text><text x="807" y="770"  fill="rgb(154 140 159)">t</text><text x="810" y="770"  fill="rgb(153 139 159)">h </text><text x="816" y="770"  fill="rgb(152 137 159)">!</text><text x="819" y="770"  fill="rgb(151 136 158)">==</text><text x="825" y="770"  fill="rgb(150 135 157)"> </text><text x="828" y="770"  fill="rgb(150 135 156)">2</text><text x="831" y="770"  fill="rgb(149 134 156)">)</text><text x="834" y="770"  fill="rgb(147 133 155)"> </text><text x="837" y="770"  fill="rgb(136 120 145)">{</text><text x="840" y="770"  fill="rgb(186 177 191)"> </text><text x="843" y="770"  fill="rgb(255 255 254)">t</text><text x="846" y="770"  fill="rgb(245 245 245)">hrow new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKe</text><text x="0" y="775"  fill="rgb(245 245 245)">y[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any)</text><text x="333" y="775"  fill="rgb(249 250 248)">:</text><text x="336" y="775"  fill="rgb(243 242 243)"> </text><text x="339" y="775"  fill="rgb(167 143 180)">v</text><text x="342" y="775"  fill="rgb(149 119 163)">o</text><text x="345" y="775"  fill="rgb(159 133 173)">id</text><text x="351" y="775"  fill="rgb(159 135 173)"> </text><text x="354" y="775"  fill="rgb(160 135 173)">{ </text><text x="360" y="775"  fill="rgb(161 136 174)">if</text><text x="366" y="775"  fill="rgb(161 137 174)"> (!</text><text x="375" y="775"  fill="rgb(162 138 174)">A</text><text x="378" y="775"  fill="rgb(163 139 175)">r</text><text x="381" y="775"  fill="rgb(164 142 177)">r</text><text x="384" y="775"  fill="rgb(167 145 180)">a</text><text x="387" y="775"  fill="rgb(170 148 181)">y</text><text x="390" y="775"  fill="rgb(169 147 180)">.</text><text x="393" y="775"  fill="rgb(164 141 176)">i</text><text x="396" y="775"  fill="rgb(157 132 168)">s</text><text x="399" y="775"  fill="rgb(147 121 162)">A</text><text x="402" y="775"  fill="rgb(135 105 150)">r</text><text x="405" y="775"  fill="rgb(124 91 139)">r</text><text x="408" y="775"  fill="rgb(114 82 131)">a</text><text x="411" y="775"  fill="rgb(110 76 128)">y</text><text x="414" y="775"  fill="rgb(109 74 126)">(</text><text x="417" y="775"  fill="rgb(108 75 126)">q)</text><text x="423" y="775"  fill="rgb(110 76 127)">)</text><text x="426" y="775"  fill="rgb(111 79 129)"> </text><text x="429" y="775"  fill="rgb(113 81 129)">{</text><text x="432" y="775"  fill="rgb(114 82 130)"> </text><text x="435" y="775"  fill="rgb(114 83 130)">t</text><text x="438" y="775"  fill="rgb(115 83 131)">h</text><text x="441" y="775"  fill="rgb(113 83 129)">r</text><text x="444" y="775"  fill="rgb(114 83 129)">o</text><text x="447" y="775"  fill="rgb(113 83 129)">w</text><text x="450" y="775"  fill="rgb(113 83 128)"> </text><text x="453" y="775"  fill="rgb(113 82 128)">ne</text><text x="459" y="775"  fill="rgb(113 82 127)">w </text><text x="465" y="775"  fill="rgb(113 82 128)">I</text><text x="468" y="775"  fill="rgb(111 81 127)">n</text><text x="471" y="775"  fill="rgb(112 81 126)">s</text><text x="474" y="775"  fill="rgb(111 81 126)">ight</text><text x="486" y="775"  fill="rgb(110 80 125)">E</text><text x="489" y="775"  fill="rgb(110 81 125)">r</text><text x="492" y="775"  fill="rgb(106 74 120)">r</text><text x="495" y="775"  fill="rgb(112 81 125)">o</text><text x="498" y="775"  fill="rgb(137 113 147)">r</text><text x="501" y="775"  fill="rgb(146 126 156)">(</text><text x="504" y="775"  fill="rgb(141 120 152)">)</text><text x="507" y="775"  fill="rgb(140 118 150)">; </text><text x="513" y="775"  fill="rgb(139 118 150)">/</text><text x="516" y="775"  fill="rgb(138 117 149)">/</text><text x="519" y="775"  fill="rgb(139 118 150)"> </text><text x="522" y="775"  fill="rgb(143 123 154)">q</text><text x="525" y="775"  fill="rgb(138 117 148)"> </text><text x="528" y="775"  fill="rgb(112 88 123)">s</text><text x="531" y="775"  fill="rgb(90 66 103)">h</text><text x="534" y="775"  fill="rgb(92 68 104)">o</text><text x="537" y="775"  fill="rgb(97 73 108)">uld be</text><text x="555" y="775"  fill="rgb(96 72 107)"> an </text><text x="567" y="775"  fill="rgb(96 72 106)">ar</text><text x="573" y="775"  fill="rgb(95 71 107)">r</text><text x="576" y="775"  fill="rgb(96 72 106)">a</text><text x="579" y="775"  fill="rgb(96 72 107)">y,</text><text x="585" y="775"  fill="rgb(95 71 106)"> an</text><text x="594" y="775"  fill="rgb(95 72 106)">d </text><text x="600" y="775"  fill="rgb(94 71 105)">s</text><text x="603" y="775"  fill="rgb(95 72 106)">h</text><text x="606" y="775"  fill="rgb(94 71 105)">o</text><text x="609" y="775"  fill="rgb(94 71 106)">u</text><text x="612" y="775"  fill="rgb(94 71 105)">ld </text><text x="621" y="775"  fill="rgb(93 69 104)">h</text><text x="624" y="775"  fill="rgb(93 70 105)">a</text><text x="627" y="775"  fill="rgb(93 70 104)">v</text><text x="630" y="775"  fill="rgb(93 69 103)">e</text><text x="633" y="775"  fill="rgb(93 70 103)"> </text><text x="636" y="775"  fill="rgb(93 70 104)">a</text><text x="639" y="775"  fill="rgb(93 69 103)">t</text><text x="642" y="775"  fill="rgb(93 70 104)"> </text><text x="645" y="775"  fill="rgb(92 69 102)">l</text><text x="648" y="775"  fill="rgb(91 67 101)">e</text><text x="651" y="775"  fill="rgb(89 65 99)">a</text><text x="654" y="775"  fill="rgb(95 70 105)">s</text><text x="657" y="775"  fill="rgb(106 82 117)">t</text><text x="660" y="775"  fill="rgb(117 93 129)"> </text><text x="663" y="775"  fill="rgb(122 98 133)">o</text><text x="666" y="775"  fill="rgb(119 95 131)">n</text><text x="669" y="775"  fill="rgb(117 93 128)">e</text><text x="672" y="775"  fill="rgb(115 91 127)"> el</text><text x="681" y="775"  fill="rgb(114 90 126)">e</text><text x="684" y="775"  fill="rgb(113 88 125)">men</text><text x="693" y="775"  fill="rgb(112 87 124)">t</text><text x="696" y="775"  fill="rgb(112 87 125)"> </text><text x="699" y="775"  fill="rgb(111 86 124)">} </text><text x="705" y="775"  fill="rgb(111 86 123)">fo</text><text x="711" y="775"  fill="rgb(110 85 122)">r (</text><text x="720" y="775"  fill="rgb(110 84 121)">l</text><text x="723" y="775"  fill="rgb(108 82 120)">e</text><text x="726" y="775"  fill="rgb(118 92 131)">t</text><text x="729" y="775"  fill="rgb(125 97 137)"> </text><text x="732" y="775"  fill="rgb(123 95 135)">a</text><text x="735" y="775"  fill="rgb(123 96 136)">p</text><text x="738" y="775"  fill="rgb(121 95 135)">p</text><text x="741" y="775"  fill="rgb(120 92 134)">l</text><text x="744" y="775"  fill="rgb(118 90 133)">y</text><text x="747" y="775"  fill="rgb(115 87 130)">r</text><text x="750" y="775"  fill="rgb(113 84 128)">u</text><text x="753" y="775"  fill="rgb(112 82 128)">le</text><text x="759" y="775"  fill="rgb(114 86 130)"> </text><text x="762" y="775"  fill="rgb(120 93 134)">o</text><text x="765" y="775"  fill="rgb(127 104 139)">f</text><text x="768" y="775"  fill="rgb(138 118 147)"> </text><text x="771" y="775"  fill="rgb(148 133 156)">q</text><text x="774" y="775"  fill="rgb(157 143 163)">)</text><text x="777" y="775"  fill="rgb(163 152 167)"> </text><text x="780" y="775"  fill="rgb(164 156 169)">{</text><text x="783" y="775"  fill="rgb(164 154 168)"> </text><text x="786" y="775"  fill="rgb(161 149 165)">i</text><text x="789" y="775"  fill="rgb(160 147 164)">f</text><text x="792" y="775"  fill="rgb(158 145 162)"> </text><text x="795" y="775"  fill="rgb(157 143 161)">(</text><text x="798" y="775"  fill="rgb(156 142 162)">A</text><text x="801" y="775"  fill="rgb(156 142 161)">r</text><text x="804" y="775"  fill="rgb(155 141 160)">ra</text><text x="810" y="775"  fill="rgb(154 140 159)">y</text><text x="813" y="775"  fill="rgb(153 139 159)">.</text><text x="816" y="775"  fill="rgb(153 138 159)">i</text><text x="819" y="775"  fill="rgb(152 137 159)">sA</text><text x="825" y="775"  fill="rgb(151 136 158)">r</text><text x="828" y="775"  fill="rgb(150 135 157)">r</text><text x="831" y="775"  fill="rgb(150 135 156)">a</text><text x="834" y="775"  fill="rgb(145 129 151)">y</text><text x="837" y="775"  fill="rgb(148 132 155)">(</text><text x="840" y="775"  fill="rgb(227 224 228)">a</text><text x="843" y="775"  fill="rgb(249 250 249)">p</text><text x="846" y="775"  fill="rgb(245 245 245)">plyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } let applykey: string = Object.</text><text x="0" y="780"  fill="rgb(245 245 245)">keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || t</text><text x="336" y="780"  fill="rgb(253 255 251)">h</text><text x="339" y="780"  fill="rgb(210 198 215)">i</text><text x="342" y="780"  fill="rgb(149 118 164)">s</text><text x="345" y="780"  fill="rgb(157 129 170)">.</text><text x="348" y="780"  fill="rgb(159 133 173)">t</text><text x="351" y="780"  fill="rgb(159 132 173)">r</text><text x="354" y="780"  fill="rgb(159 135 173)">a</text><text x="357" y="780"  fill="rgb(160 135 173)">ns</text><text x="363" y="780"  fill="rgb(161 136 174)">fo</text><text x="369" y="780"  fill="rgb(161 137 174)">rm</text><text x="375" y="780"  fill="rgb(162 138 175)">a</text><text x="378" y="780"  fill="rgb(162 138 174)">t</text><text x="381" y="780"  fill="rgb(162 139 174)">i</text><text x="384" y="780"  fill="rgb(163 140 176)">o</text><text x="387" y="780"  fill="rgb(163 140 175)">n</text><text x="390" y="780"  fill="rgb(164 141 176)">K</text><text x="393" y="780"  fill="rgb(167 145 178)">e</text><text x="396" y="780"  fill="rgb(170 148 181)">y</text><text x="399" y="780"  fill="rgb(173 152 183)">.</text><text x="402" y="780"  fill="rgb(169 148 179)">i</text><text x="405" y="780"  fill="rgb(161 139 171)">n</text><text x="408" y="780"  fill="rgb(151 128 164)">c</text><text x="411" y="780"  fill="rgb(144 117 156)">l</text><text x="414" y="780"  fill="rgb(135 105 147)">u</text><text x="417" y="780"  fill="rgb(126 95 140)">d</text><text x="420" y="780"  fill="rgb(117 85 133)">e</text><text x="423" y="780"  fill="rgb(112 78 128)">s</text><text x="426" y="780"  fill="rgb(108 74 126)">(</text><text x="429" y="780"  fill="rgb(108 72 125)">a</text><text x="432" y="780"  fill="rgb(107 73 125)">pp</text><text x="438" y="780"  fill="rgb(110 76 126)">l</text><text x="441" y="780"  fill="rgb(111 79 127)">y</text><text x="444" y="780"  fill="rgb(113 81 128)">k</text><text x="447" y="780"  fill="rgb(113 82 129)">e</text><text x="450" y="780"  fill="rgb(114 83 130)">y</text><text x="453" y="780"  fill="rgb(114 83 129)">)</text><text x="456" y="780"  fill="rgb(113 83 129)">)</text><text x="459" y="780"  fill="rgb(113 83 128)"> </text><text x="462" y="780"  fill="rgb(113 82 128)">{ t</text><text x="471" y="780"  fill="rgb(113 81 127)">h</text><text x="474" y="780"  fill="rgb(111 81 126)">row </text><text x="486" y="780"  fill="rgb(110 82 126)">n</text><text x="489" y="780"  fill="rgb(106 74 122)">e</text><text x="492" y="780"  fill="rgb(113 83 125)">w</text><text x="495" y="780"  fill="rgb(139 116 150)"> </text><text x="498" y="780"  fill="rgb(147 126 157)">I</text><text x="501" y="780"  fill="rgb(140 119 151)">nsi</text><text x="510" y="780"  fill="rgb(140 118 151)">ght</text><text x="519" y="780"  fill="rgb(138 117 149)">E</text><text x="522" y="780"  fill="rgb(137 116 148)">r</text><text x="525" y="780"  fill="rgb(141 120 151)">r</text><text x="528" y="780"  fill="rgb(143 123 154)">o</text><text x="531" y="780"  fill="rgb(121 99 132)">r</text><text x="534" y="780"  fill="rgb(95 70 107)">(</text><text x="537" y="780"  fill="rgb(90 65 103)">)</text><text x="540" y="780"  fill="rgb(97 73 108)">;</text><text x="543" y="780"  fill="rgb(98 74 109)"> </text><text x="546" y="780"  fill="rgb(97 74 109)">}</text><text x="549" y="780"  fill="rgb(97 73 109)"> </text><text x="552" y="780"  fill="rgb(97 73 108)">this.t</text><text x="570" y="780"  fill="rgb(96 72 107)">ran</text><text x="579" y="780"  fill="rgb(96 72 106)">s</text><text x="582" y="780"  fill="rgb(96 72 107)">fo</text><text x="588" y="780"  fill="rgb(96 72 106)">r</text><text x="591" y="780"  fill="rgb(95 72 106)">ma</text><text x="597" y="780"  fill="rgb(95 73 106)">t</text><text x="600" y="780"  fill="rgb(95 71 106)">ionKe</text><text x="615" y="780"  fill="rgb(94 71 105)">y</text><text x="618" y="780"  fill="rgb(95 72 106)">.</text><text x="621" y="780"  fill="rgb(94 71 105)">p</text><text x="624" y="780"  fill="rgb(94 72 104)">u</text><text x="627" y="780"  fill="rgb(94 70 103)">s</text><text x="630" y="780"  fill="rgb(93 69 103)">h</text><text x="633" y="780"  fill="rgb(93 69 104)">(</text><text x="636" y="780"  fill="rgb(93 70 104)">app</text><text x="645" y="780"  fill="rgb(93 70 103)">l</text><text x="648" y="780"  fill="rgb(93 71 104)">y</text><text x="651" y="780"  fill="rgb(93 70 102)">k</text><text x="654" y="780"  fill="rgb(90 66 100)">e</text><text x="657" y="780"  fill="rgb(88 65 99)">y</text><text x="660" y="780"  fill="rgb(94 70 104)">)</text><text x="663" y="780"  fill="rgb(108 83 118)">;</text><text x="666" y="780"  fill="rgb(119 94 131)"> </text><text x="669" y="780"  fill="rgb(121 97 133)">i</text><text x="672" y="780"  fill="rgb(119 95 131)">f</text><text x="675" y="780"  fill="rgb(115 92 128)"> </text><text x="678" y="780"  fill="rgb(115 90 126)">(A</text><text x="684" y="780"  fill="rgb(115 90 127)">r</text><text x="687" y="780"  fill="rgb(114 89 127)">r</text><text x="690" y="780"  fill="rgb(113 88 127)">a</text><text x="693" y="780"  fill="rgb(113 88 125)">y</text><text x="696" y="780"  fill="rgb(112 87 124)">.i</text><text x="702" y="780"  fill="rgb(111 86 124)">s</text><text x="705" y="780"  fill="rgb(111 86 123)">Ar</text><text x="711" y="780"  fill="rgb(110 85 123)">r</text><text x="714" y="780"  fill="rgb(110 85 122)">a</text><text x="717" y="780"  fill="rgb(110 86 122)">y</text><text x="720" y="780"  fill="rgb(109 85 121)">(</text><text x="723" y="780"  fill="rgb(109 83 121)">c</text><text x="726" y="780"  fill="rgb(119 93 132)">r</text><text x="729" y="780"  fill="rgb(121 94 135)">i</text><text x="732" y="780"  fill="rgb(117 88 131)">t</text><text x="735" y="780"  fill="rgb(115 85 130)">e</text><text x="738" y="780"  fill="rgb(113 84 129)">r</text><text x="741" y="780"  fill="rgb(114 84 128)">i</text><text x="744" y="780"  fill="rgb(115 84 129)">a</text><text x="747" y="780"  fill="rgb(117 90 132)">)</text><text x="750" y="780"  fill="rgb(123 98 136)"> </text><text x="753" y="780"  fill="rgb(132 110 143)">|</text><text x="756" y="780"  fill="rgb(143 125 152)">|</text><text x="759" y="780"  fill="rgb(153 138 159)"> </text><text x="762" y="780"  fill="rgb(161 149 165)">O</text><text x="765" y="780"  fill="rgb(166 157 170)">b</text><text x="768" y="780"  fill="rgb(169 162 173)">j</text><text x="771" y="780"  fill="rgb(168 160 172)">e</text><text x="774" y="780"  fill="rgb(165 156 169)">c</text><text x="777" y="780"  fill="rgb(163 152 168)">t</text><text x="780" y="780"  fill="rgb(161 150 166)">.</text><text x="783" y="780"  fill="rgb(159 149 165)">k</text><text x="786" y="780"  fill="rgb(159 147 164)">ey</text><text x="792" y="780"  fill="rgb(159 146 163)">s</text><text x="795" y="780"  fill="rgb(158 146 163)">(c</text><text x="801" y="780"  fill="rgb(157 144 162)">r</text><text x="804" y="780"  fill="rgb(156 143 161)">it</text><text x="810" y="780"  fill="rgb(156 142 161)">e</text><text x="813" y="780"  fill="rgb(155 141 160)">r</text><text x="816" y="780"  fill="rgb(154 140 159)">i</text><text x="819" y="780"  fill="rgb(153 139 159)">a)</text><text x="825" y="780"  fill="rgb(153 138 159)">.</text><text x="828" y="780"  fill="rgb(152 137 159)">le</text><text x="834" y="780"  fill="rgb(140 124 148)">n</text><text x="837" y="780"  fill="rgb(181 173 185)">g</text><text x="840" y="780"  fill="rgb(250 251 249)">t</text><text x="843" y="780"  fill="rgb(245 245 245)">h &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(criteria)[0]; if (!this.mtoken.inc</text><text x="0" y="785"  fill="rgb(245 245 245)">ludes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = crite</text><text x="336" y="785"  fill="rgb(245 246 246)">r</text><text x="339" y="785"  fill="rgb(246 246 245)">i</text><text x="342" y="785"  fill="rgb(175 154 186)">a</text><text x="345" y="785"  fill="rgb(150 120 165)">[</text><text x="348" y="785"  fill="rgb(160 133 172)">a</text><text x="351" y="785"  fill="rgb(159 132 173)">p</text><text x="354" y="785"  fill="rgb(159 133 173)">p</text><text x="357" y="785"  fill="rgb(159 135 173)">ly</text><text x="363" y="785"  fill="rgb(160 135 173)">t</text><text x="366" y="785"  fill="rgb(161 136 174)">ok</text><text x="372" y="785"  fill="rgb(161 137 174)">en</text><text x="378" y="785"  fill="rgb(162 138 175)">]</text><text x="381" y="785"  fill="rgb(163 139 174)">.</text><text x="384" y="785"  fill="rgb(162 139 174)">s</text><text x="387" y="785"  fill="rgb(162 139 175)">p</text><text x="390" y="785"  fill="rgb(163 140 176)">l</text><text x="393" y="785"  fill="rgb(163 140 175)">it</text><text x="399" y="785"  fill="rgb(164 141 176)">(</text><text x="402" y="785"  fill="rgb(164 142 176)">&quot;</text><text x="405" y="785"  fill="rgb(162 141 174)">_</text><text x="408" y="785"  fill="rgb(162 141 173)">&quot;</text><text x="411" y="785"  fill="rgb(162 142 173)">)</text><text x="414" y="785"  fill="rgb(164 142 173)">;</text><text x="417" y="785"  fill="rgb(161 140 171)"> </text><text x="420" y="785"  fill="rgb(157 135 168)">i</text><text x="423" y="785"  fill="rgb(150 129 162)">f</text><text x="426" y="785"  fill="rgb(143 117 154)"> </text><text x="429" y="785"  fill="rgb(134 106 147)">(</text><text x="432" y="785"  fill="rgb(124 97 140)">k</text><text x="435" y="785"  fill="rgb(119 87 134)">e</text><text x="438" y="785"  fill="rgb(113 80 129)">y</text><text x="441" y="785"  fill="rgb(110 76 125)">.</text><text x="444" y="785"  fill="rgb(107 74 125)">l</text><text x="447" y="785"  fill="rgb(107 73 124)">e</text><text x="450" y="785"  fill="rgb(108 73 123)">n</text><text x="453" y="785"  fill="rgb(109 75 124)">g</text><text x="456" y="785"  fill="rgb(110 77 125)">t</text><text x="459" y="785"  fill="rgb(111 79 127)">h</text><text x="462" y="785"  fill="rgb(112 82 128)"> </text><text x="465" y="785"  fill="rgb(112 82 127)">!</text><text x="468" y="785"  fill="rgb(113 82 129)">=</text><text x="471" y="785"  fill="rgb(113 82 128)">= </text><text x="477" y="785"  fill="rgb(112 82 128)">2</text><text x="480" y="785"  fill="rgb(112 81 127)">)</text><text x="483" y="785"  fill="rgb(111 82 127)"> </text><text x="486" y="785"  fill="rgb(108 77 124)">{</text><text x="489" y="785"  fill="rgb(113 81 127)"> </text><text x="492" y="785"  fill="rgb(140 118 151)">t</text><text x="495" y="785"  fill="rgb(147 128 158)">h</text><text x="498" y="785"  fill="rgb(142 119 152)">r</text><text x="501" y="785"  fill="rgb(141 120 153)">ow</text><text x="507" y="785"  fill="rgb(140 120 151)"> </text><text x="510" y="785"  fill="rgb(140 119 152)">n</text><text x="513" y="785"  fill="rgb(140 119 151)">e</text><text x="516" y="785"  fill="rgb(139 118 150)">w I</text><text x="525" y="785"  fill="rgb(136 115 148)">n</text><text x="528" y="785"  fill="rgb(138 117 149)">s</text><text x="531" y="785"  fill="rgb(144 123 155)">i</text><text x="534" y="785"  fill="rgb(131 110 143)">g</text><text x="537" y="785"  fill="rgb(103 80 116)">h</text><text x="540" y="785"  fill="rgb(93 68 104)">t</text><text x="543" y="785"  fill="rgb(97 73 109)">E</text><text x="546" y="785"  fill="rgb(99 77 111)">r</text><text x="549" y="785"  fill="rgb(98 75 109)">r</text><text x="552" y="785"  fill="rgb(99 75 109)">o</text><text x="555" y="785"  fill="rgb(99 74 109)">r</text><text x="558" y="785"  fill="rgb(98 74 109)">(); </text><text x="570" y="785"  fill="rgb(97 73 108)">} </text><text x="576" y="785"  fill="rgb(98 74 108)">i</text><text x="579" y="785"  fill="rgb(96 73 107)">f </text><text x="585" y="785"  fill="rgb(97 74 108)">(</text><text x="588" y="785"  fill="rgb(96 74 108)">t</text><text x="591" y="785"  fill="rgb(97 74 108)">h</text><text x="594" y="785"  fill="rgb(97 73 108)">i</text><text x="597" y="785"  fill="rgb(96 73 106)">s</text><text x="600" y="785"  fill="rgb(97 72 107)">.</text><text x="603" y="785"  fill="rgb(96 72 106)">m</text><text x="606" y="785"  fill="rgb(95 71 106)">to</text><text x="612" y="785"  fill="rgb(96 73 106)">k</text><text x="615" y="785"  fill="rgb(96 72 106)">e</text><text x="618" y="785"  fill="rgb(95 71 106)">n.</text><text x="624" y="785"  fill="rgb(95 72 106)">i</text><text x="627" y="785"  fill="rgb(94 71 106)">n</text><text x="630" y="785"  fill="rgb(95 72 106)">c</text><text x="633" y="785"  fill="rgb(94 71 105)">l</text><text x="636" y="785"  fill="rgb(95 71 106)">u</text><text x="639" y="785"  fill="rgb(94 71 105)">d</text><text x="642" y="785"  fill="rgb(93 70 104)">e</text><text x="645" y="785"  fill="rgb(94 71 105)">s</text><text x="648" y="785"  fill="rgb(93 70 104)">(</text><text x="651" y="785"  fill="rgb(94 71 104)">a</text><text x="654" y="785"  fill="rgb(93 71 104)">p</text><text x="657" y="785"  fill="rgb(93 70 104)">p</text><text x="660" y="785"  fill="rgb(90 67 100)">l</text><text x="663" y="785"  fill="rgb(88 65 100)">y</text><text x="666" y="785"  fill="rgb(95 70 105)">t</text><text x="669" y="785"  fill="rgb(107 83 119)">o</text><text x="672" y="785"  fill="rgb(117 93 128)">k</text><text x="675" y="785"  fill="rgb(119 96 132)">e</text><text x="678" y="785"  fill="rgb(117 93 130)">n</text><text x="681" y="785"  fill="rgb(115 90 127)">)) </text><text x="690" y="785"  fill="rgb(114 89 127)">{</text><text x="693" y="785"  fill="rgb(115 90 126)"> </text><text x="696" y="785"  fill="rgb(114 89 127)">i</text><text x="699" y="785"  fill="rgb(113 89 126)">f</text><text x="702" y="785"  fill="rgb(113 88 125)"> </text><text x="705" y="785"  fill="rgb(112 87 125)">(</text><text x="708" y="785"  fill="rgb(111 86 124)">!(</text><text x="714" y="785"  fill="rgb(109 83 121)">t</text><text x="717" y="785"  fill="rgb(109 81 121)">h</text><text x="720" y="785"  fill="rgb(106 79 119)">i</text><text x="723" y="785"  fill="rgb(106 78 120)">s</text><text x="726" y="785"  fill="rgb(114 86 130)">.</text><text x="729" y="785"  fill="rgb(119 90 133)">v</text><text x="732" y="785"  fill="rgb(121 93 135)">a</text><text x="735" y="785"  fill="rgb(127 101 138)">l</text><text x="738" y="785"  fill="rgb(135 113 145)">i</text><text x="741" y="785"  fill="rgb(144 126 153)">d</text><text x="744" y="785"  fill="rgb(155 138 161)">a</text><text x="747" y="785"  fill="rgb(162 151 168)">t</text><text x="750" y="785"  fill="rgb(169 159 173)">e</text><text x="753" y="785"  fill="rgb(172 163 174)">I</text><text x="756" y="785"  fill="rgb(174 165 176)">d</text><text x="759" y="785"  fill="rgb(173 164 175)">s</text><text x="762" y="785"  fill="rgb(169 161 173)">t</text><text x="765" y="785"  fill="rgb(167 158 171)">r</text><text x="768" y="785"  fill="rgb(164 154 168)">i</text><text x="771" y="785"  fill="rgb(162 152 167)">ng(</text><text x="780" y="785"  fill="rgb(162 150 167)">k</text><text x="783" y="785"  fill="rgb(161 151 166)">e</text><text x="786" y="785"  fill="rgb(161 150 166)">y</text><text x="789" y="785"  fill="rgb(159 149 165)">[</text><text x="792" y="785"  fill="rgb(159 147 165)">0</text><text x="795" y="785"  fill="rgb(159 148 165)">]</text><text x="798" y="785"  fill="rgb(159 146 163)">) </text><text x="804" y="785"  fill="rgb(158 144 162)">&amp;</text><text x="807" y="785"  fill="rgb(158 145 162)">&amp;</text><text x="810" y="785"  fill="rgb(156 143 161)"> t</text><text x="816" y="785"  fill="rgb(156 142 161)">h</text><text x="819" y="785"  fill="rgb(155 140 159)">i</text><text x="822" y="785"  fill="rgb(155 141 159)">s</text><text x="825" y="785"  fill="rgb(153 139 159)">.</text><text x="828" y="785"  fill="rgb(154 140 160)">m</text><text x="831" y="785"  fill="rgb(150 135 157)">f</text><text x="834" y="785"  fill="rgb(150 137 158)">i</text><text x="837" y="785"  fill="rgb(228 226 229)">e</text><text x="840" y="785"  fill="rgb(248 249 248)">l</text><text x="843" y="785"  fill="rgb(245 245 245)">ds.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(th</text><text x="0" y="790"  fill="rgb(245 245 245)">is.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new Ins</text><text x="339" y="790"  fill="rgb(250 252 249)">i</text><text x="342" y="790"  fill="rgb(224 219 228)">g</text><text x="345" y="790"  fill="rgb(153 125 168)">h</text><text x="348" y="790"  fill="rgb(156 128 170)">t</text><text x="351" y="790"  fill="rgb(160 134 173)">E</text><text x="354" y="790"  fill="rgb(159 133 173)">rr</text><text x="360" y="790"  fill="rgb(159 134 173)">o</text><text x="363" y="790"  fill="rgb(159 135 173)">r</text><text x="366" y="790"  fill="rgb(160 135 173)">()</text><text x="372" y="790"  fill="rgb(161 136 174)">; </text><text x="378" y="790"  fill="rgb(161 137 174)">}</text><text x="381" y="790"  fill="rgb(162 138 175)"> </text><text x="384" y="790"  fill="rgb(162 138 174)">}</text><text x="387" y="790"  fill="rgb(163 139 175)"> </text><text x="390" y="790"  fill="rgb(162 139 176)">}</text><text x="393" y="790"  fill="rgb(163 140 176)"> </text><text x="396" y="790"  fill="rgb(164 141 175)">}</text><text x="399" y="790"  fill="rgb(164 141 176)"> p</text><text x="405" y="790"  fill="rgb(160 137 172)">u</text><text x="408" y="790"  fill="rgb(159 135 169)">b</text><text x="411" y="790"  fill="rgb(157 134 168)">l</text><text x="414" y="790"  fill="rgb(158 135 169)">i</text><text x="417" y="790"  fill="rgb(160 138 170)">c</text><text x="420" y="790"  fill="rgb(162 140 172)"> </text><text x="423" y="790"  fill="rgb(163 142 173)">v</text><text x="426" y="790"  fill="rgb(164 144 173)">a</text><text x="429" y="790"  fill="rgb(163 144 172)">l</text><text x="432" y="790"  fill="rgb(162 142 172)">i</text><text x="435" y="790"  fill="rgb(159 140 169)">d</text><text x="438" y="790"  fill="rgb(153 133 164)">a</text><text x="441" y="790"  fill="rgb(147 123 158)">t</text><text x="444" y="790"  fill="rgb(139 113 151)">e</text><text x="447" y="790"  fill="rgb(132 104 144)">O</text><text x="450" y="790"  fill="rgb(125 95 138)">p</text><text x="453" y="790"  fill="rgb(120 88 133)">t</text><text x="456" y="790"  fill="rgb(114 82 129)">i</text><text x="459" y="790"  fill="rgb(109 77 126)">o</text><text x="462" y="790"  fill="rgb(108 75 123)">n</text><text x="465" y="790"  fill="rgb(107 73 122)">s</text><text x="468" y="790"  fill="rgb(106 73 123)">(</text><text x="471" y="790"  fill="rgb(107 73 122)">q</text><text x="474" y="790"  fill="rgb(108 76 123)">:</text><text x="477" y="790"  fill="rgb(110 77 124)"> </text><text x="480" y="790"  fill="rgb(111 79 125)">a</text><text x="483" y="790"  fill="rgb(108 77 124)">n</text><text x="486" y="790"  fill="rgb(111 79 126)">y</text><text x="489" y="790"  fill="rgb(139 115 151)">)</text><text x="492" y="790"  fill="rgb(150 130 161)">:</text><text x="495" y="790"  fill="rgb(144 121 155)"> </text><text x="498" y="790"  fill="rgb(144 119 154)">v</text><text x="501" y="790"  fill="rgb(142 119 153)">oi</text><text x="507" y="790"  fill="rgb(142 120 153)">d</text><text x="510" y="790"  fill="rgb(141 119 153)"> </text><text x="513" y="790"  fill="rgb(141 119 152)">{</text><text x="516" y="790"  fill="rgb(140 119 151)"> </text><text x="519" y="790"  fill="rgb(139 117 150)">l</text><text x="522" y="790"  fill="rgb(139 118 150)">e</text><text x="525" y="790"  fill="rgb(139 117 150)">t</text><text x="528" y="790"  fill="rgb(138 115 149)"> </text><text x="531" y="790"  fill="rgb(138 116 149)">k</text><text x="534" y="790"  fill="rgb(144 122 154)">e</text><text x="537" y="790"  fill="rgb(140 118 151)">y</text><text x="540" y="790"  fill="rgb(117 93 127)">s</text><text x="543" y="790"  fill="rgb(95 71 106)">:</text><text x="546" y="790"  fill="rgb(94 71 106)"> </text><text x="549" y="790"  fill="rgb(99 75 110)">any</text><text x="558" y="790"  fill="rgb(98 75 110)">[]</text><text x="564" y="790"  fill="rgb(98 74 109)"> = O</text><text x="576" y="790"  fill="rgb(98 75 109)">b</text><text x="579" y="790"  fill="rgb(98 74 109)">je</text><text x="585" y="790"  fill="rgb(97 73 108)">c</text><text x="588" y="790"  fill="rgb(98 74 109)">t</text><text x="591" y="790"  fill="rgb(97 73 109)">.</text><text x="594" y="790"  fill="rgb(97 73 108)">k</text><text x="597" y="790"  fill="rgb(97 72 108)">e</text><text x="600" y="790"  fill="rgb(97 73 108)">ys</text><text x="606" y="790"  fill="rgb(97 73 107)">(</text><text x="609" y="790"  fill="rgb(96 72 106)">q);</text><text x="618" y="790"  fill="rgb(96 72 107)"> </text><text x="621" y="790"  fill="rgb(95 72 106)">f</text><text x="624" y="790"  fill="rgb(95 71 106)">o</text><text x="627" y="790"  fill="rgb(96 72 107)">r</text><text x="630" y="790"  fill="rgb(96 73 106)"> </text><text x="633" y="790"  fill="rgb(95 72 106)">(let</text><text x="645" y="790"  fill="rgb(94 71 106)"> </text><text x="648" y="790"  fill="rgb(94 71 105)">k</text><text x="651" y="790"  fill="rgb(94 71 106)">e</text><text x="654" y="790"  fill="rgb(94 70 105)">y</text><text x="657" y="790"  fill="rgb(94 69 105)"> </text><text x="660" y="790"  fill="rgb(95 71 105)">o</text><text x="663" y="790"  fill="rgb(93 69 104)">f</text><text x="666" y="790"  fill="rgb(90 66 101)"> </text><text x="669" y="790"  fill="rgb(89 65 100)">k</text><text x="672" y="790"  fill="rgb(94 70 105)">e</text><text x="675" y="790"  fill="rgb(105 81 116)">y</text><text x="678" y="790"  fill="rgb(115 91 126)">s</text><text x="681" y="790"  fill="rgb(118 94 131)">)</text><text x="684" y="790"  fill="rgb(117 92 130)"> </text><text x="687" y="790"  fill="rgb(115 90 127)">{</text><text x="690" y="790"  fill="rgb(112 87 124)"> </text><text x="693" y="790"  fill="rgb(111 84 123)">i</text><text x="696" y="790"  fill="rgb(109 83 122)">f</text><text x="699" y="790"  fill="rgb(108 80 121)"> </text><text x="702" y="790"  fill="rgb(106 78 119)">(</text><text x="705" y="790"  fill="rgb(108 82 121)">k</text><text x="708" y="790"  fill="rgb(109 83 123)">e</text><text x="711" y="790"  fill="rgb(109 85 124)">y</text><text x="714" y="790"  fill="rgb(112 86 124)"> </text><text x="717" y="790"  fill="rgb(113 88 124)">!</text><text x="720" y="790"  fill="rgb(112 89 123)">=</text><text x="723" y="790"  fill="rgb(129 110 139)">=</text><text x="726" y="790"  fill="rgb(155 139 162)"> </text><text x="729" y="790"  fill="rgb(162 149 167)">&quot;</text><text x="732" y="790"  fill="rgb(169 159 173)">C</text><text x="735" y="790"  fill="rgb(175 166 177)">O</text><text x="738" y="790"  fill="rgb(177 170 179)">L</text><text x="741" y="790"  fill="rgb(178 171 181)">U</text><text x="744" y="790"  fill="rgb(177 171 180)">M</text><text x="747" y="790"  fill="rgb(176 170 179)">N</text><text x="750" y="790"  fill="rgb(174 166 177)">S</text><text x="753" y="790"  fill="rgb(170 161 174)">&quot;</text><text x="756" y="790"  fill="rgb(168 157 172)"> </text><text x="759" y="790"  fill="rgb(166 156 170)">&amp;</text><text x="762" y="790"  fill="rgb(166 155 170)">&amp;</text><text x="765" y="790"  fill="rgb(165 155 169)"> </text><text x="768" y="790"  fill="rgb(166 156 170)">k</text><text x="771" y="790"  fill="rgb(165 155 169)">e</text><text x="774" y="790"  fill="rgb(164 154 169)">y</text><text x="777" y="790"  fill="rgb(163 154 168)"> </text><text x="780" y="790"  fill="rgb(163 152 168)">!</text><text x="783" y="790"  fill="rgb(162 152 167)">=</text><text x="786" y="790"  fill="rgb(162 151 167)">=</text><text x="789" y="790"  fill="rgb(161 150 166)"> </text><text x="792" y="790"  fill="rgb(160 149 166)">&quot;</text><text x="795" y="790"  fill="rgb(160 149 165)">O</text><text x="798" y="790"  fill="rgb(160 148 164)">R</text><text x="801" y="790"  fill="rgb(159 147 164)">D</text><text x="804" y="790"  fill="rgb(159 146 163)">ER</text><text x="810" y="790"  fill="rgb(159 145 163)">&quot;</text><text x="813" y="790"  fill="rgb(157 144 162)">)</text><text x="816" y="790"  fill="rgb(156 143 161)"> </text><text x="819" y="790"  fill="rgb(156 142 161)">{ </text><text x="825" y="790"  fill="rgb(155 141 160)">t</text><text x="828" y="790"  fill="rgb(156 142 161)">h</text><text x="831" y="790"  fill="rgb(141 125 148)">r</text><text x="834" y="790"  fill="rgb(192 186 197)">o</text><text x="837" y="790"  fill="rgb(251 252 250)">w</text><text x="840" y="790"  fill="rgb(247 247 247)"> </text><text x="843" y="790"  fill="rgb(245 245 245)">new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } pri</text><text x="0" y="795"  fill="rgb(245 245 245)">vate validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) {</text><text x="339" y="795"  fill="rgb(246 247 246)"> </text><text x="342" y="795"  fill="rgb(250 252 249)">i</text><text x="345" y="795"  fill="rgb(194 179 203)">f</text><text x="348" y="795"  fill="rgb(145 114 161)"> </text><text x="351" y="795"  fill="rgb(159 133 172)">(t</text><text x="357" y="795"  fill="rgb(159 133 173)">hi</text><text x="363" y="795"  fill="rgb(159 134 173)">s</text><text x="366" y="795"  fill="rgb(159 135 173)">.</text><text x="369" y="795"  fill="rgb(160 135 173)">tr</text><text x="375" y="795"  fill="rgb(161 136 174)">an</text><text x="381" y="795"  fill="rgb(161 137 174)">s</text><text x="384" y="795"  fill="rgb(162 138 175)">f</text><text x="387" y="795"  fill="rgb(162 138 174)">o</text><text x="390" y="795"  fill="rgb(162 139 175)">r</text><text x="393" y="795"  fill="rgb(162 139 176)">m</text><text x="396" y="795"  fill="rgb(163 140 175)">a</text><text x="399" y="795"  fill="rgb(164 141 176)">ti</text><text x="405" y="795"  fill="rgb(162 139 175)">o</text><text x="408" y="795"  fill="rgb(159 136 171)">n</text><text x="411" y="795"  fill="rgb(159 137 170)">K</text><text x="414" y="795"  fill="rgb(159 136 170)">e</text><text x="417" y="795"  fill="rgb(159 135 169)">y</text><text x="420" y="795"  fill="rgb(158 135 168)">.le</text><text x="429" y="795"  fill="rgb(159 137 168)">n</text><text x="432" y="795"  fill="rgb(162 139 170)">g</text><text x="435" y="795"  fill="rgb(162 142 172)">t</text><text x="438" y="795"  fill="rgb(163 144 172)">h</text><text x="441" y="795"  fill="rgb(164 145 173)"> </text><text x="444" y="795"  fill="rgb(163 146 172)">&gt;</text><text x="447" y="795"  fill="rgb(163 145 172)"> </text><text x="450" y="795"  fill="rgb(160 142 170)">0</text><text x="453" y="795"  fill="rgb(156 137 167)">)</text><text x="456" y="795"  fill="rgb(152 131 161)"> </text><text x="459" y="795"  fill="rgb(146 124 157)">{</text><text x="462" y="795"  fill="rgb(140 117 151)"> </text><text x="465" y="795"  fill="rgb(134 108 146)">i</text><text x="468" y="795"  fill="rgb(130 102 141)">f</text><text x="471" y="795"  fill="rgb(123 94 136)"> </text><text x="474" y="795"  fill="rgb(119 88 133)">(</text><text x="477" y="795"  fill="rgb(115 83 129)">!</text><text x="480" y="795"  fill="rgb(110 78 125)">t</text><text x="483" y="795"  fill="rgb(107 74 123)">h</text><text x="486" y="795"  fill="rgb(131 104 145)">i</text><text x="489" y="795"  fill="rgb(148 127 159)">s</text><text x="492" y="795"  fill="rgb(142 118 154)">.</text><text x="495" y="795"  fill="rgb(142 117 153)">t</text><text x="498" y="795"  fill="rgb(141 117 152)">r</text><text x="501" y="795"  fill="rgb(141 117 153)">a</text><text x="504" y="795"  fill="rgb(141 117 152)">n</text><text x="507" y="795"  fill="rgb(141 117 153)">sf</text><text x="513" y="795"  fill="rgb(141 117 152)">o</text><text x="516" y="795"  fill="rgb(140 117 151)">rma</text><text x="525" y="795"  fill="rgb(139 115 150)">t</text><text x="528" y="795"  fill="rgb(138 115 149)">i</text><text x="531" y="795"  fill="rgb(138 116 149)">o</text><text x="534" y="795"  fill="rgb(137 115 149)">n</text><text x="537" y="795"  fill="rgb(142 120 154)">K</text><text x="540" y="795"  fill="rgb(144 121 154)">e</text><text x="543" y="795"  fill="rgb(127 104 138)">y</text><text x="546" y="795"  fill="rgb(104 79 114)">.</text><text x="549" y="795"  fill="rgb(94 70 105)">i</text><text x="552" y="795"  fill="rgb(97 74 108)">n</text><text x="555" y="795"  fill="rgb(99 76 110)">cl</text><text x="561" y="795"  fill="rgb(98 75 110)">ude</text><text x="570" y="795"  fill="rgb(98 74 109)">s</text><text x="573" y="795"  fill="rgb(98 75 110)">(ms</text><text x="582" y="795"  fill="rgb(98 74 109)">ke</text><text x="588" y="795"  fill="rgb(99 75 110)">y</text><text x="591" y="795"  fill="rgb(98 73 109)">)</text><text x="594" y="795"  fill="rgb(98 74 109)">)</text><text x="597" y="795"  fill="rgb(98 73 108)"> </text><text x="600" y="795"  fill="rgb(98 73 109)">{</text><text x="603" y="795"  fill="rgb(98 74 109)"> </text><text x="606" y="795"  fill="rgb(97 73 108)">thro</text><text x="618" y="795"  fill="rgb(97 73 107)">w</text><text x="621" y="795"  fill="rgb(97 74 108)"> </text><text x="624" y="795"  fill="rgb(97 74 107)">n</text><text x="627" y="795"  fill="rgb(96 74 107)">e</text><text x="630" y="795"  fill="rgb(96 73 106)">w</text><text x="633" y="795"  fill="rgb(96 72 106)"> </text><text x="636" y="795"  fill="rgb(95 73 106)">I</text><text x="639" y="795"  fill="rgb(96 73 106)">n</text><text x="642" y="795"  fill="rgb(95 71 106)">s</text><text x="645" y="795"  fill="rgb(94 71 106)">i</text><text x="648" y="795"  fill="rgb(95 71 106)">g</text><text x="651" y="795"  fill="rgb(93 69 105)">h</text><text x="654" y="795"  fill="rgb(94 69 105)">t</text><text x="657" y="795"  fill="rgb(93 69 105)">E</text><text x="660" y="795"  fill="rgb(93 68 105)">r</text><text x="663" y="795"  fill="rgb(92 68 104)">ro</text><text x="669" y="795"  fill="rgb(89 65 101)">r</text><text x="672" y="795"  fill="rgb(87 62 99)">(</text><text x="675" y="795"  fill="rgb(86 61 98)">)</text><text x="678" y="795"  fill="rgb(90 65 102)">;</text><text x="681" y="795"  fill="rgb(99 74 112)"> </text><text x="684" y="795"  fill="rgb(108 83 121)">}</text><text x="687" y="795"  fill="rgb(115 89 128)"> </text><text x="690" y="795"  fill="rgb(119 93 131)">}</text><text x="693" y="795"  fill="rgb(119 95 131)"> </text><text x="696" y="795"  fill="rgb(121 98 132)">e</text><text x="699" y="795"  fill="rgb(125 103 134)">l</text><text x="702" y="795"  fill="rgb(131 111 139)">s</text><text x="705" y="795"  fill="rgb(129 110 137)">e</text><text x="708" y="795"  fill="rgb(124 106 132)"> </text><text x="711" y="795"  fill="rgb(129 112 135)">{</text><text x="714" y="795"  fill="rgb(131 116 136)"> </text><text x="717" y="795"  fill="rgb(130 116 135)">t</text><text x="720" y="795"  fill="rgb(131 117 135)">h</text><text x="723" y="795"  fill="rgb(165 157 167)">i</text><text x="726" y="795"  fill="rgb(189 183 190)">s</text><text x="729" y="795"  fill="rgb(181 175 184)">.</text><text x="732" y="795"  fill="rgb(181 174 182)">v</text><text x="735" y="795"  fill="rgb(178 171 181)">a</text><text x="738" y="795"  fill="rgb(175 168 179)">l</text><text x="741" y="795"  fill="rgb(174 164 177)">i</text><text x="744" y="795"  fill="rgb(171 161 175)">d</text><text x="747" y="795"  fill="rgb(170 160 174)">a</text><text x="750" y="795"  fill="rgb(169 159 173)">t</text><text x="753" y="795"  fill="rgb(169 159 174)">e</text><text x="756" y="795"  fill="rgb(168 159 173)">Ke</text><text x="762" y="795"  fill="rgb(168 159 172)">y</text><text x="765" y="795"  fill="rgb(168 157 172)">(</text><text x="768" y="795"  fill="rgb(166 157 171)">m</text><text x="771" y="795"  fill="rgb(166 156 171)">s</text><text x="774" y="795"  fill="rgb(166 156 170)">k</text><text x="777" y="795"  fill="rgb(165 156 170)">e</text><text x="780" y="795"  fill="rgb(165 155 169)">y</text><text x="783" y="795"  fill="rgb(163 153 168)">);</text><text x="789" y="795"  fill="rgb(163 152 168)"> </text><text x="792" y="795"  fill="rgb(162 151 167)">} </text><text x="798" y="795"  fill="rgb(161 149 166)">t</text><text x="801" y="795"  fill="rgb(160 149 165)">hi</text><text x="807" y="795"  fill="rgb(159 148 165)">s</text><text x="810" y="795"  fill="rgb(159 147 164)">.</text><text x="813" y="795"  fill="rgb(159 146 164)">k</text><text x="816" y="795"  fill="rgb(158 145 163)">e</text><text x="819" y="795"  fill="rgb(157 144 162)">ys</text><text x="825" y="795"  fill="rgb(158 145 163)">I</text><text x="828" y="795"  fill="rgb(147 132 153)">n</text><text x="831" y="795"  fill="rgb(159 147 165)">Q</text><text x="834" y="795"  fill="rgb(237 235 237)">u</text><text x="837" y="795"  fill="rgb(251 252 251)">e</text><text x="840" y="795"  fill="rgb(245 245 245)">ry.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); }</text><text x="0" y="800"  fill="rgb(245 245 245)"> else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!</text><text x="342" y="800"  fill="rgb(250 252 250)">q</text><text x="345" y="800"  fill="rgb(241 239 242)">.</text><text x="348" y="800"  fill="rgb(166 142 179)">d</text><text x="351" y="800"  fill="rgb(145 114 161)">i</text><text x="354" y="800"  fill="rgb(161 134 173)">r</text><text x="357" y="800"  fill="rgb(159 132 172)"> </text><text x="360" y="800"  fill="rgb(159 133 173)">||</text><text x="366" y="800"  fill="rgb(159 135 173)"> !</text><text x="372" y="800"  fill="rgb(160 135 173)">q.</text><text x="378" y="800"  fill="rgb(161 136 174)">k</text><text x="381" y="800"  fill="rgb(161 137 174)">ey</text><text x="387" y="800"  fill="rgb(162 138 175)">s</text><text x="390" y="800"  fill="rgb(162 138 174)"> </text><text x="393" y="800"  fill="rgb(162 139 174)">|</text><text x="396" y="800"  fill="rgb(163 140 176)">| </text><text x="402" y="800"  fill="rgb(164 141 175)">O</text><text x="405" y="800"  fill="rgb(163 140 176)">b</text><text x="408" y="800"  fill="rgb(160 137 172)">j</text><text x="411" y="800"  fill="rgb(160 136 171)">e</text><text x="414" y="800"  fill="rgb(159 137 171)">c</text><text x="417" y="800"  fill="rgb(159 137 170)">t.</text><text x="423" y="800"  fill="rgb(159 136 169)">ke</text><text x="429" y="800"  fill="rgb(159 136 168)">y</text><text x="432" y="800"  fill="rgb(158 135 167)">s</text><text x="435" y="800"  fill="rgb(159 135 167)">(</text><text x="438" y="800"  fill="rgb(159 136 168)">q</text><text x="441" y="800"  fill="rgb(158 136 167)">)</text><text x="444" y="800"  fill="rgb(159 138 168)">.</text><text x="447" y="800"  fill="rgb(159 140 168)">l</text><text x="450" y="800"  fill="rgb(160 141 169)">e</text><text x="453" y="800"  fill="rgb(161 142 170)">n</text><text x="456" y="800"  fill="rgb(161 142 169)">g</text><text x="459" y="800"  fill="rgb(162 144 171)">th</text><text x="465" y="800"  fill="rgb(161 144 170)"> </text><text x="468" y="800"  fill="rgb(160 143 168)">!</text><text x="471" y="800"  fill="rgb(158 140 167)">=</text><text x="474" y="800"  fill="rgb(155 135 163)">=</text><text x="477" y="800"  fill="rgb(152 131 160)"> </text><text x="480" y="800"  fill="rgb(144 122 155)">2</text><text x="483" y="800"  fill="rgb(145 124 155)">)</text><text x="486" y="800"  fill="rgb(161 144 168)"> </text><text x="489" y="800"  fill="rgb(158 139 166)">{</text><text x="492" y="800"  fill="rgb(152 132 161)"> </text><text x="495" y="800"  fill="rgb(150 129 160)">t</text><text x="498" y="800"  fill="rgb(147 126 158)">h</text><text x="501" y="800"  fill="rgb(145 123 156)">r</text><text x="504" y="800"  fill="rgb(143 120 153)">o</text><text x="507" y="800"  fill="rgb(141 117 153)">w</text><text x="510" y="800"  fill="rgb(139 115 151)"> </text><text x="513" y="800"  fill="rgb(139 114 150)">n</text><text x="516" y="800"  fill="rgb(137 112 148)">e</text><text x="519" y="800"  fill="rgb(137 111 149)">w</text><text x="522" y="800"  fill="rgb(137 110 148)"> </text><text x="525" y="800"  fill="rgb(136 109 148)">I</text><text x="528" y="800"  fill="rgb(135 109 146)">n</text><text x="531" y="800"  fill="rgb(134 109 146)">s</text><text x="534" y="800"  fill="rgb(134 109 147)">i</text><text x="537" y="800"  fill="rgb(135 109 146)">g</text><text x="540" y="800"  fill="rgb(136 111 148)">h</text><text x="543" y="800"  fill="rgb(140 115 151)">t</text><text x="546" y="800"  fill="rgb(134 108 144)">E</text><text x="549" y="800"  fill="rgb(111 85 121)">r</text><text x="552" y="800"  fill="rgb(93 67 105)">r</text><text x="555" y="800"  fill="rgb(93 68 105)">o</text><text x="558" y="800"  fill="rgb(98 74 110)">r</text><text x="561" y="800"  fill="rgb(99 76 110)">(</text><text x="564" y="800"  fill="rgb(98 75 110)">);</text><text x="570" y="800"  fill="rgb(97 74 109)"> }</text><text x="576" y="800"  fill="rgb(98 75 110)"> i</text><text x="582" y="800"  fill="rgb(99 74 110)">f</text><text x="585" y="800"  fill="rgb(98 74 109)"> </text><text x="588" y="800"  fill="rgb(98 73 109)">(</text><text x="591" y="800"  fill="rgb(97 73 109)">q</text><text x="594" y="800"  fill="rgb(97 74 109)">.</text><text x="597" y="800"  fill="rgb(97 73 109)">d</text><text x="600" y="800"  fill="rgb(96 73 109)">i</text><text x="603" y="800"  fill="rgb(96 72 108)">r</text><text x="606" y="800"  fill="rgb(96 71 108)"> !=</text><text x="615" y="800"  fill="rgb(95 70 107)">=</text><text x="618" y="800"  fill="rgb(95 70 106)"> </text><text x="621" y="800"  fill="rgb(95 69 106)">&quot;</text><text x="624" y="800"  fill="rgb(94 69 106)">U</text><text x="627" y="800"  fill="rgb(94 68 105)">P</text><text x="630" y="800"  fill="rgb(93 68 106)">&quot;</text><text x="633" y="800"  fill="rgb(93 67 105)"> </text><text x="636" y="800"  fill="rgb(92 67 104)">&amp;</text><text x="639" y="800"  fill="rgb(91 66 104)">&amp;</text><text x="642" y="800"  fill="rgb(91 65 103)"> </text><text x="645" y="800"  fill="rgb(92 66 103)">q</text><text x="648" y="800"  fill="rgb(92 66 104)">.</text><text x="651" y="800"  fill="rgb(92 66 103)">d</text><text x="654" y="800"  fill="rgb(91 66 103)">i</text><text x="657" y="800"  fill="rgb(92 67 104)">r</text><text x="660" y="800"  fill="rgb(92 69 104)"> </text><text x="663" y="800"  fill="rgb(93 70 106)">!</text><text x="666" y="800"  fill="rgb(96 74 106)">=</text><text x="669" y="800"  fill="rgb(98 77 108)">=</text><text x="672" y="800"  fill="rgb(101 79 111)"> </text><text x="675" y="800"  fill="rgb(102 83 113)">&quot;</text><text x="678" y="800"  fill="rgb(105 85 112)">D</text><text x="681" y="800"  fill="rgb(107 89 113)">O</text><text x="684" y="800"  fill="rgb(113 96 120)">W</text><text x="687" y="800"  fill="rgb(124 109 131)">N</text><text x="690" y="800"  fill="rgb(142 129 147)">&quot;</text><text x="693" y="800"  fill="rgb(157 147 161)">)</text><text x="696" y="800"  fill="rgb(165 157 169)"> </text><text x="699" y="800"  fill="rgb(168 162 171)">{</text><text x="702" y="800"  fill="rgb(167 160 169)"> </text><text x="705" y="800"  fill="rgb(144 133 149)">t</text><text x="708" y="800"  fill="rgb(135 122 139)">h</text><text x="711" y="800"  fill="rgb(138 125 140)">r</text><text x="714" y="800"  fill="rgb(137 125 141)">o</text><text x="717" y="800"  fill="rgb(132 118 136)">w</text><text x="720" y="800"  fill="rgb(137 125 141)"> </text><text x="723" y="800"  fill="rgb(174 168 178)">n</text><text x="726" y="800"  fill="rgb(181 173 184)">e</text><text x="729" y="800"  fill="rgb(175 166 178)">w </text><text x="735" y="800"  fill="rgb(174 165 178)">I</text><text x="738" y="800"  fill="rgb(173 164 177)">n</text><text x="741" y="800"  fill="rgb(173 164 176)">s</text><text x="744" y="800"  fill="rgb(172 163 176)">i</text><text x="747" y="800"  fill="rgb(172 162 175)">gh</text><text x="753" y="800"  fill="rgb(170 160 175)">t</text><text x="756" y="800"  fill="rgb(170 160 174)">E</text><text x="759" y="800"  fill="rgb(169 160 173)">r</text><text x="762" y="800"  fill="rgb(168 160 173)">r</text><text x="765" y="800"  fill="rgb(168 159 172)">or</text><text x="771" y="800"  fill="rgb(167 157 171)">(</text><text x="774" y="800"  fill="rgb(166 156 171)">)</text><text x="777" y="800"  fill="rgb(166 156 170)">; </text><text x="783" y="800"  fill="rgb(165 155 169)">}</text><text x="786" y="800"  fill="rgb(165 154 168)"> </text><text x="789" y="800"  fill="rgb(163 154 168)">l</text><text x="792" y="800"  fill="rgb(163 153 167)">e</text><text x="795" y="800"  fill="rgb(162 152 167)">t </text><text x="801" y="800"  fill="rgb(161 150 166)">ke</text><text x="807" y="800"  fill="rgb(160 149 165)">y</text><text x="810" y="800"  fill="rgb(159 149 165)">s</text><text x="813" y="800"  fill="rgb(159 148 164)">:</text><text x="816" y="800"  fill="rgb(159 146 163)"> a</text><text x="822" y="800"  fill="rgb(160 147 164)">n</text><text x="825" y="800"  fill="rgb(154 141 159)">y</text><text x="828" y="800"  fill="rgb(144 128 149)"> </text><text x="831" y="800"  fill="rgb(210 204 212)">=</text><text x="834" y="800"  fill="rgb(255 255 253)"> </text><text x="837" y="800"  fill="rgb(246 246 246)">q</text><text x="840" y="800"  fill="rgb(245 245 245)">.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { </text><text x="0" y="805"  fill="rgb(245 245 245)">if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { i</text><text x="342" y="805"  fill="rgb(246 245 246)">f</text><text x="345" y="805"  fill="rgb(254 255 253)"> </text><text x="348" y="805"  fill="rgb(223 217 226)">(</text><text x="351" y="805"  fill="rgb(147 118 163)">A</text><text x="354" y="805"  fill="rgb(151 121 166)">r</text><text x="357" y="805"  fill="rgb(160 134 173)">r</text><text x="360" y="805"  fill="rgb(159 132 172)">a</text><text x="363" y="805"  fill="rgb(159 133 173)">y.</text><text x="369" y="805"  fill="rgb(159 134 173)">i</text><text x="372" y="805"  fill="rgb(159 135 173)">s</text><text x="375" y="805"  fill="rgb(160 135 173)">Ar</text><text x="381" y="805"  fill="rgb(161 136 174)">r</text><text x="384" y="805"  fill="rgb(161 137 174)">ay</text><text x="390" y="805"  fill="rgb(162 138 175)">(</text><text x="393" y="805"  fill="rgb(163 138 174)">q</text><text x="396" y="805"  fill="rgb(162 139 175)">)</text><text x="399" y="805"  fill="rgb(163 140 176)">)</text><text x="402" y="805"  fill="rgb(163 140 175)"> {</text><text x="408" y="805"  fill="rgb(161 138 173)"> </text><text x="411" y="805"  fill="rgb(160 136 172)">t</text><text x="414" y="805"  fill="rgb(160 136 171)">h</text><text x="417" y="805"  fill="rgb(160 138 172)">r</text><text x="420" y="805"  fill="rgb(159 138 171)">o</text><text x="423" y="805"  fill="rgb(159 137 171)">w</text><text x="426" y="805"  fill="rgb(159 137 170)"> ne</text><text x="435" y="805"  fill="rgb(159 136 169)">w</text><text x="438" y="805"  fill="rgb(159 137 169)"> </text><text x="441" y="805"  fill="rgb(159 137 168)">I</text><text x="444" y="805"  fill="rgb(158 137 168)">n</text><text x="447" y="805"  fill="rgb(158 136 167)">s</text><text x="450" y="805"  fill="rgb(158 137 167)">i</text><text x="453" y="805"  fill="rgb(159 139 168)">gh</text><text x="459" y="805"  fill="rgb(158 138 167)">t</text><text x="462" y="805"  fill="rgb(159 139 168)">E</text><text x="465" y="805"  fill="rgb(158 138 166)">r</text><text x="468" y="805"  fill="rgb(157 139 166)">r</text><text x="471" y="805"  fill="rgb(157 140 167)">o</text><text x="474" y="805"  fill="rgb(160 141 168)">r</text><text x="477" y="805"  fill="rgb(159 141 167)">(</text><text x="480" y="805"  fill="rgb(160 141 167)">)</text><text x="483" y="805"  fill="rgb(172 159 178)">;</text><text x="486" y="805"  fill="rgb(175 162 180)"> </text><text x="489" y="805"  fill="rgb(172 160 177)">}</text><text x="492" y="805"  fill="rgb(172 159 177)"> </text><text x="495" y="805"  fill="rgb(170 158 175)">e</text><text x="498" y="805"  fill="rgb(169 156 175)">l</text><text x="501" y="805"  fill="rgb(168 154 173)">s</text><text x="504" y="805"  fill="rgb(166 152 172)">e</text><text x="507" y="805"  fill="rgb(164 150 170)"> </text><text x="510" y="805"  fill="rgb(162 147 169)">{</text><text x="513" y="805"  fill="rgb(159 143 166)"> </text><text x="516" y="805"  fill="rgb(156 140 165)">i</text><text x="519" y="805"  fill="rgb(153 136 161)">f</text><text x="522" y="805"  fill="rgb(149 131 159)"> </text><text x="525" y="805"  fill="rgb(147 128 157)">(</text><text x="528" y="805"  fill="rgb(144 126 155)">O</text><text x="531" y="805"  fill="rgb(142 121 153)">b</text><text x="534" y="805"  fill="rgb(140 118 151)">j</text><text x="537" y="805"  fill="rgb(139 116 149)">e</text><text x="540" y="805"  fill="rgb(137 114 148)">c</text><text x="543" y="805"  fill="rgb(136 111 146)">t</text><text x="546" y="805"  fill="rgb(137 113 149)">.</text><text x="549" y="805"  fill="rgb(137 114 150)">k</text><text x="552" y="805"  fill="rgb(121 97 134)">e</text><text x="555" y="805"  fill="rgb(98 72 110)">y</text><text x="558" y="805"  fill="rgb(90 64 102)">s</text><text x="561" y="805"  fill="rgb(96 70 107)">(</text><text x="564" y="805"  fill="rgb(98 74 110)">q</text><text x="567" y="805"  fill="rgb(97 72 109)">)</text><text x="570" y="805"  fill="rgb(96 71 109)">.</text><text x="573" y="805"  fill="rgb(96 72 109)">l</text><text x="576" y="805"  fill="rgb(96 71 108)">en</text><text x="582" y="805"  fill="rgb(97 72 108)">gt</text><text x="588" y="805"  fill="rgb(95 70 107)">h !</text><text x="597" y="805"  fill="rgb(95 71 107)">=</text><text x="600" y="805"  fill="rgb(94 70 107)">=</text><text x="603" y="805"  fill="rgb(94 71 107)"> </text><text x="606" y="805"  fill="rgb(95 71 107)">0</text><text x="609" y="805"  fill="rgb(96 71 107)">) </text><text x="615" y="805"  fill="rgb(95 70 107)">{</text><text x="618" y="805"  fill="rgb(96 71 108)"> </text><text x="621" y="805"  fill="rgb(96 72 108)">th</text><text x="627" y="805"  fill="rgb(98 74 110)">i</text><text x="630" y="805"  fill="rgb(98 76 110)">s</text><text x="633" y="805"  fill="rgb(99 78 111)">.</text><text x="636" y="805"  fill="rgb(101 81 112)">v</text><text x="639" y="805"  fill="rgb(103 82 112)">a</text><text x="642" y="805"  fill="rgb(105 85 114)">l</text><text x="645" y="805"  fill="rgb(107 88 115)">i</text><text x="648" y="805"  fill="rgb(109 91 117)">d</text><text x="651" y="805"  fill="rgb(112 95 119)">a</text><text x="654" y="805"  fill="rgb(115 98 122)">t</text><text x="657" y="805"  fill="rgb(117 101 123)">e</text><text x="660" y="805"  fill="rgb(119 105 125)">F</text><text x="663" y="805"  fill="rgb(122 109 127)">i</text><text x="666" y="805"  fill="rgb(125 112 129)">l</text><text x="669" y="805"  fill="rgb(127 115 131)">t</text><text x="672" y="805"  fill="rgb(129 117 133)">e</text><text x="675" y="805"  fill="rgb(131 119 134)">r</text><text x="678" y="805"  fill="rgb(133 122 136)">(</text><text x="681" y="805"  fill="rgb(133 122 135)">q</text><text x="684" y="805"  fill="rgb(131 121 134)">)</text><text x="687" y="805"  fill="rgb(129 119 132)">;</text><text x="690" y="805"  fill="rgb(128 119 132)"> </text><text x="693" y="805"  fill="rgb(135 126 139)">}</text><text x="696" y="805"  fill="rgb(149 140 153)"> </text><text x="699" y="805"  fill="rgb(164 158 166)">}</text><text x="702" y="805"  fill="rgb(157 149 161)"> </text><text x="705" y="805"  fill="rgb(139 126 145)">}</text><text x="708" y="805"  fill="rgb(138 126 144)"> </text><text x="711" y="805"  fill="rgb(136 122 140)">p</text><text x="714" y="805"  fill="rgb(134 121 138)">r</text><text x="717" y="805"  fill="rgb(130 115 134)">i</text><text x="720" y="805"  fill="rgb(148 137 153)">v</text><text x="723" y="805"  fill="rgb(182 175 185)">a</text><text x="726" y="805"  fill="rgb(178 170 182)">t</text><text x="729" y="805"  fill="rgb(177 169 180)">e</text><text x="732" y="805"  fill="rgb(176 168 179)"> va</text><text x="741" y="805"  fill="rgb(175 166 178)">l</text><text x="744" y="805"  fill="rgb(174 165 177)">i</text><text x="747" y="805"  fill="rgb(173 164 177)">d</text><text x="750" y="805"  fill="rgb(173 164 176)">a</text><text x="753" y="805"  fill="rgb(172 163 176)">t</text><text x="756" y="805"  fill="rgb(171 162 175)">e</text><text x="759" y="805"  fill="rgb(171 161 175)">F</text><text x="762" y="805"  fill="rgb(171 161 174)">i</text><text x="765" y="805"  fill="rgb(170 160 174)">l</text><text x="768" y="805"  fill="rgb(169 160 173)">t</text><text x="771" y="805"  fill="rgb(168 159 173)">e</text><text x="774" y="805"  fill="rgb(168 159 172)">r</text><text x="777" y="805"  fill="rgb(167 158 172)">(</text><text x="780" y="805"  fill="rgb(167 157 171)">q</text><text x="783" y="805"  fill="rgb(166 156 171)">:</text><text x="786" y="805"  fill="rgb(166 156 170)"> </text><text x="789" y="805"  fill="rgb(165 155 170)">a</text><text x="792" y="805"  fill="rgb(164 155 169)">n</text><text x="795" y="805"  fill="rgb(164 154 168)">y)</text><text x="801" y="805"  fill="rgb(163 153 167)">:</text><text x="804" y="805"  fill="rgb(162 152 167)"> </text><text x="807" y="805"  fill="rgb(162 151 167)">v</text><text x="810" y="805"  fill="rgb(161 151 166)">o</text><text x="813" y="805"  fill="rgb(161 149 166)">i</text><text x="816" y="805"  fill="rgb(160 149 165)">d</text><text x="819" y="805"  fill="rgb(159 148 165)"> </text><text x="822" y="805"  fill="rgb(159 147 165)">{</text><text x="825" y="805"  fill="rgb(143 128 149)"> </text><text x="828" y="805"  fill="rgb(180 171 184)">i</text><text x="831" y="805"  fill="rgb(249 249 249)">f</text><text x="834" y="805"  fill="rgb(249 249 248)"> </text><text x="837" y="805"  fill="rgb(245 245 245)">(Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let va</text><text x="0" y="810"  fill="rgb(245 245 245)">lue: any = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;:</text><text x="345" y="810"  fill="rgb(246 246 246)"> </text><text x="348" y="810"  fill="rgb(255 255 253)">t</text><text x="351" y="810"  fill="rgb(202 188 209)">h</text><text x="354" y="810"  fill="rgb(144 111 159)">i</text><text x="357" y="810"  fill="rgb(155 127 169)">s</text><text x="360" y="810"  fill="rgb(159 133 172)">.</text><text x="363" y="810"  fill="rgb(159 132 172)">v</text><text x="366" y="810"  fill="rgb(159 133 173)">ali</text><text x="375" y="810"  fill="rgb(159 135 173)">d</text><text x="378" y="810"  fill="rgb(160 135 173)">a</text><text x="381" y="810"  fill="rgb(161 136 174)">te</text><text x="387" y="810"  fill="rgb(161 137 174)">NO</text><text x="393" y="810"  fill="rgb(161 138 175)">T</text><text x="396" y="810"  fill="rgb(162 138 174)">(</text><text x="399" y="810"  fill="rgb(162 139 174)">v</text><text x="402" y="810"  fill="rgb(162 139 175)">a</text><text x="405" y="810"  fill="rgb(163 140 176)">l</text><text x="408" y="810"  fill="rgb(162 139 175)">u</text><text x="411" y="810"  fill="rgb(160 138 172)">e</text><text x="414" y="810"  fill="rgb(160 138 173)">)</text><text x="417" y="810"  fill="rgb(160 137 172)">; </text><text x="423" y="810"  fill="rgb(160 138 173)">b</text><text x="426" y="810"  fill="rgb(161 139 172)">r</text><text x="429" y="810"  fill="rgb(159 139 171)">e</text><text x="432" y="810"  fill="rgb(159 138 171)">ak</text><text x="438" y="810"  fill="rgb(159 138 170)">; </text><text x="444" y="810"  fill="rgb(159 138 169)">ca</text><text x="450" y="810"  fill="rgb(159 137 167)">s</text><text x="453" y="810"  fill="rgb(158 138 167)">e</text><text x="456" y="810"  fill="rgb(159 138 168)"> </text><text x="459" y="810"  fill="rgb(159 139 168)">&quot;GT</text><text x="468" y="810"  fill="rgb(158 139 168)">&quot;</text><text x="471" y="810"  fill="rgb(156 138 166)">:</text><text x="474" y="810"  fill="rgb(157 138 166)"> </text><text x="477" y="810"  fill="rgb(154 134 163)">c</text><text x="480" y="810"  fill="rgb(160 143 168)">a</text><text x="483" y="810"  fill="rgb(172 158 178)">s</text><text x="486" y="810"  fill="rgb(169 155 177)">e</text><text x="489" y="810"  fill="rgb(170 156 176)"> </text><text x="492" y="810"  fill="rgb(171 158 177)">&quot;</text><text x="495" y="810"  fill="rgb(170 158 178)">L</text><text x="498" y="810"  fill="rgb(171 159 177)">T&quot;</text><text x="504" y="810"  fill="rgb(173 161 178)">:</text><text x="507" y="810"  fill="rgb(173 163 178)"> </text><text x="510" y="810"  fill="rgb(174 163 178)">c</text><text x="513" y="810"  fill="rgb(174 163 179)">a</text><text x="516" y="810"  fill="rgb(173 164 178)">s</text><text x="519" y="810"  fill="rgb(174 164 178)">e</text><text x="522" y="810"  fill="rgb(173 163 176)"> </text><text x="525" y="810"  fill="rgb(172 163 177)">&quot;</text><text x="528" y="810"  fill="rgb(171 161 174)">E</text><text x="531" y="810"  fill="rgb(170 161 174)">Q</text><text x="534" y="810"  fill="rgb(168 160 172)">&quot;</text><text x="537" y="810"  fill="rgb(168 157 171)">:</text><text x="540" y="810"  fill="rgb(166 155 169)"> </text><text x="543" y="810"  fill="rgb(165 154 169)">t</text><text x="546" y="810"  fill="rgb(164 153 169)">h</text><text x="549" y="810"  fill="rgb(162 152 167)">i</text><text x="552" y="810"  fill="rgb(166 156 172)">s</text><text x="555" y="810"  fill="rgb(159 147 164)">.</text><text x="558" y="810"  fill="rgb(130 115 138)">v</text><text x="561" y="810"  fill="rgb(108 89 115)">a</text><text x="564" y="810"  fill="rgb(107 88 115)">l</text><text x="567" y="810"  fill="rgb(113 95 121)">i</text><text x="570" y="810"  fill="rgb(115 97 122)">d</text><text x="573" y="810"  fill="rgb(113 95 121)">a</text><text x="576" y="810"  fill="rgb(111 92 119)">t</text><text x="579" y="810"  fill="rgb(112 93 119)">e</text><text x="582" y="810"  fill="rgb(112 94 119)">G</text><text x="585" y="810"  fill="rgb(113 97 122)">T</text><text x="588" y="810"  fill="rgb(114 96 122)">L</text><text x="591" y="810"  fill="rgb(114 96 120)">T</text><text x="594" y="810"  fill="rgb(114 96 121)">E</text><text x="597" y="810"  fill="rgb(115 99 123)">Q</text><text x="600" y="810"  fill="rgb(116 99 123)">(</text><text x="603" y="810"  fill="rgb(116 100 122)">v</text><text x="606" y="810"  fill="rgb(117 103 123)">a</text><text x="609" y="810"  fill="rgb(119 103 124)">l</text><text x="612" y="810"  fill="rgb(120 105 125)">u</text><text x="615" y="810"  fill="rgb(122 106 126)">e</text><text x="618" y="810"  fill="rgb(122 108 127)">)</text><text x="621" y="810"  fill="rgb(122 110 128)">;</text><text x="624" y="810"  fill="rgb(123 111 129)"> </text><text x="627" y="810"  fill="rgb(125 113 129)">b</text><text x="630" y="810"  fill="rgb(125 115 131)">r</text><text x="633" y="810"  fill="rgb(127 116 131)">e</text><text x="636" y="810"  fill="rgb(128 117 131)">a</text><text x="639" y="810"  fill="rgb(130 119 132)">k</text><text x="642" y="810"  fill="rgb(131 119 133)">;</text><text x="645" y="810"  fill="rgb(131 120 133)"> </text><text x="648" y="810"  fill="rgb(131 121 133)">c</text><text x="651" y="810"  fill="rgb(132 121 134)">a</text><text x="654" y="810"  fill="rgb(133 122 135)">s</text><text x="657" y="810"  fill="rgb(132 122 135)">e</text><text x="660" y="810"  fill="rgb(133 122 135)"> </text><text x="663" y="810"  fill="rgb(133 122 136)">&quot;</text><text x="666" y="810"  fill="rgb(131 120 134)">IS</text><text x="672" y="810"  fill="rgb(131 119 134)">&quot;</text><text x="675" y="810"  fill="rgb(130 118 133)">:</text><text x="678" y="810"  fill="rgb(129 118 133)"> </text><text x="681" y="810"  fill="rgb(129 117 133)">t</text><text x="684" y="810"  fill="rgb(128 117 133)">h</text><text x="687" y="810"  fill="rgb(129 117 133)">i</text><text x="690" y="810"  fill="rgb(127 115 131)">s</text><text x="693" y="810"  fill="rgb(123 112 128)">.</text><text x="696" y="810"  fill="rgb(125 112 129)">v</text><text x="699" y="810"  fill="rgb(128 117 133)">a</text><text x="702" y="810"  fill="rgb(121 107 126)">l</text><text x="705" y="810"  fill="rgb(127 113 132)">i</text><text x="708" y="810"  fill="rgb(137 125 143)">d</text><text x="711" y="810"  fill="rgb(140 127 145)">a</text><text x="714" y="810"  fill="rgb(137 125 142)">t</text><text x="717" y="810"  fill="rgb(135 122 140)">e</text><text x="720" y="810"  fill="rgb(167 158 170)">I</text><text x="723" y="810"  fill="rgb(184 177 185)">S</text><text x="726" y="810"  fill="rgb(177 170 180)">(</text><text x="729" y="810"  fill="rgb(179 171 181)">v</text><text x="732" y="810"  fill="rgb(178 169 181)">a</text><text x="735" y="810"  fill="rgb(178 170 181)">l</text><text x="738" y="810"  fill="rgb(176 168 179)">ue</text><text x="744" y="810"  fill="rgb(176 166 179)">)</text><text x="747" y="810"  fill="rgb(175 165 177)">;</text><text x="750" y="810"  fill="rgb(175 166 178)"> </text><text x="753" y="810"  fill="rgb(173 164 177)">br</text><text x="759" y="810"  fill="rgb(172 162 175)">ea</text><text x="765" y="810"  fill="rgb(172 161 175)">k</text><text x="768" y="810"  fill="rgb(171 160 175)">;</text><text x="771" y="810"  fill="rgb(169 160 173)"> de</text><text x="780" y="810"  fill="rgb(168 159 173)">f</text><text x="783" y="810"  fill="rgb(168 158 171)">a</text><text x="786" y="810"  fill="rgb(166 156 170)">u</text><text x="789" y="810"  fill="rgb(166 156 171)">lt</text><text x="795" y="810"  fill="rgb(165 156 170)">:</text><text x="798" y="810"  fill="rgb(166 156 170)"> </text><text x="801" y="810"  fill="rgb(164 154 168)">th</text><text x="807" y="810"  fill="rgb(162 152 167)">ro</text><text x="813" y="810"  fill="rgb(162 151 168)">w</text><text x="816" y="810"  fill="rgb(161 150 166)"> </text><text x="819" y="810"  fill="rgb(161 150 167)">n</text><text x="822" y="810"  fill="rgb(151 137 156)">e</text><text x="825" y="810"  fill="rgb(161 150 167)">w</text><text x="828" y="810"  fill="rgb(237 236 237)"> </text><text x="831" y="810"  fill="rgb(252 253 252)">I</text><text x="834" y="810"  fill="rgb(244 244 245)">n</text><text x="837" y="810"  fill="rgb(245 245 245)">sightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new Insight</text><text x="0" y="815"  fill="rgb(245 245 245)">Error(); } this.validateFilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { th</text><text x="345" y="815"  fill="rgb(245 244 245)">r</text><text x="348" y="815"  fill="rgb(248 249 248)">o</text><text x="351" y="815"  fill="rgb(251 253 250)">w</text><text x="354" y="815"  fill="rgb(184 164 193)"> </text><text x="357" y="815"  fill="rgb(144 111 159)">n</text><text x="360" y="815"  fill="rgb(157 129 171)">e</text><text x="363" y="815"  fill="rgb(159 132 172)">w </text><text x="369" y="815"  fill="rgb(159 133 173)">In</text><text x="375" y="815"  fill="rgb(159 134 173)">s</text><text x="378" y="815"  fill="rgb(159 135 173)">i</text><text x="381" y="815"  fill="rgb(160 135 173)">gh</text><text x="387" y="815"  fill="rgb(161 136 174)">tE</text><text x="393" y="815"  fill="rgb(161 137 174)">r</text><text x="396" y="815"  fill="rgb(162 138 175)">r</text><text x="399" y="815"  fill="rgb(162 138 174)">o</text><text x="402" y="815"  fill="rgb(163 139 175)">r</text><text x="405" y="815"  fill="rgb(162 139 175)">(</text><text x="408" y="815"  fill="rgb(163 139 175)">)</text><text x="411" y="815"  fill="rgb(162 139 174)">; </text><text x="417" y="815"  fill="rgb(161 138 173)">} i</text><text x="426" y="815"  fill="rgb(161 139 173)">f</text><text x="429" y="815"  fill="rgb(161 139 172)"> (O</text><text x="438" y="815"  fill="rgb(160 139 171)">bj</text><text x="444" y="815"  fill="rgb(159 138 170)">e</text><text x="447" y="815"  fill="rgb(160 140 170)">c</text><text x="450" y="815"  fill="rgb(159 139 169)">t.</text><text x="456" y="815"  fill="rgb(159 138 169)">k</text><text x="459" y="815"  fill="rgb(159 138 168)">e</text><text x="462" y="815"  fill="rgb(159 139 169)">y</text><text x="465" y="815"  fill="rgb(159 139 168)">s(</text><text x="471" y="815"  fill="rgb(158 139 168)">v</text><text x="474" y="815"  fill="rgb(158 138 167)">a</text><text x="477" y="815"  fill="rgb(157 138 166)">l</text><text x="480" y="815"  fill="rgb(169 156 177)">u</text><text x="483" y="815"  fill="rgb(171 157 178)">e)</text><text x="489" y="815"  fill="rgb(170 156 177)">.</text><text x="492" y="815"  fill="rgb(170 156 176)">l</text><text x="495" y="815"  fill="rgb(170 157 177)">e</text><text x="498" y="815"  fill="rgb(169 157 176)">n</text><text x="501" y="815"  fill="rgb(170 157 176)">gt</text><text x="507" y="815"  fill="rgb(169 157 174)">h </text><text x="513" y="815"  fill="rgb(170 159 176)">!</text><text x="516" y="815"  fill="rgb(170 159 175)">=</text><text x="519" y="815"  fill="rgb(170 159 176)">=</text><text x="522" y="815"  fill="rgb(172 160 177)"> </text><text x="525" y="815"  fill="rgb(172 161 177)">1</text><text x="528" y="815"  fill="rgb(173 162 176)">)</text><text x="531" y="815"  fill="rgb(174 163 177)"> </text><text x="534" y="815"  fill="rgb(173 163 177)">{</text><text x="537" y="815"  fill="rgb(173 165 177)"> </text><text x="540" y="815"  fill="rgb(174 165 177)">t</text><text x="543" y="815"  fill="rgb(173 166 177)">h</text><text x="546" y="815"  fill="rgb(174 167 177)">r</text><text x="549" y="815"  fill="rgb(174 167 176)">o</text><text x="552" y="815"  fill="rgb(175 167 177)">w</text><text x="555" y="815"  fill="rgb(179 173 182)"> </text><text x="558" y="815"  fill="rgb(181 175 183)">n</text><text x="561" y="815"  fill="rgb(159 152 163)">e</text><text x="564" y="815"  fill="rgb(130 116 135)">w</text><text x="567" y="815"  fill="rgb(119 105 124)"> </text><text x="570" y="815"  fill="rgb(125 113 128)">I</text><text x="573" y="815"  fill="rgb(126 116 132)">n</text><text x="576" y="815"  fill="rgb(127 116 132)">s</text><text x="579" y="815"  fill="rgb(128 116 133)">i</text><text x="582" y="815"  fill="rgb(128 116 132)">g</text><text x="585" y="815"  fill="rgb(128 116 133)">h</text><text x="588" y="815"  fill="rgb(128 117 133)">t</text><text x="591" y="815"  fill="rgb(129 116 133)">E</text><text x="594" y="815"  fill="rgb(129 118 133)">rr</text><text x="600" y="815"  fill="rgb(130 119 134)">o</text><text x="603" y="815"  fill="rgb(131 119 134)">r</text><text x="606" y="815"  fill="rgb(130 119 134)">()</text><text x="612" y="815"  fill="rgb(131 119 134)">;</text><text x="615" y="815"  fill="rgb(132 120 134)"> </text><text x="618" y="815"  fill="rgb(132 121 135)">}</text><text x="621" y="815"  fill="rgb(131 121 134)"> </text><text x="624" y="815"  fill="rgb(131 120 134)">l</text><text x="627" y="815"  fill="rgb(130 119 133)">e</text><text x="630" y="815"  fill="rgb(131 120 134)">t</text><text x="633" y="815"  fill="rgb(131 119 134)"> </text><text x="636" y="815"  fill="rgb(130 119 133)">s</text><text x="639" y="815"  fill="rgb(130 118 133)">ke</text><text x="645" y="815"  fill="rgb(130 118 132)">y</text><text x="648" y="815"  fill="rgb(129 117 132)">:</text><text x="651" y="815"  fill="rgb(129 117 131)"> </text><text x="654" y="815"  fill="rgb(129 117 132)">s</text><text x="657" y="815"  fill="rgb(128 117 132)">tr</text><text x="663" y="815"  fill="rgb(128 117 133)">i</text><text x="666" y="815"  fill="rgb(129 117 133)">n</text><text x="669" y="815"  fill="rgb(129 117 134)">g</text><text x="672" y="815"  fill="rgb(129 117 133)">[</text><text x="675" y="815"  fill="rgb(129 117 134)">]</text><text x="678" y="815"  fill="rgb(130 118 133)"> </text><text x="681" y="815"  fill="rgb(130 118 134)">=</text><text x="684" y="815"  fill="rgb(130 119 134)"> O</text><text x="690" y="815"  fill="rgb(131 119 135)">b</text><text x="693" y="815"  fill="rgb(131 119 134)">j</text><text x="696" y="815"  fill="rgb(133 122 137)">e</text><text x="699" y="815"  fill="rgb(118 105 123)">c</text><text x="702" y="815"  fill="rgb(104 89 109)">t</text><text x="705" y="815"  fill="rgb(108 93 112)">.</text><text x="708" y="815"  fill="rgb(113 97 117)">k</text><text x="711" y="815"  fill="rgb(122 109 127)">e</text><text x="714" y="815"  fill="rgb(126 114 132)">y</text><text x="717" y="815"  fill="rgb(144 133 149)">s</text><text x="720" y="815"  fill="rgb(186 181 189)">(</text><text x="723" y="815"  fill="rgb(187 180 189)">v</text><text x="726" y="815"  fill="rgb(182 176 185)">a</text><text x="729" y="815"  fill="rgb(180 173 183)">l</text><text x="732" y="815"  fill="rgb(179 172 182)">u</text><text x="735" y="815"  fill="rgb(179 171 181)">e</text><text x="738" y="815"  fill="rgb(178 170 181)">)</text><text x="741" y="815"  fill="rgb(177 169 180)">[</text><text x="744" y="815"  fill="rgb(176 168 179)">0</text><text x="747" y="815"  fill="rgb(176 167 179)">].</text><text x="753" y="815"  fill="rgb(175 166 178)">s</text><text x="756" y="815"  fill="rgb(174 165 177)">p</text><text x="759" y="815"  fill="rgb(173 164 177)">l</text><text x="762" y="815"  fill="rgb(173 163 176)">it</text><text x="768" y="815"  fill="rgb(172 162 175)">(</text><text x="771" y="815"  fill="rgb(171 161 175)">&quot;</text><text x="774" y="815"  fill="rgb(170 161 174)">_</text><text x="777" y="815"  fill="rgb(170 160 174)">&quot;</text><text x="780" y="815"  fill="rgb(169 160 173)">);</text><text x="786" y="815"  fill="rgb(168 158 172)"> </text><text x="789" y="815"  fill="rgb(167 157 171)">if</text><text x="795" y="815"  fill="rgb(166 157 171)"> </text><text x="798" y="815"  fill="rgb(166 156 170)">(</text><text x="801" y="815"  fill="rgb(165 155 170)">s</text><text x="804" y="815"  fill="rgb(165 155 169)">k</text><text x="807" y="815"  fill="rgb(164 154 169)">e</text><text x="810" y="815"  fill="rgb(163 153 168)">y.</text><text x="816" y="815"  fill="rgb(163 152 168)">l</text><text x="819" y="815"  fill="rgb(157 145 163)">e</text><text x="822" y="815"  fill="rgb(155 143 159)">n</text><text x="825" y="815"  fill="rgb(220 216 220)">g</text><text x="828" y="815"  fill="rgb(253 254 253)">t</text><text x="831" y="815"  fill="rgb(244 244 244)">h</text><text x="834" y="815"  fill="rgb(245 245 245)"> !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let </text><text x="0" y="820"  fill="rgb(245 245 245)">str: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slice</text><text x="348" y="820"  fill="rgb(244 244 244)">(</text><text x="351" y="820"  fill="rgb(250 252 249)">1</text><text x="354" y="820"  fill="rgb(242 241 242)">,</text><text x="357" y="820"  fill="rgb(172 149 183)"> </text><text x="360" y="820"  fill="rgb(146 115 161)">-</text><text x="363" y="820"  fill="rgb(159 132 172)">1).i</text><text x="375" y="820"  fill="rgb(159 133 173)">nc</text><text x="381" y="820"  fill="rgb(159 135 173)">l</text><text x="384" y="820"  fill="rgb(160 135 173)">ud</text><text x="390" y="820"  fill="rgb(161 136 174)">es</text><text x="396" y="820"  fill="rgb(161 137 174)">(</text><text x="399" y="820"  fill="rgb(162 138 175)">&quot;</text><text x="402" y="820"  fill="rgb(162 138 174)">*&quot;</text><text x="408" y="820"  fill="rgb(162 139 175)">)) |</text><text x="420" y="820"  fill="rgb(162 139 174)">|</text><text x="423" y="820"  fill="rgb(162 139 173)"> </text><text x="426" y="820"  fill="rgb(162 140 174)">!</text><text x="429" y="820"  fill="rgb(161 139 173)">t</text><text x="432" y="820"  fill="rgb(161 140 173)">h</text><text x="435" y="820"  fill="rgb(161 139 172)">i</text><text x="438" y="820"  fill="rgb(161 140 172)">s</text><text x="441" y="820"  fill="rgb(161 140 171)">.v</text><text x="447" y="820"  fill="rgb(160 139 170)">a</text><text x="450" y="820"  fill="rgb(160 140 170)">lid</text><text x="459" y="820"  fill="rgb(160 139 170)">a</text><text x="462" y="820"  fill="rgb(159 139 169)">teI</text><text x="471" y="820"  fill="rgb(159 140 169)">d</text><text x="474" y="820"  fill="rgb(157 137 166)">s</text><text x="477" y="820"  fill="rgb(164 146 173)">t</text><text x="480" y="820"  fill="rgb(172 159 181)">r</text><text x="483" y="820"  fill="rgb(171 157 179)">i</text><text x="486" y="820"  fill="rgb(171 157 178)">n</text><text x="489" y="820"  fill="rgb(172 158 179)">g</text><text x="492" y="820"  fill="rgb(171 158 177)">(</text><text x="495" y="820"  fill="rgb(171 158 178)">id</text><text x="501" y="820"  fill="rgb(171 159 178)">s</text><text x="504" y="820"  fill="rgb(171 158 177)">t</text><text x="507" y="820"  fill="rgb(171 159 177)">r</text><text x="510" y="820"  fill="rgb(172 159 177)">i</text><text x="513" y="820"  fill="rgb(171 159 176)">n</text><text x="516" y="820"  fill="rgb(170 159 176)">g</text><text x="519" y="820"  fill="rgb(170 159 175)">)</text><text x="522" y="820"  fill="rgb(171 159 176)"> ||</text><text x="531" y="820"  fill="rgb(171 159 175)"> </text><text x="534" y="820"  fill="rgb(171 159 176)">!</text><text x="537" y="820"  fill="rgb(170 160 175)">th</text><text x="543" y="820"  fill="rgb(170 161 175)">i</text><text x="546" y="820"  fill="rgb(171 160 175)">s</text><text x="549" y="820"  fill="rgb(170 160 174)">.</text><text x="552" y="820"  fill="rgb(170 160 173)">sf</text><text x="558" y="820"  fill="rgb(174 165 177)">i</text><text x="561" y="820"  fill="rgb(179 173 183)">e</text><text x="564" y="820"  fill="rgb(170 162 173)">l</text><text x="567" y="820"  fill="rgb(145 133 149)">d</text><text x="570" y="820"  fill="rgb(123 110 129)">s</text><text x="573" y="820"  fill="rgb(118 106 125)">.</text><text x="576" y="820"  fill="rgb(124 110 130)">i</text><text x="579" y="820"  fill="rgb(127 112 131)">n</text><text x="582" y="820"  fill="rgb(127 113 132)">c</text><text x="585" y="820"  fill="rgb(125 112 130)">l</text><text x="588" y="820"  fill="rgb(126 114 131)">u</text><text x="591" y="820"  fill="rgb(126 113 131)">d</text><text x="594" y="820"  fill="rgb(127 114 131)">es(</text><text x="603" y="820"  fill="rgb(128 116 132)">s</text><text x="606" y="820"  fill="rgb(127 115 132)">fi</text><text x="612" y="820"  fill="rgb(128 116 132)">eld</text><text x="621" y="820"  fill="rgb(129 116 132)">)</text><text x="624" y="820"  fill="rgb(129 116 133)">)</text><text x="627" y="820"  fill="rgb(128 116 132)"> </text><text x="630" y="820"  fill="rgb(129 116 133)">{</text><text x="633" y="820"  fill="rgb(128 116 132)"> </text><text x="636" y="820"  fill="rgb(128 117 132)">th</text><text x="642" y="820"  fill="rgb(129 118 133)">ro</text><text x="648" y="820"  fill="rgb(129 119 134)">w</text><text x="651" y="820"  fill="rgb(130 119 134)"> n</text><text x="657" y="820"  fill="rgb(131 120 134)">e</text><text x="660" y="820"  fill="rgb(131 119 134)">w I</text><text x="669" y="820"  fill="rgb(130 118 134)">n</text><text x="672" y="820"  fill="rgb(131 119 135)">s</text><text x="675" y="820"  fill="rgb(131 119 134)">i</text><text x="678" y="820"  fill="rgb(131 121 135)">g</text><text x="681" y="820"  fill="rgb(132 120 135)">h</text><text x="684" y="820"  fill="rgb(132 121 135)">t</text><text x="687" y="820"  fill="rgb(131 121 135)">Er</text><text x="693" y="820"  fill="rgb(135 124 137)">r</text><text x="696" y="820"  fill="rgb(130 118 133)">o</text><text x="699" y="820"  fill="rgb(113 100 119)">r</text><text x="702" y="820"  fill="rgb(112 97 117)">(</text><text x="705" y="820"  fill="rgb(111 96 115)">)</text><text x="708" y="820"  fill="rgb(109 95 114)">;</text><text x="711" y="820"  fill="rgb(108 94 114)"> </text><text x="714" y="820"  fill="rgb(107 91 112)">}</text><text x="717" y="820"  fill="rgb(136 124 140)"> </text><text x="720" y="820"  fill="rgb(164 156 166)">}</text><text x="723" y="820"  fill="rgb(170 163 173)"> </text><text x="726" y="820"  fill="rgb(180 173 182)">}</text><text x="729" y="820"  fill="rgb(183 177 186)"> </text><text x="732" y="820"  fill="rgb(184 179 187)">}</text><text x="735" y="820"  fill="rgb(184 177 185)"> </text><text x="738" y="820"  fill="rgb(181 174 183)">p</text><text x="741" y="820"  fill="rgb(179 172 182)">r</text><text x="744" y="820"  fill="rgb(178 171 181)">i</text><text x="747" y="820"  fill="rgb(177 169 180)">v</text><text x="750" y="820"  fill="rgb(177 168 180)">a</text><text x="753" y="820"  fill="rgb(176 168 179)">t</text><text x="756" y="820"  fill="rgb(175 166 178)">e v</text><text x="765" y="820"  fill="rgb(174 165 177)">a</text><text x="768" y="820"  fill="rgb(173 164 177)">l</text><text x="771" y="820"  fill="rgb(172 163 176)">i</text><text x="774" y="820"  fill="rgb(173 163 176)">d</text><text x="777" y="820"  fill="rgb(172 162 175)">a</text><text x="780" y="820"  fill="rgb(171 161 175)">te</text><text x="786" y="820"  fill="rgb(169 160 173)">GT</text><text x="792" y="820"  fill="rgb(168 159 173)">L</text><text x="795" y="820"  fill="rgb(168 159 172)">T</text><text x="798" y="820"  fill="rgb(168 157 172)">E</text><text x="801" y="820"  fill="rgb(167 156 171)">Q</text><text x="804" y="820"  fill="rgb(166 156 170)">(</text><text x="807" y="820"  fill="rgb(165 156 170)">v</text><text x="810" y="820"  fill="rgb(166 156 170)">a</text><text x="813" y="820"  fill="rgb(165 155 169)">l</text><text x="816" y="820"  fill="rgb(163 153 167)">u</text><text x="819" y="820"  fill="rgb(153 141 158)">e</text><text x="822" y="820"  fill="rgb(201 194 203)">:</text><text x="825" y="820"  fill="rgb(251 251 250)"> </text><text x="828" y="820"  fill="rgb(246 245 246)">a</text><text x="831" y="820"  fill="rgb(245 245 245)">ny): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let </text><text x="0" y="825"  fill="rgb(245 245 245)">mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let id</text><text x="351" y="825"  fill="rgb(245 244 245)">s</text><text x="354" y="825"  fill="rgb(251 253 250)">t</text><text x="357" y="825"  fill="rgb(232 228 234)">r</text><text x="360" y="825"  fill="rgb(163 137 177)">i</text><text x="363" y="825"  fill="rgb(146 114 161)">n</text><text x="366" y="825"  fill="rgb(159 133 173)">g</text><text x="369" y="825"  fill="rgb(159 132 172)">: </text><text x="375" y="825"  fill="rgb(159 133 173)">st</text><text x="381" y="825"  fill="rgb(159 134 173)">r</text><text x="384" y="825"  fill="rgb(159 135 173)">i</text><text x="387" y="825"  fill="rgb(160 135 173)">ng</text><text x="393" y="825"  fill="rgb(161 136 174)"> </text><text x="396" y="825"  fill="rgb(161 137 174)">= </text><text x="402" y="825"  fill="rgb(162 138 175)">m</text><text x="405" y="825"  fill="rgb(162 138 174)">k</text><text x="408" y="825"  fill="rgb(163 139 174)">e</text><text x="411" y="825"  fill="rgb(162 139 175)">y[</text><text x="417" y="825"  fill="rgb(163 140 175)">0];</text><text x="426" y="825"  fill="rgb(163 141 174)"> l</text><text x="432" y="825"  fill="rgb(161 141 173)">e</text><text x="435" y="825"  fill="rgb(161 141 174)">t</text><text x="438" y="825"  fill="rgb(161 140 172)"> </text><text x="441" y="825"  fill="rgb(162 141 173)">m</text><text x="444" y="825"  fill="rgb(161 140 172)">fi</text><text x="450" y="825"  fill="rgb(161 140 171)">e</text><text x="453" y="825"  fill="rgb(160 141 171)">l</text><text x="456" y="825"  fill="rgb(161 141 170)">d</text><text x="459" y="825"  fill="rgb(160 140 170)">: s</text><text x="468" y="825"  fill="rgb(159 140 169)">t</text><text x="471" y="825"  fill="rgb(160 140 170)">r</text><text x="474" y="825"  fill="rgb(158 138 168)">i</text><text x="477" y="825"  fill="rgb(171 153 178)">n</text><text x="480" y="825"  fill="rgb(173 158 181)">g</text><text x="483" y="825"  fill="rgb(172 157 180)"> </text><text x="486" y="825"  fill="rgb(172 158 179)">= m</text><text x="495" y="825"  fill="rgb(171 158 178)">k</text><text x="498" y="825"  fill="rgb(172 159 179)">e</text><text x="501" y="825"  fill="rgb(171 158 178)">y</text><text x="504" y="825"  fill="rgb(171 159 178)">[</text><text x="507" y="825"  fill="rgb(172 159 178)">1]</text><text x="513" y="825"  fill="rgb(172 159 177)">;</text><text x="516" y="825"  fill="rgb(171 159 177)"> </text><text x="519" y="825"  fill="rgb(172 160 177)">l</text><text x="522" y="825"  fill="rgb(171 159 176)">et</text><text x="528" y="825"  fill="rgb(172 160 176)"> nu</text><text x="537" y="825"  fill="rgb(171 160 176)">m</text><text x="540" y="825"  fill="rgb(171 161 176)">:</text><text x="543" y="825"  fill="rgb(171 161 175)"> </text><text x="546" y="825"  fill="rgb(172 162 176)">a</text><text x="549" y="825"  fill="rgb(172 162 175)">n</text><text x="552" y="825"  fill="rgb(172 162 174)">y</text><text x="555" y="825"  fill="rgb(171 161 174)"> </text><text x="558" y="825"  fill="rgb(170 161 174)">=</text><text x="561" y="825"  fill="rgb(172 163 176)"> </text><text x="564" y="825"  fill="rgb(176 168 179)">O</text><text x="567" y="825"  fill="rgb(178 170 181)">b</text><text x="570" y="825"  fill="rgb(162 153 166)">j</text><text x="573" y="825"  fill="rgb(134 123 140)">e</text><text x="576" y="825"  fill="rgb(119 104 124)">c</text><text x="579" y="825"  fill="rgb(120 105 125)">t</text><text x="582" y="825"  fill="rgb(125 111 130)">.</text><text x="585" y="825"  fill="rgb(127 113 132)">v</text><text x="588" y="825"  fill="rgb(128 113 131)">a</text><text x="591" y="825"  fill="rgb(128 115 132)">lu</text><text x="597" y="825"  fill="rgb(128 116 132)">e</text><text x="600" y="825"  fill="rgb(128 115 132)">s</text><text x="603" y="825"  fill="rgb(128 116 132)">(v</text><text x="609" y="825"  fill="rgb(129 117 133)">alu</text><text x="618" y="825"  fill="rgb(130 118 134)">e</text><text x="621" y="825"  fill="rgb(130 117 134)">)</text><text x="624" y="825"  fill="rgb(129 118 133)">[0]</text><text x="633" y="825"  fill="rgb(129 119 133)">;</text><text x="636" y="825"  fill="rgb(130 119 134)"> i</text><text x="642" y="825"  fill="rgb(130 119 133)">f</text><text x="645" y="825"  fill="rgb(130 119 134)"> (</text><text x="651" y="825"  fill="rgb(131 120 134)">(ty</text><text x="660" y="825"  fill="rgb(131 121 135)">p</text><text x="663" y="825"  fill="rgb(131 121 134)">e</text><text x="666" y="825"  fill="rgb(132 120 134)">o</text><text x="669" y="825"  fill="rgb(132 121 135)">f</text><text x="672" y="825"  fill="rgb(131 121 135)"> n</text><text x="678" y="825"  fill="rgb(133 122 135)">u</text><text x="681" y="825"  fill="rgb(132 122 135)">m</text><text x="684" y="825"  fill="rgb(133 122 135)"> </text><text x="687" y="825"  fill="rgb(132 122 135)">!</text><text x="690" y="825"  fill="rgb(135 125 137)">=</text><text x="693" y="825"  fill="rgb(135 126 138)">=</text><text x="696" y="825"  fill="rgb(119 106 123)"> </text><text x="699" y="825"  fill="rgb(111 97 117)">&quot;</text><text x="702" y="825"  fill="rgb(114 100 120)">n</text><text x="705" y="825"  fill="rgb(114 100 119)">u</text><text x="708" y="825"  fill="rgb(114 101 120)">m</text><text x="711" y="825"  fill="rgb(111 96 116)">b</text><text x="714" y="825"  fill="rgb(116 102 121)">e</text><text x="717" y="825"  fill="rgb(144 133 147)">r</text><text x="720" y="825"  fill="rgb(144 135 147)">&quot;</text><text x="723" y="825"  fill="rgb(145 135 148)">)</text><text x="726" y="825"  fill="rgb(151 141 154)"> </text><text x="729" y="825"  fill="rgb(158 150 160)">|</text><text x="732" y="825"  fill="rgb(165 158 169)">|</text><text x="735" y="825"  fill="rgb(175 167 177)"> </text><text x="738" y="825"  fill="rgb(180 173 182)">!</text><text x="741" y="825"  fill="rgb(183 176 185)">t</text><text x="744" y="825"  fill="rgb(184 177 186)">h</text><text x="747" y="825"  fill="rgb(183 176 185)">i</text><text x="750" y="825"  fill="rgb(182 174 184)">s</text><text x="753" y="825"  fill="rgb(179 171 181)">.</text><text x="756" y="825"  fill="rgb(178 170 181)">v</text><text x="759" y="825"  fill="rgb(176 168 179)">a</text><text x="762" y="825"  fill="rgb(176 167 179)">l</text><text x="765" y="825"  fill="rgb(175 166 178)">i</text><text x="768" y="825"  fill="rgb(174 165 177)">d</text><text x="771" y="825"  fill="rgb(173 164 177)">a</text><text x="774" y="825"  fill="rgb(172 163 176)">te</text><text x="780" y="825"  fill="rgb(172 162 175)">I</text><text x="783" y="825"  fill="rgb(171 161 175)">d</text><text x="786" y="825"  fill="rgb(170 160 174)">s</text><text x="789" y="825"  fill="rgb(169 160 173)">tr</text><text x="795" y="825"  fill="rgb(168 159 173)">in</text><text x="801" y="825"  fill="rgb(167 158 171)">g</text><text x="804" y="825"  fill="rgb(167 157 171)">(</text><text x="807" y="825"  fill="rgb(166 156 170)">i</text><text x="810" y="825"  fill="rgb(167 157 172)">d</text><text x="813" y="825"  fill="rgb(165 156 170)">s</text><text x="816" y="825"  fill="rgb(152 140 155)">t</text><text x="819" y="825"  fill="rgb(189 182 191)">r</text><text x="822" y="825"  fill="rgb(246 246 246)">i</text><text x="825" y="825"  fill="rgb(248 248 248)">n</text><text x="828" y="825"  fill="rgb(245 245 245)">g) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: any): void {</text><text x="0" y="830"  fill="rgb(245 245 245)"> if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { this.va</text><text x="354" y="830"  fill="rgb(246 246 246)">l</text><text x="357" y="830"  fill="rgb(252 254 251)">i</text><text x="360" y="830"  fill="rgb(229 222 231)">d</text><text x="363" y="830"  fill="rgb(156 128 170)">a</text><text x="366" y="830"  fill="rgb(145 114 161)">t</text><text x="369" y="830"  fill="rgb(160 134 174)">e</text><text x="372" y="830"  fill="rgb(159 132 173)">F</text><text x="375" y="830"  fill="rgb(159 132 172)">il</text><text x="381" y="830"  fill="rgb(159 133 173)">t</text><text x="384" y="830"  fill="rgb(159 134 173)">e</text><text x="387" y="830"  fill="rgb(159 135 173)">r</text><text x="390" y="830"  fill="rgb(160 135 173)">(i</text><text x="396" y="830"  fill="rgb(161 136 174)">n</text><text x="399" y="830"  fill="rgb(161 137 174)">ne</text><text x="405" y="830"  fill="rgb(162 138 175)">r</text><text x="408" y="830"  fill="rgb(162 138 174)">O</text><text x="411" y="830"  fill="rgb(162 139 175)">bj</text><text x="417" y="830"  fill="rgb(163 140 176)">ec</text><text x="423" y="830"  fill="rgb(163 140 175)">t</text><text x="426" y="830"  fill="rgb(164 141 176)">)</text><text x="429" y="830"  fill="rgb(163 141 175)">;</text><text x="432" y="830"  fill="rgb(163 141 174)"> }</text><text x="438" y="830"  fill="rgb(162 141 174)"> </text><text x="441" y="830"  fill="rgb(161 140 174)">}</text><text x="444" y="830"  fill="rgb(162 141 174)"> </text><text x="447" y="830"  fill="rgb(162 141 173)">pr</text><text x="453" y="830"  fill="rgb(163 142 173)">i</text><text x="456" y="830"  fill="rgb(161 141 172)">va</text><text x="462" y="830"  fill="rgb(161 141 171)">te</text><text x="468" y="830"  fill="rgb(161 142 171)"> </text><text x="471" y="830"  fill="rgb(159 138 168)">v</text><text x="474" y="830"  fill="rgb(162 143 172)">a</text><text x="477" y="830"  fill="rgb(173 157 182)">l</text><text x="480" y="830"  fill="rgb(173 156 180)">i</text><text x="483" y="830"  fill="rgb(173 157 180)">d</text><text x="486" y="830"  fill="rgb(172 157 180)">a</text><text x="489" y="830"  fill="rgb(173 158 181)">t</text><text x="492" y="830"  fill="rgb(172 158 180)">e</text><text x="495" y="830"  fill="rgb(172 159 180)">Id</text><text x="501" y="830"  fill="rgb(172 159 179)">s</text><text x="504" y="830"  fill="rgb(173 159 179)">t</text><text x="507" y="830"  fill="rgb(172 159 178)">r</text><text x="510" y="830"  fill="rgb(172 159 179)">i</text><text x="513" y="830"  fill="rgb(172 160 179)">n</text><text x="516" y="830"  fill="rgb(172 159 178)">g</text><text x="519" y="830"  fill="rgb(172 160 178)">(</text><text x="522" y="830"  fill="rgb(172 160 177)">i</text><text x="525" y="830"  fill="rgb(173 161 178)">d</text><text x="528" y="830"  fill="rgb(172 160 177)">s</text><text x="531" y="830"  fill="rgb(173 161 178)">t</text><text x="534" y="830"  fill="rgb(173 161 177)">r</text><text x="537" y="830"  fill="rgb(172 161 177)">in</text><text x="543" y="830"  fill="rgb(172 162 177)">g</text><text x="546" y="830"  fill="rgb(171 162 176)">: s</text><text x="555" y="830"  fill="rgb(172 162 175)">t</text><text x="558" y="830"  fill="rgb(171 162 175)">rin</text><text x="567" y="830"  fill="rgb(172 164 175)">g</text><text x="570" y="830"  fill="rgb(178 171 181)">)</text><text x="573" y="830"  fill="rgb(176 169 179)">:</text><text x="576" y="830"  fill="rgb(153 143 157)"> </text><text x="579" y="830"  fill="rgb(126 113 132)">b</text><text x="582" y="830"  fill="rgb(119 105 124)">o</text><text x="585" y="830"  fill="rgb(124 110 130)">o</text><text x="588" y="830"  fill="rgb(129 115 134)">l</text><text x="591" y="830"  fill="rgb(129 116 133)">e</text><text x="594" y="830"  fill="rgb(128 116 133)">a</text><text x="597" y="830"  fill="rgb(129 117 134)">n</text><text x="600" y="830"  fill="rgb(130 117 134)"> </text><text x="603" y="830"  fill="rgb(129 117 134)">{ </text><text x="609" y="830"  fill="rgb(129 118 133)">i</text><text x="612" y="830"  fill="rgb(129 117 133)">f</text><text x="615" y="830"  fill="rgb(130 118 135)"> </text><text x="618" y="830"  fill="rgb(130 118 134)">(</text><text x="621" y="830"  fill="rgb(131 119 134)">t</text><text x="624" y="830"  fill="rgb(131 120 135)">h</text><text x="627" y="830"  fill="rgb(131 120 134)">is</text><text x="633" y="830"  fill="rgb(131 120 135)">.</text><text x="636" y="830"  fill="rgb(132 121 134)">i</text><text x="639" y="830"  fill="rgb(132 121 135)">d</text><text x="642" y="830"  fill="rgb(132 120 134)">I</text><text x="645" y="830"  fill="rgb(132 121 134)">n</text><text x="648" y="830"  fill="rgb(132 122 135)">Qu</text><text x="654" y="830"  fill="rgb(133 123 136)">e</text><text x="657" y="830"  fill="rgb(132 122 135)">ry</text><text x="663" y="830"  fill="rgb(132 123 135)">.</text><text x="666" y="830"  fill="rgb(133 123 135)">len</text><text x="675" y="830"  fill="rgb(134 123 136)">gt</text><text x="681" y="830"  fill="rgb(133 123 136)">h</text><text x="684" y="830"  fill="rgb(134 124 136)"> =</text><text x="690" y="830"  fill="rgb(138 128 140)">=</text><text x="693" y="830"  fill="rgb(126 114 130)">=</text><text x="696" y="830"  fill="rgb(112 98 117)"> </text><text x="699" y="830"  fill="rgb(113 101 119)">0</text><text x="702" y="830"  fill="rgb(115 101 121)">)</text><text x="705" y="830"  fill="rgb(115 101 120)"> </text><text x="708" y="830"  fill="rgb(115 102 120)">{</text><text x="711" y="830"  fill="rgb(110 95 115)"> </text><text x="714" y="830"  fill="rgb(135 124 140)">f</text><text x="717" y="830"  fill="rgb(153 145 157)">o</text><text x="720" y="830"  fill="rgb(150 141 153)">r</text><text x="723" y="830"  fill="rgb(148 139 153)"> </text><text x="726" y="830"  fill="rgb(146 137 150)">(</text><text x="729" y="830"  fill="rgb(144 136 148)">l</text><text x="732" y="830"  fill="rgb(144 134 147)">e</text><text x="735" y="830"  fill="rgb(147 137 150)">t</text><text x="738" y="830"  fill="rgb(152 144 155)"> </text><text x="741" y="830"  fill="rgb(160 150 163)">i</text><text x="744" y="830"  fill="rgb(167 158 171)">n</text><text x="747" y="830"  fill="rgb(174 166 177)">s</text><text x="750" y="830"  fill="rgb(178 172 181)">i</text><text x="753" y="830"  fill="rgb(182 174 183)">g</text><text x="756" y="830"  fill="rgb(183 174 185)">h</text><text x="759" y="830"  fill="rgb(182 175 185)">t</text><text x="762" y="830"  fill="rgb(181 174 185)">D</text><text x="765" y="830"  fill="rgb(180 172 183)">a</text><text x="768" y="830"  fill="rgb(180 171 183)">t</text><text x="771" y="830"  fill="rgb(178 169 181)">a</text><text x="774" y="830"  fill="rgb(176 167 180)">s</text><text x="777" y="830"  fill="rgb(175 166 179)">e</text><text x="780" y="830"  fill="rgb(174 165 178)">t</text><text x="783" y="830"  fill="rgb(173 163 176)"> </text><text x="786" y="830"  fill="rgb(172 162 175)">o</text><text x="789" y="830"  fill="rgb(171 161 175)">f</text><text x="792" y="830"  fill="rgb(171 160 174)"> </text><text x="795" y="830"  fill="rgb(170 160 174)">t</text><text x="798" y="830"  fill="rgb(169 160 174)">h</text><text x="801" y="830"  fill="rgb(168 160 173)">i</text><text x="804" y="830"  fill="rgb(168 160 172)">s</text><text x="807" y="830"  fill="rgb(169 160 174)">.</text><text x="810" y="830"  fill="rgb(170 159 173)">a</text><text x="813" y="830"  fill="rgb(152 141 158)">l</text><text x="816" y="830"  fill="rgb(180 171 183)">l</text><text x="819" y="830"  fill="rgb(245 245 245)">I</text><text x="822" y="830"  fill="rgb(250 251 250)">n</text><text x="825" y="830"  fill="rgb(245 245 245)">sightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.kind === I</text><text x="0" y="835"  fill="rgb(245 245 245)">nsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { this.mfield</text><text x="357" y="835"  fill="rgb(246 246 246)">s</text><text x="360" y="835"  fill="rgb(253 255 252)"> </text><text x="363" y="835"  fill="rgb(228 220 229)">=</text><text x="366" y="835"  fill="rgb(155 126 169)"> </text><text x="369" y="835"  fill="rgb(146 116 162)">t</text><text x="372" y="835"  fill="rgb(159 133 174)">h</text><text x="375" y="835"  fill="rgb(158 131 172)">i</text><text x="378" y="835"  fill="rgb(159 132 172)">s</text><text x="381" y="835"  fill="rgb(159 133 173)">.ro</text><text x="390" y="835"  fill="rgb(159 135 173)">o</text><text x="393" y="835"  fill="rgb(160 135 173)">m</text><text x="396" y="835"  fill="rgb(161 136 174)">mfi</text><text x="405" y="835"  fill="rgb(161 137 174)">e</text><text x="408" y="835"  fill="rgb(161 137 175)">l</text><text x="411" y="835"  fill="rgb(162 138 175)">d</text><text x="414" y="835"  fill="rgb(162 139 174)">s</text><text x="417" y="835"  fill="rgb(162 139 176)">;</text><text x="420" y="835"  fill="rgb(163 140 176)"> t</text><text x="426" y="835"  fill="rgb(164 141 176)">his.</text><text x="438" y="835"  fill="rgb(164 142 175)">s</text><text x="441" y="835"  fill="rgb(162 142 174)">f</text><text x="444" y="835"  fill="rgb(164 143 176)">i</text><text x="447" y="835"  fill="rgb(162 141 175)">e</text><text x="450" y="835"  fill="rgb(162 141 174)">l</text><text x="453" y="835"  fill="rgb(163 141 174)">d</text><text x="456" y="835"  fill="rgb(163 142 174)">s</text><text x="459" y="835"  fill="rgb(162 141 173)"> </text><text x="462" y="835"  fill="rgb(161 141 173)">=</text><text x="465" y="835"  fill="rgb(162 142 172)"> t</text><text x="471" y="835"  fill="rgb(158 137 168)">h</text><text x="474" y="835"  fill="rgb(168 149 177)">i</text><text x="477" y="835"  fill="rgb(175 158 183)">s</text><text x="480" y="835"  fill="rgb(174 156 182)">.</text><text x="483" y="835"  fill="rgb(173 156 181)">r</text><text x="486" y="835"  fill="rgb(173 158 180)">o</text><text x="489" y="835"  fill="rgb(173 158 181)">om</text><text x="495" y="835"  fill="rgb(174 158 180)">s</text><text x="498" y="835"  fill="rgb(173 159 181)">f</text><text x="501" y="835"  fill="rgb(173 160 181)">i</text><text x="504" y="835"  fill="rgb(174 160 180)">e</text><text x="507" y="835"  fill="rgb(174 159 180)">l</text><text x="510" y="835"  fill="rgb(174 159 179)">d</text><text x="513" y="835"  fill="rgb(172 159 179)">s</text><text x="516" y="835"  fill="rgb(173 160 178)">;</text><text x="519" y="835"  fill="rgb(173 160 179)"> </text><text x="522" y="835"  fill="rgb(173 161 179)">}</text><text x="525" y="835"  fill="rgb(173 160 178)"> </text><text x="528" y="835"  fill="rgb(172 160 177)">r</text><text x="531" y="835"  fill="rgb(173 162 178)">e</text><text x="534" y="835"  fill="rgb(173 161 177)">t</text><text x="537" y="835"  fill="rgb(173 162 178)">ur</text><text x="543" y="835"  fill="rgb(173 163 178)">n</text><text x="546" y="835"  fill="rgb(174 163 178)"> </text><text x="549" y="835"  fill="rgb(173 163 178)">t</text><text x="552" y="835"  fill="rgb(172 164 178)">r</text><text x="555" y="835"  fill="rgb(172 164 177)">u</text><text x="558" y="835"  fill="rgb(173 164 177)">e</text><text x="561" y="835"  fill="rgb(171 162 175)">; </text><text x="567" y="835"  fill="rgb(172 163 175)">}</text><text x="570" y="835"  fill="rgb(171 163 174)"> </text><text x="573" y="835"  fill="rgb(175 167 177)">}</text><text x="576" y="835"  fill="rgb(180 174 183)"> </text><text x="579" y="835"  fill="rgb(171 164 174)">r</text><text x="582" y="835"  fill="rgb(146 137 151)">e</text><text x="585" y="835"  fill="rgb(126 113 131)">t</text><text x="588" y="835"  fill="rgb(123 108 128)">u</text><text x="591" y="835"  fill="rgb(128 115 133)">r</text><text x="594" y="835"  fill="rgb(130 118 135)">n </text><text x="600" y="835"  fill="rgb(131 118 135)">f</text><text x="603" y="835"  fill="rgb(131 119 135)">al</text><text x="609" y="835"  fill="rgb(130 120 135)">s</text><text x="612" y="835"  fill="rgb(131 120 135)">e</text><text x="615" y="835"  fill="rgb(131 119 135)">;</text><text x="618" y="835"  fill="rgb(132 119 136)"> </text><text x="621" y="835"  fill="rgb(132 120 135)">}</text><text x="624" y="835"  fill="rgb(133 122 136)"> el</text><text x="633" y="835"  fill="rgb(133 121 135)">s</text><text x="636" y="835"  fill="rgb(134 123 136)">e</text><text x="639" y="835"  fill="rgb(134 123 135)"> </text><text x="642" y="835"  fill="rgb(134 123 136)">{ </text><text x="648" y="835"  fill="rgb(134 124 136)">r</text><text x="651" y="835"  fill="rgb(134 124 135)">e</text><text x="654" y="835"  fill="rgb(134 124 137)">t</text><text x="657" y="835"  fill="rgb(134 124 136)">u</text><text x="660" y="835"  fill="rgb(134 124 135)">r</text><text x="663" y="835"  fill="rgb(134 124 137)">n</text><text x="666" y="835"  fill="rgb(135 125 137)"> t</text><text x="672" y="835"  fill="rgb(135 124 137)">hi</text><text x="678" y="835"  fill="rgb(135 125 137)">s</text><text x="681" y="835"  fill="rgb(135 124 136)">.</text><text x="684" y="835"  fill="rgb(135 125 137)">i</text><text x="687" y="835"  fill="rgb(138 129 140)">d</text><text x="690" y="835"  fill="rgb(132 120 136)">I</text><text x="693" y="835"  fill="rgb(115 100 121)">n</text><text x="696" y="835"  fill="rgb(115 100 120)">Q</text><text x="699" y="835"  fill="rgb(116 103 122)">u</text><text x="702" y="835"  fill="rgb(115 102 121)">e</text><text x="705" y="835"  fill="rgb(116 104 122)">r</text><text x="708" y="835"  fill="rgb(110 98 117)">y</text><text x="711" y="835"  fill="rgb(121 110 127)">.</text><text x="714" y="835"  fill="rgb(153 145 156)">i</text><text x="717" y="835"  fill="rgb(152 145 156)">n</text><text x="720" y="835"  fill="rgb(150 142 154)">cl</text><text x="726" y="835"  fill="rgb(151 142 154)">u</text><text x="729" y="835"  fill="rgb(152 143 155)">d</text><text x="732" y="835"  fill="rgb(151 142 153)">e</text><text x="735" y="835"  fill="rgb(149 140 151)">s</text><text x="738" y="835"  fill="rgb(147 137 149)">(</text><text x="741" y="835"  fill="rgb(145 137 149)">i</text><text x="744" y="835"  fill="rgb(145 136 149)">d</text><text x="747" y="835"  fill="rgb(147 137 150)">s</text><text x="750" y="835"  fill="rgb(149 140 153)">t</text><text x="753" y="835"  fill="rgb(155 147 159)">r</text><text x="756" y="835"  fill="rgb(160 151 163)">i</text><text x="759" y="835"  fill="rgb(166 158 170)">n</text><text x="762" y="835"  fill="rgb(171 162 173)">g</text><text x="765" y="835"  fill="rgb(173 166 177)">)</text><text x="768" y="835"  fill="rgb(177 169 180)">;</text><text x="771" y="835"  fill="rgb(177 169 181)"> </text><text x="774" y="835"  fill="rgb(179 170 182)">} }</text><text x="783" y="835"  fill="rgb(177 169 181)"> </text><text x="786" y="835"  fill="rgb(177 168 180)">p</text><text x="789" y="835"  fill="rgb(176 167 180)">u</text><text x="792" y="835"  fill="rgb(175 166 179)">bl</text><text x="798" y="835"  fill="rgb(175 165 178)">i</text><text x="801" y="835"  fill="rgb(174 164 177)">c</text><text x="804" y="835"  fill="rgb(174 164 178)"> </text><text x="807" y="835"  fill="rgb(172 164 177)">g</text><text x="810" y="835"  fill="rgb(156 144 160)">e</text><text x="813" y="835"  fill="rgb(176 167 180)">t</text><text x="816" y="835"  fill="rgb(243 243 244)">I</text><text x="819" y="835"  fill="rgb(251 252 251)">d</text><text x="822" y="835"  fill="rgb(244 244 244)">I</text><text x="825" y="835"  fill="rgb(245 245 245)">nQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./</text><text x="0" y="840"  fill="rgb(245 245 245)">IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;</text><text x="360" y="840"  fill="rgb(246 246 246)">,</text><text x="363" y="840"  fill="rgb(255 255 253)"> </text><text x="366" y="840"  fill="rgb(227 220 230)">&quot;</text><text x="369" y="840"  fill="rgb(156 128 170)">a</text><text x="372" y="840"  fill="rgb(145 114 161)">u</text><text x="375" y="840"  fill="rgb(157 131 172)">d</text><text x="378" y="840"  fill="rgb(158 131 172)">i</text><text x="381" y="840"  fill="rgb(159 132 172)">t&quot;</text><text x="387" y="840"  fill="rgb(159 133 173)">,</text><text x="390" y="840"  fill="rgb(159 134 173)"> &quot;</text><text x="396" y="840"  fill="rgb(160 135 173)">ye</text><text x="402" y="840"  fill="rgb(161 136 174)">ar</text><text x="408" y="840"  fill="rgb(161 137 174)">&quot;]</text><text x="414" y="840"  fill="rgb(162 138 175)">;</text><text x="417" y="840"  fill="rgb(162 138 174)"> </text><text x="420" y="840"  fill="rgb(162 139 175)">p</text><text x="423" y="840"  fill="rgb(162 139 176)">r</text><text x="426" y="840"  fill="rgb(163 140 175)">i</text><text x="429" y="840"  fill="rgb(164 141 176)">va</text><text x="435" y="840"  fill="rgb(165 142 177)">t</text><text x="438" y="840"  fill="rgb(165 142 176)">e</text><text x="441" y="840"  fill="rgb(165 143 176)"> </text><text x="444" y="840"  fill="rgb(164 142 176)">r</text><text x="447" y="840"  fill="rgb(164 143 175)">ea</text><text x="453" y="840"  fill="rgb(162 142 175)">d</text><text x="456" y="840"  fill="rgb(163 142 174)">onl</text><text x="465" y="840"  fill="rgb(163 142 173)">y</text><text x="468" y="840"  fill="rgb(161 141 172)"> </text><text x="471" y="840"  fill="rgb(160 139 171)">c</text><text x="474" y="840"  fill="rgb(172 154 181)">o</text><text x="477" y="840"  fill="rgb(175 159 184)">u</text><text x="480" y="840"  fill="rgb(174 157 183)">r</text><text x="483" y="840"  fill="rgb(174 157 182)">s</text><text x="486" y="840"  fill="rgb(174 158 182)">e</text><text x="489" y="840"  fill="rgb(173 157 182)">s</text><text x="492" y="840"  fill="rgb(174 158 182)">f</text><text x="495" y="840"  fill="rgb(174 159 182)">iel</text><text x="504" y="840"  fill="rgb(174 160 181)">d</text><text x="507" y="840"  fill="rgb(175 161 182)">s</text><text x="510" y="840"  fill="rgb(174 161 181)">: </text><text x="516" y="840"  fill="rgb(174 161 180)">str</text><text x="525" y="840"  fill="rgb(175 162 180)">i</text><text x="528" y="840"  fill="rgb(175 161 179)">n</text><text x="531" y="840"  fill="rgb(174 162 179)">g</text><text x="534" y="840"  fill="rgb(174 163 179)">[</text><text x="537" y="840"  fill="rgb(174 163 178)">]</text><text x="540" y="840"  fill="rgb(174 163 179)"> </text><text x="543" y="840"  fill="rgb(173 162 178)">=</text><text x="546" y="840"  fill="rgb(174 163 178)"> [&quot;</text><text x="555" y="840"  fill="rgb(174 165 178)">de</text><text x="561" y="840"  fill="rgb(173 164 177)">pt</text><text x="567" y="840"  fill="rgb(174 165 177)">&quot;</text><text x="570" y="840"  fill="rgb(173 165 176)">,</text><text x="573" y="840"  fill="rgb(173 163 175)"> </text><text x="576" y="840"  fill="rgb(173 164 176)">&quot;</text><text x="579" y="840"  fill="rgb(179 172 182)">i</text><text x="582" y="840"  fill="rgb(181 175 184)">d</text><text x="585" y="840"  fill="rgb(168 160 170)">&quot;</text><text x="588" y="840"  fill="rgb(142 131 146)">,</text><text x="591" y="840"  fill="rgb(125 111 130)"> </text><text x="594" y="840"  fill="rgb(126 112 131)">&quot;</text><text x="597" y="840"  fill="rgb(131 118 134)">i</text><text x="600" y="840"  fill="rgb(132 119 136)">n</text><text x="603" y="840"  fill="rgb(133 120 135)">s</text><text x="606" y="840"  fill="rgb(132 120 135)">t</text><text x="609" y="840"  fill="rgb(132 121 136)">r</text><text x="612" y="840"  fill="rgb(133 121 136)">u</text><text x="615" y="840"  fill="rgb(134 123 136)">c</text><text x="618" y="840"  fill="rgb(133 122 136)">to</text><text x="624" y="840"  fill="rgb(134 121 136)">r</text><text x="627" y="840"  fill="rgb(134 122 136)">&quot;</text><text x="630" y="840"  fill="rgb(134 123 136)">, </text><text x="636" y="840"  fill="rgb(134 124 137)">&quot;</text><text x="639" y="840"  fill="rgb(135 124 138)">ti</text><text x="645" y="840"  fill="rgb(134 124 137)">t</text><text x="648" y="840"  fill="rgb(135 124 137)">l</text><text x="651" y="840"  fill="rgb(135 125 137)">e&quot;</text><text x="657" y="840"  fill="rgb(135 125 139)">,</text><text x="660" y="840"  fill="rgb(135 125 138)"> </text><text x="663" y="840"  fill="rgb(135 124 138)">&quot;</text><text x="666" y="840"  fill="rgb(135 126 139)">u</text><text x="669" y="840"  fill="rgb(135 126 138)">u</text><text x="672" y="840"  fill="rgb(135 125 137)">i</text><text x="675" y="840"  fill="rgb(136 126 138)">d</text><text x="678" y="840"  fill="rgb(135 128 138)">&quot;</text><text x="681" y="840"  fill="rgb(136 127 138)">]</text><text x="684" y="840"  fill="rgb(137 131 140)">;</text><text x="687" y="840"  fill="rgb(136 125 137)"> </text><text x="690" y="840"  fill="rgb(119 105 124)">p</text><text x="693" y="840"  fill="rgb(115 101 121)">r</text><text x="696" y="840"  fill="rgb(118 104 123)">iv</text><text x="702" y="840"  fill="rgb(118 105 124)">a</text><text x="705" y="840"  fill="rgb(114 102 120)">t</text><text x="708" y="840"  fill="rgb(112 100 119)">e</text><text x="711" y="840"  fill="rgb(145 137 150)"> </text><text x="714" y="840"  fill="rgb(159 151 161)">r</text><text x="717" y="840"  fill="rgb(153 144 155)">ea</text><text x="723" y="840"  fill="rgb(153 145 155)">d</text><text x="726" y="840"  fill="rgb(153 144 155)">on</text><text x="732" y="840"  fill="rgb(153 144 156)">ly</text><text x="738" y="840"  fill="rgb(154 143 155)"> </text><text x="741" y="840"  fill="rgb(153 144 155)">r</text><text x="744" y="840"  fill="rgb(152 142 154)">o</text><text x="747" y="840"  fill="rgb(149 140 152)">o</text><text x="750" y="840"  fill="rgb(148 138 151)">m</text><text x="753" y="840"  fill="rgb(147 137 149)">m</text><text x="756" y="840"  fill="rgb(146 137 149)">f</text><text x="759" y="840"  fill="rgb(146 138 150)">i</text><text x="762" y="840"  fill="rgb(148 138 149)">e</text><text x="765" y="840"  fill="rgb(149 140 151)">l</text><text x="768" y="840"  fill="rgb(150 141 154)">d</text><text x="771" y="840"  fill="rgb(153 144 157)">s</text><text x="774" y="840"  fill="rgb(157 148 160)">:</text><text x="777" y="840"  fill="rgb(159 150 162)"> </text><text x="780" y="840"  fill="rgb(161 152 164)">s</text><text x="783" y="840"  fill="rgb(163 153 165)">t</text><text x="786" y="840"  fill="rgb(164 154 167)">r</text><text x="789" y="840"  fill="rgb(164 155 167)">i</text><text x="792" y="840"  fill="rgb(163 154 167)">n</text><text x="795" y="840"  fill="rgb(163 153 166)">g</text><text x="798" y="840"  fill="rgb(162 153 165)">[</text><text x="801" y="840"  fill="rgb(162 151 165)">]</text><text x="804" y="840"  fill="rgb(159 148 162)"> </text><text x="807" y="840"  fill="rgb(141 129 145)">=</text><text x="810" y="840"  fill="rgb(164 156 167)"> </text><text x="813" y="840"  fill="rgb(239 238 239)">[</text><text x="816" y="840"  fill="rgb(253 254 253)">&quot;</text><text x="819" y="840"  fill="rgb(244 244 244)">l</text><text x="822" y="840"  fill="rgb(245 245 245)">at&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;addres</text><text x="0" y="845"  fill="rgb(245 245 245)">s&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly msto</text><text x="363" y="845"  fill="rgb(246 246 246)">k</text><text x="366" y="845"  fill="rgb(253 255 252)">e</text><text x="369" y="845"  fill="rgb(225 219 228)">n</text><text x="372" y="845"  fill="rgb(163 137 176)">:</text><text x="375" y="845"  fill="rgb(145 114 161)"> </text><text x="378" y="845"  fill="rgb(157 130 172)">s</text><text x="381" y="845"  fill="rgb(159 133 173)">t</text><text x="384" y="845"  fill="rgb(159 132 172)">ri</text><text x="390" y="845"  fill="rgb(159 133 173)">ng</text><text x="396" y="845"  fill="rgb(159 135 173)">[</text><text x="399" y="845"  fill="rgb(160 135 173)">] </text><text x="405" y="845"  fill="rgb(161 136 174)">= </text><text x="411" y="845"  fill="rgb(161 137 174)">[&quot;</text><text x="417" y="845"  fill="rgb(162 138 174)">CO</text><text x="423" y="845"  fill="rgb(162 139 176)">U</text><text x="426" y="845"  fill="rgb(163 140 176)">N</text><text x="429" y="845"  fill="rgb(163 140 175)">T</text><text x="432" y="845"  fill="rgb(164 141 176)">&quot;]</text><text x="438" y="845"  fill="rgb(165 142 177)">;</text><text x="441" y="845"  fill="rgb(165 142 176)"> p</text><text x="447" y="845"  fill="rgb(164 142 176)">r</text><text x="450" y="845"  fill="rgb(165 143 176)">i</text><text x="453" y="845"  fill="rgb(164 143 175)">vat</text><text x="462" y="845"  fill="rgb(164 143 174)">e</text><text x="465" y="845"  fill="rgb(165 143 174)"> </text><text x="468" y="845"  fill="rgb(161 140 172)">i</text><text x="471" y="845"  fill="rgb(163 141 174)">d</text><text x="474" y="845"  fill="rgb(175 156 184)">I</text><text x="477" y="845"  fill="rgb(176 159 185)">n</text><text x="480" y="845"  fill="rgb(175 158 184)">Qu</text><text x="486" y="845"  fill="rgb(175 158 183)">e</text><text x="489" y="845"  fill="rgb(174 158 182)">ry</text><text x="495" y="845"  fill="rgb(175 159 183)">: </text><text x="501" y="845"  fill="rgb(175 159 182)">s</text><text x="504" y="845"  fill="rgb(175 160 182)">tr</text><text x="510" y="845"  fill="rgb(175 162 183)">i</text><text x="513" y="845"  fill="rgb(174 161 181)">n</text><text x="516" y="845"  fill="rgb(175 162 182)">g</text><text x="519" y="845"  fill="rgb(174 161 181)">[</text><text x="522" y="845"  fill="rgb(175 162 181)">];</text><text x="528" y="845"  fill="rgb(175 163 181)"> </text><text x="531" y="845"  fill="rgb(175 162 180)">/</text><text x="534" y="845"  fill="rgb(175 163 181)">/</text><text x="537" y="845"  fill="rgb(175 164 180)"> ma</text><text x="546" y="845"  fill="rgb(174 163 179)">k</text><text x="549" y="845"  fill="rgb(174 163 178)">e </text><text x="555" y="845"  fill="rgb(175 164 178)">s</text><text x="558" y="845"  fill="rgb(174 164 179)">u</text><text x="561" y="845"  fill="rgb(175 166 179)">r</text><text x="564" y="845"  fill="rgb(174 165 178)">e </text><text x="570" y="845"  fill="rgb(175 166 178)">th</text><text x="576" y="845"  fill="rgb(174 165 178)">e</text><text x="579" y="845"  fill="rgb(173 165 176)"> </text><text x="582" y="845"  fill="rgb(176 168 178)">q</text><text x="585" y="845"  fill="rgb(181 175 183)">u</text><text x="588" y="845"  fill="rgb(179 172 182)">e</text><text x="591" y="845"  fill="rgb(160 151 164)">r</text><text x="594" y="845"  fill="rgb(139 127 143)">y</text><text x="597" y="845"  fill="rgb(129 115 132)"> </text><text x="600" y="845"  fill="rgb(127 115 132)">o</text><text x="603" y="845"  fill="rgb(132 119 134)">n</text><text x="606" y="845"  fill="rgb(133 121 136)">l</text><text x="609" y="845"  fill="rgb(134 122 137)">y </text><text x="615" y="845"  fill="rgb(134 123 137)">h</text><text x="618" y="845"  fill="rgb(134 124 137)">a</text><text x="621" y="845"  fill="rgb(135 124 138)">s one </text><text x="639" y="845"  fill="rgb(135 125 138)">id </text><text x="648" y="845"  fill="rgb(135 126 139)">p</text><text x="651" y="845"  fill="rgb(135 125 138)">r</text><text x="654" y="845"  fill="rgb(136 127 139)">i</text><text x="657" y="845"  fill="rgb(135 127 139)">v</text><text x="660" y="845"  fill="rgb(136 127 139)">a</text><text x="663" y="845"  fill="rgb(136 128 139)">t</text><text x="666" y="845"  fill="rgb(136 127 139)">e</text><text x="669" y="845"  fill="rgb(137 128 140)"> </text><text x="672" y="845"  fill="rgb(136 127 139)">k</text><text x="675" y="845"  fill="rgb(136 128 139)">e</text><text x="678" y="845"  fill="rgb(136 129 140)">y</text><text x="681" y="845"  fill="rgb(139 132 142)">s</text><text x="684" y="845"  fill="rgb(138 129 140)">I</text><text x="687" y="845"  fill="rgb(123 111 128)">n</text><text x="690" y="845"  fill="rgb(116 103 121)">Q</text><text x="693" y="845"  fill="rgb(118 106 123)">u</text><text x="696" y="845"  fill="rgb(119 107 124)">er</text><text x="702" y="845"  fill="rgb(118 106 123)">y</text><text x="705" y="845"  fill="rgb(113 99 118)">:</text><text x="708" y="845"  fill="rgb(136 124 139)"> </text><text x="711" y="845"  fill="rgb(161 154 164)">s</text><text x="714" y="845"  fill="rgb(156 148 159)">t</text><text x="717" y="845"  fill="rgb(155 147 158)">r</text><text x="720" y="845"  fill="rgb(155 147 157)">in</text><text x="726" y="845"  fill="rgb(155 146 157)">g[</text><text x="732" y="845"  fill="rgb(155 146 158)">]</text><text x="735" y="845"  fill="rgb(154 145 157)">; </text><text x="741" y="845"  fill="rgb(154 144 157)">/</text><text x="744" y="845"  fill="rgb(154 145 157)">/</text><text x="747" y="845"  fill="rgb(153 144 157)"> </text><text x="750" y="845"  fill="rgb(153 145 157)">a</text><text x="753" y="845"  fill="rgb(153 144 156)">l</text><text x="756" y="845"  fill="rgb(153 143 155)">l</text><text x="759" y="845"  fill="rgb(152 143 155)"> </text><text x="762" y="845"  fill="rgb(151 142 153)">k</text><text x="765" y="845"  fill="rgb(150 140 153)">e</text><text x="768" y="845"  fill="rgb(148 139 153)">y</text><text x="771" y="845"  fill="rgb(148 139 151)">s</text><text x="774" y="845"  fill="rgb(147 138 151)"> </text><text x="777" y="845"  fill="rgb(148 138 151)">a</text><text x="780" y="845"  fill="rgb(147 138 150)">p</text><text x="783" y="845"  fill="rgb(148 138 151)">p</text><text x="786" y="845"  fill="rgb(148 138 150)">e</text><text x="789" y="845"  fill="rgb(148 139 150)">a</text><text x="792" y="845"  fill="rgb(148 138 151)">r</text><text x="795" y="845"  fill="rgb(147 137 150)">e</text><text x="798" y="845"  fill="rgb(147 138 151)">d</text><text x="801" y="845"  fill="rgb(144 134 149)"> </text><text x="804" y="845"  fill="rgb(133 121 137)">i</text><text x="807" y="845"  fill="rgb(162 154 165)">n</text><text x="810" y="845"  fill="rgb(233 231 233)"> </text><text x="813" y="845"  fill="rgb(252 253 252)">c</text><text x="816" y="845"  fill="rgb(245 245 245)">olumns after being validated private transformationKey: string[]; // keys appeared in transformation, if there is a t</text><text x="0" y="850"  fill="rgb(245 245 245)">ransformation private allInsightDataset: InsightDataset[]; private mfields: string[]; private sfields: string[]; construct</text><text x="366" y="850"  fill="rgb(246 246 246)">o</text><text x="369" y="850"  fill="rgb(251 253 250)">r</text><text x="372" y="850"  fill="rgb(231 225 233)">(</text><text x="375" y="850"  fill="rgb(170 147 183)">i</text><text x="378" y="850"  fill="rgb(142 110 158)">n</text><text x="381" y="850"  fill="rgb(154 127 169)">s</text><text x="384" y="850"  fill="rgb(160 134 173)">i</text><text x="387" y="850"  fill="rgb(159 132 172)">g</text><text x="390" y="850"  fill="rgb(159 133 173)">ht</text><text x="396" y="850"  fill="rgb(159 134 173)">D</text><text x="399" y="850"  fill="rgb(159 135 173)">a</text><text x="402" y="850"  fill="rgb(160 135 173)">ta</text><text x="408" y="850"  fill="rgb(161 136 174)">s</text><text x="411" y="850"  fill="rgb(161 137 174)">ets</text><text x="420" y="850"  fill="rgb(162 138 175)">:</text><text x="423" y="850"  fill="rgb(162 138 174)"> </text><text x="426" y="850"  fill="rgb(162 139 175)">I</text><text x="429" y="850"  fill="rgb(163 140 175)">ns</text><text x="435" y="850"  fill="rgb(164 141 176)">i</text><text x="438" y="850"  fill="rgb(164 141 177)">g</text><text x="441" y="850"  fill="rgb(165 142 177)">h</text><text x="444" y="850"  fill="rgb(165 143 176)">t</text><text x="447" y="850"  fill="rgb(165 144 177)">D</text><text x="450" y="850"  fill="rgb(165 143 177)">a</text><text x="453" y="850"  fill="rgb(165 143 176)">ta</text><text x="459" y="850"  fill="rgb(165 144 176)">s</text><text x="462" y="850"  fill="rgb(165 144 175)">et</text><text x="468" y="850"  fill="rgb(162 141 173)">[</text><text x="471" y="850"  fill="rgb(164 143 175)">]</text><text x="474" y="850"  fill="rgb(174 156 184)">)</text><text x="477" y="850"  fill="rgb(176 158 185)"> </text><text x="480" y="850"  fill="rgb(175 158 184)">{</text><text x="483" y="850"  fill="rgb(175 159 184)"> </text><text x="486" y="850"  fill="rgb(176 158 184)">t</text><text x="489" y="850"  fill="rgb(175 159 183)">h</text><text x="492" y="850"  fill="rgb(175 159 182)">i</text><text x="495" y="850"  fill="rgb(175 159 183)">s.</text><text x="501" y="850"  fill="rgb(175 160 182)">i</text><text x="504" y="850"  fill="rgb(175 159 182)">d</text><text x="507" y="850"  fill="rgb(175 160 182)">I</text><text x="510" y="850"  fill="rgb(176 161 183)">n</text><text x="513" y="850"  fill="rgb(176 163 183)">Q</text><text x="516" y="850"  fill="rgb(175 162 182)">u</text><text x="519" y="850"  fill="rgb(176 163 182)">e</text><text x="522" y="850"  fill="rgb(175 162 182)">r</text><text x="525" y="850"  fill="rgb(176 163 182)">y</text><text x="528" y="850"  fill="rgb(175 162 181)"> </text><text x="531" y="850"  fill="rgb(175 163 182)">=</text><text x="534" y="850"  fill="rgb(175 163 181)"> </text><text x="537" y="850"  fill="rgb(175 164 181)">[</text><text x="540" y="850"  fill="rgb(175 164 180)">]</text><text x="543" y="850"  fill="rgb(176 165 181)">;</text><text x="546" y="850"  fill="rgb(175 164 181)"> </text><text x="549" y="850"  fill="rgb(175 164 179)">this</text><text x="561" y="850"  fill="rgb(175 166 180)">.</text><text x="564" y="850"  fill="rgb(175 166 179)">key</text><text x="573" y="850"  fill="rgb(175 166 178)">s</text><text x="576" y="850"  fill="rgb(176 167 179)">I</text><text x="579" y="850"  fill="rgb(175 166 178)">n</text><text x="582" y="850"  fill="rgb(174 165 177)">Q</text><text x="585" y="850"  fill="rgb(174 167 177)">u</text><text x="588" y="850"  fill="rgb(176 169 179)">e</text><text x="591" y="850"  fill="rgb(180 174 182)">r</text><text x="594" y="850"  fill="rgb(175 169 178)">y</text><text x="597" y="850"  fill="rgb(159 150 162)"> </text><text x="600" y="850"  fill="rgb(139 128 143)">=</text><text x="603" y="850"  fill="rgb(128 115 132)"> </text><text x="606" y="850"  fill="rgb(128 117 133)">[</text><text x="609" y="850"  fill="rgb(133 122 136)">]</text><text x="612" y="850"  fill="rgb(135 124 138)">; th</text><text x="624" y="850"  fill="rgb(135 125 138)">is.tr</text><text x="639" y="850"  fill="rgb(135 126 138)">a</text><text x="642" y="850"  fill="rgb(135 126 139)">n</text><text x="645" y="850"  fill="rgb(136 127 139)">sform</text><text x="660" y="850"  fill="rgb(136 128 139)">a</text><text x="663" y="850"  fill="rgb(137 129 140)">t</text><text x="666" y="850"  fill="rgb(138 129 141)">io</text><text x="672" y="850"  fill="rgb(138 130 141)">n</text><text x="675" y="850"  fill="rgb(137 130 141)">K</text><text x="678" y="850"  fill="rgb(140 132 143)">e</text><text x="681" y="850"  fill="rgb(140 132 142)">y</text><text x="684" y="850"  fill="rgb(125 112 129)"> </text><text x="687" y="850"  fill="rgb(116 105 122)">=</text><text x="690" y="850"  fill="rgb(120 108 126)"> </text><text x="693" y="850"  fill="rgb(119 107 125)">[</text><text x="696" y="850"  fill="rgb(120 108 124)">]</text><text x="699" y="850"  fill="rgb(120 108 125)">;</text><text x="702" y="850"  fill="rgb(113 101 118)"> </text><text x="705" y="850"  fill="rgb(128 116 132)">t</text><text x="708" y="850"  fill="rgb(160 151 161)">h</text><text x="711" y="850"  fill="rgb(159 152 161)">i</text><text x="714" y="850"  fill="rgb(156 148 159)">s.</text><text x="720" y="850"  fill="rgb(156 149 159)">a</text><text x="723" y="850"  fill="rgb(156 148 159)">l</text><text x="726" y="850"  fill="rgb(155 148 158)">lIn</text><text x="735" y="850"  fill="rgb(155 147 159)">si</text><text x="741" y="850"  fill="rgb(155 146 158)">ght</text><text x="750" y="850"  fill="rgb(154 145 157)">D</text><text x="753" y="850"  fill="rgb(155 146 158)">a</text><text x="756" y="850"  fill="rgb(154 145 157)">t</text><text x="759" y="850"  fill="rgb(154 145 158)">a</text><text x="762" y="850"  fill="rgb(155 146 158)">s</text><text x="765" y="850"  fill="rgb(154 144 158)">e</text><text x="768" y="850"  fill="rgb(154 144 157)">t</text><text x="771" y="850"  fill="rgb(153 144 156)"> =</text><text x="777" y="850"  fill="rgb(153 143 155)"> i</text><text x="783" y="850"  fill="rgb(152 142 155)">ns</text><text x="789" y="850"  fill="rgb(151 142 154)">i</text><text x="792" y="850"  fill="rgb(151 142 155)">g</text><text x="795" y="850"  fill="rgb(154 144 157)">h</text><text x="798" y="850"  fill="rgb(146 136 150)">t</text><text x="801" y="850"  fill="rgb(135 124 139)">D</text><text x="804" y="850"  fill="rgb(173 166 177)">a</text><text x="807" y="850"  fill="rgb(238 237 239)">t</text><text x="810" y="850"  fill="rgb(252 252 251)">a</text><text x="813" y="850"  fill="rgb(245 245 245)">sets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (let key o</text><text x="0" y="855"  fill="rgb(245 245 245)">f Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } t</text><text x="372" y="855"  fill="rgb(251 253 250)">h</text><text x="375" y="855"  fill="rgb(242 242 243)">i</text><text x="378" y="855"  fill="rgb(180 159 190)">s</text><text x="381" y="855"  fill="rgb(139 106 156)">.</text><text x="384" y="855"  fill="rgb(151 123 166)">v</text><text x="387" y="855"  fill="rgb(160 134 174)">a</text><text x="390" y="855"  fill="rgb(159 132 172)">li</text><text x="396" y="855"  fill="rgb(159 133 173)">d</text><text x="399" y="855"  fill="rgb(159 134 173)">a</text><text x="402" y="855"  fill="rgb(159 135 173)">t</text><text x="405" y="855"  fill="rgb(160 135 173)">eW</text><text x="411" y="855"  fill="rgb(161 136 174)">he</text><text x="417" y="855"  fill="rgb(161 137 174)">re</text><text x="423" y="855"  fill="rgb(162 138 175)">(</text><text x="426" y="855"  fill="rgb(162 139 174)">q</text><text x="429" y="855"  fill="rgb(162 139 175)">.</text><text x="432" y="855"  fill="rgb(163 140 176)">W</text><text x="435" y="855"  fill="rgb(163 140 175)">H</text><text x="438" y="855"  fill="rgb(164 141 175)">E</text><text x="441" y="855"  fill="rgb(165 142 177)">R</text><text x="444" y="855"  fill="rgb(165 142 176)">E</text><text x="447" y="855"  fill="rgb(165 143 177)">)</text><text x="450" y="855"  fill="rgb(165 144 177)">;</text><text x="453" y="855"  fill="rgb(165 144 178)"> </text><text x="456" y="855"  fill="rgb(166 144 177)">if</text><text x="462" y="855"  fill="rgb(165 144 176)"> </text><text x="465" y="855"  fill="rgb(165 145 177)">(</text><text x="468" y="855"  fill="rgb(164 142 174)">q</text><text x="471" y="855"  fill="rgb(167 146 178)">.</text><text x="474" y="855"  fill="rgb(177 157 185)">T</text><text x="477" y="855"  fill="rgb(177 158 185)">R</text><text x="480" y="855"  fill="rgb(176 157 184)">A</text><text x="483" y="855"  fill="rgb(176 159 184)">NSF</text><text x="492" y="855"  fill="rgb(177 159 184)">O</text><text x="495" y="855"  fill="rgb(176 159 183)">RM</text><text x="501" y="855"  fill="rgb(176 160 184)">A</text><text x="504" y="855"  fill="rgb(176 160 183)">T</text><text x="507" y="855"  fill="rgb(175 160 183)">I</text><text x="510" y="855"  fill="rgb(176 161 183)">ON</text><text x="516" y="855"  fill="rgb(176 162 183)">S</text><text x="519" y="855"  fill="rgb(177 164 183)">) </text><text x="525" y="855"  fill="rgb(176 164 182)">{</text><text x="528" y="855"  fill="rgb(176 163 182)"> </text><text x="531" y="855"  fill="rgb(176 164 182)">this</text><text x="543" y="855"  fill="rgb(176 166 181)">.</text><text x="546" y="855"  fill="rgb(176 165 181)">v</text><text x="549" y="855"  fill="rgb(176 165 180)">a</text><text x="552" y="855"  fill="rgb(177 166 181)">li</text><text x="558" y="855"  fill="rgb(176 165 180)">da</text><text x="564" y="855"  fill="rgb(175 165 180)">t</text><text x="567" y="855"  fill="rgb(176 167 180)">eT</text><text x="573" y="855"  fill="rgb(176 168 179)">r</text><text x="576" y="855"  fill="rgb(176 167 179)">an</text><text x="582" y="855"  fill="rgb(175 167 178)">sfor</text><text x="594" y="855"  fill="rgb(178 170 181)">m</text><text x="597" y="855"  fill="rgb(182 175 184)">a</text><text x="600" y="855"  fill="rgb(177 170 180)">t</text><text x="603" y="855"  fill="rgb(158 149 162)">i</text><text x="606" y="855"  fill="rgb(137 126 141)">o</text><text x="609" y="855"  fill="rgb(128 117 133)">n</text><text x="612" y="855"  fill="rgb(130 119 133)">s</text><text x="615" y="855"  fill="rgb(134 124 138)">(</text><text x="618" y="855"  fill="rgb(136 126 140)">q</text><text x="621" y="855"  fill="rgb(137 127 141)">.</text><text x="624" y="855"  fill="rgb(136 126 139)">T</text><text x="627" y="855"  fill="rgb(137 127 140)">R</text><text x="630" y="855"  fill="rgb(136 127 140)">A</text><text x="633" y="855"  fill="rgb(137 127 140)">N</text><text x="636" y="855"  fill="rgb(137 129 140)">S</text><text x="639" y="855"  fill="rgb(137 128 140)">F</text><text x="642" y="855"  fill="rgb(137 127 140)">O</text><text x="645" y="855"  fill="rgb(137 128 140)">R</text><text x="648" y="855"  fill="rgb(138 129 141)">M</text><text x="651" y="855"  fill="rgb(137 128 140)">A</text><text x="654" y="855"  fill="rgb(138 129 141)">T</text><text x="657" y="855"  fill="rgb(139 130 141)">IO</text><text x="663" y="855"  fill="rgb(139 129 141)">N</text><text x="666" y="855"  fill="rgb(138 130 141)">S</text><text x="669" y="855"  fill="rgb(139 131 142)">)</text><text x="672" y="855"  fill="rgb(139 130 142)">;</text><text x="675" y="855"  fill="rgb(141 134 144)"> </text><text x="678" y="855"  fill="rgb(142 134 144)">}</text><text x="681" y="855"  fill="rgb(127 116 132)"> </text><text x="684" y="855"  fill="rgb(118 104 124)">t</text><text x="687" y="855"  fill="rgb(120 107 125)">h</text><text x="690" y="855"  fill="rgb(121 108 126)">i</text><text x="693" y="855"  fill="rgb(121 108 127)">s</text><text x="696" y="855"  fill="rgb(121 109 126)">.</text><text x="699" y="855"  fill="rgb(116 103 121)">v</text><text x="702" y="855"  fill="rgb(123 110 128)">a</text><text x="705" y="855"  fill="rgb(155 148 158)">l</text><text x="708" y="855"  fill="rgb(162 156 164)">i</text><text x="711" y="855"  fill="rgb(158 150 159)">d</text><text x="714" y="855"  fill="rgb(158 150 160)">ate</text><text x="723" y="855"  fill="rgb(158 150 159)">O</text><text x="726" y="855"  fill="rgb(158 149 159)">pti</text><text x="735" y="855"  fill="rgb(158 150 159)">o</text><text x="738" y="855"  fill="rgb(157 149 159)">ns</text><text x="744" y="855"  fill="rgb(157 148 159)">(q.O</text><text x="756" y="855"  fill="rgb(156 148 159)">P</text><text x="759" y="855"  fill="rgb(157 148 159)">T</text><text x="762" y="855"  fill="rgb(156 147 159)">I</text><text x="765" y="855"  fill="rgb(155 146 158)">O</text><text x="768" y="855"  fill="rgb(155 147 158)">N</text><text x="771" y="855"  fill="rgb(154 147 158)">S</text><text x="774" y="855"  fill="rgb(155 147 159)">)</text><text x="777" y="855"  fill="rgb(154 146 158)">; }</text><text x="786" y="855"  fill="rgb(153 145 157)"> </text><text x="789" y="855"  fill="rgb(154 145 158)">p</text><text x="792" y="855"  fill="rgb(156 146 159)">u</text><text x="795" y="855"  fill="rgb(146 135 149)">b</text><text x="798" y="855"  fill="rgb(137 127 141)">l</text><text x="801" y="855"  fill="rgb(184 179 187)">i</text><text x="804" y="855"  fill="rgb(247 248 248)">c</text><text x="807" y="855"  fill="rgb(251 252 251)"> </text><text x="810" y="855"  fill="rgb(245 245 245)">validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; || Object.</text><text x="0" y="860"  fill="rgb(245 245 245)">keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private vali</text><text x="372" y="860"  fill="rgb(244 244 245)">d</text><text x="375" y="860"  fill="rgb(251 253 250)">a</text><text x="378" y="860"  fill="rgb(250 253 250)">t</text><text x="381" y="860"  fill="rgb(196 180 203)">e</text><text x="384" y="860"  fill="rgb(145 114 161)">G</text><text x="387" y="860"  fill="rgb(147 117 163)">R</text><text x="390" y="860"  fill="rgb(160 133 173)">O</text><text x="393" y="860"  fill="rgb(159 133 172)">U</text><text x="396" y="860"  fill="rgb(159 132 173)">P</text><text x="399" y="860"  fill="rgb(159 133 173)">(q</text><text x="405" y="860"  fill="rgb(159 135 173)">:</text><text x="408" y="860"  fill="rgb(160 135 173)"> a</text><text x="414" y="860"  fill="rgb(161 136 174)">ny</text><text x="420" y="860"  fill="rgb(161 137 174)">)</text><text x="423" y="860"  fill="rgb(161 137 175)">:</text><text x="426" y="860"  fill="rgb(162 138 175)"> </text><text x="429" y="860"  fill="rgb(163 139 175)">v</text><text x="432" y="860"  fill="rgb(162 139 176)">o</text><text x="435" y="860"  fill="rgb(163 140 175)">id</text><text x="441" y="860"  fill="rgb(164 141 175)"> </text><text x="444" y="860"  fill="rgb(165 142 177)">{ </text><text x="450" y="860"  fill="rgb(165 142 176)">i</text><text x="453" y="860"  fill="rgb(165 144 177)">f</text><text x="456" y="860"  fill="rgb(166 145 178)"> </text><text x="459" y="860"  fill="rgb(166 145 177)">(!</text><text x="465" y="860"  fill="rgb(167 144 177)">A</text><text x="468" y="860"  fill="rgb(165 143 176)">r</text><text x="471" y="860"  fill="rgb(169 148 179)">r</text><text x="474" y="860"  fill="rgb(178 158 187)">a</text><text x="477" y="860"  fill="rgb(178 159 185)">y</text><text x="480" y="860"  fill="rgb(177 158 185)">.</text><text x="483" y="860"  fill="rgb(177 158 184)">i</text><text x="486" y="860"  fill="rgb(177 159 184)">s</text><text x="489" y="860"  fill="rgb(177 159 185)">A</text><text x="492" y="860"  fill="rgb(177 159 184)">r</text><text x="495" y="860"  fill="rgb(177 160 185)">ra</text><text x="501" y="860"  fill="rgb(176 159 184)">y</text><text x="504" y="860"  fill="rgb(178 161 184)">(</text><text x="507" y="860"  fill="rgb(177 162 184)">q) </text><text x="516" y="860"  fill="rgb(176 161 184)">|</text><text x="519" y="860"  fill="rgb(176 162 184)">|</text><text x="522" y="860"  fill="rgb(177 164 184)"> q</text><text x="528" y="860"  fill="rgb(177 165 182)">.</text><text x="531" y="860"  fill="rgb(177 165 183)">l</text><text x="534" y="860"  fill="rgb(176 165 182)">e</text><text x="537" y="860"  fill="rgb(176 164 182)">n</text><text x="540" y="860"  fill="rgb(177 165 184)">g</text><text x="543" y="860"  fill="rgb(176 166 181)">t</text><text x="546" y="860"  fill="rgb(177 166 182)">h </text><text x="552" y="860"  fill="rgb(177 166 181)">&lt; 1</text><text x="561" y="860"  fill="rgb(177 166 180)">)</text><text x="564" y="860"  fill="rgb(177 167 180)"> </text><text x="567" y="860"  fill="rgb(177 166 181)">{</text><text x="570" y="860"  fill="rgb(177 167 181)"> </text><text x="573" y="860"  fill="rgb(177 168 181)">th</text><text x="579" y="860"  fill="rgb(176 169 181)">r</text><text x="582" y="860"  fill="rgb(177 169 180)">o</text><text x="585" y="860"  fill="rgb(177 169 179)">w</text><text x="588" y="860"  fill="rgb(177 169 180)"> </text><text x="591" y="860"  fill="rgb(176 167 179)">n</text><text x="594" y="860"  fill="rgb(176 168 179)">ew</text><text x="600" y="860"  fill="rgb(179 173 181)"> </text><text x="603" y="860"  fill="rgb(182 176 185)">I</text><text x="606" y="860"  fill="rgb(178 170 180)">n</text><text x="609" y="860"  fill="rgb(159 150 162)">s</text><text x="612" y="860"  fill="rgb(140 130 143)">i</text><text x="615" y="860"  fill="rgb(131 120 134)">g</text><text x="618" y="860"  fill="rgb(133 123 136)">h</text><text x="621" y="860"  fill="rgb(137 127 140)">t</text><text x="624" y="860"  fill="rgb(138 128 141)">E</text><text x="627" y="860"  fill="rgb(138 128 142)">r</text><text x="630" y="860"  fill="rgb(137 128 141)">r</text><text x="633" y="860"  fill="rgb(138 128 141)">o</text><text x="636" y="860"  fill="rgb(138 129 142)">r</text><text x="639" y="860"  fill="rgb(139 130 142)">();</text><text x="648" y="860"  fill="rgb(140 131 143)"> </text><text x="651" y="860"  fill="rgb(138 130 141)">/</text><text x="654" y="860"  fill="rgb(140 130 143)">/</text><text x="657" y="860"  fill="rgb(140 131 142)"> </text><text x="660" y="860"  fill="rgb(140 132 143)">q</text><text x="663" y="860"  fill="rgb(141 132 143)"> </text><text x="666" y="860"  fill="rgb(140 131 141)">s</text><text x="669" y="860"  fill="rgb(139 131 142)">h</text><text x="672" y="860"  fill="rgb(141 134 144)">o</text><text x="675" y="860"  fill="rgb(143 136 145)">u</text><text x="678" y="860"  fill="rgb(128 116 133)">l</text><text x="681" y="860"  fill="rgb(119 105 124)">d</text><text x="684" y="860"  fill="rgb(122 110 127)"> </text><text x="687" y="860"  fill="rgb(123 110 127)">be</text><text x="693" y="860"  fill="rgb(123 110 128)"> </text><text x="696" y="860"  fill="rgb(119 105 124)">a</text><text x="699" y="860"  fill="rgb(121 109 126)">n</text><text x="702" y="860"  fill="rgb(153 146 156)"> </text><text x="705" y="860"  fill="rgb(165 159 167)">o</text><text x="708" y="860"  fill="rgb(159 153 162)">b</text><text x="711" y="860"  fill="rgb(160 153 162)">j</text><text x="714" y="860"  fill="rgb(159 153 161)">e</text><text x="717" y="860"  fill="rgb(160 153 161)">c</text><text x="720" y="860"  fill="rgb(160 153 162)">t</text><text x="723" y="860"  fill="rgb(160 152 161)">,</text><text x="726" y="860"  fill="rgb(159 152 160)"> a</text><text x="732" y="860"  fill="rgb(159 152 161)">nd </text><text x="741" y="860"  fill="rgb(159 151 160)">shoul</text><text x="756" y="860"  fill="rgb(158 150 159)">d h</text><text x="765" y="860"  fill="rgb(157 149 159)">a</text><text x="768" y="860"  fill="rgb(156 149 159)">s</text><text x="771" y="860"  fill="rgb(157 149 160)"> </text><text x="774" y="860"  fill="rgb(156 149 159)">at</text><text x="780" y="860"  fill="rgb(155 148 159)"> </text><text x="783" y="860"  fill="rgb(155 147 159)">l</text><text x="786" y="860"  fill="rgb(156 147 159)">e</text><text x="789" y="860"  fill="rgb(156 148 159)">a</text><text x="792" y="860"  fill="rgb(145 135 148)">st</text><text x="798" y="860"  fill="rgb(200 196 202)"> </text><text x="801" y="860"  fill="rgb(253 253 253)">o</text><text x="804" y="860"  fill="rgb(250 250 250)">n</text><text x="807" y="860"  fill="rgb(244 244 244)">e</text><text x="810" y="860"  fill="rgb(245 245 245)"> element } for (let key of q) { this.validateKey(key); this.transformationKey.push(key); // if the key is valid, push i</text><text x="0" y="865"  fill="rgb(245 245 245)">t to transformationKey } } private validateKey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedK</text><text x="375" y="865"  fill="rgb(244 244 244)">e</text><text x="378" y="865"  fill="rgb(249 251 249)">y</text><text x="381" y="865"  fill="rgb(252 255 251)">.</text><text x="384" y="865"  fill="rgb(216 207 221)">l</text><text x="387" y="865"  fill="rgb(159 133 173)">e</text><text x="390" y="865"  fill="rgb(144 112 160)">n</text><text x="393" y="865"  fill="rgb(156 128 171)">g</text><text x="396" y="865"  fill="rgb(160 133 172)">t</text><text x="399" y="865"  fill="rgb(159 133 173)">h !</text><text x="408" y="865"  fill="rgb(159 134 173)">=</text><text x="411" y="865"  fill="rgb(160 135 173)">= </text><text x="417" y="865"  fill="rgb(161 136 174)">2) </text><text x="426" y="865"  fill="rgb(162 138 175)">{</text><text x="429" y="865"  fill="rgb(163 138 174)"> </text><text x="432" y="865"  fill="rgb(162 138 174)">t</text><text x="435" y="865"  fill="rgb(162 139 175)">h</text><text x="438" y="865"  fill="rgb(162 139 176)">r</text><text x="441" y="865"  fill="rgb(163 140 175)">o</text><text x="444" y="865"  fill="rgb(164 141 176)">w</text><text x="447" y="865"  fill="rgb(164 141 177)"> </text><text x="450" y="865"  fill="rgb(165 142 177)">n</text><text x="453" y="865"  fill="rgb(165 142 176)">e</text><text x="456" y="865"  fill="rgb(165 144 176)">w</text><text x="459" y="865"  fill="rgb(166 145 178)"> </text><text x="462" y="865"  fill="rgb(166 145 177)">I</text><text x="465" y="865"  fill="rgb(167 146 177)">n</text><text x="468" y="865"  fill="rgb(164 142 176)">s</text><text x="471" y="865"  fill="rgb(166 144 179)">i</text><text x="474" y="865"  fill="rgb(178 158 188)">g</text><text x="477" y="865"  fill="rgb(179 159 188)">h</text><text x="480" y="865"  fill="rgb(178 159 186)">t</text><text x="483" y="865"  fill="rgb(177 159 186)">E</text><text x="486" y="865"  fill="rgb(177 159 187)">r</text><text x="489" y="865"  fill="rgb(178 159 186)">r</text><text x="492" y="865"  fill="rgb(177 159 186)">o</text><text x="495" y="865"  fill="rgb(177 159 185)">r</text><text x="498" y="865"  fill="rgb(178 161 186)">(</text><text x="501" y="865"  fill="rgb(178 161 185)">);</text><text x="507" y="865"  fill="rgb(178 162 184)"> } </text><text x="516" y="865"  fill="rgb(177 163 184)">i</text><text x="519" y="865"  fill="rgb(176 163 184)">f</text><text x="522" y="865"  fill="rgb(176 163 183)"> </text><text x="525" y="865"  fill="rgb(177 163 184)">(</text><text x="528" y="865"  fill="rgb(177 164 184)">!</text><text x="531" y="865"  fill="rgb(178 164 183)">(</text><text x="534" y="865"  fill="rgb(178 165 184)">t</text><text x="537" y="865"  fill="rgb(178 166 184)">his</text><text x="546" y="865"  fill="rgb(178 166 183)">.v</text><text x="552" y="865"  fill="rgb(178 166 182)">a</text><text x="555" y="865"  fill="rgb(178 167 183)">l</text><text x="558" y="865"  fill="rgb(177 167 182)">i</text><text x="561" y="865"  fill="rgb(178 167 182)">d</text><text x="564" y="865"  fill="rgb(177 167 182)">a</text><text x="567" y="865"  fill="rgb(177 167 181)">t</text><text x="570" y="865"  fill="rgb(178 168 182)">e</text><text x="573" y="865"  fill="rgb(177 167 181)">I</text><text x="576" y="865"  fill="rgb(178 168 182)">d</text><text x="579" y="865"  fill="rgb(178 169 181)">st</text><text x="585" y="865"  fill="rgb(178 170 182)">r</text><text x="588" y="865"  fill="rgb(178 170 181)">i</text><text x="591" y="865"  fill="rgb(177 169 180)">n</text><text x="594" y="865"  fill="rgb(178 170 181)">g(</text><text x="600" y="865"  fill="rgb(176 168 179)">s</text><text x="603" y="865"  fill="rgb(177 170 179)">p</text><text x="606" y="865"  fill="rgb(181 175 184)">l</text><text x="609" y="865"  fill="rgb(184 177 186)">i</text><text x="612" y="865"  fill="rgb(180 172 181)">t</text><text x="615" y="865"  fill="rgb(162 154 164)">t</text><text x="618" y="865"  fill="rgb(144 135 147)">e</text><text x="621" y="865"  fill="rgb(134 124 137)">d</text><text x="624" y="865"  fill="rgb(134 123 137)">K</text><text x="627" y="865"  fill="rgb(137 128 141)">e</text><text x="630" y="865"  fill="rgb(138 129 141)">y</text><text x="633" y="865"  fill="rgb(139 129 142)">[</text><text x="636" y="865"  fill="rgb(139 130 143)">0</text><text x="639" y="865"  fill="rgb(140 131 143)">]</text><text x="642" y="865"  fill="rgb(140 132 143)">)</text><text x="645" y="865"  fill="rgb(140 131 143)"> </text><text x="648" y="865"  fill="rgb(141 132 144)">&amp;</text><text x="651" y="865"  fill="rgb(140 133 143)">&amp;</text><text x="654" y="865"  fill="rgb(141 132 144)"> </text><text x="657" y="865"  fill="rgb(141 132 143)">(</text><text x="660" y="865"  fill="rgb(141 133 144)">t</text><text x="663" y="865"  fill="rgb(141 133 143)">h</text><text x="666" y="865"  fill="rgb(142 134 143)">i</text><text x="669" y="865"  fill="rgb(143 136 145)">s</text><text x="672" y="865"  fill="rgb(142 135 145)">.</text><text x="675" y="865"  fill="rgb(129 117 133)">m</text><text x="678" y="865"  fill="rgb(120 106 125)">f</text><text x="681" y="865"  fill="rgb(122 109 128)">i</text><text x="684" y="865"  fill="rgb(123 110 128)">el</text><text x="690" y="865"  fill="rgb(124 111 129)">d</text><text x="693" y="865"  fill="rgb(119 105 125)">s</text><text x="696" y="865"  fill="rgb(121 108 125)">.</text><text x="699" y="865"  fill="rgb(153 145 156)">i</text><text x="702" y="865"  fill="rgb(168 165 170)">n</text><text x="705" y="865"  fill="rgb(162 156 164)">c</text><text x="708" y="865"  fill="rgb(161 155 163)">lu</text><text x="714" y="865"  fill="rgb(161 156 163)">de</text><text x="720" y="865"  fill="rgb(161 155 163)">s(</text><text x="726" y="865"  fill="rgb(160 155 162)">sp</text><text x="732" y="865"  fill="rgb(159 155 162)">l</text><text x="735" y="865"  fill="rgb(160 154 162)">i</text><text x="738" y="865"  fill="rgb(160 153 162)">t</text><text x="741" y="865"  fill="rgb(160 154 163)">t</text><text x="744" y="865"  fill="rgb(159 153 162)">e</text><text x="747" y="865"  fill="rgb(159 152 161)">dKey</text><text x="759" y="865"  fill="rgb(159 151 161)">[</text><text x="762" y="865"  fill="rgb(159 152 161)">1</text><text x="765" y="865"  fill="rgb(159 152 160)">]</text><text x="768" y="865"  fill="rgb(159 150 159)">)</text><text x="771" y="865"  fill="rgb(159 152 161)"> </text><text x="774" y="865"  fill="rgb(159 150 160)">||</text><text x="780" y="865"  fill="rgb(158 149 160)"> </text><text x="783" y="865"  fill="rgb(158 150 161)">t</text><text x="786" y="865"  fill="rgb(156 148 159)">h</text><text x="789" y="865"  fill="rgb(145 136 148)">i</text><text x="792" y="865"  fill="rgb(161 153 164)">s</text><text x="795" y="865"  fill="rgb(219 216 220)">.</text><text x="798" y="865"  fill="rgb(253 254 253)">s</text><text x="801" y="865"  fill="rgb(249 249 249)">f</text><text x="804" y="865"  fill="rgb(244 244 244)">i</text><text x="807" y="865"  fill="rgb(245 245 245)">elds.includes(splittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any): void { if (!Array.isArra</text><text x="0" y="870"  fill="rgb(245 245 245)">y(q)) { throw new InsightError(); // q should be an array, and should have at least one element } for (let applyrule of q) { i</text><text x="378" y="870"  fill="rgb(244 244 244)">f</text><text x="381" y="870"  fill="rgb(247 248 247)"> </text><text x="384" y="870"  fill="rgb(253 255 252)">(</text><text x="387" y="870"  fill="rgb(235 232 236)">A</text><text x="390" y="870"  fill="rgb(182 163 192)">r</text><text x="393" y="870"  fill="rgb(147 116 163)">r</text><text x="396" y="870"  fill="rgb(149 119 164)">a</text><text x="399" y="870"  fill="rgb(158 131 171)">y</text><text x="402" y="870"  fill="rgb(160 134 173)">.</text><text x="405" y="870"  fill="rgb(159 133 173)">is</text><text x="411" y="870"  fill="rgb(159 134 173)">A</text><text x="414" y="870"  fill="rgb(159 135 173)">r</text><text x="417" y="870"  fill="rgb(160 135 173)">ra</text><text x="423" y="870"  fill="rgb(161 136 174)">y</text><text x="426" y="870"  fill="rgb(161 137 174)">(a</text><text x="432" y="870"  fill="rgb(162 138 174)">pp</text><text x="438" y="870"  fill="rgb(162 139 175)">l</text><text x="441" y="870"  fill="rgb(163 140 176)">y</text><text x="444" y="870"  fill="rgb(163 140 175)">ru</text><text x="450" y="870"  fill="rgb(164 141 176)">l</text><text x="453" y="870"  fill="rgb(164 141 177)">e</text><text x="456" y="870"  fill="rgb(165 142 176)">)</text><text x="459" y="870"  fill="rgb(165 143 177)"> </text><text x="462" y="870"  fill="rgb(165 144 177)">|</text><text x="465" y="870"  fill="rgb(167 145 178)">|</text><text x="468" y="870"  fill="rgb(164 143 175)"> </text><text x="471" y="870"  fill="rgb(165 144 177)">O</text><text x="474" y="870"  fill="rgb(178 157 188)">b</text><text x="477" y="870"  fill="rgb(179 159 188)">j</text><text x="480" y="870"  fill="rgb(179 158 187)">e</text><text x="483" y="870"  fill="rgb(178 159 187)">ct</text><text x="489" y="870"  fill="rgb(178 159 186)">.</text><text x="492" y="870"  fill="rgb(179 160 187)">k</text><text x="495" y="870"  fill="rgb(178 160 187)">e</text><text x="498" y="870"  fill="rgb(178 160 186)">y</text><text x="501" y="870"  fill="rgb(179 162 187)">s</text><text x="504" y="870"  fill="rgb(179 162 186)">(a</text><text x="510" y="870"  fill="rgb(179 162 185)">p</text><text x="513" y="870"  fill="rgb(179 163 185)">p</text><text x="516" y="870"  fill="rgb(179 162 185)">l</text><text x="519" y="870"  fill="rgb(178 163 185)">y</text><text x="522" y="870"  fill="rgb(179 164 185)">r</text><text x="525" y="870"  fill="rgb(178 164 184)">u</text><text x="528" y="870"  fill="rgb(178 164 185)">le</text><text x="534" y="870"  fill="rgb(178 165 184)">)</text><text x="537" y="870"  fill="rgb(178 166 184)">.l</text><text x="543" y="870"  fill="rgb(179 167 184)">en</text><text x="549" y="870"  fill="rgb(179 168 184)">g</text><text x="552" y="870"  fill="rgb(179 167 184)">t</text><text x="555" y="870"  fill="rgb(178 167 184)">h</text><text x="558" y="870"  fill="rgb(179 167 183)"> </text><text x="561" y="870"  fill="rgb(179 167 184)">&gt;</text><text x="564" y="870"  fill="rgb(179 169 183)"> 1)</text><text x="573" y="870"  fill="rgb(178 168 182)"> </text><text x="576" y="870"  fill="rgb(179 168 182)">{</text><text x="579" y="870"  fill="rgb(178 168 182)"> </text><text x="582" y="870"  fill="rgb(178 168 181)">t</text><text x="585" y="870"  fill="rgb(178 170 182)">hr</text><text x="591" y="870"  fill="rgb(178 170 181)">o</text><text x="594" y="870"  fill="rgb(178 171 182)">w</text><text x="597" y="870"  fill="rgb(178 171 181)"> </text><text x="600" y="870"  fill="rgb(178 170 180)">n</text><text x="603" y="870"  fill="rgb(177 170 180)">e</text><text x="606" y="870"  fill="rgb(176 169 179)">w</text><text x="609" y="870"  fill="rgb(178 171 181)"> </text><text x="612" y="870"  fill="rgb(181 175 184)">I</text><text x="615" y="870"  fill="rgb(184 177 186)">n</text><text x="618" y="870"  fill="rgb(179 172 181)">s</text><text x="621" y="870"  fill="rgb(164 157 166)">i</text><text x="624" y="870"  fill="rgb(148 138 151)">g</text><text x="627" y="870"  fill="rgb(138 129 141)">h</text><text x="630" y="870"  fill="rgb(135 126 138)">t</text><text x="633" y="870"  fill="rgb(138 128 141)">E</text><text x="636" y="870"  fill="rgb(140 131 143)">r</text><text x="639" y="870"  fill="rgb(141 133 144)">r</text><text x="642" y="870"  fill="rgb(142 133 144)">o</text><text x="645" y="870"  fill="rgb(142 134 145)">r(); }</text><text x="663" y="870"  fill="rgb(142 134 144)"> </text><text x="666" y="870"  fill="rgb(145 138 148)">l</text><text x="669" y="870"  fill="rgb(142 133 144)">e</text><text x="672" y="870"  fill="rgb(128 116 132)">t</text><text x="675" y="870"  fill="rgb(121 107 127)"> </text><text x="678" y="870"  fill="rgb(124 111 129)">a</text><text x="681" y="870"  fill="rgb(125 112 131)">p</text><text x="684" y="870"  fill="rgb(125 111 130)">p</text><text x="687" y="870"  fill="rgb(124 111 130)">l</text><text x="690" y="870"  fill="rgb(120 106 126)">y</text><text x="693" y="870"  fill="rgb(123 111 128)">k</text><text x="696" y="870"  fill="rgb(154 146 156)">e</text><text x="699" y="870"  fill="rgb(171 165 173)">y</text><text x="702" y="870"  fill="rgb(164 159 166)">:</text><text x="705" y="870"  fill="rgb(163 158 165)"> s</text><text x="711" y="870"  fill="rgb(162 157 164)">t</text><text x="714" y="870"  fill="rgb(163 158 165)">r</text><text x="717" y="870"  fill="rgb(162 157 165)">i</text><text x="720" y="870"  fill="rgb(163 158 165)">n</text><text x="723" y="870"  fill="rgb(162 157 164)">g</text><text x="726" y="870"  fill="rgb(163 157 165)"> </text><text x="729" y="870"  fill="rgb(162 157 164)">=</text><text x="732" y="870"  fill="rgb(163 157 165)"> </text><text x="735" y="870"  fill="rgb(162 156 164)">Obj</text><text x="744" y="870"  fill="rgb(161 155 163)">ect.</text><text x="756" y="870"  fill="rgb(160 154 163)">keys(</text><text x="771" y="870"  fill="rgb(159 153 162)">ap</text><text x="777" y="870"  fill="rgb(160 154 162)">p</text><text x="780" y="870"  fill="rgb(159 153 162)">l</text><text x="783" y="870"  fill="rgb(153 145 156)">y</text><text x="786" y="870"  fill="rgb(149 141 152)">r</text><text x="789" y="870"  fill="rgb(182 174 183)">u</text><text x="792" y="870"  fill="rgb(235 233 235)">l</text><text x="795" y="870"  fill="rgb(253 254 253)">e</text><text x="798" y="870"  fill="rgb(247 247 247)">)</text><text x="801" y="870"  fill="rgb(244 244 244)">[</text><text x="804" y="870"  fill="rgb(245 245 245)">0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this.transformationKey.inc</text><text x="0" y="875"  fill="rgb(245 245 245)">ludes(applykey)) { throw new InsightError(); } this.transformationKey.push(applykey); if (Array.isArray(criteria) || Object.keys</text><text x="384" y="875"  fill="rgb(246 246 246)">(</text><text x="387" y="875"  fill="rgb(251 254 251)">c</text><text x="390" y="875"  fill="rgb(246 246 246)">r</text><text x="393" y="875"  fill="rgb(209 198 215)">i</text><text x="396" y="875"  fill="rgb(160 134 173)">t</text><text x="399" y="875"  fill="rgb(142 109 157)">e</text><text x="402" y="875"  fill="rgb(151 121 165)">r</text><text x="405" y="875"  fill="rgb(159 133 172)">i</text><text x="408" y="875"  fill="rgb(160 134 174)">a</text><text x="411" y="875"  fill="rgb(159 133 173)">)</text><text x="414" y="875"  fill="rgb(159 135 173)">.</text><text x="417" y="875"  fill="rgb(160 135 173)">len</text><text x="426" y="875"  fill="rgb(161 137 174)">gth</text><text x="435" y="875"  fill="rgb(162 138 175)"> </text><text x="438" y="875"  fill="rgb(162 138 174)">&gt;</text><text x="441" y="875"  fill="rgb(162 139 175)"> </text><text x="444" y="875"  fill="rgb(163 140 176)">1</text><text x="447" y="875"  fill="rgb(163 140 175)">)</text><text x="450" y="875"  fill="rgb(164 141 175)"> </text><text x="453" y="875"  fill="rgb(164 141 177)">{</text><text x="456" y="875"  fill="rgb(165 142 177)"> </text><text x="459" y="875"  fill="rgb(165 143 176)">t</text><text x="462" y="875"  fill="rgb(165 144 177)">h</text><text x="465" y="875"  fill="rgb(165 144 178)">r</text><text x="468" y="875"  fill="rgb(166 145 177)">o</text><text x="471" y="875"  fill="rgb(163 140 174)">w</text><text x="474" y="875"  fill="rgb(174 153 185)"> </text><text x="477" y="875"  fill="rgb(179 160 188)">n</text><text x="480" y="875"  fill="rgb(178 158 187)">e</text><text x="483" y="875"  fill="rgb(179 159 188)">w</text><text x="486" y="875"  fill="rgb(179 159 187)"> </text><text x="489" y="875"  fill="rgb(178 159 188)">I</text><text x="492" y="875"  fill="rgb(179 160 187)">n</text><text x="495" y="875"  fill="rgb(179 161 188)">s</text><text x="498" y="875"  fill="rgb(178 160 187)">i</text><text x="501" y="875"  fill="rgb(179 161 187)">g</text><text x="504" y="875"  fill="rgb(180 162 187)">h</text><text x="507" y="875"  fill="rgb(179 162 187)">t</text><text x="510" y="875"  fill="rgb(179 162 186)">E</text><text x="513" y="875"  fill="rgb(179 163 186)">r</text><text x="516" y="875"  fill="rgb(180 164 186)">r</text><text x="519" y="875"  fill="rgb(179 163 185)">o</text><text x="522" y="875"  fill="rgb(180 164 186)">r</text><text x="525" y="875"  fill="rgb(179 164 185)">(</text><text x="528" y="875"  fill="rgb(178 164 184)">)</text><text x="531" y="875"  fill="rgb(179 165 185)">;</text><text x="534" y="875"  fill="rgb(179 165 184)"> </text><text x="537" y="875"  fill="rgb(179 166 185)">}</text><text x="540" y="875"  fill="rgb(179 166 184)"> </text><text x="543" y="875"  fill="rgb(178 166 184)">l</text><text x="546" y="875"  fill="rgb(179 167 184)">e</text><text x="549" y="875"  fill="rgb(180 168 184)">t </text><text x="555" y="875"  fill="rgb(179 168 184)">ap</text><text x="561" y="875"  fill="rgb(179 169 184)">pl</text><text x="567" y="875"  fill="rgb(179 169 183)">y</text><text x="570" y="875"  fill="rgb(180 170 184)">t</text><text x="573" y="875"  fill="rgb(180 169 183)">o</text><text x="576" y="875"  fill="rgb(179 169 182)">k</text><text x="579" y="875"  fill="rgb(179 170 183)">e</text><text x="582" y="875"  fill="rgb(179 169 182)">n</text><text x="585" y="875"  fill="rgb(178 170 182)">: </text><text x="591" y="875"  fill="rgb(179 171 182)">st</text><text x="597" y="875"  fill="rgb(178 171 182)">r</text><text x="600" y="875"  fill="rgb(178 171 181)">ing </text><text x="612" y="875"  fill="rgb(177 170 180)">=</text><text x="615" y="875"  fill="rgb(179 172 181)"> </text><text x="618" y="875"  fill="rgb(180 174 183)">O</text><text x="621" y="875"  fill="rgb(183 177 185)">b</text><text x="624" y="875"  fill="rgb(180 174 182)">j</text><text x="627" y="875"  fill="rgb(169 162 172)">e</text><text x="630" y="875"  fill="rgb(156 147 159)">c</text><text x="633" y="875"  fill="rgb(143 133 145)">t</text><text x="636" y="875"  fill="rgb(136 127 140)">.</text><text x="639" y="875"  fill="rgb(136 129 139)">k</text><text x="642" y="875"  fill="rgb(139 131 143)">e</text><text x="645" y="875"  fill="rgb(142 134 144)">y</text><text x="648" y="875"  fill="rgb(144 135 146)">s</text><text x="651" y="875"  fill="rgb(143 135 146)">(cr</text><text x="660" y="875"  fill="rgb(145 137 147)">i</text><text x="663" y="875"  fill="rgb(147 141 150)">t</text><text x="666" y="875"  fill="rgb(141 133 144)">e</text><text x="669" y="875"  fill="rgb(127 114 133)">r</text><text x="672" y="875"  fill="rgb(122 108 128)">i</text><text x="675" y="875"  fill="rgb(125 111 130)">a</text><text x="678" y="875"  fill="rgb(127 112 132)">)</text><text x="681" y="875"  fill="rgb(127 113 132)">[</text><text x="684" y="875"  fill="rgb(126 112 131)">0</text><text x="687" y="875"  fill="rgb(120 104 125)">]</text><text x="690" y="875"  fill="rgb(126 114 130)">;</text><text x="693" y="875"  fill="rgb(157 150 159)"> </text><text x="696" y="875"  fill="rgb(172 167 173)">i</text><text x="699" y="875"  fill="rgb(167 161 168)">f</text><text x="702" y="875"  fill="rgb(166 160 167)"> </text><text x="705" y="875"  fill="rgb(165 159 167)">(!t</text><text x="714" y="875"  fill="rgb(164 159 166)">hi</text><text x="720" y="875"  fill="rgb(165 160 166)">s</text><text x="723" y="875"  fill="rgb(164 159 166)">.</text><text x="726" y="875"  fill="rgb(164 158 166)">mt</text><text x="732" y="875"  fill="rgb(164 158 167)">o</text><text x="735" y="875"  fill="rgb(164 158 166)">k</text><text x="738" y="875"  fill="rgb(163 157 165)">e</text><text x="741" y="875"  fill="rgb(163 158 166)">n</text><text x="744" y="875"  fill="rgb(164 158 166)">.i</text><text x="750" y="875"  fill="rgb(163 157 165)">n</text><text x="753" y="875"  fill="rgb(162 156 164)">c</text><text x="756" y="875"  fill="rgb(163 157 165)">l</text><text x="759" y="875"  fill="rgb(163 157 164)">ud</text><text x="765" y="875"  fill="rgb(161 155 164)">e</text><text x="768" y="875"  fill="rgb(162 156 164)">s</text><text x="771" y="875"  fill="rgb(161 155 163)">(</text><text x="774" y="875"  fill="rgb(162 157 165)">a</text><text x="777" y="875"  fill="rgb(158 151 159)">p</text><text x="780" y="875"  fill="rgb(147 139 149)">p</text><text x="783" y="875"  fill="rgb(158 151 161)">l</text><text x="786" y="875"  fill="rgb(205 200 205)">y</text><text x="789" y="875"  fill="rgb(245 245 245)">t</text><text x="792" y="875"  fill="rgb(252 252 251)">o</text><text x="795" y="875"  fill="rgb(246 246 246)">k</text><text x="798" y="875"  fill="rgb(245 245 245)">en) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;</text><text x="0" y="880"  fill="rgb(245 245 245)">); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0])</text><text x="390" y="880"  fill="rgb(246 247 246)"> </text><text x="393" y="880"  fill="rgb(254 255 253)">&amp;</text><text x="396" y="880"  fill="rgb(236 233 237)">&amp;</text><text x="399" y="880"  fill="rgb(185 164 193)"> </text><text x="402" y="880"  fill="rgb(148 118 163)">t</text><text x="405" y="880"  fill="rgb(144 113 160)">h</text><text x="408" y="880"  fill="rgb(154 127 169)">i</text><text x="411" y="880"  fill="rgb(161 136 175)">s</text><text x="414" y="880"  fill="rgb(159 135 174)">.</text><text x="417" y="880"  fill="rgb(159 134 173)">m</text><text x="420" y="880"  fill="rgb(159 135 173)">f</text><text x="423" y="880"  fill="rgb(160 135 173)">i</text><text x="426" y="880"  fill="rgb(161 136 174)">el</text><text x="432" y="880"  fill="rgb(161 137 174)">ds</text><text x="438" y="880"  fill="rgb(162 138 175)">.</text><text x="441" y="880"  fill="rgb(162 139 174)">i</text><text x="444" y="880"  fill="rgb(162 139 175)">n</text><text x="447" y="880"  fill="rgb(163 140 176)">c</text><text x="450" y="880"  fill="rgb(163 140 175)">lu</text><text x="456" y="880"  fill="rgb(163 140 176)">d</text><text x="459" y="880"  fill="rgb(165 142 176)">e</text><text x="462" y="880"  fill="rgb(165 143 176)">s</text><text x="465" y="880"  fill="rgb(165 144 177)">(</text><text x="468" y="880"  fill="rgb(166 146 178)">k</text><text x="471" y="880"  fill="rgb(162 139 174)">e</text><text x="474" y="880"  fill="rgb(170 146 181)">y</text><text x="477" y="880"  fill="rgb(179 158 189)">[</text><text x="480" y="880"  fill="rgb(178 158 188)">1]</text><text x="486" y="880"  fill="rgb(180 159 188)">)</text><text x="489" y="880"  fill="rgb(180 159 189)">)</text><text x="492" y="880"  fill="rgb(180 160 188)">) </text><text x="498" y="880"  fill="rgb(179 161 188)">{</text><text x="501" y="880"  fill="rgb(179 162 188)"> </text><text x="504" y="880"  fill="rgb(181 162 188)">t</text><text x="507" y="880"  fill="rgb(180 162 187)">h</text><text x="510" y="880"  fill="rgb(180 163 188)">r</text><text x="513" y="880"  fill="rgb(179 163 187)">o</text><text x="516" y="880"  fill="rgb(179 163 186)">w</text><text x="519" y="880"  fill="rgb(180 164 186)"> n</text><text x="525" y="880"  fill="rgb(180 165 186)">ew</text><text x="531" y="880"  fill="rgb(180 166 186)"> </text><text x="534" y="880"  fill="rgb(180 166 185)">In</text><text x="540" y="880"  fill="rgb(179 166 185)">s</text><text x="543" y="880"  fill="rgb(180 167 185)">i</text><text x="546" y="880"  fill="rgb(180 168 184)">ghtE</text><text x="558" y="880"  fill="rgb(180 169 184)">rro</text><text x="567" y="880"  fill="rgb(180 170 184)">r()</text><text x="576" y="880"  fill="rgb(180 171 183)">;</text><text x="579" y="880"  fill="rgb(180 171 184)"> }</text><text x="585" y="880"  fill="rgb(179 170 183)"> </text><text x="588" y="880"  fill="rgb(180 171 184)">}</text><text x="591" y="880"  fill="rgb(180 171 183)"> </text><text x="594" y="880"  fill="rgb(180 172 183)">el</text><text x="600" y="880"  fill="rgb(179 172 183)">s</text><text x="603" y="880"  fill="rgb(180 173 183)">e i</text><text x="612" y="880"  fill="rgb(179 172 182)">f </text><text x="618" y="880"  fill="rgb(179 172 180)">(</text><text x="621" y="880"  fill="rgb(179 172 181)">t</text><text x="624" y="880"  fill="rgb(181 174 183)">h</text><text x="627" y="880"  fill="rgb(183 178 185)">i</text><text x="630" y="880"  fill="rgb(184 178 185)">s</text><text x="633" y="880"  fill="rgb(176 170 178)">.</text><text x="636" y="880"  fill="rgb(163 156 165)">m</text><text x="639" y="880"  fill="rgb(148 140 151)">s</text><text x="642" y="880"  fill="rgb(140 131 143)">t</text><text x="645" y="880"  fill="rgb(138 130 141)">o</text><text x="648" y="880"  fill="rgb(141 132 143)">k</text><text x="651" y="880"  fill="rgb(142 134 146)">e</text><text x="654" y="880"  fill="rgb(144 136 147)">n</text><text x="657" y="880"  fill="rgb(148 140 150)">.</text><text x="660" y="880"  fill="rgb(149 142 151)">i</text><text x="663" y="880"  fill="rgb(140 130 142)">n</text><text x="666" y="880"  fill="rgb(126 113 132)">c</text><text x="669" y="880"  fill="rgb(125 110 131)">l</text><text x="672" y="880"  fill="rgb(127 113 133)">u</text><text x="675" y="880"  fill="rgb(127 114 133)">d</text><text x="678" y="880"  fill="rgb(128 115 133)">e</text><text x="681" y="880"  fill="rgb(125 112 131)">s</text><text x="684" y="880"  fill="rgb(118 104 125)">(</text><text x="687" y="880"  fill="rgb(130 118 135)">a</text><text x="690" y="880"  fill="rgb(163 156 164)">p</text><text x="693" y="880"  fill="rgb(173 168 175)">p</text><text x="696" y="880"  fill="rgb(167 161 169)">ly</text><text x="702" y="880"  fill="rgb(167 161 168)">t</text><text x="705" y="880"  fill="rgb(167 161 169)">oke</text><text x="714" y="880"  fill="rgb(167 161 168)">n))</text><text x="723" y="880"  fill="rgb(166 160 168)"> {</text><text x="729" y="880"  fill="rgb(166 159 167)"> </text><text x="732" y="880"  fill="rgb(166 159 168)">i</text><text x="735" y="880"  fill="rgb(166 159 167)">f</text><text x="738" y="880"  fill="rgb(166 160 167)"> (</text><text x="744" y="880"  fill="rgb(165 159 167)">!</text><text x="747" y="880"  fill="rgb(165 158 166)">(</text><text x="750" y="880"  fill="rgb(165 158 167)">t</text><text x="753" y="880"  fill="rgb(165 158 166)">h</text><text x="756" y="880"  fill="rgb(164 158 166)">is.v</text><text x="768" y="880"  fill="rgb(166 160 167)">a</text><text x="771" y="880"  fill="rgb(163 158 166)">l</text><text x="774" y="880"  fill="rgb(154 147 157)">i</text><text x="777" y="880"  fill="rgb(149 141 152)">d</text><text x="780" y="880"  fill="rgb(176 170 177)">a</text><text x="783" y="880"  fill="rgb(228 227 229)">t</text><text x="786" y="880"  fill="rgb(253 253 252)">e</text><text x="789" y="880"  fill="rgb(247 247 247)">I</text><text x="792" y="880"  fill="rgb(245 245 245)">dstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightError(); } } } } pub</text><text x="0" y="885"  fill="rgb(245 245 245)">lic validateOptions(q: any): void { let keys: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORD</text><text x="393" y="885"  fill="rgb(244 244 244)">E</text><text x="396" y="885"  fill="rgb(249 251 249)">R</text><text x="399" y="885"  fill="rgb(251 252 250)">&quot;</text><text x="402" y="885"  fill="rgb(222 216 226)">)</text><text x="405" y="885"  fill="rgb(177 155 187)"> </text><text x="408" y="885"  fill="rgb(147 116 163)">{</text><text x="411" y="885"  fill="rgb(147 117 162)"> </text><text x="414" y="885"  fill="rgb(158 131 172)">t</text><text x="417" y="885"  fill="rgb(161 135 175)">h</text><text x="420" y="885"  fill="rgb(159 135 173)">ro</text><text x="426" y="885"  fill="rgb(160 135 173)">w</text><text x="429" y="885"  fill="rgb(161 136 174)"> n</text><text x="435" y="885"  fill="rgb(161 137 174)">e</text><text x="438" y="885"  fill="rgb(161 137 175)">w</text><text x="441" y="885"  fill="rgb(162 138 175)"> </text><text x="444" y="885"  fill="rgb(163 139 174)">I</text><text x="447" y="885"  fill="rgb(162 139 174)">n</text><text x="450" y="885"  fill="rgb(162 139 175)">s</text><text x="453" y="885"  fill="rgb(163 140 176)">i</text><text x="456" y="885"  fill="rgb(164 141 175)">g</text><text x="459" y="885"  fill="rgb(165 142 177)">ht</text><text x="465" y="885"  fill="rgb(165 142 176)">E</text><text x="468" y="885"  fill="rgb(166 144 177)">r</text><text x="471" y="885"  fill="rgb(164 144 176)">r</text><text x="474" y="885"  fill="rgb(163 138 176)">o</text><text x="477" y="885"  fill="rgb(177 155 187)">r</text><text x="480" y="885"  fill="rgb(177 157 187)">(</text><text x="483" y="885"  fill="rgb(177 157 188)">)</text><text x="486" y="885"  fill="rgb(179 159 188)">;</text><text x="489" y="885"  fill="rgb(180 159 189)"> </text><text x="492" y="885"  fill="rgb(180 160 189)">}</text><text x="495" y="885"  fill="rgb(180 161 188)"> </text><text x="498" y="885"  fill="rgb(181 161 189)">}</text><text x="501" y="885"  fill="rgb(181 162 189)"> </text><text x="504" y="885"  fill="rgb(180 163 188)">t</text><text x="507" y="885"  fill="rgb(181 163 189)">h</text><text x="510" y="885"  fill="rgb(182 163 188)">i</text><text x="513" y="885"  fill="rgb(181 164 189)">s</text><text x="516" y="885"  fill="rgb(180 164 188)">.</text><text x="519" y="885"  fill="rgb(181 164 188)">v</text><text x="522" y="885"  fill="rgb(180 165 186)">a</text><text x="525" y="885"  fill="rgb(181 166 187)">l</text><text x="528" y="885"  fill="rgb(181 165 187)">i</text><text x="531" y="885"  fill="rgb(181 166 186)">d</text><text x="534" y="885"  fill="rgb(181 167 186)">a</text><text x="537" y="885"  fill="rgb(180 167 186)">te</text><text x="543" y="885"  fill="rgb(180 167 187)">C</text><text x="546" y="885"  fill="rgb(181 167 186)">o</text><text x="549" y="885"  fill="rgb(180 168 185)">l</text><text x="552" y="885"  fill="rgb(180 169 184)">u</text><text x="555" y="885"  fill="rgb(181 170 186)">m</text><text x="558" y="885"  fill="rgb(180 169 184)">n</text><text x="561" y="885"  fill="rgb(181 170 185)">s(q</text><text x="570" y="885"  fill="rgb(181 171 184)">.</text><text x="573" y="885"  fill="rgb(181 171 185)">CO</text><text x="579" y="885"  fill="rgb(181 171 184)">L</text><text x="582" y="885"  fill="rgb(180 172 184)">U</text><text x="585" y="885"  fill="rgb(180 171 184)">M</text><text x="588" y="885"  fill="rgb(180 172 184)">N</text><text x="591" y="885"  fill="rgb(181 172 184)">S)</text><text x="597" y="885"  fill="rgb(180 172 184)">;</text><text x="600" y="885"  fill="rgb(181 172 184)"> </text><text x="603" y="885"  fill="rgb(180 173 184)">i</text><text x="606" y="885"  fill="rgb(180 174 183)">f</text><text x="609" y="885"  fill="rgb(181 174 184)"> (</text><text x="615" y="885"  fill="rgb(181 174 183)">q.O</text><text x="624" y="885"  fill="rgb(180 173 182)">R</text><text x="627" y="885"  fill="rgb(179 171 181)">D</text><text x="630" y="885"  fill="rgb(181 173 182)">E</text><text x="633" y="885"  fill="rgb(184 177 186)">R</text><text x="636" y="885"  fill="rgb(185 180 186)">)</text><text x="639" y="885"  fill="rgb(182 178 183)"> </text><text x="642" y="885"  fill="rgb(173 166 175)">{</text><text x="645" y="885"  fill="rgb(159 151 162)"> </text><text x="648" y="885"  fill="rgb(148 139 150)">t</text><text x="651" y="885"  fill="rgb(143 134 146)">h</text><text x="654" y="885"  fill="rgb(145 137 146)">i</text><text x="657" y="885"  fill="rgb(143 136 146)">s</text><text x="660" y="885"  fill="rgb(135 122 139)">.</text><text x="663" y="885"  fill="rgb(126 111 132)">v</text><text x="666" y="885"  fill="rgb(127 114 134)">a</text><text x="669" y="885"  fill="rgb(129 116 134)">l</text><text x="672" y="885"  fill="rgb(129 117 135)">i</text><text x="675" y="885"  fill="rgb(130 117 135)">d</text><text x="678" y="885"  fill="rgb(126 111 131)">a</text><text x="681" y="885"  fill="rgb(121 108 128)">t</text><text x="684" y="885"  fill="rgb(140 131 145)">e</text><text x="687" y="885"  fill="rgb(169 164 171)">O</text><text x="690" y="885"  fill="rgb(175 169 176)">r</text><text x="693" y="885"  fill="rgb(169 163 172)">d</text><text x="696" y="885"  fill="rgb(169 163 171)">e</text><text x="699" y="885"  fill="rgb(170 164 171)">r</text><text x="702" y="885"  fill="rgb(170 163 171)">(</text><text x="705" y="885"  fill="rgb(169 163 171)">q</text><text x="708" y="885"  fill="rgb(168 162 171)">.</text><text x="711" y="885"  fill="rgb(169 163 171)">O</text><text x="714" y="885"  fill="rgb(169 162 170)">R</text><text x="717" y="885"  fill="rgb(168 162 170)">DER</text><text x="726" y="885"  fill="rgb(167 161 170)">)</text><text x="729" y="885"  fill="rgb(168 161 169)">; } </text><text x="741" y="885"  fill="rgb(167 162 168)">}</text><text x="744" y="885"  fill="rgb(166 160 168)"> </text><text x="747" y="885"  fill="rgb(167 160 168)">p</text><text x="750" y="885"  fill="rgb(167 159 168)">r</text><text x="753" y="885"  fill="rgb(167 160 168)">i</text><text x="756" y="885"  fill="rgb(166 160 168)">va</text><text x="762" y="885"  fill="rgb(167 160 168)">t</text><text x="765" y="885"  fill="rgb(168 161 169)">e</text><text x="768" y="885"  fill="rgb(161 154 163)"> </text><text x="771" y="885"  fill="rgb(152 145 155)">v</text><text x="774" y="885"  fill="rgb(164 159 167)">a</text><text x="777" y="885"  fill="rgb(207 204 209)">l</text><text x="780" y="885"  fill="rgb(245 245 245)">i</text><text x="783" y="885"  fill="rgb(251 252 251)">d</text><text x="786" y="885"  fill="rgb(244 244 244)">a</text><text x="789" y="885"  fill="rgb(245 245 245)">teColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (this.transformation</text><text x="0" y="890"  fill="rgb(245 245 245)">Key.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightError(); } } else { this.validateKey(mskey); } this</text><text x="399" y="890"  fill="rgb(247 247 247)">.</text><text x="402" y="890"  fill="rgb(254 255 253)">k</text><text x="405" y="890"  fill="rgb(248 249 246)">e</text><text x="408" y="890"  fill="rgb(217 208 221)">y</text><text x="411" y="890"  fill="rgb(171 147 182)">s</text><text x="414" y="890"  fill="rgb(146 115 161)">I</text><text x="417" y="890"  fill="rgb(149 118 163)">n</text><text x="420" y="890"  fill="rgb(157 130 171)">Q</text><text x="423" y="890"  fill="rgb(159 134 173)">u</text><text x="426" y="890"  fill="rgb(160 136 173)">e</text><text x="429" y="890"  fill="rgb(161 136 173)">r</text><text x="432" y="890"  fill="rgb(160 135 173)">y</text><text x="435" y="890"  fill="rgb(161 136 174)">.p</text><text x="441" y="890"  fill="rgb(161 137 174)">u</text><text x="444" y="890"  fill="rgb(162 138 175)">s</text><text x="447" y="890"  fill="rgb(162 138 174)">h</text><text x="450" y="890"  fill="rgb(163 139 175)">(</text><text x="453" y="890"  fill="rgb(162 139 176)">m</text><text x="456" y="890"  fill="rgb(164 141 175)">s</text><text x="459" y="890"  fill="rgb(164 141 176)">k</text><text x="462" y="890"  fill="rgb(164 141 177)">e</text><text x="465" y="890"  fill="rgb(165 142 177)">y</text><text x="468" y="890"  fill="rgb(165 142 176)">)</text><text x="471" y="890"  fill="rgb(166 146 178)">;</text><text x="474" y="890"  fill="rgb(160 137 173)"> </text><text x="477" y="890"  fill="rgb(168 143 179)">}</text><text x="480" y="890"  fill="rgb(180 158 189)"> </text><text x="483" y="890"  fill="rgb(177 156 187)">} </text><text x="489" y="890"  fill="rgb(178 158 188)">p</text><text x="492" y="890"  fill="rgb(180 159 188)">r</text><text x="495" y="890"  fill="rgb(180 161 188)">i</text><text x="498" y="890"  fill="rgb(181 161 189)">v</text><text x="501" y="890"  fill="rgb(181 162 189)">a</text><text x="504" y="890"  fill="rgb(181 163 189)">te</text><text x="510" y="890"  fill="rgb(182 164 189)"> v</text><text x="516" y="890"  fill="rgb(181 163 189)">a</text><text x="519" y="890"  fill="rgb(181 164 189)">l</text><text x="522" y="890"  fill="rgb(182 165 188)">i</text><text x="525" y="890"  fill="rgb(182 166 188)">da</text><text x="531" y="890"  fill="rgb(181 166 188)">t</text><text x="534" y="890"  fill="rgb(181 167 187)">e</text><text x="537" y="890"  fill="rgb(182 168 187)">O</text><text x="540" y="890"  fill="rgb(181 168 187)">rde</text><text x="549" y="890"  fill="rgb(182 169 186)">r(</text><text x="555" y="890"  fill="rgb(181 170 186)">q:</text><text x="561" y="890"  fill="rgb(182 171 186)"> any</text><text x="573" y="890"  fill="rgb(182 171 185)">)</text><text x="576" y="890"  fill="rgb(181 171 185)">: </text><text x="582" y="890"  fill="rgb(182 172 185)">v</text><text x="585" y="890"  fill="rgb(181 172 185)">o</text><text x="588" y="890"  fill="rgb(182 172 185)">i</text><text x="591" y="890"  fill="rgb(182 173 184)">d {</text><text x="600" y="890"  fill="rgb(181 172 184)"> </text><text x="603" y="890"  fill="rgb(182 173 184)">i</text><text x="606" y="890"  fill="rgb(181 174 184)">f (</text><text x="615" y="890"  fill="rgb(182 175 184)">A</text><text x="618" y="890"  fill="rgb(181 175 184)">rra</text><text x="627" y="890"  fill="rgb(181 174 184)">y</text><text x="630" y="890"  fill="rgb(181 174 183)">.</text><text x="633" y="890"  fill="rgb(179 173 183)">i</text><text x="636" y="890"  fill="rgb(180 174 182)">s</text><text x="639" y="890"  fill="rgb(183 179 185)">A</text><text x="642" y="890"  fill="rgb(186 182 188)">r</text><text x="645" y="890"  fill="rgb(186 181 187)">r</text><text x="648" y="890"  fill="rgb(184 181 186)">a</text><text x="651" y="890"  fill="rgb(173 168 174)">y</text><text x="654" y="890"  fill="rgb(151 141 154)">(</text><text x="657" y="890"  fill="rgb(131 119 137)">q</text><text x="660" y="890"  fill="rgb(125 109 130)">)</text><text x="663" y="890"  fill="rgb(124 110 130)">)</text><text x="666" y="890"  fill="rgb(127 113 132)"> </text><text x="669" y="890"  fill="rgb(129 115 134)">{</text><text x="672" y="890"  fill="rgb(128 115 134)"> </text><text x="675" y="890"  fill="rgb(124 109 130)">t</text><text x="678" y="890"  fill="rgb(126 113 132)">h</text><text x="681" y="890"  fill="rgb(154 146 157)">r</text><text x="684" y="890"  fill="rgb(178 174 180)">o</text><text x="687" y="890"  fill="rgb(178 173 179)">w</text><text x="690" y="890"  fill="rgb(171 166 173)"> n</text><text x="696" y="890"  fill="rgb(172 166 172)">e</text><text x="699" y="890"  fill="rgb(171 165 172)">w</text><text x="702" y="890"  fill="rgb(172 166 173)"> </text><text x="705" y="890"  fill="rgb(171 166 172)">I</text><text x="708" y="890"  fill="rgb(170 164 172)">n</text><text x="711" y="890"  fill="rgb(171 165 172)">s</text><text x="714" y="890"  fill="rgb(170 164 172)">i</text><text x="717" y="890"  fill="rgb(170 165 172)">g</text><text x="720" y="890"  fill="rgb(170 164 171)">h</text><text x="723" y="890"  fill="rgb(170 165 171)">t</text><text x="726" y="890"  fill="rgb(169 164 171)">E</text><text x="729" y="890"  fill="rgb(169 164 172)">rr</text><text x="735" y="890"  fill="rgb(169 163 171)">o</text><text x="738" y="890"  fill="rgb(169 162 171)">r</text><text x="741" y="890"  fill="rgb(168 163 170)">(</text><text x="744" y="890"  fill="rgb(168 163 171)">)</text><text x="747" y="890"  fill="rgb(168 162 171)">;</text><text x="750" y="890"  fill="rgb(168 161 169)"> </text><text x="753" y="890"  fill="rgb(168 163 170)">}</text><text x="756" y="890"  fill="rgb(167 161 168)"> </text><text x="759" y="890"  fill="rgb(167 160 168)">e</text><text x="762" y="890"  fill="rgb(162 156 163)">l</text><text x="765" y="890"  fill="rgb(156 149 157)">s</text><text x="768" y="890"  fill="rgb(163 157 165)">e</text><text x="771" y="890"  fill="rgb(199 194 199)"> </text><text x="774" y="890"  fill="rgb(235 236 235)">i</text><text x="777" y="890"  fill="rgb(253 254 253)">f</text><text x="780" y="890"  fill="rgb(249 249 249)"> </text><text x="783" y="890"  fill="rgb(245 244 245)">(</text><text x="786" y="890"  fill="rgb(245 245 245)">typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.dir || !q.keys || Obj</text><text x="0" y="895"  fill="rgb(245 245 245)">ect.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys:</text><text x="405" y="895"  fill="rgb(250 252 249)"> </text><text x="408" y="895"  fill="rgb(253 255 252)">a</text><text x="411" y="895"  fill="rgb(244 243 244)">n</text><text x="414" y="895"  fill="rgb(210 201 216)">y</text><text x="417" y="895"  fill="rgb(173 150 184)"> </text><text x="420" y="895"  fill="rgb(152 121 165)">=</text><text x="423" y="895"  fill="rgb(149 119 163)"> </text><text x="426" y="895"  fill="rgb(155 129 169)">q</text><text x="429" y="895"  fill="rgb(158 134 172)">.</text><text x="432" y="895"  fill="rgb(161 136 174)">key</text><text x="441" y="895"  fill="rgb(161 137 174)">s;</text><text x="447" y="895"  fill="rgb(162 138 175)"> </text><text x="450" y="895"  fill="rgb(162 138 174)">i</text><text x="453" y="895"  fill="rgb(163 139 175)">f</text><text x="456" y="895"  fill="rgb(162 139 175)"> </text><text x="459" y="895"  fill="rgb(163 140 175)">(</text><text x="462" y="895"  fill="rgb(164 141 176)">!A</text><text x="468" y="895"  fill="rgb(164 141 177)">r</text><text x="471" y="895"  fill="rgb(165 143 177)">r</text><text x="474" y="895"  fill="rgb(164 144 176)">a</text><text x="477" y="895"  fill="rgb(160 134 172)">y</text><text x="480" y="895"  fill="rgb(173 150 184)">.</text><text x="483" y="895"  fill="rgb(179 159 189)">i</text><text x="486" y="895"  fill="rgb(177 156 187)">s</text><text x="489" y="895"  fill="rgb(177 157 188)">A</text><text x="492" y="895"  fill="rgb(178 158 188)">r</text><text x="495" y="895"  fill="rgb(179 159 188)">r</text><text x="498" y="895"  fill="rgb(180 161 188)">a</text><text x="501" y="895"  fill="rgb(181 162 189)">y</text><text x="504" y="895"  fill="rgb(181 163 190)">(k</text><text x="510" y="895"  fill="rgb(182 164 190)">e</text><text x="513" y="895"  fill="rgb(183 164 189)">y</text><text x="516" y="895"  fill="rgb(183 165 190)">s</text><text x="519" y="895"  fill="rgb(182 165 189)">) </text><text x="525" y="895"  fill="rgb(183 166 189)">|</text><text x="528" y="895"  fill="rgb(182 167 189)">|</text><text x="531" y="895"  fill="rgb(181 166 188)"> </text><text x="534" y="895"  fill="rgb(182 167 188)">ke</text><text x="540" y="895"  fill="rgb(183 168 188)">ys</text><text x="546" y="895"  fill="rgb(183 169 187)">.</text><text x="549" y="895"  fill="rgb(182 169 187)">le</text><text x="555" y="895"  fill="rgb(182 170 188)">n</text><text x="558" y="895"  fill="rgb(181 171 187)">gt</text><text x="564" y="895"  fill="rgb(182 171 186)">h </text><text x="570" y="895"  fill="rgb(183 172 187)">&lt;</text><text x="573" y="895"  fill="rgb(183 173 186)"> </text><text x="576" y="895"  fill="rgb(182 173 187)">1</text><text x="579" y="895"  fill="rgb(182 172 186)">)</text><text x="582" y="895"  fill="rgb(182 172 185)"> {</text><text x="588" y="895"  fill="rgb(183 173 186)"> </text><text x="591" y="895"  fill="rgb(183 173 185)">t</text><text x="594" y="895"  fill="rgb(183 174 185)">hr</text><text x="600" y="895"  fill="rgb(182 174 185)">ow</text><text x="606" y="895"  fill="rgb(182 173 184)"> </text><text x="609" y="895"  fill="rgb(181 174 184)">ne</text><text x="615" y="895"  fill="rgb(182 175 184)">w </text><text x="621" y="895"  fill="rgb(181 175 184)">In</text><text x="627" y="895"  fill="rgb(182 176 184)">s</text><text x="630" y="895"  fill="rgb(181 175 184)">ig</text><text x="636" y="895"  fill="rgb(181 175 183)">h</text><text x="639" y="895"  fill="rgb(182 176 183)">t</text><text x="642" y="895"  fill="rgb(184 179 185)">E</text><text x="645" y="895"  fill="rgb(185 180 185)">r</text><text x="648" y="895"  fill="rgb(178 173 180)">r</text><text x="651" y="895"  fill="rgb(167 159 171)">o</text><text x="654" y="895"  fill="rgb(159 146 163)">r</text><text x="657" y="895"  fill="rgb(154 141 159)">(</text><text x="660" y="895"  fill="rgb(150 137 154)">)</text><text x="663" y="895"  fill="rgb(143 130 148)">;</text><text x="666" y="895"  fill="rgb(135 122 140)"> </text><text x="669" y="895"  fill="rgb(126 111 132)">}</text><text x="672" y="895"  fill="rgb(121 107 127)"> </text><text x="675" y="895"  fill="rgb(133 122 137)">f</text><text x="678" y="895"  fill="rgb(161 155 163)">o</text><text x="681" y="895"  fill="rgb(179 175 179)">r</text><text x="684" y="895"  fill="rgb(176 172 176)"> </text><text x="687" y="895"  fill="rgb(172 167 173)">(</text><text x="690" y="895"  fill="rgb(173 168 175)">l</text><text x="693" y="895"  fill="rgb(173 169 176)">e</text><text x="696" y="895"  fill="rgb(173 168 175)">t</text><text x="699" y="895"  fill="rgb(172 168 175)"> </text><text x="702" y="895"  fill="rgb(173 168 175)">an</text><text x="708" y="895"  fill="rgb(172 168 174)">y</text><text x="711" y="895"  fill="rgb(173 168 174)">k</text><text x="714" y="895"  fill="rgb(172 167 173)">e</text><text x="717" y="895"  fill="rgb(172 167 174)">y o</text><text x="726" y="895"  fill="rgb(171 166 173)">f</text><text x="729" y="895"  fill="rgb(172 166 173)"> </text><text x="732" y="895"  fill="rgb(171 166 173)">k</text><text x="735" y="895"  fill="rgb(172 166 173)">e</text><text x="738" y="895"  fill="rgb(171 165 172)">ys</text><text x="744" y="895"  fill="rgb(170 164 171)">)</text><text x="747" y="895"  fill="rgb(170 163 171)"> </text><text x="750" y="895"  fill="rgb(169 163 171)">{</text><text x="753" y="895"  fill="rgb(167 160 168)"> </text><text x="756" y="895"  fill="rgb(164 157 165)">i</text><text x="759" y="895"  fill="rgb(162 157 164)">f</text><text x="762" y="895"  fill="rgb(171 166 172)"> </text><text x="765" y="895"  fill="rgb(196 192 198)">(</text><text x="768" y="895"  fill="rgb(230 228 230)">!</text><text x="771" y="895"  fill="rgb(250 251 250)">t</text><text x="774" y="895"  fill="rgb(252 253 252)">h</text><text x="777" y="895"  fill="rgb(246 246 246)">i</text><text x="780" y="895"  fill="rgb(245 245 245)">s.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { if (Array.isArray(q)) { </text><text x="0" y="900"  fill="rgb(245 245 245)">throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void</text><text x="408" y="900"  fill="rgb(245 246 245)"> </text><text x="411" y="900"  fill="rgb(250 251 249)">{</text><text x="414" y="900"  fill="rgb(250 252 249)"> </text><text x="417" y="900"  fill="rgb(243 243 243)">i</text><text x="420" y="900"  fill="rgb(213 204 218)">f</text><text x="423" y="900"  fill="rgb(178 156 188)"> </text><text x="426" y="900"  fill="rgb(151 121 166)">(</text><text x="429" y="900"  fill="rgb(145 115 160)">O</text><text x="432" y="900"  fill="rgb(152 124 166)">b</text><text x="435" y="900"  fill="rgb(159 134 171)">j</text><text x="438" y="900"  fill="rgb(162 138 175)">e</text><text x="441" y="900"  fill="rgb(161 137 174)">ct.</text><text x="450" y="900"  fill="rgb(162 138 175)">k</text><text x="453" y="900"  fill="rgb(162 138 174)">e</text><text x="456" y="900"  fill="rgb(162 139 174)">y</text><text x="459" y="900"  fill="rgb(163 140 176)">s</text><text x="462" y="900"  fill="rgb(163 140 175)">(</text><text x="465" y="900"  fill="rgb(164 141 175)">q</text><text x="468" y="900"  fill="rgb(164 141 177)">)</text><text x="471" y="900"  fill="rgb(165 142 176)">.</text><text x="474" y="900"  fill="rgb(165 144 177)">l</text><text x="477" y="900"  fill="rgb(162 140 174)">e</text><text x="480" y="900"  fill="rgb(160 135 172)">n</text><text x="483" y="900"  fill="rgb(175 153 187)">g</text><text x="486" y="900"  fill="rgb(179 160 189)">t</text><text x="489" y="900"  fill="rgb(176 156 186)">h</text><text x="492" y="900"  fill="rgb(178 158 188)"> </text><text x="495" y="900"  fill="rgb(178 158 187)">!</text><text x="498" y="900"  fill="rgb(179 159 188)">=</text><text x="501" y="900"  fill="rgb(180 161 189)">=</text><text x="504" y="900"  fill="rgb(181 162 189)"> </text><text x="507" y="900"  fill="rgb(181 163 190)">1</text><text x="510" y="900"  fill="rgb(182 164 190)">) </text><text x="516" y="900"  fill="rgb(183 165 191)">{</text><text x="519" y="900"  fill="rgb(183 165 190)"> </text><text x="522" y="900"  fill="rgb(183 166 190)">thr</text><text x="531" y="900"  fill="rgb(182 168 189)">o</text><text x="534" y="900"  fill="rgb(183 168 189)">w </text><text x="540" y="900"  fill="rgb(183 168 188)">n</text><text x="543" y="900"  fill="rgb(183 168 189)">e</text><text x="546" y="900"  fill="rgb(183 169 189)">w</text><text x="549" y="900"  fill="rgb(183 169 187)"> </text><text x="552" y="900"  fill="rgb(183 170 188)">In</text><text x="558" y="900"  fill="rgb(182 170 188)">s</text><text x="561" y="900"  fill="rgb(183 171 188)">i</text><text x="564" y="900"  fill="rgb(182 171 187)">g</text><text x="567" y="900"  fill="rgb(182 171 186)">h</text><text x="570" y="900"  fill="rgb(183 172 187)">t</text><text x="573" y="900"  fill="rgb(183 172 186)">E</text><text x="576" y="900"  fill="rgb(183 173 187)">rro</text><text x="585" y="900"  fill="rgb(183 173 186)">r()</text><text x="594" y="900"  fill="rgb(183 174 185)">;</text><text x="597" y="900"  fill="rgb(184 175 186)"> </text><text x="600" y="900"  fill="rgb(183 174 185)">}</text><text x="603" y="900"  fill="rgb(183 175 186)"> </text><text x="606" y="900"  fill="rgb(183 175 185)">e</text><text x="609" y="900"  fill="rgb(182 174 184)">ls</text><text x="615" y="900"  fill="rgb(182 175 184)">e {</text><text x="624" y="900"  fill="rgb(182 176 184)"> </text><text x="627" y="900"  fill="rgb(182 175 184)">l</text><text x="630" y="900"  fill="rgb(182 176 184)">e</text><text x="633" y="900"  fill="rgb(184 179 186)">t</text><text x="636" y="900"  fill="rgb(186 182 188)"> </text><text x="639" y="900"  fill="rgb(185 181 186)">k</text><text x="642" y="900"  fill="rgb(177 169 179)">e</text><text x="645" y="900"  fill="rgb(165 154 169)">y</text><text x="648" y="900"  fill="rgb(155 142 161)">:</text><text x="651" y="900"  fill="rgb(155 141 161)"> </text><text x="654" y="900"  fill="rgb(158 146 163)">s</text><text x="657" y="900"  fill="rgb(160 149 165)">t</text><text x="660" y="900"  fill="rgb(161 150 166)">r</text><text x="663" y="900"  fill="rgb(157 145 163)">i</text><text x="666" y="900"  fill="rgb(150 135 157)">n</text><text x="669" y="900"  fill="rgb(153 141 159)">g</text><text x="672" y="900"  fill="rgb(175 169 178)"> </text><text x="675" y="900"  fill="rgb(192 190 192)">=</text><text x="678" y="900"  fill="rgb(189 186 189)"> </text><text x="681" y="900"  fill="rgb(178 173 180)">O</text><text x="684" y="900"  fill="rgb(173 167 173)">b</text><text x="687" y="900"  fill="rgb(171 166 172)">j</text><text x="690" y="900"  fill="rgb(171 164 172)">e</text><text x="693" y="900"  fill="rgb(171 165 172)">ct</text><text x="699" y="900"  fill="rgb(171 165 173)">.</text><text x="702" y="900"  fill="rgb(172 166 173)">k</text><text x="705" y="900"  fill="rgb(172 166 174)">e</text><text x="708" y="900"  fill="rgb(172 167 173)">y</text><text x="711" y="900"  fill="rgb(173 168 173)">s</text><text x="714" y="900"  fill="rgb(172 167 173)">(q)</text><text x="723" y="900"  fill="rgb(171 166 173)">[0</text><text x="729" y="900"  fill="rgb(171 165 173)">]</text><text x="732" y="900"  fill="rgb(171 165 172)">;</text><text x="735" y="900"  fill="rgb(169 164 171)"> </text><text x="738" y="900"  fill="rgb(169 163 170)">let</text><text x="747" y="900"  fill="rgb(170 164 171)"> </text><text x="750" y="900"  fill="rgb(169 163 171)">v</text><text x="753" y="900"  fill="rgb(170 164 172)">a</text><text x="756" y="900"  fill="rgb(182 176 183)">l</text><text x="759" y="900"  fill="rgb(204 201 205)">u</text><text x="762" y="900"  fill="rgb(230 229 230)">e</text><text x="765" y="900"  fill="rgb(247 247 247)">:</text><text x="768" y="900"  fill="rgb(250 250 250)"> </text><text x="771" y="900"  fill="rgb(247 247 247)">a</text><text x="774" y="900"  fill="rgb(245 245 245)">ny = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(valu</text><text x="0" y="905"  fill="rgb(245 245 245)">e); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw ne</text><text x="414" y="905"  fill="rgb(246 246 245)">w</text><text x="417" y="905"  fill="rgb(247 247 247)"> </text><text x="420" y="905"  fill="rgb(251 253 250)">I</text><text x="423" y="905"  fill="rgb(247 247 247)">n</text><text x="426" y="905"  fill="rgb(217 208 222)">s</text><text x="429" y="905"  fill="rgb(180 160 190)">i</text><text x="432" y="905"  fill="rgb(152 124 167)">g</text><text x="435" y="905"  fill="rgb(145 116 160)">h</text><text x="438" y="905"  fill="rgb(150 122 164)">t</text><text x="441" y="905"  fill="rgb(160 134 173)">E</text><text x="444" y="905"  fill="rgb(163 139 176)">r</text><text x="447" y="905"  fill="rgb(162 138 175)">r</text><text x="450" y="905"  fill="rgb(161 137 174)">o</text><text x="453" y="905"  fill="rgb(162 138 175)">r</text><text x="456" y="905"  fill="rgb(163 138 174)">(</text><text x="459" y="905"  fill="rgb(162 139 175)">)</text><text x="462" y="905"  fill="rgb(163 140 176)">;</text><text x="465" y="905"  fill="rgb(163 140 175)"> </text><text x="468" y="905"  fill="rgb(164 141 176)">}</text><text x="471" y="905"  fill="rgb(165 142 176)"> </text><text x="474" y="905"  fill="rgb(165 142 177)">}</text><text x="477" y="905"  fill="rgb(166 144 178)"> </text><text x="480" y="905"  fill="rgb(161 138 173)">}</text><text x="483" y="905"  fill="rgb(159 134 173)"> </text><text x="486" y="905"  fill="rgb(175 154 187)">p</text><text x="489" y="905"  fill="rgb(180 159 190)">r</text><text x="492" y="905"  fill="rgb(175 153 186)">i</text><text x="495" y="905"  fill="rgb(176 157 187)">v</text><text x="498" y="905"  fill="rgb(178 159 188)">a</text><text x="501" y="905"  fill="rgb(181 161 188)">t</text><text x="504" y="905"  fill="rgb(181 162 190)">e</text><text x="507" y="905"  fill="rgb(182 163 190)"> </text><text x="510" y="905"  fill="rgb(182 164 190)">v</text><text x="513" y="905"  fill="rgb(183 165 191)">a</text><text x="516" y="905"  fill="rgb(183 164 191)">l</text><text x="519" y="905"  fill="rgb(184 166 192)">i</text><text x="522" y="905"  fill="rgb(183 166 191)">d</text><text x="525" y="905"  fill="rgb(184 167 191)">at</text><text x="531" y="905"  fill="rgb(184 167 190)">e</text><text x="534" y="905"  fill="rgb(183 168 190)">NO</text><text x="540" y="905"  fill="rgb(183 169 190)">T</text><text x="543" y="905"  fill="rgb(184 169 190)">(</text><text x="546" y="905"  fill="rgb(183 169 189)">v</text><text x="549" y="905"  fill="rgb(183 170 189)">a</text><text x="552" y="905"  fill="rgb(184 170 189)">lue</text><text x="561" y="905"  fill="rgb(183 171 189)">:</text><text x="564" y="905"  fill="rgb(184 172 189)"> a</text><text x="570" y="905"  fill="rgb(184 172 188)">n</text><text x="573" y="905"  fill="rgb(183 173 188)">y</text><text x="576" y="905"  fill="rgb(183 173 187)">):</text><text x="582" y="905"  fill="rgb(184 174 188)"> v</text><text x="588" y="905"  fill="rgb(184 174 187)">oi</text><text x="594" y="905"  fill="rgb(184 175 188)">d</text><text x="597" y="905"  fill="rgb(184 174 187)"> </text><text x="600" y="905"  fill="rgb(184 175 186)">{</text><text x="603" y="905"  fill="rgb(183 175 185)"> </text><text x="606" y="905"  fill="rgb(183 176 185)">i</text><text x="609" y="905"  fill="rgb(184 176 186)">f (t</text><text x="621" y="905"  fill="rgb(183 175 185)">y</text><text x="624" y="905"  fill="rgb(183 176 184)">p</text><text x="627" y="905"  fill="rgb(184 179 186)">e</text><text x="630" y="905"  fill="rgb(187 182 189)">o</text><text x="633" y="905"  fill="rgb(185 182 188)">f</text><text x="636" y="905"  fill="rgb(178 171 181)"> </text><text x="639" y="905"  fill="rgb(166 155 170)">v</text><text x="642" y="905"  fill="rgb(158 144 163)">a</text><text x="645" y="905"  fill="rgb(158 143 163)">l</text><text x="648" y="905"  fill="rgb(159 146 165)">u</text><text x="651" y="905"  fill="rgb(159 148 166)">e</text><text x="654" y="905"  fill="rgb(160 148 166)"> </text><text x="657" y="905"  fill="rgb(157 143 163)">!</text><text x="660" y="905"  fill="rgb(149 135 155)">=</text><text x="663" y="905"  fill="rgb(150 137 157)">=</text><text x="666" y="905"  fill="rgb(176 166 179)"> </text><text x="669" y="905"  fill="rgb(210 208 211)">&quot;</text><text x="672" y="905"  fill="rgb(225 225 225)">o</text><text x="675" y="905"  fill="rgb(222 221 221)">b</text><text x="678" y="905"  fill="rgb(215 213 215)">j</text><text x="681" y="905"  fill="rgb(210 207 210)">e</text><text x="684" y="905"  fill="rgb(203 201 205)">c</text><text x="687" y="905"  fill="rgb(197 195 199)">t</text><text x="690" y="905"  fill="rgb(192 188 192)">&quot;</text><text x="693" y="905"  fill="rgb(187 182 187)">)</text><text x="696" y="905"  fill="rgb(182 177 183)"> </text><text x="699" y="905"  fill="rgb(177 172 178)">{</text><text x="702" y="905"  fill="rgb(175 170 177)"> </text><text x="705" y="905"  fill="rgb(174 170 177)">t</text><text x="708" y="905"  fill="rgb(174 169 175)">h</text><text x="711" y="905"  fill="rgb(172 168 174)">r</text><text x="714" y="905"  fill="rgb(173 168 174)">o</text><text x="717" y="905"  fill="rgb(172 167 173)">w</text><text x="720" y="905"  fill="rgb(172 168 173)"> </text><text x="723" y="905"  fill="rgb(173 168 174)">n</text><text x="726" y="905"  fill="rgb(172 168 173)">e</text><text x="729" y="905"  fill="rgb(173 168 175)">w</text><text x="732" y="905"  fill="rgb(175 170 176)"> </text><text x="735" y="905"  fill="rgb(176 172 179)">I</text><text x="738" y="905"  fill="rgb(180 176 181)">n</text><text x="741" y="905"  fill="rgb(183 178 184)">s</text><text x="744" y="905"  fill="rgb(183 178 185)">i</text><text x="747" y="905"  fill="rgb(184 180 186)">g</text><text x="750" y="905"  fill="rgb(193 188 194)">h</text><text x="753" y="905"  fill="rgb(212 210 213)">t</text><text x="756" y="905"  fill="rgb(235 236 236)">E</text><text x="759" y="905"  fill="rgb(249 249 248)">r</text><text x="762" y="905"  fill="rgb(248 248 248)">r</text><text x="765" y="905"  fill="rgb(246 246 246)">o</text><text x="768" y="905"  fill="rgb(245 245 245)">r(); } this.validateFilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError()</text><text x="0" y="910"  fill="rgb(245 245 245)">; } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length</text><text x="423" y="910"  fill="rgb(246 246 245)"> </text><text x="426" y="910"  fill="rgb(252 255 251)">!</text><text x="429" y="910"  fill="rgb(249 251 248)">=</text><text x="432" y="910"  fill="rgb(226 220 229)">=</text><text x="435" y="910"  fill="rgb(194 179 202)"> </text><text x="438" y="910"  fill="rgb(163 136 173)">2</text><text x="441" y="910"  fill="rgb(147 119 162)">)</text><text x="444" y="910"  fill="rgb(149 121 164)"> </text><text x="447" y="910"  fill="rgb(158 132 171)">{</text><text x="450" y="910"  fill="rgb(163 139 175)"> </text><text x="453" y="910"  fill="rgb(162 138 175)">t</text><text x="456" y="910"  fill="rgb(161 138 175)">h</text><text x="459" y="910"  fill="rgb(162 139 174)">ro</text><text x="465" y="910"  fill="rgb(162 139 175)">w</text><text x="468" y="910"  fill="rgb(163 140 176)"> </text><text x="471" y="910"  fill="rgb(164 141 175)">n</text><text x="474" y="910"  fill="rgb(164 141 176)">e</text><text x="477" y="910"  fill="rgb(164 142 176)">w</text><text x="480" y="910"  fill="rgb(167 145 178)"> </text><text x="483" y="910"  fill="rgb(161 138 174)">I</text><text x="486" y="910"  fill="rgb(160 134 172)">n</text><text x="489" y="910"  fill="rgb(174 152 185)">s</text><text x="492" y="910"  fill="rgb(176 154 187)">i</text><text x="495" y="910"  fill="rgb(167 144 179)">g</text><text x="498" y="910"  fill="rgb(166 143 179)">h</text><text x="501" y="910"  fill="rgb(168 145 179)">t</text><text x="504" y="910"  fill="rgb(170 146 182)">E</text><text x="507" y="910"  fill="rgb(171 150 182)">r</text><text x="510" y="910"  fill="rgb(174 153 184)">r</text><text x="513" y="910"  fill="rgb(176 157 185)">o</text><text x="516" y="910"  fill="rgb(178 159 187)">r</text><text x="519" y="910"  fill="rgb(181 163 190)">(</text><text x="522" y="910"  fill="rgb(183 165 191)">)</text><text x="525" y="910"  fill="rgb(184 167 192)">;</text><text x="528" y="910"  fill="rgb(185 169 193)"> </text><text x="531" y="910"  fill="rgb(186 169 193)">}</text><text x="534" y="910"  fill="rgb(185 170 192)"> </text><text x="537" y="910"  fill="rgb(185 171 192)">el</text><text x="543" y="910"  fill="rgb(184 171 191)">s</text><text x="546" y="910"  fill="rgb(184 170 190)">e </text><text x="552" y="910"  fill="rgb(184 171 191)">{</text><text x="555" y="910"  fill="rgb(184 171 190)"> </text><text x="558" y="910"  fill="rgb(184 170 189)">l</text><text x="561" y="910"  fill="rgb(185 172 190)">e</text><text x="564" y="910"  fill="rgb(184 172 190)">t</text><text x="567" y="910"  fill="rgb(184 173 190)"> </text><text x="570" y="910"  fill="rgb(184 172 190)">i</text><text x="573" y="910"  fill="rgb(184 173 189)">d</text><text x="576" y="910"  fill="rgb(184 174 189)">s</text><text x="579" y="910"  fill="rgb(184 175 188)">t</text><text x="582" y="910"  fill="rgb(184 174 188)">ri</text><text x="588" y="910"  fill="rgb(184 175 189)">n</text><text x="591" y="910"  fill="rgb(184 175 188)">g</text><text x="594" y="910"  fill="rgb(184 176 189)">:</text><text x="597" y="910"  fill="rgb(184 176 188)"> st</text><text x="606" y="910"  fill="rgb(184 176 187)">r</text><text x="609" y="910"  fill="rgb(184 176 186)">i</text><text x="612" y="910"  fill="rgb(184 177 187)">n</text><text x="615" y="910"  fill="rgb(183 177 187)">g</text><text x="618" y="910"  fill="rgb(184 177 187)"> </text><text x="621" y="910"  fill="rgb(187 180 188)">=</text><text x="624" y="910"  fill="rgb(188 182 190)"> </text><text x="627" y="910"  fill="rgb(186 180 188)">s</text><text x="630" y="910"  fill="rgb(178 170 180)">k</text><text x="633" y="910"  fill="rgb(164 153 170)">e</text><text x="636" y="910"  fill="rgb(157 142 164)">y</text><text x="639" y="910"  fill="rgb(158 142 162)">[</text><text x="642" y="910"  fill="rgb(161 148 167)">0</text><text x="645" y="910"  fill="rgb(163 151 168)">]</text><text x="648" y="910"  fill="rgb(163 150 167)">;</text><text x="651" y="910"  fill="rgb(161 148 166)"> </text><text x="654" y="910"  fill="rgb(153 140 160)">l</text><text x="657" y="910"  fill="rgb(151 137 158)">e</text><text x="660" y="910"  fill="rgb(168 157 171)">t</text><text x="663" y="910"  fill="rgb(201 196 202)"> </text><text x="666" y="910"  fill="rgb(222 223 221)">s</text><text x="669" y="910"  fill="rgb(223 223 223)">f</text><text x="672" y="910"  fill="rgb(216 213 216)">i</text><text x="675" y="910"  fill="rgb(214 211 214)">e</text><text x="678" y="910"  fill="rgb(216 215 216)">ld</text><text x="684" y="910"  fill="rgb(217 216 218)">: </text><text x="690" y="910"  fill="rgb(216 215 217)">s</text><text x="693" y="910"  fill="rgb(214 214 216)">t</text><text x="696" y="910"  fill="rgb(213 210 214)">r</text><text x="699" y="910"  fill="rgb(210 207 210)">i</text><text x="702" y="910"  fill="rgb(207 204 207)">n</text><text x="705" y="910"  fill="rgb(204 201 205)">g</text><text x="708" y="910"  fill="rgb(202 199 203)"> </text><text x="711" y="910"  fill="rgb(199 197 200)">=</text><text x="714" y="910"  fill="rgb(199 196 200)"> </text><text x="717" y="910"  fill="rgb(197 193 197)">s</text><text x="720" y="910"  fill="rgb(198 195 198)">k</text><text x="723" y="910"  fill="rgb(198 195 199)">e</text><text x="726" y="910"  fill="rgb(198 197 199)">y</text><text x="729" y="910"  fill="rgb(201 198 201)">[</text><text x="732" y="910"  fill="rgb(202 199 203)">1</text><text x="735" y="910"  fill="rgb(201 198 203)">]</text><text x="738" y="910"  fill="rgb(199 196 200)">;</text><text x="741" y="910"  fill="rgb(199 195 200)"> </text><text x="744" y="910"  fill="rgb(205 202 206)">l</text><text x="747" y="910"  fill="rgb(220 217 220)">e</text><text x="750" y="910"  fill="rgb(237 236 238)">t</text><text x="753" y="910"  fill="rgb(249 248 248)"> </text><text x="756" y="910"  fill="rgb(249 249 249)">s</text><text x="759" y="910"  fill="rgb(245 245 245)">tr: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)</text><text x="0" y="915"  fill="rgb(245 245 245)">) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value: any)</text><text x="429" y="915"  fill="rgb(247 248 247)">:</text><text x="432" y="915"  fill="rgb(254 255 252)"> </text><text x="435" y="915"  fill="rgb(252 254 250)">v</text><text x="438" y="915"  fill="rgb(237 235 238)">o</text><text x="441" y="915"  fill="rgb(208 198 213)">i</text><text x="444" y="915"  fill="rgb(173 152 184)">d</text><text x="447" y="915"  fill="rgb(154 127 167)"> </text><text x="450" y="915"  fill="rgb(149 119 163)">{</text><text x="453" y="915"  fill="rgb(154 127 168)"> </text><text x="456" y="915"  fill="rgb(160 135 173)">i</text><text x="459" y="915"  fill="rgb(162 138 174)">f</text><text x="462" y="915"  fill="rgb(162 139 174)"> </text><text x="465" y="915"  fill="rgb(163 139 175)">(</text><text x="468" y="915"  fill="rgb(162 140 176)">t</text><text x="471" y="915"  fill="rgb(163 140 175)">yp</text><text x="477" y="915"  fill="rgb(164 141 176)">e</text><text x="480" y="915"  fill="rgb(165 142 177)">o</text><text x="483" y="915"  fill="rgb(167 145 178)">f</text><text x="486" y="915"  fill="rgb(162 140 173)"> </text><text x="489" y="915"  fill="rgb(163 140 175)">v</text><text x="492" y="915"  fill="rgb(199 185 206)">a</text><text x="495" y="915"  fill="rgb(221 213 224)">l</text><text x="498" y="915"  fill="rgb(210 199 216)">u</text><text x="501" y="915"  fill="rgb(201 187 208)">e</text><text x="504" y="915"  fill="rgb(194 180 202)"> </text><text x="507" y="915"  fill="rgb(188 171 197)">!</text><text x="510" y="915"  fill="rgb(184 166 193)">=</text><text x="513" y="915"  fill="rgb(179 161 189)">=</text><text x="516" y="915"  fill="rgb(177 158 186)"> </text><text x="519" y="915"  fill="rgb(174 155 184)">&quot;</text><text x="522" y="915"  fill="rgb(173 154 182)">o</text><text x="525" y="915"  fill="rgb(174 154 184)">b</text><text x="528" y="915"  fill="rgb(174 155 184)">j</text><text x="531" y="915"  fill="rgb(176 159 184)">e</text><text x="534" y="915"  fill="rgb(178 159 186)">c</text><text x="537" y="915"  fill="rgb(179 162 188)">t</text><text x="540" y="915"  fill="rgb(180 164 189)">&quot;</text><text x="543" y="915"  fill="rgb(183 167 189)"> </text><text x="546" y="915"  fill="rgb(183 169 190)">|</text><text x="549" y="915"  fill="rgb(184 169 190)">|</text><text x="552" y="915"  fill="rgb(183 171 191)"> </text><text x="555" y="915"  fill="rgb(184 171 191)">O</text><text x="558" y="915"  fill="rgb(186 173 191)">bj</text><text x="564" y="915"  fill="rgb(184 172 190)">ec</text><text x="570" y="915"  fill="rgb(185 174 191)">t</text><text x="573" y="915"  fill="rgb(185 174 190)">.</text><text x="576" y="915"  fill="rgb(184 174 190)">k</text><text x="579" y="915"  fill="rgb(184 175 190)">e</text><text x="582" y="915"  fill="rgb(184 175 189)">y</text><text x="585" y="915"  fill="rgb(185 175 189)">s</text><text x="588" y="915"  fill="rgb(185 175 190)">(</text><text x="591" y="915"  fill="rgb(184 175 189)">v</text><text x="594" y="915"  fill="rgb(184 175 188)">a</text><text x="597" y="915"  fill="rgb(184 176 188)">lu</text><text x="603" y="915"  fill="rgb(185 177 189)">e).</text><text x="612" y="915"  fill="rgb(186 178 189)">l</text><text x="615" y="915"  fill="rgb(188 182 191)">e</text><text x="618" y="915"  fill="rgb(188 182 190)">n</text><text x="621" y="915"  fill="rgb(183 175 186)">g</text><text x="624" y="915"  fill="rgb(174 164 178)">t</text><text x="627" y="915"  fill="rgb(164 152 169)">h</text><text x="630" y="915"  fill="rgb(159 144 165)"> </text><text x="633" y="915"  fill="rgb(160 143 165)">!</text><text x="636" y="915"  fill="rgb(161 147 168)">=</text><text x="639" y="915"  fill="rgb(163 150 169)">=</text><text x="642" y="915"  fill="rgb(162 150 168)"> </text><text x="645" y="915"  fill="rgb(161 149 167)">1</text><text x="648" y="915"  fill="rgb(157 142 162)">)</text><text x="651" y="915"  fill="rgb(155 138 160)"> </text><text x="654" y="915"  fill="rgb(168 156 172)">{</text><text x="657" y="915"  fill="rgb(196 193 198)"> </text><text x="660" y="915"  fill="rgb(223 222 222)">t</text><text x="663" y="915"  fill="rgb(228 228 227)">h</text><text x="666" y="915"  fill="rgb(221 220 221)">r</text><text x="669" y="915"  fill="rgb(216 214 216)">o</text><text x="672" y="915"  fill="rgb(216 215 216)">w</text><text x="675" y="915"  fill="rgb(216 214 216)"> </text><text x="678" y="915"  fill="rgb(215 213 215)">n</text><text x="681" y="915"  fill="rgb(214 212 214)">e</text><text x="684" y="915"  fill="rgb(213 211 213)">w </text><text x="690" y="915"  fill="rgb(213 211 214)">I</text><text x="693" y="915"  fill="rgb(214 212 215)">ns</text><text x="699" y="915"  fill="rgb(215 213 215)">i</text><text x="702" y="915"  fill="rgb(215 212 215)">gh</text><text x="708" y="915"  fill="rgb(214 212 214)">t</text><text x="711" y="915"  fill="rgb(213 212 214)">Er</text><text x="717" y="915"  fill="rgb(211 210 212)">r</text><text x="720" y="915"  fill="rgb(212 211 212)">o</text><text x="723" y="915"  fill="rgb(211 209 210)">r</text><text x="726" y="915"  fill="rgb(210 208 210)">(</text><text x="729" y="915"  fill="rgb(206 204 207)">)</text><text x="732" y="915"  fill="rgb(203 200 203)">;</text><text x="735" y="915"  fill="rgb(203 200 205)"> </text><text x="738" y="915"  fill="rgb(212 208 212)">}</text><text x="741" y="915"  fill="rgb(228 226 227)"> </text><text x="744" y="915"  fill="rgb(240 240 240)">l</text><text x="747" y="915"  fill="rgb(247 248 247)">e</text><text x="750" y="915"  fill="rgb(249 250 249)">t</text><text x="753" y="915"  fill="rgb(246 246 246)"> </text><text x="756" y="915"  fill="rgb(245 245 245)">mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let idstring: string = mke</text><text x="0" y="920"  fill="rgb(245 245 245)">y[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || </text><text x="435" y="920"  fill="rgb(247 247 246)">!</text><text x="438" y="920"  fill="rgb(252 255 251)">t</text><text x="441" y="920"  fill="rgb(252 254 251)">h</text><text x="444" y="920"  fill="rgb(242 241 242)">i</text><text x="447" y="920"  fill="rgb(222 215 224)">s</text><text x="450" y="920"  fill="rgb(194 178 200)">.</text><text x="453" y="920"  fill="rgb(169 147 181)">m</text><text x="456" y="920"  fill="rgb(153 127 167)">f</text><text x="459" y="920"  fill="rgb(150 123 164)">i</text><text x="462" y="920"  fill="rgb(155 129 169)">e</text><text x="465" y="920"  fill="rgb(159 134 171)">l</text><text x="468" y="920"  fill="rgb(161 138 173)">d</text><text x="471" y="920"  fill="rgb(163 140 176)">s</text><text x="474" y="920"  fill="rgb(164 141 176)">.</text><text x="477" y="920"  fill="rgb(163 141 175)">i</text><text x="480" y="920"  fill="rgb(164 141 176)">nc</text><text x="486" y="920"  fill="rgb(166 143 177)">l</text><text x="489" y="920"  fill="rgb(163 140 175)">u</text><text x="492" y="920"  fill="rgb(174 154 184)">d</text><text x="495" y="920"  fill="rgb(214 206 217)">e</text><text x="498" y="920"  fill="rgb(243 243 243)">s</text><text x="501" y="920"  fill="rgb(251 252 250)">(</text><text x="504" y="920"  fill="rgb(248 249 247)">m</text><text x="507" y="920"  fill="rgb(243 242 243)">f</text><text x="510" y="920"  fill="rgb(239 237 240)">i</text><text x="513" y="920"  fill="rgb(235 232 236)">e</text><text x="516" y="920"  fill="rgb(228 224 231)">l</text><text x="519" y="920"  fill="rgb(222 215 225)">d</text><text x="522" y="920"  fill="rgb(217 208 221)">)</text><text x="525" y="920"  fill="rgb(210 201 216)">)</text><text x="528" y="920"  fill="rgb(205 195 210)"> </text><text x="531" y="920"  fill="rgb(200 188 206)">{</text><text x="534" y="920"  fill="rgb(197 183 202)"> </text><text x="537" y="920"  fill="rgb(193 179 200)">t</text><text x="540" y="920"  fill="rgb(189 175 196)">h</text><text x="543" y="920"  fill="rgb(187 171 194)">r</text><text x="546" y="920"  fill="rgb(184 168 190)">o</text><text x="549" y="920"  fill="rgb(180 164 188)">w</text><text x="552" y="920"  fill="rgb(179 163 186)"> </text><text x="555" y="920"  fill="rgb(178 162 185)">n</text><text x="558" y="920"  fill="rgb(180 164 186)">e</text><text x="561" y="920"  fill="rgb(182 167 188)">w</text><text x="564" y="920"  fill="rgb(183 169 189)"> </text><text x="567" y="920"  fill="rgb(184 171 190)">I</text><text x="570" y="920"  fill="rgb(185 174 191)">n</text><text x="573" y="920"  fill="rgb(185 175 190)">s</text><text x="576" y="920"  fill="rgb(186 175 191)">ig</text><text x="582" y="920"  fill="rgb(185 175 191)">h</text><text x="585" y="920"  fill="rgb(185 176 190)">tE</text><text x="591" y="920"  fill="rgb(184 175 189)">r</text><text x="594" y="920"  fill="rgb(185 177 190)">r</text><text x="597" y="920"  fill="rgb(184 177 190)">o</text><text x="600" y="920"  fill="rgb(185 178 190)">r</text><text x="603" y="920"  fill="rgb(187 179 190)">(</text><text x="606" y="920"  fill="rgb(188 181 192)">)</text><text x="609" y="920"  fill="rgb(189 182 193)">;</text><text x="612" y="920"  fill="rgb(186 179 189)"> </text><text x="615" y="920"  fill="rgb(181 170 184)">}</text><text x="618" y="920"  fill="rgb(171 160 177)"> </text><text x="621" y="920"  fill="rgb(163 150 170)">}</text><text x="624" y="920"  fill="rgb(160 145 167)"> </text><text x="627" y="920"  fill="rgb(161 147 168)">}</text><text x="630" y="920"  fill="rgb(163 150 171)"> </text><text x="633" y="920"  fill="rgb(165 151 172)">p</text><text x="636" y="920"  fill="rgb(164 151 169)">r</text><text x="639" y="920"  fill="rgb(160 146 167)">i</text><text x="642" y="920"  fill="rgb(155 140 162)">v</text><text x="645" y="920"  fill="rgb(154 139 160)">a</text><text x="648" y="920"  fill="rgb(169 157 173)">t</text><text x="651" y="920"  fill="rgb(197 191 199)">e</text><text x="654" y="920"  fill="rgb(222 222 222)"> </text><text x="657" y="920"  fill="rgb(230 231 230)">v</text><text x="660" y="920"  fill="rgb(226 225 226)">a</text><text x="663" y="920"  fill="rgb(220 219 220)">l</text><text x="666" y="920"  fill="rgb(219 217 219)">id</text><text x="672" y="920"  fill="rgb(218 216 217)">a</text><text x="675" y="920"  fill="rgb(217 216 217)">te</text><text x="681" y="920"  fill="rgb(216 215 217)">A</text><text x="684" y="920"  fill="rgb(216 214 216)">N</text><text x="687" y="920"  fill="rgb(215 213 215)">D</text><text x="690" y="920"  fill="rgb(215 213 214)">O</text><text x="693" y="920"  fill="rgb(214 211 213)">R</text><text x="696" y="920"  fill="rgb(212 210 213)">(</text><text x="699" y="920"  fill="rgb(211 209 212)">v</text><text x="702" y="920"  fill="rgb(212 209 212)">a</text><text x="705" y="920"  fill="rgb(211 209 212)">l</text><text x="708" y="920"  fill="rgb(211 208 211)">u</text><text x="711" y="920"  fill="rgb(210 208 210)">e</text><text x="714" y="920"  fill="rgb(208 207 209)">:</text><text x="717" y="920"  fill="rgb(208 205 208)"> </text><text x="720" y="920"  fill="rgb(206 204 206)">a</text><text x="723" y="920"  fill="rgb(203 201 204)">n</text><text x="726" y="920"  fill="rgb(204 201 204)">y</text><text x="729" y="920"  fill="rgb(210 207 211)">)</text><text x="732" y="920"  fill="rgb(220 218 220)">:</text><text x="735" y="920"  fill="rgb(233 232 233)"> </text><text x="738" y="920"  fill="rgb(243 243 243)">v</text><text x="741" y="920"  fill="rgb(248 248 248)">o</text><text x="744" y="920"  fill="rgb(249 249 249)">i</text><text x="747" y="920"  fill="rgb(246 246 246)">d</text><text x="750" y="920"  fill="rgb(245 245 245)"> { if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { this.validateFilter(innerO</text><text x="0" y="925"  fill="rgb(245 245 245)">bject); } } private validateIdstring(idstring: string): boolean { if (this.idInQuery.length === 0) { for (let insightDataset of this.allInsightData</text><text x="441" y="925"  fill="rgb(246 246 246)">s</text><text x="444" y="925"  fill="rgb(249 250 248)">e</text><text x="447" y="925"  fill="rgb(250 251 249)">t</text><text x="450" y="925"  fill="rgb(249 250 248)">)</text><text x="453" y="925"  fill="rgb(239 236 239)"> </text><text x="456" y="925"  fill="rgb(211 201 217)">{</text><text x="459" y="925"  fill="rgb(186 170 195)"> </text><text x="462" y="925"  fill="rgb(167 143 178)">i</text><text x="465" y="925"  fill="rgb(153 126 166)">f</text><text x="468" y="925"  fill="rgb(149 121 163)"> </text><text x="471" y="925"  fill="rgb(152 126 166)">(</text><text x="474" y="925"  fill="rgb(157 133 171)">i</text><text x="477" y="925"  fill="rgb(162 138 174)">n</text><text x="480" y="925"  fill="rgb(164 141 176)">s</text><text x="483" y="925"  fill="rgb(165 142 177)">ig</text><text x="489" y="925"  fill="rgb(165 143 177)">h</text><text x="492" y="925"  fill="rgb(161 137 172)">t</text><text x="495" y="925"  fill="rgb(157 133 169)">D</text><text x="498" y="925"  fill="rgb(174 155 184)">a</text><text x="501" y="925"  fill="rgb(211 202 215)">t</text><text x="504" y="925"  fill="rgb(241 240 242)">a</text><text x="507" y="925"  fill="rgb(253 255 252)">s</text><text x="510" y="925"  fill="rgb(255 255 255)">e</text><text x="513" y="925"  fill="rgb(252 254 251)">t</text><text x="516" y="925"  fill="rgb(249 250 248)">.</text><text x="519" y="925"  fill="rgb(248 249 247)">i</text><text x="522" y="925"  fill="rgb(248 248 247)">d</text><text x="525" y="925"  fill="rgb(247 247 246)"> </text><text x="528" y="925"  fill="rgb(246 246 246)">=</text><text x="531" y="925"  fill="rgb(245 245 245)">=</text><text x="534" y="925"  fill="rgb(244 244 244)">=</text><text x="537" y="925"  fill="rgb(242 241 242)"> </text><text x="540" y="925"  fill="rgb(237 236 238)">i</text><text x="543" y="925"  fill="rgb(232 229 234)">d</text><text x="546" y="925"  fill="rgb(226 222 229)">s</text><text x="549" y="925"  fill="rgb(220 214 223)">t</text><text x="552" y="925"  fill="rgb(213 207 217)">r</text><text x="555" y="925"  fill="rgb(206 199 211)">i</text><text x="558" y="925"  fill="rgb(198 189 204)">n</text><text x="561" y="925"  fill="rgb(190 177 196)">g</text><text x="564" y="925"  fill="rgb(183 168 188)">)</text><text x="567" y="925"  fill="rgb(177 162 184)"> </text><text x="570" y="925"  fill="rgb(179 166 186)">{</text><text x="573" y="925"  fill="rgb(186 175 192)"> </text><text x="576" y="925"  fill="rgb(186 175 191)">th</text><text x="582" y="925"  fill="rgb(186 175 192)">i</text><text x="585" y="925"  fill="rgb(186 176 191)">s</text><text x="588" y="925"  fill="rgb(187 177 192)">.</text><text x="591" y="925"  fill="rgb(187 179 192)">i</text><text x="594" y="925"  fill="rgb(189 181 192)">d</text><text x="597" y="925"  fill="rgb(189 182 193)">In</text><text x="603" y="925"  fill="rgb(186 177 191)">Q</text><text x="606" y="925"  fill="rgb(181 171 184)">u</text><text x="609" y="925"  fill="rgb(174 161 179)">e</text><text x="612" y="925"  fill="rgb(167 154 173)">r</text><text x="615" y="925"  fill="rgb(163 150 170)">y</text><text x="618" y="925"  fill="rgb(162 149 171)">.</text><text x="621" y="925"  fill="rgb(164 151 171)">p</text><text x="624" y="925"  fill="rgb(166 153 173)">u</text><text x="627" y="925"  fill="rgb(167 154 174)">s</text><text x="630" y="925"  fill="rgb(165 153 172)">h</text><text x="633" y="925"  fill="rgb(160 146 168)">(</text><text x="636" y="925"  fill="rgb(155 140 162)">i</text><text x="639" y="925"  fill="rgb(156 140 161)">d</text><text x="642" y="925"  fill="rgb(172 160 177)">s</text><text x="645" y="925"  fill="rgb(198 192 201)">t</text><text x="648" y="925"  fill="rgb(223 221 223)">r</text><text x="651" y="925"  fill="rgb(232 234 232)">i</text><text x="654" y="925"  fill="rgb(228 228 227)">n</text><text x="657" y="925"  fill="rgb(224 223 223)">g</text><text x="660" y="925"  fill="rgb(221 220 221)">);</text><text x="666" y="925"  fill="rgb(220 219 221)"> </text><text x="669" y="925"  fill="rgb(220 218 220)">i</text><text x="672" y="925"  fill="rgb(219 217 219)">f</text><text x="675" y="925"  fill="rgb(218 216 218)"> (</text><text x="681" y="925"  fill="rgb(216 215 217)">in</text><text x="687" y="925"  fill="rgb(216 214 216)">si</text><text x="693" y="925"  fill="rgb(214 213 214)">g</text><text x="696" y="925"  fill="rgb(214 212 214)">ht</text><text x="702" y="925"  fill="rgb(213 211 213)">D</text><text x="705" y="925"  fill="rgb(211 210 212)">a</text><text x="708" y="925"  fill="rgb(209 207 210)">t</text><text x="711" y="925"  fill="rgb(206 204 207)">a</text><text x="714" y="925"  fill="rgb(206 204 206)">s</text><text x="717" y="925"  fill="rgb(208 204 208)">e</text><text x="720" y="925"  fill="rgb(211 209 212)">t</text><text x="723" y="925"  fill="rgb(220 219 220)">.</text><text x="726" y="925"  fill="rgb(231 230 231)">k</text><text x="729" y="925"  fill="rgb(241 241 241)">i</text><text x="732" y="925"  fill="rgb(246 246 246)">n</text><text x="735" y="925"  fill="rgb(247 247 247)">d </text><text x="741" y="925"  fill="rgb(245 246 246)">=</text><text x="744" y="925"  fill="rgb(245 245 245)">== InsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { this.mfields = this.roommfiel</text><text x="0" y="930"  fill="rgb(245 245 245)">ds; this.sfields = this.roomsfields; } return true; } } return false; } else { return this.idInQuery.includes(idstring); } } public getIdInQuery(): st</text><text x="450" y="930"  fill="rgb(246 246 246)">r</text><text x="453" y="930"  fill="rgb(247 248 247)">i</text><text x="456" y="930"  fill="rgb(248 250 248)">n</text><text x="459" y="930"  fill="rgb(249 251 249)">g</text><text x="462" y="930"  fill="rgb(235 232 237)">[</text><text x="465" y="930"  fill="rgb(213 203 218)">]</text><text x="468" y="930"  fill="rgb(188 171 197)"> </text><text x="471" y="930"  fill="rgb(165 141 177)">{</text><text x="474" y="930"  fill="rgb(152 126 166)"> </text><text x="477" y="930"  fill="rgb(150 123 164)">r</text><text x="480" y="930"  fill="rgb(151 125 165)">e</text><text x="483" y="930"  fill="rgb(156 131 168)">t</text><text x="486" y="930"  fill="rgb(162 139 174)">u</text><text x="489" y="930"  fill="rgb(166 143 178)">r</text><text x="492" y="930"  fill="rgb(167 145 178)">n</text><text x="495" y="930"  fill="rgb(165 144 177)"> </text><text x="498" y="930"  fill="rgb(157 135 171)">t</text><text x="501" y="930"  fill="rgb(154 130 167)">h</text><text x="504" y="930"  fill="rgb(171 152 181)">i</text><text x="507" y="930"  fill="rgb(202 191 208)">s</text><text x="510" y="930"  fill="rgb(231 227 233)">.</text><text x="513" y="930"  fill="rgb(246 246 246)">i</text><text x="516" y="930"  fill="rgb(254 255 253)">d</text><text x="519" y="930"  fill="rgb(252 254 251)">I</text><text x="522" y="930"  fill="rgb(248 248 247)">n</text><text x="525" y="930"  fill="rgb(246 246 245)">Q</text><text x="528" y="930"  fill="rgb(246 246 246)">ue</text><text x="534" y="930"  fill="rgb(246 247 246)">ry</text><text x="540" y="930"  fill="rgb(247 247 246)">;</text><text x="543" y="930"  fill="rgb(247 247 247)"> </text><text x="546" y="930"  fill="rgb(247 248 247)">}</text><text x="549" y="930"  fill="rgb(248 248 247)"> }</text><text x="555" y="930"  fill="rgb(248 249 248)"> </text><text x="558" y="930"  fill="rgb(246 246 246)">i</text><text x="561" y="930"  fill="rgb(238 237 238)">m</text><text x="564" y="930"  fill="rgb(226 223 228)">p</text><text x="567" y="930"  fill="rgb(211 204 215)">o</text><text x="570" y="930"  fill="rgb(192 180 197)">r</text><text x="573" y="930"  fill="rgb(186 173 192)">t</text><text x="576" y="930"  fill="rgb(188 177 193)"> </text><text x="579" y="930"  fill="rgb(188 179 194)">{</text><text x="582" y="930"  fill="rgb(189 180 195)">I</text><text x="585" y="930"  fill="rgb(191 181 196)">n</text><text x="588" y="930"  fill="rgb(190 181 195)">s</text><text x="591" y="930"  fill="rgb(190 180 194)">i</text><text x="594" y="930"  fill="rgb(187 177 191)">g</text><text x="597" y="930"  fill="rgb(181 170 185)">h</text><text x="600" y="930"  fill="rgb(172 158 179)">t</text><text x="603" y="930"  fill="rgb(167 152 175)">D</text><text x="606" y="930"  fill="rgb(165 149 172)">a</text><text x="609" y="930"  fill="rgb(164 147 171)">t</text><text x="612" y="930"  fill="rgb(165 150 173)">a</text><text x="615" y="930"  fill="rgb(167 154 174)">s</text><text x="618" y="930"  fill="rgb(168 156 175)">e</text><text x="621" y="930"  fill="rgb(168 155 175)">t</text><text x="624" y="930"  fill="rgb(166 153 173)">,</text><text x="627" y="930"  fill="rgb(160 145 168)"> </text><text x="630" y="930"  fill="rgb(154 139 163)">I</text><text x="633" y="930"  fill="rgb(157 141 164)">n</text><text x="636" y="930"  fill="rgb(176 164 180)">s</text><text x="639" y="930"  fill="rgb(204 199 207)">i</text><text x="642" y="930"  fill="rgb(229 229 229)">g</text><text x="645" y="930"  fill="rgb(236 237 235)">h</text><text x="648" y="930"  fill="rgb(230 231 230)">t</text><text x="651" y="930"  fill="rgb(226 225 226)">D</text><text x="654" y="930"  fill="rgb(225 223 225)">a</text><text x="657" y="930"  fill="rgb(224 223 224)">t</text><text x="660" y="930"  fill="rgb(224 222 224)">a</text><text x="663" y="930"  fill="rgb(222 222 222)">s</text><text x="666" y="930"  fill="rgb(222 221 222)">e</text><text x="669" y="930"  fill="rgb(221 220 221)">t</text><text x="672" y="930"  fill="rgb(220 219 221)">K</text><text x="675" y="930"  fill="rgb(220 218 220)">i</text><text x="678" y="930"  fill="rgb(219 218 220)">n</text><text x="681" y="930"  fill="rgb(219 217 219)">d</text><text x="684" y="930"  fill="rgb(218 216 218)">,</text><text x="687" y="930"  fill="rgb(218 217 218)"> </text><text x="690" y="930"  fill="rgb(217 216 218)">I</text><text x="693" y="930"  fill="rgb(216 215 217)">n</text><text x="696" y="930"  fill="rgb(214 212 214)">s</text><text x="699" y="930"  fill="rgb(212 210 212)">i</text><text x="702" y="930"  fill="rgb(210 207 209)">g</text><text x="705" y="930"  fill="rgb(209 207 209)">h</text><text x="708" y="930"  fill="rgb(210 209 211)">t</text><text x="711" y="930"  fill="rgb(215 214 216)">E</text><text x="714" y="930"  fill="rgb(224 223 224)">r</text><text x="717" y="930"  fill="rgb(233 232 233)">r</text><text x="720" y="930"  fill="rgb(241 241 241)">o</text><text x="723" y="930"  fill="rgb(248 247 247)">r</text><text x="726" y="930"  fill="rgb(247 247 247)">}</text><text x="729" y="930"  fill="rgb(246 246 246)"> f</text><text x="735" y="930"  fill="rgb(245 245 245)">rom &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;</text><text x="0" y="935"  fill="rgb(245 245 245)">]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seat</text><text x="462" y="935"  fill="rgb(248 248 247)">s</text><text x="465" y="935"  fill="rgb(253 255 252)">&quot;</text><text x="468" y="935"  fill="rgb(251 253 251)">]</text><text x="471" y="935"  fill="rgb(236 234 237)">;</text><text x="474" y="935"  fill="rgb(219 211 222)"> </text><text x="477" y="935"  fill="rgb(196 183 203)">p</text><text x="480" y="935"  fill="rgb(175 156 186)">r</text><text x="483" y="935"  fill="rgb(159 136 172)">i</text><text x="486" y="935"  fill="rgb(152 126 166)">v</text><text x="489" y="935"  fill="rgb(152 125 166)">a</text><text x="492" y="935"  fill="rgb(155 129 169)">t</text><text x="495" y="935"  fill="rgb(160 136 171)">e</text><text x="498" y="935"  fill="rgb(165 144 177)"> </text><text x="501" y="935"  fill="rgb(167 146 179)">r</text><text x="504" y="935"  fill="rgb(160 137 171)">e</text><text x="507" y="935"  fill="rgb(154 130 167)">a</text><text x="510" y="935"  fill="rgb(162 140 173)">d</text><text x="513" y="935"  fill="rgb(186 170 194)">o</text><text x="516" y="935"  fill="rgb(213 204 217)">n</text><text x="519" y="935"  fill="rgb(233 231 235)">l</text><text x="522" y="935"  fill="rgb(247 247 246)">y</text><text x="525" y="935"  fill="rgb(254 255 253)"> </text><text x="528" y="935"  fill="rgb(250 252 250)">r</text><text x="531" y="935"  fill="rgb(248 249 247)">o</text><text x="534" y="935"  fill="rgb(246 246 246)">o</text><text x="537" y="935"  fill="rgb(245 245 245)">msfield</text><text x="558" y="935"  fill="rgb(245 246 245)">s</text><text x="561" y="935"  fill="rgb(247 248 247)">:</text><text x="564" y="935"  fill="rgb(252 253 251)"> </text><text x="567" y="935"  fill="rgb(255 255 255)">s</text><text x="570" y="935"  fill="rgb(238 237 238)">t</text><text x="573" y="935"  fill="rgb(189 177 196)">r</text><text x="576" y="935"  fill="rgb(187 177 194)">i</text><text x="579" y="935"  fill="rgb(190 178 194)">n</text><text x="582" y="935"  fill="rgb(186 175 192)">g</text><text x="585" y="935"  fill="rgb(182 170 188)">[</text><text x="588" y="935"  fill="rgb(176 161 183)">]</text><text x="591" y="935"  fill="rgb(171 155 177)"> </text><text x="594" y="935"  fill="rgb(166 151 174)">=</text><text x="597" y="935"  fill="rgb(165 148 173)"> </text><text x="600" y="935"  fill="rgb(164 148 174)">[</text><text x="603" y="935"  fill="rgb(166 152 175)">&quot;</text><text x="606" y="935"  fill="rgb(169 155 177)">f</text><text x="609" y="935"  fill="rgb(171 157 178)">u</text><text x="612" y="935"  fill="rgb(170 157 178)">l</text><text x="615" y="935"  fill="rgb(167 153 175)">l</text><text x="618" y="935"  fill="rgb(163 147 170)">n</text><text x="621" y="935"  fill="rgb(158 142 167)">a</text><text x="624" y="935"  fill="rgb(158 142 165)">m</text><text x="627" y="935"  fill="rgb(165 151 172)">e</text><text x="630" y="935"  fill="rgb(185 175 190)">&quot;</text><text x="633" y="935"  fill="rgb(215 210 215)">,</text><text x="636" y="935"  fill="rgb(235 235 234)"> </text><text x="639" y="935"  fill="rgb(239 240 239)">&quot;</text><text x="642" y="935"  fill="rgb(233 233 233)">s</text><text x="645" y="935"  fill="rgb(226 226 226)">h</text><text x="648" y="935"  fill="rgb(226 225 226)">o</text><text x="651" y="935"  fill="rgb(227 226 227)">r</text><text x="654" y="935"  fill="rgb(226 226 226)">t</text><text x="657" y="935"  fill="rgb(226 225 226)">n</text><text x="660" y="935"  fill="rgb(225 224 225)">a</text><text x="663" y="935"  fill="rgb(224 224 224)">m</text><text x="666" y="935"  fill="rgb(224 223 224)">e</text><text x="669" y="935"  fill="rgb(223 222 222)">&quot;</text><text x="672" y="935"  fill="rgb(221 221 221)">,</text><text x="675" y="935"  fill="rgb(221 220 222)"> &quot;</text><text x="681" y="935"  fill="rgb(220 219 220)">n</text><text x="684" y="935"  fill="rgb(218 217 219)">u</text><text x="687" y="935"  fill="rgb(217 215 216)">m</text><text x="690" y="935"  fill="rgb(215 212 215)">b</text><text x="693" y="935"  fill="rgb(213 212 214)">e</text><text x="696" y="935"  fill="rgb(214 213 215)">r</text><text x="699" y="935"  fill="rgb(217 216 217)">&quot;</text><text x="702" y="935"  fill="rgb(223 221 222)"> </text><text x="705" y="935"  fill="rgb(229 228 229)">,</text><text x="708" y="935"  fill="rgb(237 236 237)"> </text><text x="711" y="935"  fill="rgb(244 244 243)">&quot;</text><text x="714" y="935"  fill="rgb(248 248 248)">na</text><text x="720" y="935"  fill="rgb(246 246 246)">m</text><text x="723" y="935"  fill="rgb(245 245 245)">e&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = </text><text x="0" y="940"  fill="rgb(245 245 245)">[&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id private keysInQuery: string[]; // all keys appeared in columns after being va</text><text x="468" y="940"  fill="rgb(246 246 246)">l</text><text x="471" y="940"  fill="rgb(250 251 249)">i</text><text x="474" y="940"  fill="rgb(255 255 253)">d</text><text x="477" y="940"  fill="rgb(251 253 250)">a</text><text x="480" y="940"  fill="rgb(241 240 242)">t</text><text x="483" y="940"  fill="rgb(231 227 233)">e</text><text x="486" y="940"  fill="rgb(213 204 218)">d</text><text x="489" y="940"  fill="rgb(191 175 199)"> </text><text x="492" y="940"  fill="rgb(175 154 184)">p</text><text x="495" y="940"  fill="rgb(163 139 175)">r</text><text x="498" y="940"  fill="rgb(155 129 168)">i</text><text x="501" y="940"  fill="rgb(154 129 166)">v</text><text x="504" y="940"  fill="rgb(157 134 169)">a</text><text x="507" y="940"  fill="rgb(159 137 172)">t</text><text x="510" y="940"  fill="rgb(155 132 168)">e</text><text x="513" y="940"  fill="rgb(152 127 165)"> </text><text x="516" y="940"  fill="rgb(156 131 167)">t</text><text x="519" y="940"  fill="rgb(166 144 176)">r</text><text x="522" y="940"  fill="rgb(183 168 192)">a</text><text x="525" y="940"  fill="rgb(205 193 210)">n</text><text x="528" y="940"  fill="rgb(220 213 223)">s</text><text x="531" y="940"  fill="rgb(234 231 236)">f</text><text x="534" y="940"  fill="rgb(244 243 244)">o</text><text x="537" y="940"  fill="rgb(248 248 247)">r</text><text x="540" y="940"  fill="rgb(249 250 249)">m</text><text x="543" y="940"  fill="rgb(249 250 248)">ation</text><text x="558" y="940"  fill="rgb(250 250 248)">K</text><text x="561" y="940"  fill="rgb(246 247 246)">e</text><text x="564" y="940"  fill="rgb(236 234 238)">y</text><text x="567" y="940"  fill="rgb(218 211 222)">:</text><text x="570" y="940"  fill="rgb(195 183 200)"> </text><text x="573" y="940"  fill="rgb(177 160 185)">s</text><text x="576" y="940"  fill="rgb(173 158 182)">t</text><text x="579" y="940"  fill="rgb(171 153 178)">r</text><text x="582" y="940"  fill="rgb(168 149 176)">i</text><text x="585" y="940"  fill="rgb(166 149 176)">n</text><text x="588" y="940"  fill="rgb(167 150 176)">g</text><text x="591" y="940"  fill="rgb(169 151 176)">[</text><text x="594" y="940"  fill="rgb(169 152 176)">]</text><text x="597" y="940"  fill="rgb(170 154 177)">;</text><text x="600" y="940"  fill="rgb(172 156 179)"> </text><text x="603" y="940"  fill="rgb(169 155 177)">/</text><text x="606" y="940"  fill="rgb(166 151 174)">/</text><text x="609" y="940"  fill="rgb(162 146 171)"> </text><text x="612" y="940"  fill="rgb(158 142 168)">k</text><text x="615" y="940"  fill="rgb(159 143 168)">e</text><text x="618" y="940"  fill="rgb(168 154 176)">y</text><text x="621" y="940"  fill="rgb(185 174 189)">s</text><text x="624" y="940"  fill="rgb(207 201 210)"> </text><text x="627" y="940"  fill="rgb(229 227 229)">a</text><text x="630" y="940"  fill="rgb(241 242 239)">p</text><text x="633" y="940"  fill="rgb(242 244 241)">p</text><text x="636" y="940"  fill="rgb(236 237 236)">e</text><text x="639" y="940"  fill="rgb(230 229 230)">a</text><text x="642" y="940"  fill="rgb(230 228 230)">r</text><text x="645" y="940"  fill="rgb(229 228 229)">ed</text><text x="651" y="940"  fill="rgb(228 227 228)"> </text><text x="654" y="940"  fill="rgb(227 227 227)">i</text><text x="657" y="940"  fill="rgb(227 226 227)">n</text><text x="660" y="940"  fill="rgb(226 226 226)"> </text><text x="663" y="940"  fill="rgb(226 225 226)">t</text><text x="666" y="940"  fill="rgb(225 224 225)">r</text><text x="669" y="940"  fill="rgb(224 223 224)">a</text><text x="672" y="940"  fill="rgb(222 221 222)">n</text><text x="675" y="940"  fill="rgb(220 219 220)">s</text><text x="678" y="940"  fill="rgb(219 218 219)">f</text><text x="681" y="940"  fill="rgb(218 217 218)">o</text><text x="684" y="940"  fill="rgb(219 218 220)">r</text><text x="687" y="940"  fill="rgb(222 220 222)">m</text><text x="690" y="940"  fill="rgb(226 224 226)">a</text><text x="693" y="940"  fill="rgb(231 230 231)">t</text><text x="696" y="940"  fill="rgb(238 237 238)">i</text><text x="699" y="940"  fill="rgb(242 243 242)">o</text><text x="702" y="940"  fill="rgb(245 246 245)">n</text><text x="705" y="940"  fill="rgb(248 248 248)">, </text><text x="711" y="940"  fill="rgb(247 247 247)">i</text><text x="714" y="940"  fill="rgb(245 245 245)">f there is a transformation private allInsightDataset: InsightDataset[]; private mfields: string[]; private sfields: string[]; constructor(insightDatas</text><text x="0" y="945"  fill="rgb(245 245 245)">ets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.allInsightDataset = insightDatasets; } public validate(q</text><text x="477" y="945"  fill="rgb(247 247 246)">:</text><text x="480" y="945"  fill="rgb(249 251 249)"> </text><text x="483" y="945"  fill="rgb(253 255 252)">a</text><text x="486" y="945"  fill="rgb(252 254 251)">n</text><text x="489" y="945"  fill="rgb(246 247 246)">y</text><text x="492" y="945"  fill="rgb(241 239 241)">)</text><text x="495" y="945"  fill="rgb(231 227 233)">:</text><text x="498" y="945"  fill="rgb(215 206 219)"> </text><text x="501" y="945"  fill="rgb(198 184 205)">v</text><text x="504" y="945"  fill="rgb(184 166 192)">o</text><text x="507" y="945"  fill="rgb(175 156 185)">i</text><text x="510" y="945"  fill="rgb(167 147 179)">d</text><text x="513" y="945"  fill="rgb(161 138 172)"> </text><text x="516" y="945"  fill="rgb(155 129 166)">{</text><text x="519" y="945"  fill="rgb(149 122 162)"> </text><text x="522" y="945"  fill="rgb(146 120 159)">i</text><text x="525" y="945"  fill="rgb(149 123 162)">f</text><text x="528" y="945"  fill="rgb(156 133 168)"> </text><text x="531" y="945"  fill="rgb(167 146 178)">(</text><text x="534" y="945"  fill="rgb(177 160 186)">!</text><text x="537" y="945"  fill="rgb(185 169 193)">q</text><text x="540" y="945"  fill="rgb(191 177 198)"> </text><text x="543" y="945"  fill="rgb(196 184 202)">|</text><text x="546" y="945"  fill="rgb(197 186 203)">|</text><text x="549" y="945"  fill="rgb(197 187 204)"> </text><text x="552" y="945"  fill="rgb(199 187 205)">!</text><text x="555" y="945"  fill="rgb(197 186 203)">q</text><text x="558" y="945"  fill="rgb(194 180 200)">.</text><text x="561" y="945"  fill="rgb(186 171 193)">W</text><text x="564" y="945"  fill="rgb(173 155 182)">H</text><text x="567" y="945"  fill="rgb(161 140 172)">E</text><text x="570" y="945"  fill="rgb(159 138 170)">R</text><text x="573" y="945"  fill="rgb(167 148 177)">E</text><text x="576" y="945"  fill="rgb(167 149 177)"> </text><text x="579" y="945"  fill="rgb(168 149 177)">|</text><text x="582" y="945"  fill="rgb(168 150 178)">|</text><text x="585" y="945"  fill="rgb(169 151 178)"> !</text><text x="591" y="945"  fill="rgb(167 149 176)">q</text><text x="594" y="945"  fill="rgb(165 146 174)">.</text><text x="597" y="945"  fill="rgb(163 144 171)">O</text><text x="600" y="945"  fill="rgb(162 145 171)">P</text><text x="603" y="945"  fill="rgb(164 148 173)">T</text><text x="606" y="945"  fill="rgb(171 156 178)">I</text><text x="609" y="945"  fill="rgb(182 169 188)">O</text><text x="612" y="945"  fill="rgb(195 185 199)">N</text><text x="615" y="945"  fill="rgb(211 205 214)">S</text><text x="618" y="945"  fill="rgb(228 227 229)">)</text><text x="621" y="945"  fill="rgb(241 242 240)"> </text><text x="624" y="945"  fill="rgb(246 248 245)">{</text><text x="627" y="945"  fill="rgb(243 244 242)"> </text><text x="630" y="945"  fill="rgb(237 238 237)">t</text><text x="633" y="945"  fill="rgb(232 232 233)">h</text><text x="636" y="945"  fill="rgb(231 232 231)">r</text><text x="639" y="945"  fill="rgb(232 232 232)">o</text><text x="642" y="945"  fill="rgb(231 231 231)">w </text><text x="648" y="945"  fill="rgb(231 229 231)">n</text><text x="651" y="945"  fill="rgb(229 228 229)">e</text><text x="654" y="945"  fill="rgb(228 227 228)">w</text><text x="657" y="945"  fill="rgb(227 225 227)"> </text><text x="660" y="945"  fill="rgb(226 225 226)">I</text><text x="663" y="945"  fill="rgb(224 224 224)">ns</text><text x="669" y="945"  fill="rgb(226 225 226)">i</text><text x="672" y="945"  fill="rgb(226 226 226)">g</text><text x="675" y="945"  fill="rgb(228 227 228)">h</text><text x="678" y="945"  fill="rgb(231 230 231)">t</text><text x="681" y="945"  fill="rgb(235 233 235)">E</text><text x="684" y="945"  fill="rgb(239 239 239)">r</text><text x="687" y="945"  fill="rgb(243 243 243)">r</text><text x="690" y="945"  fill="rgb(245 245 245)">o</text><text x="693" y="945"  fill="rgb(247 247 247)">r</text><text x="696" y="945"  fill="rgb(248 248 248)">(</text><text x="699" y="945"  fill="rgb(247 247 247)">)</text><text x="702" y="945"  fill="rgb(246 246 246)">;</text><text x="705" y="945"  fill="rgb(245 245 245)"> } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateW</text><text x="0" y="950"  fill="rgb(245 245 245)">here(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public validateTransformations(q: an</text><text x="486" y="950"  fill="rgb(246 246 246)">y</text><text x="489" y="950"  fill="rgb(247 248 247)">)</text><text x="492" y="950"  fill="rgb(249 250 249)">:</text><text x="495" y="950"  fill="rgb(250 251 249)"> </text><text x="498" y="950"  fill="rgb(249 250 248)">v</text><text x="501" y="950"  fill="rgb(247 247 247)">o</text><text x="504" y="950"  fill="rgb(245 245 244)">i</text><text x="507" y="950"  fill="rgb(239 238 240)">d</text><text x="510" y="950"  fill="rgb(228 223 231)"> </text><text x="513" y="950"  fill="rgb(216 208 220)">{</text><text x="516" y="950"  fill="rgb(205 195 211)"> </text><text x="519" y="950"  fill="rgb(195 182 203)">i</text><text x="522" y="950"  fill="rgb(187 171 194)">f</text><text x="525" y="950"  fill="rgb(177 158 186)"> </text><text x="528" y="950"  fill="rgb(169 148 179)">(</text><text x="531" y="950"  fill="rgb(162 140 174)">t</text><text x="534" y="950"  fill="rgb(156 134 168)">y</text><text x="537" y="950"  fill="rgb(153 129 165)">p</text><text x="540" y="950"  fill="rgb(151 127 164)">e</text><text x="543" y="950"  fill="rgb(150 126 162)">of q</text><text x="555" y="950"  fill="rgb(151 126 162)">.</text><text x="558" y="950"  fill="rgb(151 126 163)">G</text><text x="561" y="950"  fill="rgb(152 128 163)">R</text><text x="564" y="950"  fill="rgb(155 133 166)">O</text><text x="567" y="950"  fill="rgb(160 138 170)">U</text><text x="570" y="950"  fill="rgb(161 141 172)">P</text><text x="573" y="950"  fill="rgb(162 143 173)"> </text><text x="576" y="950"  fill="rgb(163 144 173)">=</text><text x="579" y="950"  fill="rgb(165 146 175)">=</text><text x="582" y="950"  fill="rgb(167 150 177)">=</text><text x="585" y="950"  fill="rgb(170 152 179)"> </text><text x="588" y="950"  fill="rgb(173 156 181)">&quot;</text><text x="591" y="950"  fill="rgb(179 163 186)">u</text><text x="594" y="950"  fill="rgb(185 173 192)">n</text><text x="597" y="950"  fill="rgb(195 184 200)">d</text><text x="600" y="950"  fill="rgb(204 194 208)">e</text><text x="603" y="950"  fill="rgb(215 209 218)">f</text><text x="606" y="950"  fill="rgb(229 226 230)">i</text><text x="609" y="950"  fill="rgb(240 240 239)">n</text><text x="612" y="950"  fill="rgb(245 245 244)">e</text><text x="615" y="950"  fill="rgb(246 248 246)">d</text><text x="618" y="950"  fill="rgb(243 245 243)">&quot;</text><text x="621" y="950"  fill="rgb(239 239 239)"> </text><text x="624" y="950"  fill="rgb(237 236 237)">|</text><text x="627" y="950"  fill="rgb(234 233 234)">| </text><text x="633" y="950"  fill="rgb(232 232 232)">typ</text><text x="642" y="950"  fill="rgb(230 231 230)">e</text><text x="645" y="950"  fill="rgb(231 231 231)">o</text><text x="648" y="950"  fill="rgb(230 229 230)">f</text><text x="651" y="950"  fill="rgb(231 230 231)"> </text><text x="654" y="950"  fill="rgb(231 231 231)">q</text><text x="657" y="950"  fill="rgb(232 231 232)">.</text><text x="660" y="950"  fill="rgb(234 233 234)">A</text><text x="663" y="950"  fill="rgb(235 235 235)">P</text><text x="666" y="950"  fill="rgb(237 237 237)">P</text><text x="669" y="950"  fill="rgb(239 239 239)">L</text><text x="672" y="950"  fill="rgb(242 243 242)">Y</text><text x="675" y="950"  fill="rgb(245 245 245)"> =</text><text x="681" y="950"  fill="rgb(246 246 246)">== &quot;</text><text x="693" y="950"  fill="rgb(245 246 245)">u</text><text x="696" y="950"  fill="rgb(245 245 245)">ndefined&quot; || Object.keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: </text><text x="0" y="955"  fill="rgb(245 245 245)">any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should be an object, and should has at least one element } for (let key of q) { t</text><text x="498" y="955"  fill="rgb(246 246 245)">h</text><text x="501" y="955"  fill="rgb(246 246 246)">i</text><text x="504" y="955"  fill="rgb(246 247 246)">s</text><text x="507" y="955"  fill="rgb(247 248 247)">.</text><text x="510" y="955"  fill="rgb(248 248 247)">v</text><text x="513" y="955"  fill="rgb(248 249 248)">a</text><text x="516" y="955"  fill="rgb(249 250 248)">li</text><text x="522" y="955"  fill="rgb(248 248 247)">d</text><text x="525" y="955"  fill="rgb(242 242 242)">a</text><text x="528" y="955"  fill="rgb(236 232 237)">t</text><text x="531" y="955"  fill="rgb(228 224 231)">e</text><text x="534" y="955"  fill="rgb(222 215 225)">K</text><text x="537" y="955"  fill="rgb(216 208 219)">e</text><text x="540" y="955"  fill="rgb(211 202 216)">y</text><text x="543" y="955"  fill="rgb(208 198 212)">(</text><text x="546" y="955"  fill="rgb(204 193 210)">k</text><text x="549" y="955"  fill="rgb(201 188 206)">e</text><text x="552" y="955"  fill="rgb(197 184 203)">y);</text><text x="561" y="955"  fill="rgb(198 185 203)"> </text><text x="564" y="955"  fill="rgb(198 186 204)">t</text><text x="567" y="955"  fill="rgb(198 185 204)">h</text><text x="570" y="955"  fill="rgb(201 190 206)">i</text><text x="573" y="955"  fill="rgb(205 195 210)">s</text><text x="576" y="955"  fill="rgb(209 200 213)">.</text><text x="579" y="955"  fill="rgb(213 205 217)">t</text><text x="582" y="955"  fill="rgb(218 210 221)">r</text><text x="585" y="955"  fill="rgb(223 217 225)">a</text><text x="588" y="955"  fill="rgb(229 226 230)">n</text><text x="591" y="955"  fill="rgb(238 236 238)">s</text><text x="594" y="955"  fill="rgb(244 245 244)">f</text><text x="597" y="955"  fill="rgb(249 250 248)">o</text><text x="600" y="955"  fill="rgb(248 249 248)">r</text><text x="603" y="955"  fill="rgb(247 247 247)">m</text><text x="606" y="955"  fill="rgb(246 246 246)">a</text><text x="609" y="955"  fill="rgb(244 245 244)">t</text><text x="612" y="955"  fill="rgb(241 241 241)">i</text><text x="615" y="955"  fill="rgb(239 239 239)">o</text><text x="618" y="955"  fill="rgb(238 238 238)">n</text><text x="621" y="955"  fill="rgb(237 237 237)">K</text><text x="624" y="955"  fill="rgb(236 236 236)">ey.</text><text x="633" y="955"  fill="rgb(236 237 236)">p</text><text x="636" y="955"  fill="rgb(237 237 237)">u</text><text x="639" y="955"  fill="rgb(238 237 238)">s</text><text x="642" y="955"  fill="rgb(238 238 238)">h(</text><text x="648" y="955"  fill="rgb(240 240 240)">k</text><text x="651" y="955"  fill="rgb(241 241 241)">e</text><text x="654" y="955"  fill="rgb(243 243 243)">y</text><text x="657" y="955"  fill="rgb(244 245 244)">)</text><text x="660" y="955"  fill="rgb(246 246 246)">; // </text><text x="675" y="955"  fill="rgb(245 245 245)">if the key is valid, push it to transformationKey } } private validateKey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !=</text><text x="0" y="960"  fill="rgb(245 245 245)">= 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1])))) { throw ne</text><text x="525" y="960"  fill="rgb(246 247 246)">w</text><text x="528" y="960"  fill="rgb(247 248 247)"> </text><text x="531" y="960"  fill="rgb(249 250 248)">I</text><text x="534" y="960"  fill="rgb(250 251 249)">n</text><text x="537" y="960"  fill="rgb(251 253 250)">s</text><text x="540" y="960"  fill="rgb(252 254 251)">ig</text><text x="546" y="960"  fill="rgb(253 255 252)">h</text><text x="549" y="960"  fill="rgb(252 254 251)">t</text><text x="552" y="960"  fill="rgb(251 252 250)">Error(</text><text x="570" y="960"  fill="rgb(251 253 250)">)</text><text x="573" y="960"  fill="rgb(253 254 252)">;</text><text x="576" y="960"  fill="rgb(252 254 251)"> </text><text x="579" y="960"  fill="rgb(251 253 251)">}</text><text x="582" y="960"  fill="rgb(251 252 250)"> </text><text x="585" y="960"  fill="rgb(250 251 249)">}</text><text x="588" y="960"  fill="rgb(249 249 248)"> </text><text x="591" y="960"  fill="rgb(247 247 247)">p</text><text x="594" y="960"  fill="rgb(246 246 246)">r</text><text x="597" y="960"  fill="rgb(245 245 245)">i</text><text x="600" y="960"  fill="rgb(244 244 244)">v</text><text x="603" y="960"  fill="rgb(243 243 243)">a</text><text x="606" y="960"  fill="rgb(242 242 242)">t</text><text x="609" y="960"  fill="rgb(243 242 243)">e</text><text x="612" y="960"  fill="rgb(243 243 243)"> v</text><text x="618" y="960"  fill="rgb(244 244 244)">a</text><text x="621" y="960"  fill="rgb(243 243 243)">li</text><text x="627" y="960"  fill="rgb(244 244 244)">da</text><text x="633" y="960"  fill="rgb(245 245 245)">te</text><text x="639" y="960"  fill="rgb(246 246 246)">APPLY(</text><text x="657" y="960"  fill="rgb(245 245 245)">q: any): void { if (!Array.isArray(q)) { throw new InsightError(); // q should be an array, and should have at least one element } for (let applyrule of q) { if (Array.is</text><text x="0" y="965"  fill="rgb(245 245 245)">Array(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } let applykey: string = Object.keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.</text><text x="552" y="965"  fill="rgb(246 246 246)">length</text><text x="570" y="965"  fill="rgb(245 246 245)"> </text><text x="573" y="965"  fill="rgb(245 245 245)">=== 0 || appl</text><text x="612" y="965"  fill="rgb(246 246 246)">ykey.in</text><text x="633" y="965"  fill="rgb(245 245 245)">cludes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { throw new InsightError(); } this.transformationKey.push(applykey); if (Array.isArray(criteria) || Object.keys(criteria</text><text x="0" y="970"  fill="rgb(245 245 245)">).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; thi</text><text x="0" y="975"  fill="rgb(245 245 245)">s.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightError(); } } } } public validateOptions(q: any): void { let keys: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) {</text><text x="0" y="980"  fill="rgb(245 245 245)"> throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightError(); } } else { this.validateKey(mskey); } this.key</text><text x="0" y="985"  fill="rgb(245 245 245)">sInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys: a</text><text x="0" y="990"  fill="rgb(245 245 245)">ny = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void </text><text x="0" y="995"  fill="rgb(245 245 245)">{ if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let value: any = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw n</text><text x="0" y="1000"  fill="rgb(245 245 245)">ew InsightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } this.validateFilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.le</text><text x="0" y="1005"  fill="rgb(245 245 245)">ngth !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let str: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value</text><text x="0" y="1010"  fill="rgb(245 245 245)">: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstr</text><text x="0" y="1015"  fill="rgb(245 245 245)">ing) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: any): void { if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { this.validateFilter(innerObject); } } private validateIdstring(idstring: string): boolean { if (this.idInQuery.length === 0) { for (let insightDataset of this.allI</text><text x="0" y="1020"  fill="rgb(245 245 245)">nsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.kind === InsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { this.mfields = this.roommfields; this.sfields = this.roomsfields; } return true; } } return false; } else { return this.idInQuery.includes(idstring); } } public getId</text><text x="0" y="1025"  fill="rgb(245 245 245)">InQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;l</text><text x="0" y="1030"  fill="rgb(245 245 245)">at&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id private keysInQuery: string[]; // all keys appeared in col</text><text x="0" y="1035"  fill="rgb(245 245 245)">umns after being validated private transformationKey: string[]; // keys appeared in transformation, if there is a transformation private allInsightDataset: InsightDataset[]; private mfields: string[]; private sfields: string[]; constructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.allInsightDataset = insightDataset</text><text x="0" y="1040"  fill="rgb(245 245 245)">s; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public vali</text><text x="0" y="1045"  fill="rgb(245 245 245)">dateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; || Object.keys(q).length !== 2) { throw new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should be an object, and should has at least one ele</text><text x="0" y="1050"  fill="rgb(245 245 245)">ment } for (let key of q) { this.validateKey(key); this.transformationKey.push(key); // if the key is valid, push it to transformationKey } } private validateKey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.</text><text x="0" y="1055"  fill="rgb(245 245 245)">includes(splittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any): void { if (!Array.isArray(q)) { throw new InsightError(); // q should be an array, and should have at least one element } for (let applyrule of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } let applykey: string = Object.keys(applyrule)[0]; le</text><text x="0" y="1060"  fill="rgb(245 245 245)">t criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { throw new InsightError(); } this.transformationKey.push(applykey); if (Array.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !</text><text x="0" y="1065"  fill="rgb(245 245 245)">this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(ke</text><text x="0" y="1070"  fill="rgb(245 245 245)">y[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightError(); } } } } public validateOptions(q: any): void { let keys: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColumns(q</text><text x="0" y="1075"  fill="rgb(245 245 245)">: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (!this.transformationKey.includes(mskey)) { throw new InsightError(); } } else { this.validateKey(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else if (typeof q ===</text><text x="0" y="1080"  fill="rgb(245 245 245)"> &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !== 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { if (!this.keysInQuery.</text><text x="0" y="1085"  fill="rgb(245 245 245)">includes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let value: any = Object.valu</text><text x="0" y="1090"  fill="rgb(245 245 245)">es(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } this.valida</text><text x="0" y="1095"  fill="rgb(245 245 245)">teFilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let str: any = Object.valu</text><text x="0" y="1100"  fill="rgb(245 245 245)">es(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let mkey: string[] = Objec</text><text x="0" y="1105"  fill="rgb(245 245 245)">t.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: any): void { if (!Array.isArray(va</text><text x="0" y="1110"  fill="rgb(245 245 245)">lue) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { this.validateFilter(innerObject); } } private validate</text><text x="429" y="1110"  fill="rgb(254 254 254)">I</text><text x="432" y="1110"  fill="rgb(255 255 255)">dstring</text><text x="453" y="1110"  fill="rgb(246 246 246)">(</text><text x="456" y="1110"  fill="rgb(245 245 245)">idstring: string): boo</text><text x="522" y="1110"  fill="rgb(248 248 248)">l</text><text x="525" y="1110"  fill="rgb(255 255 255)">ean { if</text><text x="549" y="1110"  fill="rgb(248 248 248)"> </text><text x="552" y="1110"  fill="rgb(244 244 244)">(</text><text x="555" y="1110"  fill="rgb(245 245 245)">this.idInQuery.length === 0) { for (let insightDataset of this.allI</text><text x="756" y="1110"  fill="rgb(246 246 246)">n</text><text x="759" y="1110"  fill="rgb(255 255 255)">sightDat</text><text x="783" y="1110"  fill="rgb(251 251 251)">a</text><text x="786" y="1110"  fill="rgb(244 244 244)">s</text><text x="789" y="1110"  fill="rgb(245 245 245)">et) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.kind === InsightDatasetKind.Cour</text><text x="0" y="1115"  fill="rgb(245 245 245)">ses) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { this.mfields = this.roommfields; this.sfields = this.ro</text><text x="423" y="1115"  fill="rgb(246 246 246)">o</text><text x="426" y="1115"  fill="rgb(251 251 251)">m</text><text x="429" y="1115"  fill="rgb(208 208 208)">s</text><text x="432" y="1115"  fill="rgb(157 157 157)">f</text><text x="435" y="1115"  fill="rgb(140 140 140)">i</text><text x="438" y="1115"  fill="rgb(136 136 136)">el</text><text x="444" y="1115"  fill="rgb(139 139 139)">d</text><text x="447" y="1115"  fill="rgb(152 152 152)">s</text><text x="450" y="1115"  fill="rgb(198 198 198)">;</text><text x="453" y="1115"  fill="rgb(247 247 247)"> }</text><text x="459" y="1115"  fill="rgb(245 245 245)"> return true; } } re</text><text x="519" y="1115"  fill="rgb(248 248 248)">t</text><text x="522" y="1115"  fill="rgb(237 237 237)">u</text><text x="525" y="1115"  fill="rgb(179 179 179)">r</text><text x="528" y="1115"  fill="rgb(146 146 146)">n</text><text x="531" y="1115"  fill="rgb(136 136 136)"> fa</text><text x="540" y="1115"  fill="rgb(135 135 135)">l</text><text x="543" y="1115"  fill="rgb(146 146 146)">s</text><text x="546" y="1115"  fill="rgb(177 177 177)">e</text><text x="549" y="1115"  fill="rgb(237 237 237)">;</text><text x="552" y="1115"  fill="rgb(251 251 251)"> </text><text x="555" y="1115"  fill="rgb(245 245 245)">} else { return this.idInQuery.includes(idstring); } } public getI</text><text x="753" y="1115"  fill="rgb(247 247 247)">d</text><text x="756" y="1115"  fill="rgb(244 244 244)">I</text><text x="759" y="1115"  fill="rgb(194 194 194)">n</text><text x="762" y="1115"  fill="rgb(152 152 152)">Q</text><text x="765" y="1115"  fill="rgb(139 139 139)">u</text><text x="768" y="1115"  fill="rgb(136 136 136)">e</text><text x="771" y="1115"  fill="rgb(137 137 137)">r</text><text x="774" y="1115"  fill="rgb(136 136 136)">y</text><text x="777" y="1115"  fill="rgb(142 142 142)">(</text><text x="780" y="1115"  fill="rgb(164 164 164)">)</text><text x="783" y="1115"  fill="rgb(220 220 220)">:</text><text x="786" y="1115"  fill="rgb(253 253 253)"> </text><text x="789" y="1115"  fill="rgb(245 245 245)">string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; expor</text><text x="0" y="1120"  fill="rgb(245 245 245)">t default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly course</text><text x="423" y="1120"  fill="rgb(254 254 254)">s</text><text x="426" y="1120"  fill="rgb(192 192 192)">f</text><text x="429" y="1120"  fill="rgb(54 54 54)">i</text><text x="432" y="1120"  fill="rgb(22 22 22)">el</text><text x="438" y="1120"  fill="rgb(21 21 21)">ds:</text><text x="447" y="1120"  fill="rgb(22 22 22)"> </text><text x="450" y="1120"  fill="rgb(42 42 42)">s</text><text x="453" y="1120"  fill="rgb(170 170 170)">t</text><text x="456" y="1120"  fill="rgb(254 254 254)">r</text><text x="459" y="1120"  fill="rgb(246 246 246)">i</text><text x="462" y="1120"  fill="rgb(245 245 245)">ng[] = [&quot;dept&quot;, &quot;i</text><text x="516" y="1120"  fill="rgb(246 246 246)">d</text><text x="519" y="1120"  fill="rgb(249 249 249)">&quot;</text><text x="522" y="1120"  fill="rgb(119 119 119)">,</text><text x="525" y="1120"  fill="rgb(32 32 32)"> </text><text x="528" y="1120"  fill="rgb(24 24 24)">&quot;</text><text x="531" y="1120"  fill="rgb(21 21 21)">i</text><text x="534" y="1120"  fill="rgb(22 22 22)">n</text><text x="537" y="1120"  fill="rgb(21 21 21)">st</text><text x="543" y="1120"  fill="rgb(24 24 24)">r</text><text x="546" y="1120"  fill="rgb(30 30 30)">u</text><text x="549" y="1120"  fill="rgb(116 116 116)">c</text><text x="552" y="1120"  fill="rgb(242 242 242)">t</text><text x="555" y="1120"  fill="rgb(250 250 250)">o</text><text x="558" y="1120"  fill="rgb(245 245 245)">r&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [</text><text x="750" y="1120"  fill="rgb(246 246 246)">&quot;</text><text x="753" y="1120"  fill="rgb(254 254 254)">l</text><text x="756" y="1120"  fill="rgb(160 160 160)">a</text><text x="759" y="1120"  fill="rgb(37 37 37)">t</text><text x="762" y="1120"  fill="rgb(23 23 23)">&quot;</text><text x="765" y="1120"  fill="rgb(21 21 21)">, </text><text x="771" y="1120"  fill="rgb(22 22 22)">&quot;</text><text x="774" y="1120"  fill="rgb(21 21 21)">l</text><text x="777" y="1120"  fill="rgb(23 23 23)">o</text><text x="780" y="1120"  fill="rgb(20 20 20)">n</text><text x="783" y="1120"  fill="rgb(79 79 79)">&quot;</text><text x="786" y="1120"  fill="rgb(224 224 224)">,</text><text x="789" y="1120"  fill="rgb(254 254 254)"> </text><text x="792" y="1120"  fill="rgb(245 245 245)">&quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture</text><text x="0" y="1125"  fill="rgb(245 245 245)">&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQue</text><text x="423" y="1125"  fill="rgb(255 255 255)">r</text><text x="426" y="1125"  fill="rgb(157 157 157)">y</text><text x="429" y="1125"  fill="rgb(27 27 27)">:</text><text x="432" y="1125"  fill="rgb(37 37 37)"> </text><text x="435" y="1125"  fill="rgb(44 44 44)">stri</text><text x="447" y="1125"  fill="rgb(39 39 39)">n</text><text x="450" y="1125"  fill="rgb(24 24 24)">g</text><text x="453" y="1125"  fill="rgb(140 140 140)">[</text><text x="456" y="1125"  fill="rgb(255 255 255)">]</text><text x="459" y="1125"  fill="rgb(246 246 246)">;</text><text x="462" y="1125"  fill="rgb(245 245 245)"> // make sure the </text><text x="516" y="1125"  fill="rgb(246 246 246)">q</text><text x="519" y="1125"  fill="rgb(247 247 247)">u</text><text x="522" y="1125"  fill="rgb(81 81 81)">e</text><text x="525" y="1125"  fill="rgb(30 30 30)">r</text><text x="528" y="1125"  fill="rgb(43 43 43)">y</text><text x="531" y="1125"  fill="rgb(44 44 44)"> onl</text><text x="543" y="1125"  fill="rgb(43 43 43)">y</text><text x="546" y="1125"  fill="rgb(33 33 33)"> </text><text x="549" y="1125"  fill="rgb(76 76 76)">h</text><text x="552" y="1125"  fill="rgb(232 232 232)">a</text><text x="555" y="1125"  fill="rgb(252 252 252)">s</text><text x="558" y="1125"  fill="rgb(245 245 245)"> one id private keysInQuery: string[]; // all keys appeared in c</text><text x="750" y="1125"  fill="rgb(247 247 247)">o</text><text x="753" y="1125"  fill="rgb(255 255 255)">l</text><text x="756" y="1125"  fill="rgb(127 127 127)">u</text><text x="759" y="1125"  fill="rgb(21 21 21)">m</text><text x="762" y="1125"  fill="rgb(40 40 40)">n</text><text x="765" y="1125"  fill="rgb(44 44 44)">s aft</text><text x="780" y="1125"  fill="rgb(31 31 31)">e</text><text x="783" y="1125"  fill="rgb(47 47 47)">r</text><text x="786" y="1125"  fill="rgb(202 202 202)"> </text><text x="789" y="1125"  fill="rgb(255 255 255)">b</text><text x="792" y="1125"  fill="rgb(245 245 245)">eing validated private transformationKey: string[]; // keys appeared in transformation, if there is a transformation private </text><text x="0" y="1130"  fill="rgb(245 245 245)">allInsightDataset: InsightDataset[]; private mfields: string[]; private sfields: string[]; constructor(insightDatasets: InsightDataset[]) { t</text><text x="423" y="1130"  fill="rgb(255 255 255)">h</text><text x="426" y="1130"  fill="rgb(166 166 166)">i</text><text x="429" y="1130"  fill="rgb(41 41 41)">s</text><text x="432" y="1130"  fill="rgb(45 45 45)">.</text><text x="435" y="1130"  fill="rgb(50 50 50)">i</text><text x="438" y="1130"  fill="rgb(49 49 49)">dI</text><text x="444" y="1130"  fill="rgb(50 50 50)">n</text><text x="447" y="1130"  fill="rgb(46 46 46)">Q</text><text x="450" y="1130"  fill="rgb(38 38 38)">u</text><text x="453" y="1130"  fill="rgb(152 152 152)">e</text><text x="456" y="1130"  fill="rgb(255 255 255)">r</text><text x="459" y="1130"  fill="rgb(246 246 246)">y</text><text x="462" y="1130"  fill="rgb(245 245 245)"> = []; this.keysIn</text><text x="516" y="1130"  fill="rgb(246 246 246)">Q</text><text x="519" y="1130"  fill="rgb(247 247 247)">u</text><text x="522" y="1130"  fill="rgb(96 96 96)">e</text><text x="525" y="1130"  fill="rgb(42 42 42)">r</text><text x="528" y="1130"  fill="rgb(50 50 50)">y</text><text x="531" y="1130"  fill="rgb(49 49 49)"> = [</text><text x="543" y="1130"  fill="rgb(50 50 50)">]</text><text x="546" y="1130"  fill="rgb(42 42 42)">;</text><text x="549" y="1130"  fill="rgb(92 92 92)"> </text><text x="552" y="1130"  fill="rgb(234 234 234)">t</text><text x="555" y="1130"  fill="rgb(252 252 252)">h</text><text x="558" y="1130"  fill="rgb(245 245 245)">is.transformationKey = []; this.allInsightDataset = insightDatas</text><text x="750" y="1130"  fill="rgb(247 247 247)">e</text><text x="753" y="1130"  fill="rgb(255 255 255)">t</text><text x="756" y="1130"  fill="rgb(139 139 139)">s</text><text x="759" y="1130"  fill="rgb(36 36 36)">;</text><text x="762" y="1130"  fill="rgb(46 46 46)"> </text><text x="765" y="1130"  fill="rgb(50 50 50)">}</text><text x="768" y="1130"  fill="rgb(49 49 49)"> pu</text><text x="777" y="1130"  fill="rgb(50 50 50)">b</text><text x="780" y="1130"  fill="rgb(39 39 39)">l</text><text x="783" y="1130"  fill="rgb(62 62 62)">i</text><text x="786" y="1130"  fill="rgb(207 207 207)">c</text><text x="789" y="1130"  fill="rgb(255 255 255)"> </text><text x="792" y="1130"  fill="rgb(245 245 245)">validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (let key of Object.keys(q)) { if</text><text x="0" y="1135"  fill="rgb(245 245 245)"> (key !== &quot;OPTIONS&quot; &amp;&amp; key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANS</text><text x="423" y="1135"  fill="rgb(255 255 255)">F</text><text x="426" y="1135"  fill="rgb(166 166 166)">O</text><text x="429" y="1135"  fill="rgb(41 41 41)">R</text><text x="432" y="1135"  fill="rgb(44 44 44)">M</text><text x="435" y="1135"  fill="rgb(49 49 49)">ATIO</text><text x="447" y="1135"  fill="rgb(45 45 45)">N</text><text x="450" y="1135"  fill="rgb(38 38 38)">S</text><text x="453" y="1135"  fill="rgb(152 152 152)">)</text><text x="456" y="1135"  fill="rgb(255 255 255)"> </text><text x="459" y="1135"  fill="rgb(246 246 246)">{</text><text x="462" y="1135"  fill="rgb(245 245 245)"> this.validateTran</text><text x="516" y="1135"  fill="rgb(246 246 246)">s</text><text x="519" y="1135"  fill="rgb(247 247 247)">f</text><text x="522" y="1135"  fill="rgb(91 91 91)">o</text><text x="525" y="1135"  fill="rgb(43 43 43)">r</text><text x="528" y="1135"  fill="rgb(51 51 51)">mation</text><text x="546" y="1135"  fill="rgb(46 46 46)">s</text><text x="549" y="1135"  fill="rgb(86 86 86)">(</text><text x="552" y="1135"  fill="rgb(232 232 232)">q</text><text x="555" y="1135"  fill="rgb(252 252 252)">.</text><text x="558" y="1135"  fill="rgb(245 245 245)">TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public va</text><text x="750" y="1135"  fill="rgb(247 247 247)">l</text><text x="753" y="1135"  fill="rgb(255 255 255)">i</text><text x="756" y="1135"  fill="rgb(134 134 134)">d</text><text x="759" y="1135"  fill="rgb(36 36 36)">a</text><text x="762" y="1135"  fill="rgb(49 49 49)">t</text><text x="765" y="1135"  fill="rgb(51 51 51)">eTran</text><text x="780" y="1135"  fill="rgb(43 43 43)">s</text><text x="783" y="1135"  fill="rgb(59 59 59)">f</text><text x="786" y="1135"  fill="rgb(204 204 204)">o</text><text x="789" y="1135"  fill="rgb(255 255 255)">r</text><text x="792" y="1135"  fill="rgb(245 245 245)">mations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; || Object.keys(q).length !== 2) </text><text x="0" y="1140"  fill="rgb(245 245 245)">{ throw new InsightError(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.is</text><text x="423" y="1140"  fill="rgb(255 255 255)">A</text><text x="426" y="1140"  fill="rgb(166 166 166)">r</text><text x="429" y="1140"  fill="rgb(41 41 41)">r</text><text x="432" y="1140"  fill="rgb(44 44 44)">a</text><text x="435" y="1140"  fill="rgb(49 49 49)">y(q)</text><text x="447" y="1140"  fill="rgb(45 45 45)"> </text><text x="450" y="1140"  fill="rgb(38 38 38)">|</text><text x="453" y="1140"  fill="rgb(152 152 152)">|</text><text x="456" y="1140"  fill="rgb(255 255 255)"> </text><text x="459" y="1140"  fill="rgb(246 246 246)">q</text><text x="462" y="1140"  fill="rgb(245 245 245)">.length &lt; 1) { thr</text><text x="516" y="1140"  fill="rgb(246 246 246)">o</text><text x="519" y="1140"  fill="rgb(248 248 248)">w</text><text x="522" y="1140"  fill="rgb(82 82 82)"> </text><text x="525" y="1140"  fill="rgb(16 16 16)">n</text><text x="528" y="1140"  fill="rgb(30 30 30)">e</text><text x="531" y="1140"  fill="rgb(34 34 34)">w</text><text x="534" y="1140"  fill="rgb(35 35 35)"> I</text><text x="540" y="1140"  fill="rgb(34 34 34)">n</text><text x="543" y="1140"  fill="rgb(31 31 31)">s</text><text x="546" y="1140"  fill="rgb(17 17 17)">i</text><text x="549" y="1140"  fill="rgb(79 79 79)">g</text><text x="552" y="1140"  fill="rgb(235 235 235)">h</text><text x="555" y="1140"  fill="rgb(252 252 252)">t</text><text x="558" y="1140"  fill="rgb(245 245 245)">Error(); // q should be an object, and should has at least one e</text><text x="750" y="1140"  fill="rgb(246 246 246)">l</text><text x="753" y="1140"  fill="rgb(255 255 255)">e</text><text x="756" y="1140"  fill="rgb(129 129 129)">m</text><text x="759" y="1140"  fill="rgb(10 10 10)">e</text><text x="762" y="1140"  fill="rgb(25 25 25)">n</text><text x="765" y="1140"  fill="rgb(33 33 33)">t</text><text x="768" y="1140"  fill="rgb(35 35 35)"> }</text><text x="774" y="1140"  fill="rgb(34 34 34)"> </text><text x="777" y="1140"  fill="rgb(31 31 31)">f</text><text x="780" y="1140"  fill="rgb(14 14 14)">o</text><text x="783" y="1140"  fill="rgb(44 44 44)">r</text><text x="786" y="1140"  fill="rgb(208 208 208)"> </text><text x="789" y="1140"  fill="rgb(255 255 255)">(</text><text x="792" y="1140"  fill="rgb(245 245 245)">let key of q) { this.validateKey(key); this.transformationKey.push(key); // if the key is valid, push it to transformationKey</text><text x="0" y="1145"  fill="rgb(245 245 245)"> } } private validateKey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightEr</text><text x="423" y="1145"  fill="rgb(255 255 255)">r</text><text x="426" y="1145"  fill="rgb(166 166 166)">o</text><text x="429" y="1145"  fill="rgb(41 41 41)">r</text><text x="432" y="1145"  fill="rgb(44 44 44)">(</text><text x="435" y="1145"  fill="rgb(49 49 49)">); }</text><text x="447" y="1145"  fill="rgb(45 45 45)"> </text><text x="450" y="1145"  fill="rgb(38 38 38)">i</text><text x="453" y="1145"  fill="rgb(152 152 152)">f</text><text x="456" y="1145"  fill="rgb(255 255 255)"> </text><text x="459" y="1145"  fill="rgb(246 246 246)">(</text><text x="462" y="1145"  fill="rgb(245 245 245)">!(this.validateIdst</text><text x="519" y="1145"  fill="rgb(249 249 249)">r</text><text x="522" y="1145"  fill="rgb(192 192 192)">i</text><text x="525" y="1145"  fill="rgb(112 112 112)">n</text><text x="528" y="1145"  fill="rgb(87 87 87)">g</text><text x="531" y="1145"  fill="rgb(76 76 76)">(</text><text x="534" y="1145"  fill="rgb(71 71 71)">s</text><text x="537" y="1145"  fill="rgb(72 72 72)">p</text><text x="540" y="1145"  fill="rgb(77 77 77)">l</text><text x="543" y="1145"  fill="rgb(86 86 86)">i</text><text x="546" y="1145"  fill="rgb(106 106 106)">t</text><text x="549" y="1145"  fill="rgb(193 193 193)">t</text><text x="552" y="1145"  fill="rgb(249 249 249)">e</text><text x="555" y="1145"  fill="rgb(247 247 247)">d</text><text x="558" y="1145"  fill="rgb(245 245 245)">Key[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields</text><text x="753" y="1145"  fill="rgb(251 251 251)">.</text><text x="756" y="1145"  fill="rgb(215 215 215)">i</text><text x="759" y="1145"  fill="rgb(124 124 124)">n</text><text x="762" y="1145"  fill="rgb(89 89 89)">c</text><text x="765" y="1145"  fill="rgb(80 80 80)">l</text><text x="768" y="1145"  fill="rgb(72 72 72)">u</text><text x="771" y="1145"  fill="rgb(71 71 71)">d</text><text x="774" y="1145"  fill="rgb(75 75 75)">e</text><text x="777" y="1145"  fill="rgb(83 83 83)">s</text><text x="780" y="1145"  fill="rgb(94 94 94)">(</text><text x="783" y="1145"  fill="rgb(165 165 165)">s</text><text x="786" y="1145"  fill="rgb(245 245 245)">p</text><text x="789" y="1145"  fill="rgb(248 248 248)">l</text><text x="792" y="1145"  fill="rgb(245 245 245)">ittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any): void { if (!Array.isArray(q)) { throw new Insi</text><text x="0" y="1150"  fill="rgb(245 245 245)">ghtError(); // q should be an array, and should have at least one element } for (let applyrule of q) { if (Array.isArray(applyrule) || Object</text><text x="423" y="1150"  fill="rgb(255 255 255)">.</text><text x="426" y="1150"  fill="rgb(166 166 166)">k</text><text x="429" y="1150"  fill="rgb(41 41 41)">e</text><text x="432" y="1150"  fill="rgb(44 44 44)">y</text><text x="435" y="1150"  fill="rgb(49 49 49)">s(ap</text><text x="447" y="1150"  fill="rgb(45 45 45)">p</text><text x="450" y="1150"  fill="rgb(38 38 38)">l</text><text x="453" y="1150"  fill="rgb(152 152 152)">y</text><text x="456" y="1150"  fill="rgb(255 255 255)">r</text><text x="459" y="1150"  fill="rgb(246 246 246)">u</text><text x="462" y="1150"  fill="rgb(245 245 245)">le).length &gt; 1) { th</text><text x="522" y="1150"  fill="rgb(252 252 252)">r</text><text x="525" y="1150"  fill="rgb(247 247 247)">o</text><text x="528" y="1150"  fill="rgb(240 240 240)">w</text><text x="531" y="1150"  fill="rgb(231 231 231)"> </text><text x="534" y="1150"  fill="rgb(227 227 227)">n</text><text x="537" y="1150"  fill="rgb(228 228 228)">e</text><text x="540" y="1150"  fill="rgb(232 232 232)">w</text><text x="543" y="1150"  fill="rgb(240 240 240)"> </text><text x="546" y="1150"  fill="rgb(246 246 246)">I</text><text x="549" y="1150"  fill="rgb(252 252 252)">n</text><text x="552" y="1150"  fill="rgb(246 246 246)">s</text><text x="555" y="1150"  fill="rgb(245 245 245)">ightError(); } let applykey: string = Object.keys(applyrule)[0]; le</text><text x="756" y="1150"  fill="rgb(251 251 251)">t</text><text x="759" y="1150"  fill="rgb(249 249 249)"> </text><text x="762" y="1150"  fill="rgb(242 242 242)">c</text><text x="765" y="1150"  fill="rgb(235 235 235)">r</text><text x="768" y="1150"  fill="rgb(228 228 228)">i</text><text x="771" y="1150"  fill="rgb(227 227 227)">t</text><text x="774" y="1150"  fill="rgb(231 231 231)">e</text><text x="777" y="1150"  fill="rgb(238 238 238)">r</text><text x="780" y="1150"  fill="rgb(244 244 244)">i</text><text x="783" y="1150"  fill="rgb(251 251 251)">a</text><text x="786" y="1150"  fill="rgb(248 248 248)"> </text><text x="789" y="1150"  fill="rgb(245 245 245)">= applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { thr</text><text x="0" y="1155"  fill="rgb(245 245 245)">ow new InsightError(); } this.transformationKey.push(applykey); if (Array.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw new </text><text x="423" y="1155"  fill="rgb(255 255 255)">I</text><text x="426" y="1155"  fill="rgb(166 166 166)">n</text><text x="429" y="1155"  fill="rgb(41 41 41)">s</text><text x="432" y="1155"  fill="rgb(44 44 44)">i</text><text x="435" y="1155"  fill="rgb(49 49 49)">ghtE</text><text x="447" y="1155"  fill="rgb(45 45 45)">r</text><text x="450" y="1155"  fill="rgb(38 38 38)">r</text><text x="453" y="1155"  fill="rgb(152 152 152)">o</text><text x="456" y="1155"  fill="rgb(255 255 255)">r</text><text x="459" y="1155"  fill="rgb(246 246 246)">(</text><text x="462" y="1155"  fill="rgb(245 245 245)">); } let applytoken:</text><text x="522" y="1155"  fill="rgb(246 246 246)"> </text><text x="525" y="1155"  fill="rgb(248 248 248)">s</text><text x="528" y="1155"  fill="rgb(249 249 249)">t</text><text x="531" y="1155"  fill="rgb(250 250 250)">ring</text><text x="543" y="1155"  fill="rgb(249 249 249)"> </text><text x="546" y="1155"  fill="rgb(248 248 248)">=</text><text x="549" y="1155"  fill="rgb(246 246 246)"> </text><text x="552" y="1155"  fill="rgb(245 245 245)">Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !t</text><text x="759" y="1155"  fill="rgb(248 248 248)">h</text><text x="762" y="1155"  fill="rgb(249 249 249)">is</text><text x="768" y="1155"  fill="rgb(250 250 250)">.ms</text><text x="777" y="1155"  fill="rgb(249 249 249)">to</text><text x="783" y="1155"  fill="rgb(247 247 247)">k</text><text x="786" y="1155"  fill="rgb(245 245 245)">en.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== </text><text x="0" y="1160"  fill="rgb(245 245 245)">2) { throw new InsightError(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1])</text><text x="423" y="1160"  fill="rgb(255 255 255)">)</text><text x="426" y="1160"  fill="rgb(166 166 166)">)</text><text x="429" y="1160"  fill="rgb(41 41 41)"> </text><text x="432" y="1160"  fill="rgb(44 44 44)">{</text><text x="435" y="1160"  fill="rgb(49 49 49)"> thr</text><text x="447" y="1160"  fill="rgb(45 45 45)">o</text><text x="450" y="1160"  fill="rgb(38 38 38)">w</text><text x="453" y="1160"  fill="rgb(152 152 152)"> </text><text x="456" y="1160"  fill="rgb(255 255 255)">n</text><text x="459" y="1160"  fill="rgb(246 246 246)">e</text><text x="462" y="1160"  fill="rgb(245 245 245)">w InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightError(); } } } } public validateOptions(q:</text><text x="0" y="1165"  fill="rgb(245 245 245)"> any): void { let keys: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError();</text><text x="423" y="1165"  fill="rgb(255 255 255)"> </text><text x="426" y="1165"  fill="rgb(166 166 166)">}</text><text x="429" y="1165"  fill="rgb(41 41 41)"> </text><text x="432" y="1165"  fill="rgb(44 44 44)">}</text><text x="435" y="1165"  fill="rgb(49 49 49)"> thi</text><text x="447" y="1165"  fill="rgb(45 45 45)">s</text><text x="450" y="1165"  fill="rgb(38 38 38)">.</text><text x="453" y="1165"  fill="rgb(152 152 152)">v</text><text x="456" y="1165"  fill="rgb(255 255 255)">a</text><text x="459" y="1165"  fill="rgb(246 246 246)">l</text><text x="462" y="1165"  fill="rgb(245 245 245)">idateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (</text><text x="0" y="1170"  fill="rgb(245 245 245)">!this.transformationKey.includes(mskey)) { throw new InsightError(); } } else { this.validateKey(mskey); } this.keysInQuery.push(mskey); } } </text><text x="423" y="1170"  fill="rgb(255 255 255)">p</text><text x="426" y="1170"  fill="rgb(166 166 166)">r</text><text x="429" y="1170"  fill="rgb(41 41 41)">i</text><text x="432" y="1170"  fill="rgb(44 44 44)">v</text><text x="435" y="1170"  fill="rgb(49 49 49)">ate </text><text x="447" y="1170"  fill="rgb(45 45 45)">v</text><text x="450" y="1170"  fill="rgb(38 38 38)">a</text><text x="453" y="1170"  fill="rgb(152 152 152)">l</text><text x="456" y="1170"  fill="rgb(255 255 255)">i</text><text x="459" y="1170"  fill="rgb(246 246 246)">d</text><text x="462" y="1170"  fill="rgb(245 245 245)">ateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !==</text><text x="0" y="1175"  fill="rgb(245 245 245)"> 2) { throw new InsightError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); }</text><text x="309" y="1175"  fill="rgb(246 246 246)"> </text><text x="312" y="1175"  fill="rgb(247 247 247)">l</text><text x="315" y="1175"  fill="rgb(248 248 248)">e</text><text x="318" y="1175"  fill="rgb(249 249 249)">t</text><text x="321" y="1175"  fill="rgb(250 250 250)"> k</text><text x="327" y="1175"  fill="rgb(249 249 249)">e</text><text x="330" y="1175"  fill="rgb(248 248 248)">y</text><text x="333" y="1175"  fill="rgb(246 246 246)">s</text><text x="336" y="1175"  fill="rgb(245 245 245)">: any = q.keys; if (!Array.is</text><text x="423" y="1175"  fill="rgb(255 255 255)">A</text><text x="426" y="1175"  fill="rgb(166 166 166)">r</text><text x="429" y="1175"  fill="rgb(41 41 41)">r</text><text x="432" y="1175"  fill="rgb(44 44 44)">a</text><text x="435" y="1175"  fill="rgb(49 49 49)">y(ke</text><text x="447" y="1175"  fill="rgb(45 45 45)">y</text><text x="450" y="1175"  fill="rgb(38 38 38)">s</text><text x="453" y="1175"  fill="rgb(152 152 152)">)</text><text x="456" y="1175"  fill="rgb(255 255 255)"> </text><text x="459" y="1175"  fill="rgb(246 246 246)">|</text><text x="462" y="1175"  fill="rgb(245 245 245)">| keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); </text><text x="894" y="1175"  fill="rgb(246 246 246)">}</text><text x="897" y="1175"  fill="rgb(249 249 249)"> </text><text x="900" y="1175"  fill="rgb(250 250 250)">}</text><text x="903" y="1175"  fill="rgb(249 249 249)"> </text><text x="906" y="1175"  fill="rgb(247 247 247)">}</text><text x="909" y="1175"  fill="rgb(245 245 245)"> } public validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError</text><text x="0" y="1180"  fill="rgb(245 245 245)">(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilt</text><text x="294" y="1180"  fill="rgb(250 250 250)">e</text><text x="297" y="1180"  fill="rgb(255 255 255)">r(q: any): void {</text><text x="348" y="1180"  fill="rgb(250 250 250)"> </text><text x="351" y="1180"  fill="rgb(245 245 245)">if (Object.keys(q).lengt</text><text x="423" y="1180"  fill="rgb(255 255 255)">h</text><text x="426" y="1180"  fill="rgb(166 166 166)"> </text><text x="429" y="1180"  fill="rgb(41 41 41)">!</text><text x="432" y="1180"  fill="rgb(44 44 44)">=</text><text x="435" y="1180"  fill="rgb(49 49 49)">= 1)</text><text x="447" y="1180"  fill="rgb(45 45 45)"> </text><text x="450" y="1180"  fill="rgb(38 38 38)">{</text><text x="453" y="1180"  fill="rgb(152 152 152)"> </text><text x="456" y="1180"  fill="rgb(255 255 255)">t</text><text x="459" y="1180"  fill="rgb(246 246 246)">h</text><text x="462" y="1180"  fill="rgb(245 245 245)">row new InsightError(</text><text x="525" y="1180"  fill="rgb(255 255 255)">); } el</text><text x="546" y="1180"  fill="rgb(254 254 254)">s</text><text x="549" y="1180"  fill="rgb(245 245 245)">e</text><text x="552" y="1180"  fill="rgb(244 244 244)"> </text><text x="555" y="1180"  fill="rgb(245 245 245)">{ let key: </text><text x="588" y="1180"  fill="rgb(251 251 251)">s</text><text x="591" y="1180"  fill="rgb(255 255 255)">tring = O</text><text x="618" y="1180"  fill="rgb(246 246 246)">b</text><text x="621" y="1180"  fill="rgb(244 244 244)">j</text><text x="624" y="1180"  fill="rgb(245 245 245)">ect.keys(q)[0]; let v</text><text x="687" y="1180"  fill="rgb(244 244 244)">a</text><text x="690" y="1180"  fill="rgb(246 246 246)">l</text><text x="693" y="1180"  fill="rgb(255 255 255)">ue: any =</text><text x="720" y="1180"  fill="rgb(246 246 246)"> </text><text x="723" y="1180"  fill="rgb(245 245 245)">Object.valu</text><text x="756" y="1180"  fill="rgb(244 244 244)">e</text><text x="759" y="1180"  fill="rgb(252 252 252)">s</text><text x="762" y="1180"  fill="rgb(255 255 255)">(q)[0];</text><text x="783" y="1180"  fill="rgb(247 247 247)"> </text><text x="786" y="1180"  fill="rgb(244 244 244)">s</text><text x="789" y="1180"  fill="rgb(245 245 245)">witch (key) { case</text><text x="843" y="1180"  fill="rgb(250 250 250)"> </text><text x="846" y="1180"  fill="rgb(254 254 254)">&quot;</text><text x="849" y="1180"  fill="rgb(255 255 255)">AND</text><text x="858" y="1180"  fill="rgb(247 247 247)">&quot;</text><text x="861" y="1180"  fill="rgb(244 244 244)">:</text><text x="864" y="1180"  fill="rgb(245 245 245)"> case &quot;</text><text x="885" y="1180"  fill="rgb(252 252 252)">O</text><text x="888" y="1180"  fill="rgb(255 255 255)">R&quot;: this.</text><text x="915" y="1180"  fill="rgb(249 249 249)">v</text><text x="918" y="1180"  fill="rgb(244 244 244)">a</text><text x="921" y="1180"  fill="rgb(245 245 245)">lidateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: </text><text x="0" y="1185"  fill="rgb(245 245 245)">case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); bre</text><text x="285" y="1185"  fill="rgb(250 250 250)">a</text><text x="288" y="1185"  fill="rgb(255 255 255)">k;</text><text x="294" y="1185"  fill="rgb(250 250 250)"> </text><text x="297" y="1185"  fill="rgb(231 231 231)">d</text><text x="300" y="1185"  fill="rgb(211 211 211)">e</text><text x="303" y="1185"  fill="rgb(194 194 194)">f</text><text x="306" y="1185"  fill="rgb(179 179 179)">a</text><text x="309" y="1185"  fill="rgb(163 163 163)">u</text><text x="312" y="1185"  fill="rgb(149 149 149)">l</text><text x="315" y="1185"  fill="rgb(139 139 139)">t</text><text x="318" y="1185"  fill="rgb(131 131 131)">:</text><text x="321" y="1185"  fill="rgb(125 125 125)"> </text><text x="324" y="1185"  fill="rgb(126 126 126)">t</text><text x="327" y="1185"  fill="rgb(133 133 133)">h</text><text x="330" y="1185"  fill="rgb(142 142 142)">r</text><text x="333" y="1185"  fill="rgb(154 154 154)">o</text><text x="336" y="1185"  fill="rgb(172 172 172)">w</text><text x="339" y="1185"  fill="rgb(189 189 189)"> </text><text x="342" y="1185"  fill="rgb(205 205 205)">n</text><text x="345" y="1185"  fill="rgb(227 227 227)">e</text><text x="348" y="1185"  fill="rgb(251 251 251)">w</text><text x="351" y="1185"  fill="rgb(255 255 255)"> I</text><text x="357" y="1185"  fill="rgb(248 248 248)">n</text><text x="360" y="1185"  fill="rgb(245 245 245)">sightError(); } } } p</text><text x="423" y="1185"  fill="rgb(255 255 255)">r</text><text x="426" y="1185"  fill="rgb(166 166 166)">i</text><text x="429" y="1185"  fill="rgb(41 41 41)">v</text><text x="432" y="1185"  fill="rgb(44 44 44)">a</text><text x="435" y="1185"  fill="rgb(49 49 49)">te v</text><text x="447" y="1185"  fill="rgb(45 45 45)">a</text><text x="450" y="1185"  fill="rgb(38 38 38)">l</text><text x="453" y="1185"  fill="rgb(152 152 152)">i</text><text x="456" y="1185"  fill="rgb(255 255 255)">d</text><text x="459" y="1185"  fill="rgb(246 246 246)">a</text><text x="462" y="1185"  fill="rgb(245 245 245)">teNOT(value: any): v</text><text x="522" y="1185"  fill="rgb(253 253 253)">o</text><text x="525" y="1185"  fill="rgb(232 232 232)">i</text><text x="528" y="1185"  fill="rgb(196 196 196)">d</text><text x="531" y="1185"  fill="rgb(183 183 183)"> </text><text x="534" y="1185"  fill="rgb(177 177 177)">{</text><text x="537" y="1185"  fill="rgb(176 176 176)"> </text><text x="540" y="1185"  fill="rgb(182 182 182)">i</text><text x="543" y="1185"  fill="rgb(193 193 193)">f</text><text x="546" y="1185"  fill="rgb(234 234 234)"> </text><text x="549" y="1185"  fill="rgb(254 254 254)">(</text><text x="552" y="1185"  fill="rgb(246 246 246)">t</text><text x="555" y="1185"  fill="rgb(245 245 245)">ypeof valu</text><text x="585" y="1185"  fill="rgb(248 248 248)">e</text><text x="588" y="1185"  fill="rgb(240 240 240)"> </text><text x="591" y="1185"  fill="rgb(205 205 205)">!</text><text x="594" y="1185"  fill="rgb(187 187 187)">=</text><text x="597" y="1185"  fill="rgb(182 182 182)">=</text><text x="600" y="1185"  fill="rgb(177 177 177)"> </text><text x="603" y="1185"  fill="rgb(176 176 176)">&quot;</text><text x="606" y="1185"  fill="rgb(177 177 177)">o</text><text x="609" y="1185"  fill="rgb(183 183 183)">b</text><text x="612" y="1185"  fill="rgb(194 194 194)">j</text><text x="615" y="1185"  fill="rgb(227 227 227)">e</text><text x="618" y="1185"  fill="rgb(255 255 255)">c</text><text x="621" y="1185"  fill="rgb(248 248 248)">t</text><text x="624" y="1185"  fill="rgb(244 244 244)">&quot;</text><text x="627" y="1185"  fill="rgb(245 245 245)">) { throw new Insig</text><text x="684" y="1185"  fill="rgb(244 244 244)">h</text><text x="687" y="1185"  fill="rgb(249 249 249)">t</text><text x="690" y="1185"  fill="rgb(255 255 255)">E</text><text x="693" y="1185"  fill="rgb(226 226 226)">r</text><text x="696" y="1185"  fill="rgb(193 193 193)">r</text><text x="699" y="1185"  fill="rgb(184 184 184)">o</text><text x="702" y="1185"  fill="rgb(177 177 177)">r</text><text x="705" y="1185"  fill="rgb(175 175 175)">(</text><text x="708" y="1185"  fill="rgb(180 180 180)">)</text><text x="711" y="1185"  fill="rgb(187 187 187)">;</text><text x="714" y="1185"  fill="rgb(198 198 198)"> </text><text x="717" y="1185"  fill="rgb(230 230 230)">}</text><text x="720" y="1185"  fill="rgb(247 247 247)"> </text><text x="723" y="1185"  fill="rgb(245 245 245)">this.valid</text><text x="753" y="1185"  fill="rgb(244 244 244)">a</text><text x="756" y="1185"  fill="rgb(253 253 253)">t</text><text x="759" y="1185"  fill="rgb(241 241 241)">e</text><text x="762" y="1185"  fill="rgb(204 204 204)">F</text><text x="765" y="1185"  fill="rgb(186 186 186)">i</text><text x="768" y="1185"  fill="rgb(177 177 177)">l</text><text x="771" y="1185"  fill="rgb(174 174 174)">t</text><text x="774" y="1185"  fill="rgb(182 182 182)">e</text><text x="777" y="1185"  fill="rgb(190 190 190)">r</text><text x="780" y="1185"  fill="rgb(220 220 220)">(</text><text x="783" y="1185"  fill="rgb(252 252 252)">v</text><text x="786" y="1185"  fill="rgb(248 248 248)">a</text><text x="789" y="1185"  fill="rgb(245 245 245)">lue); } private </text><text x="837" y="1185"  fill="rgb(255 255 255)">va</text><text x="843" y="1185"  fill="rgb(249 249 249)">l</text><text x="846" y="1185"  fill="rgb(235 235 235)">i</text><text x="849" y="1185"  fill="rgb(226 226 226)">d</text><text x="852" y="1185"  fill="rgb(221 221 221)">a</text><text x="855" y="1185"  fill="rgb(230 230 230)">t</text><text x="858" y="1185"  fill="rgb(255 255 255)">e</text><text x="861" y="1185"  fill="rgb(249 249 249)">I</text><text x="864" y="1185"  fill="rgb(244 244 244)">S</text><text x="867" y="1185"  fill="rgb(245 245 245)">(val</text><text x="879" y="1185"  fill="rgb(254 254 254)">u</text><text x="882" y="1185"  fill="rgb(255 255 255)">e</text><text x="885" y="1185"  fill="rgb(244 244 244)">:</text><text x="888" y="1185"  fill="rgb(209 209 209)"> </text><text x="891" y="1185"  fill="rgb(180 180 180)">a</text><text x="894" y="1185"  fill="rgb(154 154 154)">n</text><text x="897" y="1185"  fill="rgb(134 134 134)">y</text><text x="900" y="1185"  fill="rgb(124 124 124)">)</text><text x="903" y="1185"  fill="rgb(131 131 131)">:</text><text x="906" y="1185"  fill="rgb(148 148 148)"> </text><text x="909" y="1185"  fill="rgb(174 174 174)">v</text><text x="912" y="1185"  fill="rgb(208 208 208)">o</text><text x="915" y="1185"  fill="rgb(252 252 252)">i</text><text x="918" y="1185"  fill="rgb(254 254 254)">d</text><text x="921" y="1185"  fill="rgb(244 244 244)"> </text><text x="924" y="1185"  fill="rgb(245 245 245)">{ if (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(va</text><text x="0" y="1190"  fill="rgb(245 245 245)">lue).length !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0]</text><text x="273" y="1190"  fill="rgb(246 246 246)">.</text><text x="276" y="1190"  fill="rgb(249 249 249)">s</text><text x="279" y="1190"  fill="rgb(253 253 253)">p</text><text x="282" y="1190"  fill="rgb(255 255 255)">l</text><text x="285" y="1190"  fill="rgb(228 228 228)">i</text><text x="288" y="1190"  fill="rgb(182 182 182)">t</text><text x="291" y="1190"  fill="rgb(138 138 138)">(</text><text x="294" y="1190"  fill="rgb(97 97 97)">&quot;</text><text x="297" y="1190"  fill="rgb(66 66 66)">_</text><text x="300" y="1190"  fill="rgb(46 46 46)">&quot;</text><text x="303" y="1190"  fill="rgb(36 36 36)">)</text><text x="306" y="1190"  fill="rgb(30 30 30)">;</text><text x="309" y="1190"  fill="rgb(25 25 25)"> </text><text x="312" y="1190"  fill="rgb(21 21 21)">if</text><text x="318" y="1190"  fill="rgb(20 20 20)"> (sk</text><text x="330" y="1190"  fill="rgb(21 21 21)">e</text><text x="333" y="1190"  fill="rgb(22 22 22)">y</text><text x="336" y="1190"  fill="rgb(27 27 27)">.</text><text x="339" y="1190"  fill="rgb(34 34 34)">l</text><text x="342" y="1190"  fill="rgb(42 42 42)">e</text><text x="345" y="1190"  fill="rgb(62 62 62)">n</text><text x="348" y="1190"  fill="rgb(98 98 98)">g</text><text x="351" y="1190"  fill="rgb(145 145 145)">t</text><text x="354" y="1190"  fill="rgb(194 194 194)">h</text><text x="357" y="1190"  fill="rgb(240 240 240)"> </text><text x="360" y="1190"  fill="rgb(255 255 255)">!</text><text x="363" y="1190"  fill="rgb(251 251 251)">=</text><text x="366" y="1190"  fill="rgb(247 247 247)">=</text><text x="369" y="1190"  fill="rgb(245 245 245)"> 2) { throw new In</text><text x="423" y="1190"  fill="rgb(255 255 255)">s</text><text x="426" y="1190"  fill="rgb(166 166 166)">i</text><text x="429" y="1190"  fill="rgb(41 41 41)">g</text><text x="432" y="1190"  fill="rgb(44 44 44)">h</text><text x="435" y="1190"  fill="rgb(49 49 49)">tErr</text><text x="447" y="1190"  fill="rgb(45 45 45)">o</text><text x="450" y="1190"  fill="rgb(38 38 38)">r</text><text x="453" y="1190"  fill="rgb(152 152 152)">(</text><text x="456" y="1190"  fill="rgb(255 255 255)">)</text><text x="459" y="1190"  fill="rgb(246 246 246)">;</text><text x="462" y="1190"  fill="rgb(245 245 245)"> } else { let idstr</text><text x="519" y="1190"  fill="rgb(251 251 251)">i</text><text x="522" y="1190"  fill="rgb(199 199 199)">n</text><text x="525" y="1190"  fill="rgb(70 70 70)">g</text><text x="528" y="1190"  fill="rgb(35 35 35)">:</text><text x="531" y="1190"  fill="rgb(32 32 32)"> </text><text x="534" y="1190"  fill="rgb(28 28 28)">s</text><text x="537" y="1190"  fill="rgb(27 27 27)">t</text><text x="540" y="1190"  fill="rgb(31 31 31)">r</text><text x="543" y="1190"  fill="rgb(32 32 32)">i</text><text x="546" y="1190"  fill="rgb(64 64 64)">n</text><text x="549" y="1190"  fill="rgb(199 199 199)">g</text><text x="552" y="1190"  fill="rgb(254 254 254)"> </text><text x="555" y="1190"  fill="rgb(246 246 246)">=</text><text x="558" y="1190"  fill="rgb(245 245 245)"> skey[0]</text><text x="582" y="1190"  fill="rgb(253 253 253)">;</text><text x="585" y="1190"  fill="rgb(238 238 238)"> </text><text x="588" y="1190"  fill="rgb(100 100 100)">l</text><text x="591" y="1190"  fill="rgb(23 23 23)">e</text><text x="594" y="1190"  fill="rgb(34 34 34)">t</text><text x="597" y="1190"  fill="rgb(31 31 31)"> </text><text x="600" y="1190"  fill="rgb(28 28 28)">sf</text><text x="606" y="1190"  fill="rgb(29 29 29)">i</text><text x="609" y="1190"  fill="rgb(31 31 31)">e</text><text x="612" y="1190"  fill="rgb(33 33 33)">l</text><text x="615" y="1190"  fill="rgb(52 52 52)">d</text><text x="618" y="1190"  fill="rgb(150 150 150)">:</text><text x="621" y="1190"  fill="rgb(252 252 252)"> </text><text x="624" y="1190"  fill="rgb(254 254 254)">s</text><text x="627" y="1190"  fill="rgb(245 245 245)">tring = skey[1]; le</text><text x="684" y="1190"  fill="rgb(254 254 254)">t</text><text x="687" y="1190"  fill="rgb(252 252 252)"> </text><text x="690" y="1190"  fill="rgb(148 148 148)">s</text><text x="693" y="1190"  fill="rgb(56 56 56)">t</text><text x="696" y="1190"  fill="rgb(33 33 33)">r</text><text x="699" y="1190"  fill="rgb(32 32 32)">:</text><text x="702" y="1190"  fill="rgb(28 28 28)"> a</text><text x="708" y="1190"  fill="rgb(29 29 29)">n</text><text x="711" y="1190"  fill="rgb(34 34 34)">y</text><text x="714" y="1190"  fill="rgb(29 29 29)"> </text><text x="717" y="1190"  fill="rgb(57 57 57)">=</text><text x="720" y="1190"  fill="rgb(209 209 209)"> </text><text x="723" y="1190"  fill="rgb(252 252 252)">O</text><text x="726" y="1190"  fill="rgb(245 245 245)">bject.val</text><text x="753" y="1190"  fill="rgb(252 252 252)">u</text><text x="756" y="1190"  fill="rgb(228 228 228)">e</text><text x="759" y="1190"  fill="rgb(98 98 98)">s</text><text x="762" y="1190"  fill="rgb(34 34 34)">(</text><text x="765" y="1190"  fill="rgb(32 32 32)">v</text><text x="768" y="1190"  fill="rgb(29 29 29)">a</text><text x="771" y="1190"  fill="rgb(27 27 27)">l</text><text x="774" y="1190"  fill="rgb(30 30 30)">u</text><text x="777" y="1190"  fill="rgb(31 31 31)">e</text><text x="780" y="1190"  fill="rgb(41 41 41)">)</text><text x="783" y="1190"  fill="rgb(158 158 158)">[</text><text x="786" y="1190"  fill="rgb(255 255 255)">0</text><text x="789" y="1190"  fill="rgb(248 248 248)">]</text><text x="792" y="1190"  fill="rgb(245 245 245)">; if (typeof </text><text x="831" y="1190"  fill="rgb(246 246 246)">s</text><text x="834" y="1190"  fill="rgb(247 247 247)">t</text><text x="837" y="1190"  fill="rgb(204 204 204)">r</text><text x="840" y="1190"  fill="rgb(139 139 139)"> </text><text x="843" y="1190"  fill="rgb(97 97 97)">!</text><text x="846" y="1190"  fill="rgb(74 74 74)">=</text><text x="849" y="1190"  fill="rgb(59 59 59)">=</text><text x="852" y="1190"  fill="rgb(51 51 51)"> </text><text x="855" y="1190"  fill="rgb(55 55 55)">&quot;</text><text x="858" y="1190"  fill="rgb(145 145 145)">s</text><text x="861" y="1190"  fill="rgb(249 249 249)">t</text><text x="864" y="1190"  fill="rgb(252 252 252)">r</text><text x="867" y="1190"  fill="rgb(245 245 245)">i</text><text x="870" y="1190"  fill="rgb(246 246 246)">n</text><text x="873" y="1190"  fill="rgb(251 251 251)">g</text><text x="876" y="1190"  fill="rgb(255 255 255)">&quot;</text><text x="879" y="1190"  fill="rgb(211 211 211)">)</text><text x="882" y="1190"  fill="rgb(146 146 146)"> </text><text x="885" y="1190"  fill="rgb(86 86 86)">{</text><text x="888" y="1190"  fill="rgb(44 44 44)"> </text><text x="891" y="1190"  fill="rgb(29 29 29)">t</text><text x="894" y="1190"  fill="rgb(22 22 22)">h</text><text x="897" y="1190"  fill="rgb(21 21 21)">r</text><text x="900" y="1190"  fill="rgb(20 20 20)">ow</text><text x="906" y="1190"  fill="rgb(22 22 22)"> </text><text x="909" y="1190"  fill="rgb(26 26 26)">n</text><text x="912" y="1190"  fill="rgb(39 39 39)">e</text><text x="915" y="1190"  fill="rgb(101 101 101)">w</text><text x="918" y="1190"  fill="rgb(213 213 213)"> </text><text x="921" y="1190"  fill="rgb(252 252 252)">I</text><text x="924" y="1190"  fill="rgb(245 245 245)">nsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIds</text><text x="0" y="1195"  fill="rgb(245 245 245)">tring(idstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } pri</text><text x="270" y="1195"  fill="rgb(253 253 253)">v</text><text x="273" y="1195"  fill="rgb(255 255 255)">a</text><text x="276" y="1195"  fill="rgb(238 238 238)">t</text><text x="279" y="1195"  fill="rgb(181 181 181)">e</text><text x="282" y="1195"  fill="rgb(117 117 117)"> </text><text x="285" y="1195"  fill="rgb(69 69 69)">v</text><text x="288" y="1195"  fill="rgb(38 38 38)">a</text><text x="291" y="1195"  fill="rgb(22 22 22)">l</text><text x="294" y="1195"  fill="rgb(21 21 21)">i</text><text x="297" y="1195"  fill="rgb(25 25 25)">d</text><text x="300" y="1195"  fill="rgb(30 30 30)">a</text><text x="303" y="1195"  fill="rgb(35 35 35)">t</text><text x="306" y="1195"  fill="rgb(39 39 39)">e</text><text x="309" y="1195"  fill="rgb(43 43 43)">G</text><text x="312" y="1195"  fill="rgb(45 45 45)">T</text><text x="315" y="1195"  fill="rgb(46 46 46)">L</text><text x="318" y="1195"  fill="rgb(47 47 47)">TEQ(</text><text x="330" y="1195"  fill="rgb(46 46 46)">v</text><text x="333" y="1195"  fill="rgb(44 44 44)">a</text><text x="336" y="1195"  fill="rgb(41 41 41)">l</text><text x="339" y="1195"  fill="rgb(36 36 36)">u</text><text x="342" y="1195"  fill="rgb(31 31 31)">e</text><text x="345" y="1195"  fill="rgb(25 25 25)">:</text><text x="348" y="1195"  fill="rgb(20 20 20)"> </text><text x="351" y="1195"  fill="rgb(24 24 24)">a</text><text x="354" y="1195"  fill="rgb(42 42 42)">n</text><text x="357" y="1195"  fill="rgb(82 82 82)">y</text><text x="360" y="1195"  fill="rgb(143 143 143)">)</text><text x="363" y="1195"  fill="rgb(217 217 217)">:</text><text x="366" y="1195"  fill="rgb(255 255 255)"> </text><text x="369" y="1195"  fill="rgb(254 254 254)">v</text><text x="372" y="1195"  fill="rgb(246 246 246)">o</text><text x="375" y="1195"  fill="rgb(245 245 245)">id { if (typeof </text><text x="423" y="1195"  fill="rgb(255 255 255)">v</text><text x="426" y="1195"  fill="rgb(166 166 166)">a</text><text x="429" y="1195"  fill="rgb(41 41 41)">l</text><text x="432" y="1195"  fill="rgb(44 44 44)">u</text><text x="435" y="1195"  fill="rgb(49 49 49)">e !=</text><text x="447" y="1195"  fill="rgb(45 45 45)">=</text><text x="450" y="1195"  fill="rgb(38 38 38)"> </text><text x="453" y="1195"  fill="rgb(152 152 152)">&quot;</text><text x="456" y="1195"  fill="rgb(255 255 255)">o</text><text x="459" y="1195"  fill="rgb(246 246 246)">b</text><text x="462" y="1195"  fill="rgb(245 245 245)">ject&quot; || Object.ke</text><text x="516" y="1195"  fill="rgb(246 246 246)">y</text><text x="519" y="1195"  fill="rgb(252 252 252)">s</text><text x="522" y="1195"  fill="rgb(153 153 153)">(</text><text x="525" y="1195"  fill="rgb(22 22 22)">v</text><text x="528" y="1195"  fill="rgb(32 32 32)">a</text><text x="531" y="1195"  fill="rgb(37 37 37)">l</text><text x="534" y="1195"  fill="rgb(39 39 39)">ue</text><text x="540" y="1195"  fill="rgb(37 37 37)">)</text><text x="543" y="1195"  fill="rgb(33 33 33)">.</text><text x="546" y="1195"  fill="rgb(7 7 7)">l</text><text x="549" y="1195"  fill="rgb(149 149 149)">e</text><text x="552" y="1195"  fill="rgb(255 255 255)">n</text><text x="555" y="1195"  fill="rgb(248 248 248)">g</text><text x="558" y="1195"  fill="rgb(245 245 245)">th !== 1</text><text x="582" y="1195"  fill="rgb(251 251 251)">)</text><text x="585" y="1195"  fill="rgb(249 249 249)"> </text><text x="588" y="1195"  fill="rgb(130 130 130)">{</text><text x="591" y="1195"  fill="rgb(7 7 7)"> </text><text x="594" y="1195"  fill="rgb(20 20 20)">t</text><text x="597" y="1195"  fill="rgb(39 39 39)">hrow</text><text x="609" y="1195"  fill="rgb(37 37 37)"> </text><text x="612" y="1195"  fill="rgb(34 34 34)">n</text><text x="615" y="1195"  fill="rgb(21 21 21)">e</text><text x="618" y="1195"  fill="rgb(23 23 23)">w</text><text x="621" y="1195"  fill="rgb(124 124 124)"> </text><text x="624" y="1195"  fill="rgb(243 243 243)">I</text><text x="627" y="1195"  fill="rgb(255 255 255)">n</text><text x="630" y="1195"  fill="rgb(245 245 245)">sightError(); }</text><text x="675" y="1195"  fill="rgb(244 244 244)"> </text><text x="678" y="1195"  fill="rgb(246 246 246)">l</text><text x="681" y="1195"  fill="rgb(255 255 255)">e</text><text x="684" y="1195"  fill="rgb(239 239 239)">t</text><text x="687" y="1195"  fill="rgb(120 120 120)"> </text><text x="690" y="1195"  fill="rgb(24 24 24)">mk</text><text x="696" y="1195"  fill="rgb(34 34 34)">e</text><text x="699" y="1195"  fill="rgb(37 37 37)">y</text><text x="702" y="1195"  fill="rgb(38 38 38)">:</text><text x="705" y="1195"  fill="rgb(39 39 39)"> s</text><text x="711" y="1195"  fill="rgb(31 31 31)">t</text><text x="714" y="1195"  fill="rgb(9 9 9)">r</text><text x="717" y="1195"  fill="rgb(81 81 81)">i</text><text x="720" y="1195"  fill="rgb(226 226 226)">n</text><text x="723" y="1195"  fill="rgb(249 249 249)">g</text><text x="726" y="1195"  fill="rgb(245 245 245)">[] = Obje</text><text x="753" y="1195"  fill="rgb(255 255 255)">c</text><text x="756" y="1195"  fill="rgb(194 194 194)">t</text><text x="759" y="1195"  fill="rgb(38 38 38)">.</text><text x="762" y="1195"  fill="rgb(20 20 20)">k</text><text x="765" y="1195"  fill="rgb(36 36 36)">e</text><text x="768" y="1195"  fill="rgb(38 38 38)">y</text><text x="771" y="1195"  fill="rgb(39 39 39)">s</text><text x="774" y="1195"  fill="rgb(37 37 37)">(</text><text x="777" y="1195"  fill="rgb(35 35 35)">v</text><text x="780" y="1195"  fill="rgb(3 3 3)">a</text><text x="783" y="1195"  fill="rgb(93 93 93)">l</text><text x="786" y="1195"  fill="rgb(251 251 251)">u</text><text x="789" y="1195"  fill="rgb(252 252 252)">e</text><text x="792" y="1195"  fill="rgb(245 245 245)">)[0].split(&quot;_</text><text x="831" y="1195"  fill="rgb(248 248 248)">&quot;</text><text x="834" y="1195"  fill="rgb(242 242 242)">)</text><text x="837" y="1195"  fill="rgb(88 88 88)">;</text><text x="840" y="1195"  fill="rgb(17 17 17)"> </text><text x="843" y="1195"  fill="rgb(21 21 21)">i</text><text x="846" y="1195"  fill="rgb(24 24 24)">f</text><text x="849" y="1195"  fill="rgb(26 26 26)"> </text><text x="852" y="1195"  fill="rgb(27 27 27)">(</text><text x="855" y="1195"  fill="rgb(19 19 19)">m</text><text x="858" y="1195"  fill="rgb(17 17 17)">k</text><text x="861" y="1195"  fill="rgb(164 164 164)">e</text><text x="864" y="1195"  fill="rgb(255 255 255)">y</text><text x="867" y="1195"  fill="rgb(254 254 254)">.</text><text x="870" y="1195"  fill="rgb(255 255 255)">l</text><text x="873" y="1195"  fill="rgb(218 218 218)">e</text><text x="876" y="1195"  fill="rgb(123 123 123)">n</text><text x="879" y="1195"  fill="rgb(51 51 51)">g</text><text x="882" y="1195"  fill="rgb(23 23 23)">t</text><text x="885" y="1195"  fill="rgb(22 22 22)">h</text><text x="888" y="1195"  fill="rgb(30 30 30)"> </text><text x="891" y="1195"  fill="rgb(38 38 38)">!</text><text x="894" y="1195"  fill="rgb(44 44 44)">=</text><text x="897" y="1195"  fill="rgb(46 46 46)">=</text><text x="900" y="1195"  fill="rgb(47 47 47)"> </text><text x="903" y="1195"  fill="rgb(46 46 46)">2</text><text x="906" y="1195"  fill="rgb(44 44 44)">)</text><text x="909" y="1195"  fill="rgb(39 39 39)"> </text><text x="912" y="1195"  fill="rgb(24 24 24)">{</text><text x="915" y="1195"  fill="rgb(15 15 15)"> </text><text x="918" y="1195"  fill="rgb(164 164 164)">t</text><text x="921" y="1195"  fill="rgb(255 255 255)">h</text><text x="924" y="1195"  fill="rgb(245 245 245)">row new InsightError(); } else { let idstring: string = mkey[0]; let mfield: stri</text><text x="0" y="1200"  fill="rgb(245 245 245)">ng = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !</text><text x="264" y="1200"  fill="rgb(247 247 247)">t</text><text x="267" y="1200"  fill="rgb(255 255 255)">h</text><text x="270" y="1200"  fill="rgb(246 246 246)">i</text><text x="273" y="1200"  fill="rgb(177 177 177)">s</text><text x="276" y="1200"  fill="rgb(86 86 86)">.</text><text x="279" y="1200"  fill="rgb(37 37 37)">v</text><text x="282" y="1200"  fill="rgb(24 24 24)">a</text><text x="285" y="1200"  fill="rgb(32 32 32)">l</text><text x="288" y="1200"  fill="rgb(40 40 40)">i</text><text x="291" y="1200"  fill="rgb(44 44 44)">d</text><text x="294" y="1200"  fill="rgb(48 48 48)">a</text><text x="297" y="1200"  fill="rgb(52 52 52)">t</text><text x="300" y="1200"  fill="rgb(53 53 53)">e</text><text x="303" y="1200"  fill="rgb(48 48 48)">I</text><text x="306" y="1200"  fill="rgb(42 42 42)">d</text><text x="309" y="1200"  fill="rgb(36 36 36)">s</text><text x="312" y="1200"  fill="rgb(32 32 32)">t</text><text x="315" y="1200"  fill="rgb(29 29 29)">r</text><text x="318" y="1200"  fill="rgb(28 28 28)">i</text><text x="321" y="1200"  fill="rgb(27 27 27)">ng</text><text x="327" y="1200"  fill="rgb(28 28 28)">(</text><text x="330" y="1200"  fill="rgb(31 31 31)">i</text><text x="333" y="1200"  fill="rgb(36 36 36)">d</text><text x="336" y="1200"  fill="rgb(43 43 43)">s</text><text x="339" y="1200"  fill="rgb(50 50 50)">t</text><text x="342" y="1200"  fill="rgb(53 53 53)">r</text><text x="345" y="1200"  fill="rgb(51 51 51)">i</text><text x="348" y="1200"  fill="rgb(47 47 47)">n</text><text x="351" y="1200"  fill="rgb(43 43 43)">g</text><text x="354" y="1200"  fill="rgb(38 38 38)">)</text><text x="357" y="1200"  fill="rgb(29 29 29)"> </text><text x="360" y="1200"  fill="rgb(25 25 25)">|</text><text x="363" y="1200"  fill="rgb(59 59 59)">|</text><text x="366" y="1200"  fill="rgb(149 149 149)"> </text><text x="369" y="1200"  fill="rgb(239 239 239)">!</text><text x="372" y="1200"  fill="rgb(255 255 255)">t</text><text x="375" y="1200"  fill="rgb(247 247 247)">h</text><text x="378" y="1200"  fill="rgb(245 245 245)">is.mfields.incl</text><text x="423" y="1200"  fill="rgb(255 255 255)">u</text><text x="426" y="1200"  fill="rgb(166 166 166)">d</text><text x="429" y="1200"  fill="rgb(41 41 41)">e</text><text x="432" y="1200"  fill="rgb(44 44 44)">s</text><text x="435" y="1200"  fill="rgb(49 49 49)">(mfi</text><text x="447" y="1200"  fill="rgb(45 45 45)">e</text><text x="450" y="1200"  fill="rgb(38 38 38)">l</text><text x="453" y="1200"  fill="rgb(152 152 152)">d</text><text x="456" y="1200"  fill="rgb(255 255 255)">)</text><text x="459" y="1200"  fill="rgb(246 246 246)">)</text><text x="462" y="1200"  fill="rgb(245 245 245)"> { throw new Insig</text><text x="516" y="1200"  fill="rgb(246 246 246)">h</text><text x="519" y="1200"  fill="rgb(251 251 251)">t</text><text x="522" y="1200"  fill="rgb(162 162 162)">E</text><text x="525" y="1200"  fill="rgb(46 46 46)">r</text><text x="528" y="1200"  fill="rgb(50 50 50)">ror()</text><text x="543" y="1200"  fill="rgb(51 51 51)">;</text><text x="546" y="1200"  fill="rgb(34 34 34)"> </text><text x="549" y="1200"  fill="rgb(160 160 160)">}</text><text x="552" y="1200"  fill="rgb(255 255 255)"> </text><text x="555" y="1200"  fill="rgb(247 247 247)">}</text><text x="558" y="1200"  fill="rgb(245 245 245)"> } privat</text><text x="585" y="1200"  fill="rgb(250 250 250)">e</text><text x="588" y="1200"  fill="rgb(252 252 252)"> </text><text x="591" y="1200"  fill="rgb(159 159 159)">v</text><text x="594" y="1200"  fill="rgb(36 36 36)">a</text><text x="597" y="1200"  fill="rgb(29 29 29)">l</text><text x="600" y="1200"  fill="rgb(51 51 51)">i</text><text x="603" y="1200"  fill="rgb(50 50 50)">dat</text><text x="612" y="1200"  fill="rgb(51 51 51)">e</text><text x="615" y="1200"  fill="rgb(52 52 52)">A</text><text x="618" y="1200"  fill="rgb(41 41 41)">N</text><text x="621" y="1200"  fill="rgb(27 27 27)">D</text><text x="624" y="1200"  fill="rgb(105 105 105)">O</text><text x="627" y="1200"  fill="rgb(235 235 235)">R</text><text x="630" y="1200"  fill="rgb(255 255 255)">(</text><text x="633" y="1200"  fill="rgb(245 245 245)">value: any): </text><text x="672" y="1200"  fill="rgb(244 244 244)">v</text><text x="675" y="1200"  fill="rgb(247 247 247)">o</text><text x="678" y="1200"  fill="rgb(255 255 255)">i</text><text x="681" y="1200"  fill="rgb(230 230 230)">d</text><text x="684" y="1200"  fill="rgb(99 99 99)"> </text><text x="687" y="1200"  fill="rgb(25 25 25)">{</text><text x="690" y="1200"  fill="rgb(41 41 41)"> </text><text x="693" y="1200"  fill="rgb(51 51 51)">if</text><text x="699" y="1200"  fill="rgb(50 50 50)"> </text><text x="702" y="1200"  fill="rgb(51 51 51)">(</text><text x="705" y="1200"  fill="rgb(53 53 53)">!</text><text x="708" y="1200"  fill="rgb(39 39 39)">A</text><text x="711" y="1200"  fill="rgb(25 25 25)">r</text><text x="714" y="1200"  fill="rgb(119 119 119)">r</text><text x="717" y="1200"  fill="rgb(241 241 241)">a</text><text x="720" y="1200"  fill="rgb(251 251 251)">y</text><text x="723" y="1200"  fill="rgb(245 245 245)">.isArray(v</text><text x="753" y="1200"  fill="rgb(255 255 255)">a</text><text x="756" y="1200"  fill="rgb(198 198 198)">l</text><text x="759" y="1200"  fill="rgb(60 60 60)">u</text><text x="762" y="1200"  fill="rgb(41 41 41)">e</text><text x="765" y="1200"  fill="rgb(50 50 50)">) ||</text><text x="777" y="1200"  fill="rgb(51 51 51)"> </text><text x="780" y="1200"  fill="rgb(29 29 29)">v</text><text x="783" y="1200"  fill="rgb(110 110 110)">a</text><text x="786" y="1200"  fill="rgb(251 251 251)">lu</text><text x="792" y="1200"  fill="rgb(245 245 245)">e.length &lt; 1)</text><text x="831" y="1200"  fill="rgb(247 247 247)"> {</text><text x="837" y="1200"  fill="rgb(127 127 127)"> </text><text x="840" y="1200"  fill="rgb(35 35 35)">t</text><text x="843" y="1200"  fill="rgb(48 48 48)">h</text><text x="846" y="1200"  fill="rgb(49 49 49)">r</text><text x="849" y="1200"  fill="rgb(50 50 50)">o</text><text x="852" y="1200"  fill="rgb(51 51 51)">w </text><text x="858" y="1200"  fill="rgb(30 30 30)">n</text><text x="861" y="1200"  fill="rgb(72 72 72)">e</text><text x="864" y="1200"  fill="rgb(244 244 244)">w</text><text x="867" y="1200"  fill="rgb(254 254 254)"> </text><text x="870" y="1200"  fill="rgb(160 160 160)">I</text><text x="873" y="1200"  fill="rgb(61 61 61)">n</text><text x="876" y="1200"  fill="rgb(23 23 23)">s</text><text x="879" y="1200"  fill="rgb(34 34 34)">i</text><text x="882" y="1200"  fill="rgb(45 45 45)">g</text><text x="885" y="1200"  fill="rgb(51 51 51)">h</text><text x="888" y="1200"  fill="rgb(52 52 52)">t</text><text x="891" y="1200"  fill="rgb(49 49 49)">E</text><text x="894" y="1200"  fill="rgb(47 47 47)">rr</text><text x="900" y="1200"  fill="rgb(48 48 48)">o</text><text x="903" y="1200"  fill="rgb(49 49 49)">r</text><text x="906" y="1200"  fill="rgb(52 52 52)">(</text><text x="909" y="1200"  fill="rgb(53 53 53)">)</text><text x="912" y="1200"  fill="rgb(47 47 47)">;</text><text x="915" y="1200"  fill="rgb(39 39 39)"> </text><text x="918" y="1200"  fill="rgb(167 167 167)">}</text><text x="921" y="1200"  fill="rgb(255 255 255)"> </text><text x="924" y="1200"  fill="rgb(245 245 245)">for (let innerObject of value) { this.validateFilter(innerObject); } } private va</text><text x="0" y="1205"  fill="rgb(245 245 245)">lidateIdstring(idstring: string): boolean { if (this.idInQuery.length === 0) { for (le</text><text x="258" y="1205"  fill="rgb(244 244 244)">t</text><text x="261" y="1205"  fill="rgb(247 247 247)"> </text><text x="264" y="1205"  fill="rgb(255 255 255)">i</text><text x="267" y="1205"  fill="rgb(219 219 219)">n</text><text x="270" y="1205"  fill="rgb(100 100 100)">s</text><text x="273" y="1205"  fill="rgb(28 28 28)">i</text><text x="276" y="1205"  fill="rgb(26 26 26)">g</text><text x="279" y="1205"  fill="rgb(42 42 42)">h</text><text x="282" y="1205"  fill="rgb(48 48 48)">t</text><text x="285" y="1205"  fill="rgb(49 49 49)">Da</text><text x="291" y="1205"  fill="rgb(51 51 51)">t</text><text x="294" y="1205"  fill="rgb(52 52 52)">a</text><text x="297" y="1205"  fill="rgb(39 39 39)">s</text><text x="300" y="1205"  fill="rgb(24 24 24)">e</text><text x="303" y="1205"  fill="rgb(20 20 20)">t</text><text x="306" y="1205"  fill="rgb(24 24 24)"> </text><text x="309" y="1205"  fill="rgb(34 34 34)">o</text><text x="312" y="1205"  fill="rgb(43 43 43)">f</text><text x="315" y="1205"  fill="rgb(51 51 51)"> </text><text x="318" y="1205"  fill="rgb(60 60 60)">t</text><text x="321" y="1205"  fill="rgb(62 62 62)">h</text><text x="324" y="1205"  fill="rgb(60 60 60)">i</text><text x="327" y="1205"  fill="rgb(52 52 52)">s</text><text x="330" y="1205"  fill="rgb(43 43 43)">.</text><text x="333" y="1205"  fill="rgb(34 34 34)">a</text><text x="336" y="1205"  fill="rgb(23 23 23)">l</text><text x="339" y="1205"  fill="rgb(20 20 20)">l</text><text x="342" y="1205"  fill="rgb(30 30 30)">I</text><text x="345" y="1205"  fill="rgb(47 47 47)">n</text><text x="348" y="1205"  fill="rgb(52 52 52)">s</text><text x="351" y="1205"  fill="rgb(50 50 50)">i</text><text x="354" y="1205"  fill="rgb(49 49 49)">gh</text><text x="360" y="1205"  fill="rgb(47 47 47)">t</text><text x="363" y="1205"  fill="rgb(33 33 33)">D</text><text x="366" y="1205"  fill="rgb(23 23 23)">a</text><text x="369" y="1205"  fill="rgb(86 86 86)">t</text><text x="372" y="1205"  fill="rgb(215 215 215)">a</text><text x="375" y="1205"  fill="rgb(255 255 255)">s</text><text x="378" y="1205"  fill="rgb(244 244 244)">e</text><text x="381" y="1205"  fill="rgb(245 245 245)">t) { if (insig</text><text x="423" y="1205"  fill="rgb(255 255 255)">h</text><text x="426" y="1205"  fill="rgb(166 166 166)">t</text><text x="429" y="1205"  fill="rgb(41 41 41)">D</text><text x="432" y="1205"  fill="rgb(44 44 44)">a</text><text x="435" y="1205"  fill="rgb(49 49 49)">tase</text><text x="447" y="1205"  fill="rgb(45 45 45)">t</text><text x="450" y="1205"  fill="rgb(38 38 38)">.</text><text x="453" y="1205"  fill="rgb(152 152 152)">i</text><text x="456" y="1205"  fill="rgb(255 255 255)">d</text><text x="459" y="1205"  fill="rgb(246 246 246)"> </text><text x="462" y="1205"  fill="rgb(245 245 245)">=== idstring) { th</text><text x="516" y="1205"  fill="rgb(246 246 246)">i</text><text x="519" y="1205"  fill="rgb(251 251 251)">s</text><text x="522" y="1205"  fill="rgb(164 164 164)">.</text><text x="525" y="1205"  fill="rgb(46 46 46)">i</text><text x="528" y="1205"  fill="rgb(48 48 48)">d</text><text x="531" y="1205"  fill="rgb(49 49 49)">InQue</text><text x="546" y="1205"  fill="rgb(34 34 34)">r</text><text x="549" y="1205"  fill="rgb(162 162 162)">y</text><text x="552" y="1205"  fill="rgb(255 255 255)">.</text><text x="555" y="1205"  fill="rgb(247 247 247)">p</text><text x="558" y="1205"  fill="rgb(245 245 245)">ush(idstri</text><text x="588" y="1205"  fill="rgb(248 248 248)">n</text><text x="591" y="1205"  fill="rgb(255 255 255)">g</text><text x="594" y="1205"  fill="rgb(177 177 177)">)</text><text x="597" y="1205"  fill="rgb(41 41 41)">;</text><text x="600" y="1205"  fill="rgb(26 26 26)"> </text><text x="603" y="1205"  fill="rgb(52 52 52)">i</text><text x="606" y="1205"  fill="rgb(49 49 49)">f (i</text><text x="618" y="1205"  fill="rgb(50 50 50)">n</text><text x="621" y="1205"  fill="rgb(47 47 47)">s</text><text x="624" y="1205"  fill="rgb(24 24 24)">i</text><text x="627" y="1205"  fill="rgb(85 85 85)">g</text><text x="630" y="1205"  fill="rgb(227 227 227)">h</text><text x="633" y="1205"  fill="rgb(255 255 255)">t</text><text x="636" y="1205"  fill="rgb(245 245 245)">D</text><text x="639" y="1205"  fill="rgb(244 244 244)">a</text><text x="642" y="1205"  fill="rgb(245 245 245)">taset.kin</text><text x="669" y="1205"  fill="rgb(244 244 244)">d</text><text x="672" y="1205"  fill="rgb(248 248 248)"> </text><text x="675" y="1205"  fill="rgb(255 255 255)">=</text><text x="678" y="1205"  fill="rgb(219 219 219)">=</text><text x="681" y="1205"  fill="rgb(74 74 74)">=</text><text x="684" y="1205"  fill="rgb(21 21 21)"> </text><text x="687" y="1205"  fill="rgb(45 45 45)">I</text><text x="690" y="1205"  fill="rgb(50 50 50)">n</text><text x="693" y="1205"  fill="rgb(49 49 49)">sig</text><text x="702" y="1205"  fill="rgb(52 52 52)">h</text><text x="705" y="1205"  fill="rgb(33 33 33)">t</text><text x="708" y="1205"  fill="rgb(20 20 20)">D</text><text x="711" y="1205"  fill="rgb(133 133 133)">a</text><text x="714" y="1205"  fill="rgb(252 252 252)">t</text><text x="717" y="1205"  fill="rgb(255 255 255)">a</text><text x="720" y="1205"  fill="rgb(245 245 245)">setKind.Cou</text><text x="753" y="1205"  fill="rgb(255 255 255)">r</text><text x="756" y="1205"  fill="rgb(200 200 200)">s</text><text x="759" y="1205"  fill="rgb(61 61 61)">e</text><text x="762" y="1205"  fill="rgb(39 39 39)">s</text><text x="765" y="1205"  fill="rgb(49 49 49)">) { t</text><text x="780" y="1205"  fill="rgb(28 28 28)">h</text><text x="783" y="1205"  fill="rgb(112 112 112)">i</text><text x="786" y="1205"  fill="rgb(251 251 251)">s.</text><text x="792" y="1205"  fill="rgb(245 245 245)">mfields = thi</text><text x="831" y="1205"  fill="rgb(246 246 246)">s</text><text x="834" y="1205"  fill="rgb(253 253 253)">.</text><text x="837" y="1205"  fill="rgb(190 190 190)">c</text><text x="840" y="1205"  fill="rgb(45 45 45)">o</text><text x="843" y="1205"  fill="rgb(49 49 49)">ursemf</text><text x="861" y="1205"  fill="rgb(40 40 40)">i</text><text x="864" y="1205"  fill="rgb(163 163 163)">e</text><text x="867" y="1205"  fill="rgb(120 120 120)">l</text><text x="870" y="1205"  fill="rgb(26 26 26)">d</text><text x="873" y="1205"  fill="rgb(34 34 34)">s</text><text x="876" y="1205"  fill="rgb(51 51 51)">;</text><text x="879" y="1205"  fill="rgb(53 53 53)"> </text><text x="882" y="1205"  fill="rgb(44 44 44)">t</text><text x="885" y="1205"  fill="rgb(30 30 30)">h</text><text x="888" y="1205"  fill="rgb(22 22 22)">i</text><text x="891" y="1205"  fill="rgb(21 21 21)">s</text><text x="894" y="1205"  fill="rgb(20 20 20)">.sf</text><text x="903" y="1205"  fill="rgb(22 22 22)">i</text><text x="906" y="1205"  fill="rgb(25 25 25)">e</text><text x="909" y="1205"  fill="rgb(34 34 34)">l</text><text x="912" y="1205"  fill="rgb(32 32 32)">d</text><text x="915" y="1205"  fill="rgb(21 21 21)">s</text><text x="918" y="1205"  fill="rgb(165 165 165)"> </text><text x="921" y="1205"  fill="rgb(255 255 255)">=</text><text x="924" y="1205"  fill="rgb(245 245 245)"> this.coursesfields; } else { this.mfields = this.roommfields; this.sfields = thi</text><text x="0" y="1210"  fill="rgb(245 245 245)">s.roomsfields; } return true; } } return false; } else { return this.idInQuery.include</text><text x="258" y="1210"  fill="rgb(247 247 247)">s</text><text x="261" y="1210"  fill="rgb(255 255 255)">(</text><text x="264" y="1210"  fill="rgb(187 187 187)">i</text><text x="267" y="1210"  fill="rgb(53 53 53)">d</text><text x="270" y="1210"  fill="rgb(21 21 21)">s</text><text x="273" y="1210"  fill="rgb(44 44 44)">t</text><text x="276" y="1210"  fill="rgb(53 53 53)">r</text><text x="279" y="1210"  fill="rgb(50 50 50)">i</text><text x="282" y="1210"  fill="rgb(49 49 49)">ng</text><text x="288" y="1210"  fill="rgb(52 52 52)">)</text><text x="291" y="1210"  fill="rgb(43 43 43)">;</text><text x="294" y="1210"  fill="rgb(23 23 23)"> </text><text x="297" y="1210"  fill="rgb(32 32 32)">}</text><text x="300" y="1210"  fill="rgb(69 69 69)"> </text><text x="303" y="1210"  fill="rgb(120 120 120)">}</text><text x="306" y="1210"  fill="rgb(167 167 167)"> </text><text x="309" y="1210"  fill="rgb(192 192 192)">p</text><text x="312" y="1210"  fill="rgb(206 206 206)">u</text><text x="315" y="1210"  fill="rgb(217 217 217)">b</text><text x="318" y="1210"  fill="rgb(224 224 224)">l</text><text x="321" y="1210"  fill="rgb(225 225 225)">ic</text><text x="327" y="1210"  fill="rgb(218 218 218)"> </text><text x="330" y="1210"  fill="rgb(208 208 208)">g</text><text x="333" y="1210"  fill="rgb(192 192 192)">e</text><text x="336" y="1210"  fill="rgb(158 158 158)">t</text><text x="339" y="1210"  fill="rgb(104 104 104)">I</text><text x="342" y="1210"  fill="rgb(49 49 49)">d</text><text x="345" y="1210"  fill="rgb(22 22 22)">I</text><text x="348" y="1210"  fill="rgb(36 36 36)">n</text><text x="351" y="1210"  fill="rgb(52 52 52)">Q</text><text x="354" y="1210"  fill="rgb(50 50 50)">u</text><text x="357" y="1210"  fill="rgb(49 49 49)">er</text><text x="363" y="1210"  fill="rgb(52 52 52)">y</text><text x="366" y="1210"  fill="rgb(49 49 49)">(</text><text x="369" y="1210"  fill="rgb(23 23 23)">)</text><text x="372" y="1210"  fill="rgb(54 54 54)">:</text><text x="375" y="1210"  fill="rgb(198 198 198)"> </text><text x="378" y="1210"  fill="rgb(255 255 255)">s</text><text x="381" y="1210"  fill="rgb(244 244 244)">t</text><text x="384" y="1210"  fill="rgb(245 245 245)">ring[] { retu</text><text x="423" y="1210"  fill="rgb(255 255 255)">r</text><text x="426" y="1210"  fill="rgb(166 166 166)">n</text><text x="429" y="1210"  fill="rgb(41 41 41)"> </text><text x="432" y="1210"  fill="rgb(44 44 44)">t</text><text x="435" y="1210"  fill="rgb(49 49 49)">his.</text><text x="447" y="1210"  fill="rgb(45 45 45)">i</text><text x="450" y="1210"  fill="rgb(38 38 38)">d</text><text x="453" y="1210"  fill="rgb(152 152 152)">I</text><text x="456" y="1210"  fill="rgb(255 255 255)">n</text><text x="459" y="1210"  fill="rgb(246 246 246)">Q</text><text x="462" y="1210"  fill="rgb(245 245 245)">uery; } } import {</text><text x="516" y="1210"  fill="rgb(246 246 246)">I</text><text x="519" y="1210"  fill="rgb(251 251 251)">n</text><text x="522" y="1210"  fill="rgb(164 164 164)">s</text><text x="525" y="1210"  fill="rgb(46 46 46)">i</text><text x="528" y="1210"  fill="rgb(48 48 48)">g</text><text x="531" y="1210"  fill="rgb(49 49 49)">htDat</text><text x="546" y="1210"  fill="rgb(34 34 34)">a</text><text x="549" y="1210"  fill="rgb(162 162 162)">s</text><text x="552" y="1210"  fill="rgb(255 255 255)">e</text><text x="555" y="1210"  fill="rgb(247 247 247)">t</text><text x="558" y="1210"  fill="rgb(245 245 245)">, InsightDa</text><text x="591" y="1210"  fill="rgb(244 244 244)">t</text><text x="594" y="1210"  fill="rgb(255 255 255)">a</text><text x="597" y="1210"  fill="rgb(195 195 195)">s</text><text x="600" y="1210"  fill="rgb(55 55 55)">e</text><text x="603" y="1210"  fill="rgb(28 28 28)">t</text><text x="606" y="1210"  fill="rgb(51 51 51)">K</text><text x="609" y="1210"  fill="rgb(50 50 50)">i</text><text x="612" y="1210"  fill="rgb(49 49 49)">nd, </text><text x="624" y="1210"  fill="rgb(48 48 48)">I</text><text x="627" y="1210"  fill="rgb(22 22 22)">n</text><text x="630" y="1210"  fill="rgb(63 63 63)">s</text><text x="633" y="1210"  fill="rgb(210 210 210)">i</text><text x="636" y="1210"  fill="rgb(255 255 255)">g</text><text x="639" y="1210"  fill="rgb(247 247 247)">h</text><text x="642" y="1210"  fill="rgb(245 245 245)">tError} f</text><text x="669" y="1210"  fill="rgb(247 247 247)">r</text><text x="672" y="1210"  fill="rgb(255 255 255)">o</text><text x="675" y="1210"  fill="rgb(198 198 198)">m</text><text x="678" y="1210"  fill="rgb(56 56 56)"> </text><text x="681" y="1210"  fill="rgb(24 24 24)">&quot;</text><text x="684" y="1210"  fill="rgb(50 50 50)">./</text><text x="690" y="1210"  fill="rgb(49 49 49)">IIn</text><text x="699" y="1210"  fill="rgb(51 51 51)">s</text><text x="702" y="1210"  fill="rgb(32 32 32)">i</text><text x="705" y="1210"  fill="rgb(33 33 33)">g</text><text x="708" y="1210"  fill="rgb(156 156 156)">h</text><text x="711" y="1210"  fill="rgb(255 255 255)">t</text><text x="714" y="1210"  fill="rgb(253 253 253)">F</text><text x="717" y="1210"  fill="rgb(244 244 244)">a</text><text x="720" y="1210"  fill="rgb(245 245 245)">cade&quot;; expo</text><text x="753" y="1210"  fill="rgb(255 255 255)">r</text><text x="756" y="1210"  fill="rgb(200 200 200)">t</text><text x="759" y="1210"  fill="rgb(61 61 61)"> </text><text x="762" y="1210"  fill="rgb(39 39 39)">d</text><text x="765" y="1210"  fill="rgb(49 49 49)">efaul</text><text x="780" y="1210"  fill="rgb(28 28 28)">t</text><text x="783" y="1210"  fill="rgb(112 112 112)"> </text><text x="786" y="1210"  fill="rgb(251 251 251)">cl</text><text x="792" y="1210"  fill="rgb(245 245 245)">ass QueryValid</text><text x="834" y="1210"  fill="rgb(254 254 254)">a</text><text x="837" y="1210"  fill="rgb(221 221 221)">t</text><text x="840" y="1210"  fill="rgb(63 63 63)">o</text><text x="843" y="1210"  fill="rgb(46 46 46)">r</text><text x="846" y="1210"  fill="rgb(49 49 49)"> { pr</text><text x="861" y="1210"  fill="rgb(48 48 48)">i</text><text x="864" y="1210"  fill="rgb(36 36 36)">v</text><text x="867" y="1210"  fill="rgb(27 27 27)">a</text><text x="870" y="1210"  fill="rgb(47 47 47)">t</text><text x="873" y="1210"  fill="rgb(55 55 55)">e</text><text x="876" y="1210"  fill="rgb(42 42 42)"> </text><text x="879" y="1210"  fill="rgb(25 25 25)">re</text><text x="885" y="1210"  fill="rgb(49 49 49)">a</text><text x="888" y="1210"  fill="rgb(86 86 86)">d</text><text x="891" y="1210"  fill="rgb(115 115 115)">o</text><text x="894" y="1210"  fill="rgb(130 130 130)">n</text><text x="897" y="1210"  fill="rgb(129 129 129)">l</text><text x="900" y="1210"  fill="rgb(117 117 117)">y</text><text x="903" y="1210"  fill="rgb(98 98 98)"> </text><text x="906" y="1210"  fill="rgb(66 66 66)">c</text><text x="909" y="1210"  fill="rgb(38 38 38)">o</text><text x="912" y="1210"  fill="rgb(24 24 24)">u</text><text x="915" y="1210"  fill="rgb(86 86 86)">r</text><text x="918" y="1210"  fill="rgb(223 223 223)">s</text><text x="921" y="1210"  fill="rgb(251 251 251)">e</text><text x="924" y="1210"  fill="rgb(245 245 245)">mfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly co</text><text x="0" y="1215"  fill="rgb(245 245 245)">ursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readon</text><text x="255" y="1215"  fill="rgb(247 247 247)">l</text><text x="258" y="1215"  fill="rgb(255 255 255)">y</text><text x="261" y="1215"  fill="rgb(174 174 174)"> </text><text x="264" y="1215"  fill="rgb(31 31 31)">r</text><text x="267" y="1215"  fill="rgb(23 23 23)">o</text><text x="270" y="1215"  fill="rgb(51 51 51)">om</text><text x="276" y="1215"  fill="rgb(49 49 49)">mf</text><text x="282" y="1215"  fill="rgb(50 50 50)">i</text><text x="285" y="1215"  fill="rgb(49 49 49)">e</text><text x="288" y="1215"  fill="rgb(31 31 31)">l</text><text x="291" y="1215"  fill="rgb(33 33 33)">d</text><text x="294" y="1215"  fill="rgb(103 103 103)">s</text><text x="297" y="1215"  fill="rgb(191 191 191)">:</text><text x="300" y="1215"  fill="rgb(232 232 232)"> </text><text x="303" y="1215"  fill="rgb(254 254 254)">s</text><text x="306" y="1215"  fill="rgb(255 255 255)">tring[] = [</text><text x="339" y="1215"  fill="rgb(248 248 248)">&quot;</text><text x="342" y="1215"  fill="rgb(217 217 217)">l</text><text x="345" y="1215"  fill="rgb(146 146 146)">a</text><text x="348" y="1215"  fill="rgb(50 50 50)">t</text><text x="351" y="1215"  fill="rgb(28 28 28)">&quot;</text><text x="354" y="1215"  fill="rgb(49 49 49)">,</text><text x="357" y="1215"  fill="rgb(50 50 50)"> </text><text x="360" y="1215"  fill="rgb(49 49 49)">&quot;l</text><text x="366" y="1215"  fill="rgb(50 50 50)">o</text><text x="369" y="1215"  fill="rgb(52 52 52)">n</text><text x="372" y="1215"  fill="rgb(22 22 22)">&quot;</text><text x="375" y="1215"  fill="rgb(49 49 49)">,</text><text x="378" y="1215"  fill="rgb(207 207 207)"> </text><text x="381" y="1215"  fill="rgb(255 255 255)">&quot;</text><text x="384" y="1215"  fill="rgb(244 244 244)">s</text><text x="387" y="1215"  fill="rgb(245 245 245)">eats&quot;]; priv</text><text x="423" y="1215"  fill="rgb(255 255 255)">a</text><text x="426" y="1215"  fill="rgb(166 166 166)">t</text><text x="429" y="1215"  fill="rgb(41 41 41)">e</text><text x="432" y="1215"  fill="rgb(44 44 44)"> </text><text x="435" y="1215"  fill="rgb(49 49 49)">read</text><text x="447" y="1215"  fill="rgb(45 45 45)">o</text><text x="450" y="1215"  fill="rgb(38 38 38)">n</text><text x="453" y="1215"  fill="rgb(152 152 152)">l</text><text x="456" y="1215"  fill="rgb(255 255 255)">y</text><text x="459" y="1215"  fill="rgb(246 246 246)"> </text><text x="462" y="1215"  fill="rgb(245 245 245)">roomsfields: strin</text><text x="516" y="1215"  fill="rgb(246 246 246)">g</text><text x="519" y="1215"  fill="rgb(251 251 251)">[</text><text x="522" y="1215"  fill="rgb(164 164 164)">]</text><text x="525" y="1215"  fill="rgb(46 46 46)"> </text><text x="528" y="1215"  fill="rgb(48 48 48)">=</text><text x="531" y="1215"  fill="rgb(49 49 49)"> [&quot;fu</text><text x="546" y="1215"  fill="rgb(34 34 34)">l</text><text x="549" y="1215"  fill="rgb(162 162 162)">l</text><text x="552" y="1215"  fill="rgb(255 255 255)">n</text><text x="555" y="1215"  fill="rgb(247 247 247)">a</text><text x="558" y="1215"  fill="rgb(245 245 245)">me&quot;, &quot;shortn</text><text x="594" y="1215"  fill="rgb(247 247 247)">a</text><text x="597" y="1215"  fill="rgb(255 255 255)">m</text><text x="600" y="1215"  fill="rgb(212 212 212)">e</text><text x="603" y="1215"  fill="rgb(67 67 67)">&quot;</text><text x="606" y="1215"  fill="rgb(22 22 22)">,</text><text x="609" y="1215"  fill="rgb(48 48 48)"> </text><text x="612" y="1215"  fill="rgb(50 50 50)">&quot;</text><text x="615" y="1215"  fill="rgb(49 49 49)">num</text><text x="624" y="1215"  fill="rgb(50 50 50)">b</text><text x="627" y="1215"  fill="rgb(49 49 49)">e</text><text x="630" y="1215"  fill="rgb(21 21 21)">r</text><text x="633" y="1215"  fill="rgb(45 45 45)">&quot;</text><text x="636" y="1215"  fill="rgb(187 187 187)"> </text><text x="639" y="1215"  fill="rgb(255 255 255)">,</text><text x="642" y="1215"  fill="rgb(250 250 250)"> </text><text x="645" y="1215"  fill="rgb(245 245 245)">&quot;name&quot;,</text><text x="666" y="1215"  fill="rgb(248 248 248)"> </text><text x="669" y="1215"  fill="rgb(255 255 255)">&quot;</text><text x="672" y="1215"  fill="rgb(174 174 174)">a</text><text x="675" y="1215"  fill="rgb(44 44 44)">d</text><text x="678" y="1215"  fill="rgb(26 26 26)">d</text><text x="681" y="1215"  fill="rgb(52 52 52)">r</text><text x="684" y="1215"  fill="rgb(50 50 50)">e</text><text x="687" y="1215"  fill="rgb(49 49 49)">ss&quot;,</text><text x="699" y="1215"  fill="rgb(30 30 30)"> </text><text x="702" y="1215"  fill="rgb(48 48 48)">&quot;</text><text x="705" y="1215"  fill="rgb(179 179 179)">t</text><text x="708" y="1215"  fill="rgb(255 255 255)">y</text><text x="711" y="1215"  fill="rgb(252 252 252)">p</text><text x="714" y="1215"  fill="rgb(244 244 244)">e</text><text x="717" y="1215"  fill="rgb(245 245 245)">&quot;, &quot;furnitur</text><text x="753" y="1215"  fill="rgb(255 255 255)">e</text><text x="756" y="1215"  fill="rgb(200 200 200)">&quot;</text><text x="759" y="1215"  fill="rgb(61 61 61)">,</text><text x="762" y="1215"  fill="rgb(39 39 39)"> </text><text x="765" y="1215"  fill="rgb(49 49 49)">&quot;href</text><text x="780" y="1215"  fill="rgb(28 28 28)">&quot;</text><text x="783" y="1215"  fill="rgb(112 112 112)">]</text><text x="786" y="1215"  fill="rgb(251 251 251)">; </text><text x="792" y="1215"  fill="rgb(245 245 245)">private readon</text><text x="834" y="1215"  fill="rgb(253 253 253)">l</text><text x="837" y="1215"  fill="rgb(234 234 234)">y</text><text x="840" y="1215"  fill="rgb(89 89 89)"> </text><text x="843" y="1215"  fill="rgb(42 42 42)">m</text><text x="846" y="1215"  fill="rgb(49 49 49)">token:</text><text x="864" y="1215"  fill="rgb(41 41 41)"> </text><text x="867" y="1215"  fill="rgb(49 49 49)">s</text><text x="870" y="1215"  fill="rgb(47 47 47)">t</text><text x="873" y="1215"  fill="rgb(27 27 27)">r</text><text x="876" y="1215"  fill="rgb(33 33 33)">i</text><text x="879" y="1215"  fill="rgb(95 95 95)">n</text><text x="882" y="1215"  fill="rgb(171 171 171)">g</text><text x="885" y="1215"  fill="rgb(217 217 217)">[</text><text x="888" y="1215"  fill="rgb(238 238 238)">]</text><text x="891" y="1215"  fill="rgb(251 251 251)"> </text><text x="894" y="1215"  fill="rgb(255 255 255)">= </text><text x="900" y="1215"  fill="rgb(253 253 253)">[</text><text x="903" y="1215"  fill="rgb(243 243 243)">&quot;</text><text x="906" y="1215"  fill="rgb(226 226 226)">M</text><text x="909" y="1215"  fill="rgb(203 203 203)">A</text><text x="912" y="1215"  fill="rgb(188 188 188)">X</text><text x="915" y="1215"  fill="rgb(233 233 233)">&quot;</text><text x="918" y="1215"  fill="rgb(255 255 255)">,</text><text x="921" y="1215"  fill="rgb(244 244 244)"> </text><text x="924" y="1215"  fill="rgb(245 245 245)">&quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idI</text><text x="0" y="1220"  fill="rgb(245 245 245)">nQuery: string[]; // make sure the query only has one id private keysInQuery: string</text><text x="252" y="1220"  fill="rgb(246 246 246)">[</text><text x="255" y="1220"  fill="rgb(255 255 255)">]</text><text x="258" y="1220"  fill="rgb(194 194 194)">;</text><text x="261" y="1220"  fill="rgb(36 36 36)"> </text><text x="264" y="1220"  fill="rgb(26 26 26)">/</text><text x="267" y="1220"  fill="rgb(51 51 51)">/</text><text x="270" y="1220"  fill="rgb(50 50 50)"> </text><text x="273" y="1220"  fill="rgb(49 49 49)">all</text><text x="282" y="1220"  fill="rgb(48 48 48)"> </text><text x="285" y="1220"  fill="rgb(28 28 28)">k</text><text x="288" y="1220"  fill="rgb(60 60 60)">e</text><text x="291" y="1220"  fill="rgb(183 183 183)">y</text><text x="294" y="1220"  fill="rgb(251 251 251)">s</text><text x="297" y="1220"  fill="rgb(255 255 255)"> a</text><text x="303" y="1220"  fill="rgb(250 250 250)">p</text><text x="306" y="1220"  fill="rgb(245 245 245)">peared in </text><text x="336" y="1220"  fill="rgb(246 246 246)">c</text><text x="339" y="1220"  fill="rgb(253 253 253)">o</text><text x="342" y="1220"  fill="rgb(255 255 255)">lu</text><text x="348" y="1220"  fill="rgb(211 211 211)">m</text><text x="351" y="1220"  fill="rgb(77 77 77)">n</text><text x="354" y="1220"  fill="rgb(28 28 28)">s</text><text x="357" y="1220"  fill="rgb(48 48 48)"> </text><text x="360" y="1220"  fill="rgb(49 49 49)">aft</text><text x="369" y="1220"  fill="rgb(50 50 50)">e</text><text x="372" y="1220"  fill="rgb(49 49 49)">r</text><text x="375" y="1220"  fill="rgb(20 20 20)"> </text><text x="378" y="1220"  fill="rgb(76 76 76)">b</text><text x="381" y="1220"  fill="rgb(233 233 233)">e</text><text x="384" y="1220"  fill="rgb(255 255 255)">i</text><text x="387" y="1220"  fill="rgb(245 245 245)">ng validated</text><text x="423" y="1220"  fill="rgb(255 255 255)"> </text><text x="426" y="1220"  fill="rgb(166 166 166)">p</text><text x="429" y="1220"  fill="rgb(41 41 41)">r</text><text x="432" y="1220"  fill="rgb(44 44 44)">i</text><text x="435" y="1220"  fill="rgb(49 49 49)">vate</text><text x="447" y="1220"  fill="rgb(45 45 45)"> </text><text x="450" y="1220"  fill="rgb(38 38 38)">t</text><text x="453" y="1220"  fill="rgb(152 152 152)">r</text><text x="456" y="1220"  fill="rgb(255 255 255)">a</text><text x="459" y="1220"  fill="rgb(246 246 246)">n</text><text x="462" y="1220"  fill="rgb(245 245 245)">sformationKey: str</text><text x="516" y="1220"  fill="rgb(246 246 246)">i</text><text x="519" y="1220"  fill="rgb(251 251 251)">n</text><text x="522" y="1220"  fill="rgb(164 164 164)">g</text><text x="525" y="1220"  fill="rgb(46 46 46)">[</text><text x="528" y="1220"  fill="rgb(48 48 48)">]</text><text x="531" y="1220"  fill="rgb(49 49 49)">; // </text><text x="546" y="1220"  fill="rgb(34 34 34)">k</text><text x="549" y="1220"  fill="rgb(162 162 162)">e</text><text x="552" y="1220"  fill="rgb(255 255 255)">y</text><text x="555" y="1220"  fill="rgb(247 247 247)">s</text><text x="558" y="1220"  fill="rgb(245 245 245)"> appeared in</text><text x="594" y="1220"  fill="rgb(244 244 244)"> </text><text x="597" y="1220"  fill="rgb(248 248 248)">t</text><text x="600" y="1220"  fill="rgb(255 255 255)">r</text><text x="603" y="1220"  fill="rgb(222 222 222)">a</text><text x="606" y="1220"  fill="rgb(84 84 84)">n</text><text x="609" y="1220"  fill="rgb(22 22 22)">s</text><text x="612" y="1220"  fill="rgb(43 43 43)">f</text><text x="615" y="1220"  fill="rgb(50 50 50)">o</text><text x="618" y="1220"  fill="rgb(49 49 49)">rma</text><text x="627" y="1220"  fill="rgb(50 50 50)">ti</text><text x="633" y="1220"  fill="rgb(25 25 25)">o</text><text x="636" y="1220"  fill="rgb(40 40 40)">n</text><text x="639" y="1220"  fill="rgb(166 166 166)">,</text><text x="642" y="1220"  fill="rgb(254 254 254)"> i</text><text x="648" y="1220"  fill="rgb(244 244 244)">f</text><text x="651" y="1220"  fill="rgb(245 245 245)"> the</text><text x="663" y="1220"  fill="rgb(253 253 253)">r</text><text x="666" y="1220"  fill="rgb(255 255 255)">e</text><text x="669" y="1220"  fill="rgb(155 155 155)"> </text><text x="672" y="1220"  fill="rgb(36 36 36)">i</text><text x="675" y="1220"  fill="rgb(30 30 30)">s</text><text x="678" y="1220"  fill="rgb(51 51 51)"> </text><text x="681" y="1220"  fill="rgb(50 50 50)">a</text><text x="684" y="1220"  fill="rgb(49 49 49)"> t</text><text x="690" y="1220"  fill="rgb(51 51 51)">r</text><text x="693" y="1220"  fill="rgb(47 47 47)">a</text><text x="696" y="1220"  fill="rgb(27 27 27)">n</text><text x="699" y="1220"  fill="rgb(68 68 68)">s</text><text x="702" y="1220"  fill="rgb(198 198 198)">f</text><text x="705" y="1220"  fill="rgb(255 255 255)">o</text><text x="708" y="1220"  fill="rgb(249 249 249)">r</text><text x="711" y="1220"  fill="rgb(244 244 244)">m</text><text x="714" y="1220"  fill="rgb(245 245 245)">ation private</text><text x="753" y="1220"  fill="rgb(255 255 255)"> </text><text x="756" y="1220"  fill="rgb(200 200 200)">a</text><text x="759" y="1220"  fill="rgb(61 61 61)">l</text><text x="762" y="1220"  fill="rgb(39 39 39)">l</text><text x="765" y="1220"  fill="rgb(49 49 49)">Insig</text><text x="780" y="1220"  fill="rgb(28 28 28)">h</text><text x="783" y="1220"  fill="rgb(112 112 112)">t</text><text x="786" y="1220"  fill="rgb(251 251 251)">Da</text><text x="792" y="1220"  fill="rgb(245 245 245)">taset: Insight</text><text x="834" y="1220"  fill="rgb(251 251 251)">D</text><text x="837" y="1220"  fill="rgb(240 240 240)">a</text><text x="840" y="1220"  fill="rgb(114 114 114)">t</text><text x="843" y="1220"  fill="rgb(38 38 38)">a</text><text x="846" y="1220"  fill="rgb(49 49 49)">set[];</text><text x="864" y="1220"  fill="rgb(51 51 51)"> </text><text x="867" y="1220"  fill="rgb(37 37 37)">p</text><text x="870" y="1220"  fill="rgb(27 27 27)">r</text><text x="873" y="1220"  fill="rgb(87 87 87)">i</text><text x="876" y="1220"  fill="rgb(190 190 190)">v</text><text x="879" y="1220"  fill="rgb(246 246 246)">a</text><text x="882" y="1220"  fill="rgb(255 255 255)">te </text><text x="891" y="1220"  fill="rgb(251 251 251)">m</text><text x="894" y="1220"  fill="rgb(249 249 249)">fi</text><text x="900" y="1220"  fill="rgb(251 251 251)">e</text><text x="903" y="1220"  fill="rgb(253 253 253)">l</text><text x="906" y="1220"  fill="rgb(255 255 255)">ds: </text><text x="918" y="1220"  fill="rgb(245 245 245)">string[]; private sfields: string[]; constructor(insightDatasets: InsightDataset[])</text><text x="0" y="1225"  fill="rgb(245 245 245)"> { this.idInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.all</text><text x="252" y="1225"  fill="rgb(255 255 255)">I</text><text x="255" y="1225"  fill="rgb(230 230 230)">n</text><text x="258" y="1225"  fill="rgb(70 70 70)">s</text><text x="261" y="1225"  fill="rgb(29 29 29)">i</text><text x="264" y="1225"  fill="rgb(51 51 51)">g</text><text x="267" y="1225"  fill="rgb(50 50 50)">h</text><text x="270" y="1225"  fill="rgb(49 49 49)">tDat</text><text x="282" y="1225"  fill="rgb(30 30 30)">a</text><text x="285" y="1225"  fill="rgb(70 70 70)">s</text><text x="288" y="1225"  fill="rgb(211 211 211)">e</text><text x="291" y="1225"  fill="rgb(255 255 255)">t</text><text x="294" y="1225"  fill="rgb(253 253 253)"> </text><text x="297" y="1225"  fill="rgb(246 246 246)">=</text><text x="300" y="1225"  fill="rgb(245 245 245)"> insightDataset</text><text x="345" y="1225"  fill="rgb(250 250 250)">s</text><text x="348" y="1225"  fill="rgb(255 255 255)">;</text><text x="351" y="1225"  fill="rgb(222 222 222)"> </text><text x="354" y="1225"  fill="rgb(71 71 71)">}</text><text x="357" y="1225"  fill="rgb(32 32 32)"> </text><text x="360" y="1225"  fill="rgb(49 49 49)">publ</text><text x="372" y="1225"  fill="rgb(50 50 50)">i</text><text x="375" y="1225"  fill="rgb(47 47 47)">c</text><text x="378" y="1225"  fill="rgb(20 20 20)"> </text><text x="381" y="1225"  fill="rgb(143 143 143)">v</text><text x="384" y="1225"  fill="rgb(255 255 255)">a</text><text x="387" y="1225"  fill="rgb(248 248 248)">l</text><text x="390" y="1225"  fill="rgb(245 245 245)">idate(q: an</text><text x="423" y="1225"  fill="rgb(255 255 255)">y</text><text x="426" y="1225"  fill="rgb(166 166 166)">)</text><text x="429" y="1225"  fill="rgb(41 41 41)">:</text><text x="432" y="1225"  fill="rgb(44 44 44)"> </text><text x="435" y="1225"  fill="rgb(49 49 49)">void</text><text x="447" y="1225"  fill="rgb(45 45 45)"> </text><text x="450" y="1225"  fill="rgb(38 38 38)">{</text><text x="453" y="1225"  fill="rgb(152 152 152)"> </text><text x="456" y="1225"  fill="rgb(255 255 255)">i</text><text x="459" y="1225"  fill="rgb(246 246 246)">f</text><text x="462" y="1225"  fill="rgb(245 245 245)"> (!q || !q.WHERE |</text><text x="516" y="1225"  fill="rgb(246 246 246)">|</text><text x="519" y="1225"  fill="rgb(251 251 251)"> </text><text x="522" y="1225"  fill="rgb(164 164 164)">!</text><text x="525" y="1225"  fill="rgb(46 46 46)">q</text><text x="528" y="1225"  fill="rgb(48 48 48)">.</text><text x="531" y="1225"  fill="rgb(49 49 49)">OPTIO</text><text x="546" y="1225"  fill="rgb(34 34 34)">N</text><text x="549" y="1225"  fill="rgb(162 162 162)">S</text><text x="552" y="1225"  fill="rgb(255 255 255)">)</text><text x="555" y="1225"  fill="rgb(247 247 247)"> </text><text x="558" y="1225"  fill="rgb(245 245 245)">{ throw new I</text><text x="597" y="1225"  fill="rgb(244 244 244)">n</text><text x="600" y="1225"  fill="rgb(247 247 247)">s</text><text x="603" y="1225"  fill="rgb(255 255 255)">i</text><text x="606" y="1225"  fill="rgb(230 230 230)">g</text><text x="609" y="1225"  fill="rgb(102 102 102)">h</text><text x="612" y="1225"  fill="rgb(22 22 22)">t</text><text x="615" y="1225"  fill="rgb(40 40 40)">E</text><text x="618" y="1225"  fill="rgb(51 51 51)">r</text><text x="621" y="1225"  fill="rgb(49 49 49)">ror</text><text x="630" y="1225"  fill="rgb(50 50 50)">()</text><text x="636" y="1225"  fill="rgb(36 36 36)">;</text><text x="639" y="1225"  fill="rgb(37 37 37)"> </text><text x="642" y="1225"  fill="rgb(142 142 142)">}</text><text x="645" y="1225"  fill="rgb(252 252 252)"> </text><text x="648" y="1225"  fill="rgb(255 255 255)">f</text><text x="651" y="1225"  fill="rgb(244 244 244)">o</text><text x="654" y="1225"  fill="rgb(245 245 245)">r </text><text x="660" y="1225"  fill="rgb(255 255 255)">(</text><text x="663" y="1225"  fill="rgb(252 252 252)">l</text><text x="666" y="1225"  fill="rgb(135 135 135)">e</text><text x="669" y="1225"  fill="rgb(29 29 29)">t</text><text x="672" y="1225"  fill="rgb(35 35 35)"> </text><text x="675" y="1225"  fill="rgb(50 50 50)">k</text><text x="678" y="1225"  fill="rgb(49 49 49)">ey </text><text x="687" y="1225"  fill="rgb(51 51 51)">o</text><text x="690" y="1225"  fill="rgb(44 44 44)">f</text><text x="693" y="1225"  fill="rgb(18 18 18)"> </text><text x="696" y="1225"  fill="rgb(78 78 78)">O</text><text x="699" y="1225"  fill="rgb(215 215 215)">b</text><text x="702" y="1225"  fill="rgb(255 255 255)">j</text><text x="705" y="1225"  fill="rgb(249 249 249)">e</text><text x="708" y="1225"  fill="rgb(245 245 245)">ct.keys(q)) { i</text><text x="753" y="1225"  fill="rgb(255 255 255)">f</text><text x="756" y="1225"  fill="rgb(200 200 200)"> </text><text x="759" y="1225"  fill="rgb(61 61 61)">(</text><text x="762" y="1225"  fill="rgb(39 39 39)">k</text><text x="765" y="1225"  fill="rgb(49 49 49)">ey !=</text><text x="780" y="1225"  fill="rgb(28 28 28)">=</text><text x="783" y="1225"  fill="rgb(112 112 112)"> </text><text x="786" y="1225"  fill="rgb(251 251 251)">&quot;O</text><text x="792" y="1225"  fill="rgb(245 245 245)">PTIONS&quot; &amp;&amp; key</text><text x="834" y="1225"  fill="rgb(250 250 250)"> </text><text x="837" y="1225"  fill="rgb(244 244 244)">!</text><text x="840" y="1225"  fill="rgb(125 125 125)">=</text><text x="843" y="1225"  fill="rgb(37 37 37)">=</text><text x="846" y="1225"  fill="rgb(49 49 49)"> &quot;WHER</text><text x="864" y="1225"  fill="rgb(44 44 44)">E</text><text x="867" y="1225"  fill="rgb(48 48 48)">&quot;</text><text x="870" y="1225"  fill="rgb(147 147 147)"> </text><text x="873" y="1225"  fill="rgb(238 238 238)">&amp;</text><text x="876" y="1225"  fill="rgb(255 255 255)">&amp;</text><text x="879" y="1225"  fill="rgb(254 254 254)"> </text><text x="882" y="1225"  fill="rgb(247 247 247)">k</text><text x="885" y="1225"  fill="rgb(245 245 245)">ey !== &quot;T</text><text x="912" y="1225"  fill="rgb(246 246 246)">R</text><text x="915" y="1225"  fill="rgb(245 245 245)">ANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.T</text><text x="0" y="1230"  fill="rgb(245 245 245)">RANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateO</text><text x="249" y="1230"  fill="rgb(248 248 248)">p</text><text x="252" y="1230"  fill="rgb(255 255 255)">t</text><text x="255" y="1230"  fill="rgb(140 140 140)">i</text><text x="258" y="1230"  fill="rgb(27 27 27)">o</text><text x="261" y="1230"  fill="rgb(51 51 51)">n</text><text x="264" y="1230"  fill="rgb(49 49 49)">s(q.O</text><text x="279" y="1230"  fill="rgb(42 42 42)">P</text><text x="282" y="1230"  fill="rgb(53 53 53)">T</text><text x="285" y="1230"  fill="rgb(202 202 202)">I</text><text x="288" y="1230"  fill="rgb(255 255 255)">O</text><text x="291" y="1230"  fill="rgb(246 246 246)">N</text><text x="294" y="1230"  fill="rgb(245 245 245)">S); } public valida</text><text x="351" y="1230"  fill="rgb(255 255 255)">t</text><text x="354" y="1230"  fill="rgb(191 191 191)">e</text><text x="357" y="1230"  fill="rgb(47 47 47)">T</text><text x="360" y="1230"  fill="rgb(42 42 42)">r</text><text x="363" y="1230"  fill="rgb(49 49 49)">ansf</text><text x="375" y="1230"  fill="rgb(50 50 50)">o</text><text x="378" y="1230"  fill="rgb(37 37 37)">r</text><text x="381" y="1230"  fill="rgb(57 57 57)">m</text><text x="384" y="1230"  fill="rgb(219 219 219)">a</text><text x="387" y="1230"  fill="rgb(255 255 255)">t</text><text x="390" y="1230"  fill="rgb(245 245 245)">ions(q: any</text><text x="423" y="1230"  fill="rgb(255 255 255)">)</text><text x="426" y="1230"  fill="rgb(166 166 166)">:</text><text x="429" y="1230"  fill="rgb(41 41 41)"> </text><text x="432" y="1230"  fill="rgb(44 44 44)">v</text><text x="435" y="1230"  fill="rgb(49 49 49)">oid </text><text x="447" y="1230"  fill="rgb(45 45 45)">{</text><text x="450" y="1230"  fill="rgb(38 38 38)"> </text><text x="453" y="1230"  fill="rgb(152 152 152)">i</text><text x="456" y="1230"  fill="rgb(255 255 255)">f</text><text x="459" y="1230"  fill="rgb(246 246 246)"> </text><text x="462" y="1230"  fill="rgb(245 245 245)">(typeof q.GROUP ==</text><text x="516" y="1230"  fill="rgb(246 246 246)">=</text><text x="519" y="1230"  fill="rgb(251 251 251)"> </text><text x="522" y="1230"  fill="rgb(164 164 164)">&quot;</text><text x="525" y="1230"  fill="rgb(46 46 46)">u</text><text x="528" y="1230"  fill="rgb(48 48 48)">n</text><text x="531" y="1230"  fill="rgb(49 49 49)">defin</text><text x="546" y="1230"  fill="rgb(34 34 34)">e</text><text x="549" y="1230"  fill="rgb(162 162 162)">d</text><text x="552" y="1230"  fill="rgb(255 255 255)">&quot;</text><text x="555" y="1230"  fill="rgb(247 247 247)"> </text><text x="558" y="1230"  fill="rgb(245 245 245)">|| typeof q.APPL</text><text x="606" y="1230"  fill="rgb(253 253 253)">Y</text><text x="609" y="1230"  fill="rgb(240 240 240)"> </text><text x="612" y="1230"  fill="rgb(118 118 118)">=</text><text x="615" y="1230"  fill="rgb(22 22 22)">=</text><text x="618" y="1230"  fill="rgb(41 41 41)">=</text><text x="621" y="1230"  fill="rgb(53 53 53)"> </text><text x="624" y="1230"  fill="rgb(49 49 49)">&quot;und</text><text x="636" y="1230"  fill="rgb(50 50 50)">e</text><text x="639" y="1230"  fill="rgb(40 40 40)">f</text><text x="642" y="1230"  fill="rgb(27 27 27)">i</text><text x="645" y="1230"  fill="rgb(122 122 122)">n</text><text x="648" y="1230"  fill="rgb(252 252 252)">e</text><text x="651" y="1230"  fill="rgb(255 255 255)">d</text><text x="654" y="1230"  fill="rgb(245 245 245)">&quot;</text><text x="657" y="1230"  fill="rgb(255 255 255)"> </text><text x="660" y="1230"  fill="rgb(244 244 244)">|</text><text x="663" y="1230"  fill="rgb(114 114 114)">|</text><text x="666" y="1230"  fill="rgb(20 20 20)"> </text><text x="669" y="1230"  fill="rgb(39 39 39)">O</text><text x="672" y="1230"  fill="rgb(50 50 50)">b</text><text x="675" y="1230"  fill="rgb(49 49 49)">jec</text><text x="684" y="1230"  fill="rgb(51 51 51)">t</text><text x="687" y="1230"  fill="rgb(42 42 42)">.</text><text x="690" y="1230"  fill="rgb(15 15 15)">k</text><text x="693" y="1230"  fill="rgb(90 90 90)">e</text><text x="696" y="1230"  fill="rgb(234 234 234)">y</text><text x="699" y="1230"  fill="rgb(255 255 255)">s</text><text x="702" y="1230"  fill="rgb(246 246 246)">(</text><text x="705" y="1230"  fill="rgb(245 245 245)">q).length !== 2)</text><text x="753" y="1230"  fill="rgb(255 255 255)"> </text><text x="756" y="1230"  fill="rgb(200 200 200)">{</text><text x="759" y="1230"  fill="rgb(61 61 61)"> </text><text x="762" y="1230"  fill="rgb(39 39 39)">t</text><text x="765" y="1230"  fill="rgb(49 49 49)">hrow </text><text x="780" y="1230"  fill="rgb(28 28 28)">n</text><text x="783" y="1230"  fill="rgb(112 112 112)">e</text><text x="786" y="1230"  fill="rgb(251 251 251)">w </text><text x="792" y="1230"  fill="rgb(245 245 245)">InsightError()</text><text x="834" y="1230"  fill="rgb(249 249 249)">;</text><text x="837" y="1230"  fill="rgb(248 248 248)"> </text><text x="840" y="1230"  fill="rgb(138 138 138)">}</text><text x="843" y="1230"  fill="rgb(35 35 35)"> </text><text x="846" y="1230"  fill="rgb(49 49 49)">this.</text><text x="861" y="1230"  fill="rgb(47 47 47)">va</text><text x="867" y="1230"  fill="rgb(169 169 169)">l</text><text x="870" y="1230"  fill="rgb(255 255 255)">i</text><text x="873" y="1230"  fill="rgb(249 249 249)">d</text><text x="876" y="1230"  fill="rgb(246 246 246)">a</text><text x="879" y="1230"  fill="rgb(245 245 245)">teGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Arra</text><text x="0" y="1235"  fill="rgb(245 245 245)">y.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should be an object,</text><text x="249" y="1235"  fill="rgb(251 251 251)"> </text><text x="252" y="1235"  fill="rgb(217 217 217)">a</text><text x="255" y="1235"  fill="rgb(55 55 55)">n</text><text x="258" y="1235"  fill="rgb(45 45 45)">d</text><text x="261" y="1235"  fill="rgb(49 49 49)"> shoul</text><text x="279" y="1235"  fill="rgb(36 36 36)">d</text><text x="282" y="1235"  fill="rgb(161 161 161)"> </text><text x="285" y="1235"  fill="rgb(255 255 255)">h</text><text x="288" y="1235"  fill="rgb(245 245 245)">as at least one elemen</text><text x="354" y="1235"  fill="rgb(255 255 255)">t</text><text x="357" y="1235"  fill="rgb(111 111 111)"> </text><text x="360" y="1235"  fill="rgb(41 41 41)">}</text><text x="363" y="1235"  fill="rgb(49 49 49)"> for </text><text x="378" y="1235"  fill="rgb(51 51 51)">(</text><text x="381" y="1235"  fill="rgb(26 26 26)">l</text><text x="384" y="1235"  fill="rgb(154 154 154)">e</text><text x="387" y="1235"  fill="rgb(253 253 253)">t</text><text x="390" y="1235"  fill="rgb(248 248 248)"> </text><text x="393" y="1235"  fill="rgb(245 245 245)">key of q) </text><text x="423" y="1235"  fill="rgb(255 255 255)">{</text><text x="426" y="1235"  fill="rgb(166 166 166)"> </text><text x="429" y="1235"  fill="rgb(41 41 41)">t</text><text x="432" y="1235"  fill="rgb(44 44 44)">h</text><text x="435" y="1235"  fill="rgb(49 49 49)">is.v</text><text x="447" y="1235"  fill="rgb(45 45 45)">a</text><text x="450" y="1235"  fill="rgb(38 38 38)">l</text><text x="453" y="1235"  fill="rgb(152 152 152)">i</text><text x="456" y="1235"  fill="rgb(255 255 255)">d</text><text x="459" y="1235"  fill="rgb(246 246 246)">a</text><text x="462" y="1235"  fill="rgb(245 245 245)">teKey(key); this.t</text><text x="516" y="1235"  fill="rgb(246 246 246)">r</text><text x="519" y="1235"  fill="rgb(251 251 251)">a</text><text x="522" y="1235"  fill="rgb(164 164 164)">n</text><text x="525" y="1235"  fill="rgb(46 46 46)">s</text><text x="528" y="1235"  fill="rgb(48 48 48)">f</text><text x="531" y="1235"  fill="rgb(49 49 49)">ormat</text><text x="546" y="1235"  fill="rgb(34 34 34)">i</text><text x="549" y="1235"  fill="rgb(162 162 162)">o</text><text x="552" y="1235"  fill="rgb(255 255 255)">n</text><text x="555" y="1235"  fill="rgb(247 247 247)">K</text><text x="558" y="1235"  fill="rgb(245 245 245)">ey.push(key); //</text><text x="606" y="1235"  fill="rgb(244 244 244)"> </text><text x="609" y="1235"  fill="rgb(253 253 253)">i</text><text x="612" y="1235"  fill="rgb(254 254 254)">f</text><text x="615" y="1235"  fill="rgb(144 144 144)"> </text><text x="618" y="1235"  fill="rgb(27 27 27)">t</text><text x="621" y="1235"  fill="rgb(38 38 38)">h</text><text x="624" y="1235"  fill="rgb(52 52 52)">e</text><text x="627" y="1235"  fill="rgb(49 49 49)"> key</text><text x="639" y="1235"  fill="rgb(51 51 51)"> </text><text x="642" y="1235"  fill="rgb(43 43 43)">i</text><text x="645" y="1235"  fill="rgb(18 18 18)">s</text><text x="648" y="1235"  fill="rgb(102 102 102)"> </text><text x="651" y="1235"  fill="rgb(240 240 240)">v</text><text x="654" y="1235"  fill="rgb(255 255 255)">a</text><text x="657" y="1235"  fill="rgb(226 226 226)">l</text><text x="660" y="1235"  fill="rgb(93 93 93)">i</text><text x="663" y="1235"  fill="rgb(21 21 21)">d</text><text x="666" y="1235"  fill="rgb(47 47 47)">,</text><text x="669" y="1235"  fill="rgb(52 52 52)"> </text><text x="672" y="1235"  fill="rgb(49 49 49)">pus</text><text x="681" y="1235"  fill="rgb(51 51 51)">h</text><text x="684" y="1235"  fill="rgb(41 41 41)"> </text><text x="687" y="1235"  fill="rgb(24 24 24)">i</text><text x="690" y="1235"  fill="rgb(111 111 111)">t</text><text x="693" y="1235"  fill="rgb(247 247 247)"> </text><text x="696" y="1235"  fill="rgb(255 255 255)">t</text><text x="699" y="1235"  fill="rgb(244 244 244)">o</text><text x="702" y="1235"  fill="rgb(245 245 245)"> transformationKe</text><text x="753" y="1235"  fill="rgb(255 255 255)">y</text><text x="756" y="1235"  fill="rgb(200 200 200)"> </text><text x="759" y="1235"  fill="rgb(61 61 61)">}</text><text x="762" y="1235"  fill="rgb(39 39 39)"> </text><text x="765" y="1235"  fill="rgb(49 49 49)">} pri</text><text x="780" y="1235"  fill="rgb(28 28 28)">v</text><text x="783" y="1235"  fill="rgb(112 112 112)">a</text><text x="786" y="1235"  fill="rgb(251 251 251)">te</text><text x="792" y="1235"  fill="rgb(245 245 245)"> validateKey(k</text><text x="834" y="1235"  fill="rgb(249 249 249)">e</text><text x="837" y="1235"  fill="rgb(250 250 250)">y</text><text x="840" y="1235"  fill="rgb(140 140 140)">:</text><text x="843" y="1235"  fill="rgb(34 34 34)"> </text><text x="846" y="1235"  fill="rgb(49 49 49)">strin</text><text x="861" y="1235"  fill="rgb(46 46 46)">g</text><text x="864" y="1235"  fill="rgb(51 51 51)">)</text><text x="867" y="1235"  fill="rgb(201 201 201)">:</text><text x="870" y="1235"  fill="rgb(252 252 252)"> </text><text x="873" y="1235"  fill="rgb(245 245 245)">void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new Insig</text><text x="0" y="1240"  fill="rgb(245 245 245)">htError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(</text><text x="249" y="1240"  fill="rgb(253 253 253)">s</text><text x="252" y="1240"  fill="rgb(148 148 148)">p</text><text x="255" y="1240"  fill="rgb(38 38 38)">l</text><text x="258" y="1240"  fill="rgb(49 49 49)">ittedK</text><text x="276" y="1240"  fill="rgb(44 44 44)">e</text><text x="279" y="1240"  fill="rgb(78 78 78)">y</text><text x="282" y="1240"  fill="rgb(235 235 235)">[</text><text x="285" y="1240"  fill="rgb(255 255 255)">1</text><text x="288" y="1240"  fill="rgb(245 245 245)">]) || this.sfields.inc</text><text x="354" y="1240"  fill="rgb(253 253 253)">l</text><text x="357" y="1240"  fill="rgb(178 178 178)">u</text><text x="360" y="1240"  fill="rgb(45 45 45)">d</text><text x="363" y="1240"  fill="rgb(47 47 47)">e</text><text x="366" y="1240"  fill="rgb(49 49 49)">s(sp</text><text x="378" y="1240"  fill="rgb(50 50 50)">l</text><text x="381" y="1240"  fill="rgb(39 39 39)">i</text><text x="384" y="1240"  fill="rgb(96 96 96)">t</text><text x="387" y="1240"  fill="rgb(238 238 238)">t</text><text x="390" y="1240"  fill="rgb(253 253 253)">e</text><text x="393" y="1240"  fill="rgb(245 245 245)">dKey[1])))</text><text x="423" y="1240"  fill="rgb(255 255 255)">)</text><text x="426" y="1240"  fill="rgb(166 166 166)"> </text><text x="429" y="1240"  fill="rgb(41 41 41)">{</text><text x="432" y="1240"  fill="rgb(44 44 44)"> </text><text x="435" y="1240"  fill="rgb(49 49 49)">thro</text><text x="447" y="1240"  fill="rgb(45 45 45)">w</text><text x="450" y="1240"  fill="rgb(38 38 38)"> </text><text x="453" y="1240"  fill="rgb(152 152 152)">n</text><text x="456" y="1240"  fill="rgb(255 255 255)">e</text><text x="459" y="1240"  fill="rgb(246 246 246)">w</text><text x="462" y="1240"  fill="rgb(245 245 245)"> InsightError(); }</text><text x="516" y="1240"  fill="rgb(246 246 246)"> </text><text x="519" y="1240"  fill="rgb(251 251 251)">}</text><text x="522" y="1240"  fill="rgb(164 164 164)"> </text><text x="525" y="1240"  fill="rgb(46 46 46)">p</text><text x="528" y="1240"  fill="rgb(48 48 48)">r</text><text x="531" y="1240"  fill="rgb(49 49 49)">ivate</text><text x="546" y="1240"  fill="rgb(34 34 34)"> </text><text x="549" y="1240"  fill="rgb(162 162 162)">v</text><text x="552" y="1240"  fill="rgb(255 255 255)">a</text><text x="555" y="1240"  fill="rgb(247 247 247)">l</text><text x="558" y="1240"  fill="rgb(245 245 245)">idateAPPLY(q: any)</text><text x="612" y="1240"  fill="rgb(254 254 254)">:</text><text x="615" y="1240"  fill="rgb(255 255 255)"> </text><text x="618" y="1240"  fill="rgb(162 162 162)">v</text><text x="621" y="1240"  fill="rgb(30 30 30)">o</text><text x="624" y="1240"  fill="rgb(32 32 32)">i</text><text x="627" y="1240"  fill="rgb(50 50 50)">d</text><text x="630" y="1240"  fill="rgb(49 49 49)"> { i</text><text x="642" y="1240"  fill="rgb(51 51 51)">f</text><text x="645" y="1240"  fill="rgb(46 46 46)"> </text><text x="648" y="1240"  fill="rgb(14 14 14)">(</text><text x="651" y="1240"  fill="rgb(90 90 90)">!</text><text x="654" y="1240"  fill="rgb(178 178 178)">A</text><text x="657" y="1240"  fill="rgb(80 80 80)">r</text><text x="660" y="1240"  fill="rgb(22 22 22)">r</text><text x="663" y="1240"  fill="rgb(48 48 48)">a</text><text x="666" y="1240"  fill="rgb(51 51 51)">y</text><text x="669" y="1240"  fill="rgb(49 49 49)">.is</text><text x="678" y="1240"  fill="rgb(51 51 51)">A</text><text x="681" y="1240"  fill="rgb(39 39 39)">r</text><text x="684" y="1240"  fill="rgb(31 31 31)">r</text><text x="687" y="1240"  fill="rgb(137 137 137)">a</text><text x="690" y="1240"  fill="rgb(250 250 250)">y</text><text x="693" y="1240"  fill="rgb(255 255 255)">(</text><text x="696" y="1240"  fill="rgb(244 244 244)">q</text><text x="699" y="1240"  fill="rgb(245 245 245)">)) { throw new Ins</text><text x="753" y="1240"  fill="rgb(255 255 255)">i</text><text x="756" y="1240"  fill="rgb(200 200 200)">g</text><text x="759" y="1240"  fill="rgb(61 61 61)">h</text><text x="762" y="1240"  fill="rgb(39 39 39)">t</text><text x="765" y="1240"  fill="rgb(49 49 49)">Error</text><text x="780" y="1240"  fill="rgb(28 28 28)">(</text><text x="783" y="1240"  fill="rgb(112 112 112)">)</text><text x="786" y="1240"  fill="rgb(251 251 251)">; </text><text x="792" y="1240"  fill="rgb(245 245 245)">// q should be</text><text x="834" y="1240"  fill="rgb(249 249 249)"> a</text><text x="840" y="1240"  fill="rgb(138 138 138)">n</text><text x="843" y="1240"  fill="rgb(34 34 34)"> </text><text x="846" y="1240"  fill="rgb(49 49 49)">array</text><text x="861" y="1240"  fill="rgb(47 47 47)">,</text><text x="864" y="1240"  fill="rgb(50 50 50)"> </text><text x="867" y="1240"  fill="rgb(186 186 186)">a</text><text x="870" y="1240"  fill="rgb(252 252 252)">n</text><text x="873" y="1240"  fill="rgb(245 245 245)">d should have at least one element } for (let applyrule of q) { if (Array.isArray(applyrule) || Ob</text><text x="0" y="1245"  fill="rgb(245 245 245)">ject.keys(applyrule).length &gt; 1) { throw new InsightError(); } let applykey: strin</text><text x="246" y="1245"  fill="rgb(246 246 246)">g</text><text x="249" y="1245"  fill="rgb(247 247 247)"> </text><text x="252" y="1245"  fill="rgb(92 92 92)">=</text><text x="255" y="1245"  fill="rgb(39 39 39)"> </text><text x="258" y="1245"  fill="rgb(49 49 49)">Object</text><text x="276" y="1245"  fill="rgb(31 31 31)">.</text><text x="279" y="1245"  fill="rgb(143 143 143)">k</text><text x="282" y="1245"  fill="rgb(253 253 253)">e</text><text x="285" y="1245"  fill="rgb(249 249 249)">y</text><text x="288" y="1245"  fill="rgb(245 245 245)">s(applyrule)[0]; let c</text><text x="354" y="1245"  fill="rgb(252 252 252)">r</text><text x="357" y="1245"  fill="rgb(218 218 218)">i</text><text x="360" y="1245"  fill="rgb(59 59 59)">t</text><text x="363" y="1245"  fill="rgb(46 46 46)">e</text><text x="366" y="1245"  fill="rgb(49 49 49)">ria =</text><text x="381" y="1245"  fill="rgb(47 47 47)"> </text><text x="384" y="1245"  fill="rgb(57 57 57)">a</text><text x="387" y="1245"  fill="rgb(218 218 218)">p</text><text x="390" y="1245"  fill="rgb(255 255 255)">p</text><text x="393" y="1245"  fill="rgb(245 245 245)">lyrule[app</text><text x="423" y="1245"  fill="rgb(255 255 255)">l</text><text x="426" y="1245"  fill="rgb(166 166 166)">y</text><text x="429" y="1245"  fill="rgb(41 41 41)">k</text><text x="432" y="1245"  fill="rgb(44 44 44)">e</text><text x="435" y="1245"  fill="rgb(49 49 49)">y]; </text><text x="447" y="1245"  fill="rgb(45 45 45)">i</text><text x="450" y="1245"  fill="rgb(38 38 38)">f</text><text x="453" y="1245"  fill="rgb(152 152 152)"> </text><text x="456" y="1245"  fill="rgb(255 255 255)">(</text><text x="459" y="1245"  fill="rgb(246 246 246)">a</text><text x="462" y="1245"  fill="rgb(245 245 245)">pplykey.length ===</text><text x="516" y="1245"  fill="rgb(246 246 246)"> </text><text x="519" y="1245"  fill="rgb(251 251 251)">0</text><text x="522" y="1245"  fill="rgb(164 164 164)"> </text><text x="525" y="1245"  fill="rgb(46 46 46)">|</text><text x="528" y="1245"  fill="rgb(48 48 48)">|</text><text x="531" y="1245"  fill="rgb(49 49 49)"> appl</text><text x="546" y="1245"  fill="rgb(34 34 34)">y</text><text x="549" y="1245"  fill="rgb(162 162 162)">k</text><text x="552" y="1245"  fill="rgb(255 255 255)">e</text><text x="555" y="1245"  fill="rgb(247 247 247)">y</text><text x="558" y="1245"  fill="rgb(245 245 245)">.includes(&quot;_&quot;) || </text><text x="612" y="1245"  fill="rgb(244 244 244)">t</text><text x="615" y="1245"  fill="rgb(252 252 252)">h</text><text x="618" y="1245"  fill="rgb(255 255 255)">i</text><text x="621" y="1245"  fill="rgb(174 174 174)">s</text><text x="624" y="1245"  fill="rgb(45 45 45)">.</text><text x="627" y="1245"  fill="rgb(29 29 29)">t</text><text x="630" y="1245"  fill="rgb(48 48 48)">r</text><text x="633" y="1245"  fill="rgb(50 50 50)">a</text><text x="636" y="1245"  fill="rgb(49 49 49)">nsf</text><text x="645" y="1245"  fill="rgb(51 51 51)">o</text><text x="648" y="1245"  fill="rgb(47 47 47)">r</text><text x="651" y="1245"  fill="rgb(29 29 29)">m</text><text x="654" y="1245"  fill="rgb(35 35 35)">a</text><text x="657" y="1245"  fill="rgb(31 31 31)">t</text><text x="660" y="1245"  fill="rgb(47 47 47)">i</text><text x="663" y="1245"  fill="rgb(50 50 50)">o</text><text x="666" y="1245"  fill="rgb(49 49 49)">nK</text><text x="672" y="1245"  fill="rgb(50 50 50)">ey</text><text x="678" y="1245"  fill="rgb(32 32 32)">.</text><text x="681" y="1245"  fill="rgb(41 41 41)">i</text><text x="684" y="1245"  fill="rgb(160 160 160)">n</text><text x="687" y="1245"  fill="rgb(255 255 255)">cl</text><text x="693" y="1245"  fill="rgb(244 244 244)">u</text><text x="696" y="1245"  fill="rgb(245 245 245)">des(applykey)) { th</text><text x="753" y="1245"  fill="rgb(255 255 255)">r</text><text x="756" y="1245"  fill="rgb(200 200 200)">o</text><text x="759" y="1245"  fill="rgb(61 61 61)">w</text><text x="762" y="1245"  fill="rgb(39 39 39)"> </text><text x="765" y="1245"  fill="rgb(49 49 49)">new I</text><text x="780" y="1245"  fill="rgb(28 28 28)">n</text><text x="783" y="1245"  fill="rgb(112 112 112)">s</text><text x="786" y="1245"  fill="rgb(251 251 251)">ig</text><text x="792" y="1245"  fill="rgb(245 245 245)">htError(); } t</text><text x="834" y="1245"  fill="rgb(249 249 249)">hi</text><text x="840" y="1245"  fill="rgb(138 138 138)">s</text><text x="843" y="1245"  fill="rgb(34 34 34)">.</text><text x="846" y="1245"  fill="rgb(49 49 49)">trans</text><text x="861" y="1245"  fill="rgb(47 47 47)">f</text><text x="864" y="1245"  fill="rgb(50 50 50)">o</text><text x="867" y="1245"  fill="rgb(188 188 188)">r</text><text x="870" y="1245"  fill="rgb(252 252 252)">m</text><text x="873" y="1245"  fill="rgb(245 245 245)">ationKey.push(applykey); if (Array.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw </text><text x="0" y="1250"  fill="rgb(245 245 245)">new InsightError(); } let applytoken: string = Object.keys(criteria)[0]; if (!this</text><text x="246" y="1250"  fill="rgb(250 250 250)">.</text><text x="249" y="1250"  fill="rgb(222 222 222)">m</text><text x="252" y="1250"  fill="rgb(64 64 64)">t</text><text x="255" y="1250"  fill="rgb(39 39 39)">o</text><text x="258" y="1250"  fill="rgb(49 49 49)">ken.i</text><text x="273" y="1250"  fill="rgb(46 46 46)">n</text><text x="276" y="1250"  fill="rgb(38 38 38)">c</text><text x="279" y="1250"  fill="rgb(208 208 208)">l</text><text x="282" y="1250"  fill="rgb(255 255 255)">udes(applytoken) &amp;&amp; !this</text><text x="357" y="1250"  fill="rgb(253 253 253)">.</text><text x="360" y="1250"  fill="rgb(86 86 86)">m</text><text x="363" y="1250"  fill="rgb(43 43 43)">s</text><text x="366" y="1250"  fill="rgb(49 49 49)">token</text><text x="381" y="1250"  fill="rgb(48 48 48)">.</text><text x="384" y="1250"  fill="rgb(43 43 43)">i</text><text x="387" y="1250"  fill="rgb(189 189 189)">n</text><text x="390" y="1250"  fill="rgb(253 253 253)">c</text><text x="393" y="1250"  fill="rgb(245 245 245)">ludes(appl</text><text x="423" y="1250"  fill="rgb(255 255 255)">y</text><text x="426" y="1250"  fill="rgb(166 166 166)">t</text><text x="429" y="1250"  fill="rgb(41 41 41)">o</text><text x="432" y="1250"  fill="rgb(44 44 44)">k</text><text x="435" y="1250"  fill="rgb(49 49 49)">en))</text><text x="447" y="1250"  fill="rgb(45 45 45)"> </text><text x="450" y="1250"  fill="rgb(38 38 38)">{</text><text x="453" y="1250"  fill="rgb(152 152 152)"> </text><text x="456" y="1250"  fill="rgb(255 255 255)">t</text><text x="459" y="1250"  fill="rgb(246 246 246)">h</text><text x="462" y="1250"  fill="rgb(245 245 245)">row new InsightErr</text><text x="516" y="1250"  fill="rgb(246 246 246)">o</text><text x="519" y="1250"  fill="rgb(251 251 251)">r</text><text x="522" y="1250"  fill="rgb(164 164 164)">(</text><text x="525" y="1250"  fill="rgb(46 46 46)">)</text><text x="528" y="1250"  fill="rgb(48 48 48)">;</text><text x="531" y="1250"  fill="rgb(49 49 49)"> } le</text><text x="546" y="1250"  fill="rgb(34 34 34)">t</text><text x="549" y="1250"  fill="rgb(162 162 162)"> </text><text x="552" y="1250"  fill="rgb(255 255 255)">k</text><text x="555" y="1250"  fill="rgb(247 247 247)">e</text><text x="558" y="1250"  fill="rgb(245 245 245)">y: string[] = crite</text><text x="615" y="1250"  fill="rgb(244 244 244)">r</text><text x="618" y="1250"  fill="rgb(249 249 249)">i</text><text x="621" y="1250"  fill="rgb(255 255 255)">a</text><text x="624" y="1250"  fill="rgb(187 187 187)">[</text><text x="627" y="1250"  fill="rgb(58 58 58)">a</text><text x="630" y="1250"  fill="rgb(23 23 23)">p</text><text x="633" y="1250"  fill="rgb(49 49 49)">p</text><text x="636" y="1250"  fill="rgb(51 51 51)">l</text><text x="639" y="1250"  fill="rgb(49 49 49)">yto</text><text x="648" y="1250"  fill="rgb(50 50 50)">k</text><text x="651" y="1250"  fill="rgb(47 47 47)">e</text><text x="654" y="1250"  fill="rgb(40 40 40)">n</text><text x="657" y="1250"  fill="rgb(48 48 48)">]</text><text x="660" y="1250"  fill="rgb(50 50 50)">.</text><text x="663" y="1250"  fill="rgb(49 49 49)">sp</text><text x="669" y="1250"  fill="rgb(50 50 50)">l</text><text x="672" y="1250"  fill="rgb(48 48 48)">i</text><text x="675" y="1250"  fill="rgb(22 22 22)">t</text><text x="678" y="1250"  fill="rgb(47 47 47)">(</text><text x="681" y="1250"  fill="rgb(179 179 179)">&quot;</text><text x="684" y="1250"  fill="rgb(255 255 255)">_</text><text x="687" y="1250"  fill="rgb(253 253 253)">&quot;</text><text x="690" y="1250"  fill="rgb(245 245 245)">); if (key.length !==</text><text x="753" y="1250"  fill="rgb(255 255 255)"> </text><text x="756" y="1250"  fill="rgb(200 200 200)">2</text><text x="759" y="1250"  fill="rgb(61 61 61)">)</text><text x="762" y="1250"  fill="rgb(39 39 39)"> </text><text x="765" y="1250"  fill="rgb(49 49 49)">{ thr</text><text x="780" y="1250"  fill="rgb(28 28 28)">o</text><text x="783" y="1250"  fill="rgb(112 112 112)">w</text><text x="786" y="1250"  fill="rgb(251 251 251)"> n</text><text x="792" y="1250"  fill="rgb(245 245 245)">ew InsightErro</text><text x="834" y="1250"  fill="rgb(249 249 249)">r(</text><text x="840" y="1250"  fill="rgb(138 138 138)">)</text><text x="843" y="1250"  fill="rgb(34 34 34)">;</text><text x="846" y="1250"  fill="rgb(49 49 49)"> } if</text><text x="861" y="1250"  fill="rgb(47 47 47)"> </text><text x="864" y="1250"  fill="rgb(50 50 50)">(</text><text x="867" y="1250"  fill="rgb(188 188 188)">t</text><text x="870" y="1250"  fill="rgb(252 252 252)">h</text><text x="873" y="1250"  fill="rgb(245 245 245)">is.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key</text><text x="0" y="1255"  fill="rgb(245 245 245)">[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(applytoken))</text><text x="246" y="1255"  fill="rgb(255 255 255)"> </text><text x="249" y="1255"  fill="rgb(189 189 189)">{</text><text x="252" y="1255"  fill="rgb(56 56 56)"> </text><text x="255" y="1255"  fill="rgb(42 42 42)">i</text><text x="258" y="1255"  fill="rgb(49 49 49)">f (!(</text><text x="273" y="1255"  fill="rgb(43 43 43)">t</text><text x="276" y="1255"  fill="rgb(56 56 56)">h</text><text x="279" y="1255"  fill="rgb(180 180 180)">i</text><text x="282" y="1255"  fill="rgb(215 215 215)">s</text><text x="285" y="1255"  fill="rgb(206 206 206)">.validateIdstring(key[0</text><text x="354" y="1255"  fill="rgb(211 211 211)">]</text><text x="357" y="1255"  fill="rgb(198 198 198)">)</text><text x="360" y="1255"  fill="rgb(81 81 81)"> </text><text x="363" y="1255"  fill="rgb(44 44 44)">&amp;</text><text x="366" y="1255"  fill="rgb(49 49 49)">&amp; (thi</text><text x="384" y="1255"  fill="rgb(43 43 43)">s</text><text x="387" y="1255"  fill="rgb(166 166 166)">.</text><text x="390" y="1255"  fill="rgb(251 251 251)">s</text><text x="393" y="1255"  fill="rgb(246 246 246)">f</text><text x="396" y="1255"  fill="rgb(245 245 245)">ields.inc</text><text x="423" y="1255"  fill="rgb(255 255 255)">l</text><text x="426" y="1255"  fill="rgb(166 166 166)">u</text><text x="429" y="1255"  fill="rgb(41 41 41)">d</text><text x="432" y="1255"  fill="rgb(44 44 44)">e</text><text x="435" y="1255"  fill="rgb(49 49 49)">s(ke</text><text x="447" y="1255"  fill="rgb(45 45 45)">y</text><text x="450" y="1255"  fill="rgb(38 38 38)">[</text><text x="453" y="1255"  fill="rgb(152 152 152)">1</text><text x="456" y="1255"  fill="rgb(255 255 255)">]</text><text x="459" y="1255"  fill="rgb(246 246 246)">)</text><text x="462" y="1255"  fill="rgb(245 245 245)"> || this.mfields.i</text><text x="516" y="1255"  fill="rgb(246 246 246)">n</text><text x="519" y="1255"  fill="rgb(251 251 251)">c</text><text x="522" y="1255"  fill="rgb(164 164 164)">l</text><text x="525" y="1255"  fill="rgb(46 46 46)">u</text><text x="528" y="1255"  fill="rgb(48 48 48)">d</text><text x="531" y="1255"  fill="rgb(49 49 49)">es(ke</text><text x="546" y="1255"  fill="rgb(34 34 34)">y</text><text x="549" y="1255"  fill="rgb(162 162 162)">[</text><text x="552" y="1255"  fill="rgb(255 255 255)">1</text><text x="555" y="1255"  fill="rgb(247 247 247)">]</text><text x="558" y="1255"  fill="rgb(245 245 245)">)))) { throw new Insi</text><text x="621" y="1255"  fill="rgb(247 247 247)">g</text><text x="624" y="1255"  fill="rgb(255 255 255)">h</text><text x="627" y="1255"  fill="rgb(205 205 205)">t</text><text x="630" y="1255"  fill="rgb(68 68 68)">E</text><text x="633" y="1255"  fill="rgb(21 21 21)">r</text><text x="636" y="1255"  fill="rgb(47 47 47)">r</text><text x="639" y="1255"  fill="rgb(51 51 51)">o</text><text x="642" y="1255"  fill="rgb(49 49 49)">r();</text><text x="654" y="1255"  fill="rgb(50 50 50)"> </text><text x="657" y="1255"  fill="rgb(49 49 49)">} } </text><text x="669" y="1255"  fill="rgb(45 45 45)">}</text><text x="672" y="1255"  fill="rgb(18 18 18)"> </text><text x="675" y="1255"  fill="rgb(55 55 55)">}</text><text x="678" y="1255"  fill="rgb(203 203 203)"> </text><text x="681" y="1255"  fill="rgb(255 255 255)">p</text><text x="684" y="1255"  fill="rgb(247 247 247)">u</text><text x="687" y="1255"  fill="rgb(245 245 245)">blic validateOptions(q</text><text x="753" y="1255"  fill="rgb(255 255 255)">:</text><text x="756" y="1255"  fill="rgb(200 200 200)"> </text><text x="759" y="1255"  fill="rgb(61 61 61)">a</text><text x="762" y="1255"  fill="rgb(39 39 39)">n</text><text x="765" y="1255"  fill="rgb(49 49 49)">y): v</text><text x="780" y="1255"  fill="rgb(28 28 28)">o</text><text x="783" y="1255"  fill="rgb(112 112 112)">i</text><text x="786" y="1255"  fill="rgb(251 251 251)">d </text><text x="792" y="1255"  fill="rgb(245 245 245)">{ let keys: an</text><text x="834" y="1255"  fill="rgb(249 249 249)">y[</text><text x="840" y="1255"  fill="rgb(138 138 138)">]</text><text x="843" y="1255"  fill="rgb(34 34 34)"> </text><text x="846" y="1255"  fill="rgb(49 49 49)">= Obj</text><text x="861" y="1255"  fill="rgb(47 47 47)">e</text><text x="864" y="1255"  fill="rgb(50 50 50)">c</text><text x="867" y="1255"  fill="rgb(188 188 188)">t</text><text x="870" y="1255"  fill="rgb(252 252 252)">.</text><text x="873" y="1255"  fill="rgb(245 245 245)">keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightErro</text><text x="0" y="1260"  fill="rgb(245 245 245)">r(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDE</text><text x="246" y="1260"  fill="rgb(255 255 255)">R</text><text x="249" y="1260"  fill="rgb(169 169 169)">)</text><text x="252" y="1260"  fill="rgb(50 50 50)">;</text><text x="255" y="1260"  fill="rgb(44 44 44)"> </text><text x="258" y="1260"  fill="rgb(49 49 49)">} } pri</text><text x="279" y="1260"  fill="rgb(44 44 44)">v</text><text x="282" y="1260"  fill="rgb(41 41 41)">ate validateColumns(q: a</text><text x="354" y="1260"  fill="rgb(40 40 40)">n</text><text x="357" y="1260"  fill="rgb(41 41 41)">y</text><text x="360" y="1260"  fill="rgb(47 47 47)">)</text><text x="363" y="1260"  fill="rgb(50 50 50)">:</text><text x="366" y="1260"  fill="rgb(49 49 49)"> void </text><text x="384" y="1260"  fill="rgb(45 45 45)">{</text><text x="387" y="1260"  fill="rgb(152 152 152)"> </text><text x="390" y="1260"  fill="rgb(249 249 249)">i</text><text x="393" y="1260"  fill="rgb(246 246 246)">f</text><text x="396" y="1260"  fill="rgb(245 245 245)"> (!q || q</text><text x="423" y="1260"  fill="rgb(255 255 255)">.</text><text x="426" y="1260"  fill="rgb(166 166 166)">l</text><text x="429" y="1260"  fill="rgb(41 41 41)">e</text><text x="432" y="1260"  fill="rgb(44 44 44)">n</text><text x="435" y="1260"  fill="rgb(49 49 49)">gth </text><text x="447" y="1260"  fill="rgb(45 45 45)">&lt;</text><text x="450" y="1260"  fill="rgb(38 38 38)"> </text><text x="453" y="1260"  fill="rgb(152 152 152)">1</text><text x="456" y="1260"  fill="rgb(255 255 255)">)</text><text x="459" y="1260"  fill="rgb(246 246 246)"> </text><text x="462" y="1260"  fill="rgb(245 245 245)">{ throw new Insigh</text><text x="516" y="1260"  fill="rgb(246 246 246)">t</text><text x="519" y="1260"  fill="rgb(251 251 251)">E</text><text x="522" y="1260"  fill="rgb(164 164 164)">r</text><text x="525" y="1260"  fill="rgb(46 46 46)">r</text><text x="528" y="1260"  fill="rgb(48 48 48)">o</text><text x="531" y="1260"  fill="rgb(49 49 49)">r(); </text><text x="546" y="1260"  fill="rgb(34 34 34)">}</text><text x="549" y="1260"  fill="rgb(162 162 162)"> </text><text x="552" y="1260"  fill="rgb(255 255 255)">f</text><text x="555" y="1260"  fill="rgb(247 247 247)">o</text><text x="558" y="1260"  fill="rgb(245 245 245)">r (let mskey of q) { i</text><text x="624" y="1260"  fill="rgb(246 246 246)">f</text><text x="627" y="1260"  fill="rgb(255 255 255)"> </text><text x="630" y="1260"  fill="rgb(227 227 227)">(</text><text x="633" y="1260"  fill="rgb(86 86 86)">t</text><text x="636" y="1260"  fill="rgb(32 32 32)">h</text><text x="639" y="1260"  fill="rgb(50 50 50)">i</text><text x="642" y="1260"  fill="rgb(49 49 49)">s.transfo</text><text x="669" y="1260"  fill="rgb(43 43 43)">r</text><text x="672" y="1260"  fill="rgb(84 84 84)">m</text><text x="675" y="1260"  fill="rgb(218 218 218)">a</text><text x="678" y="1260"  fill="rgb(255 255 255)">t</text><text x="681" y="1260"  fill="rgb(244 244 244)">i</text><text x="684" y="1260"  fill="rgb(245 245 245)">onKey.length &gt; 0) { if </text><text x="753" y="1260"  fill="rgb(255 255 255)">(</text><text x="756" y="1260"  fill="rgb(200 200 200)">!</text><text x="759" y="1260"  fill="rgb(61 61 61)">t</text><text x="762" y="1260"  fill="rgb(39 39 39)">h</text><text x="765" y="1260"  fill="rgb(49 49 49)">is.tr</text><text x="780" y="1260"  fill="rgb(28 28 28)">a</text><text x="783" y="1260"  fill="rgb(112 112 112)">n</text><text x="786" y="1260"  fill="rgb(251 251 251)">sf</text><text x="792" y="1260"  fill="rgb(245 245 245)">ormationKey.in</text><text x="834" y="1260"  fill="rgb(249 249 249)">cl</text><text x="840" y="1260"  fill="rgb(138 138 138)">u</text><text x="843" y="1260"  fill="rgb(34 34 34)">d</text><text x="846" y="1260"  fill="rgb(49 49 49)">es(ms</text><text x="861" y="1260"  fill="rgb(47 47 47)">k</text><text x="864" y="1260"  fill="rgb(50 50 50)">e</text><text x="867" y="1260"  fill="rgb(188 188 188)">y</text><text x="870" y="1260"  fill="rgb(252 252 252)">)</text><text x="873" y="1260"  fill="rgb(245 245 245)">) { throw new InsightError(); } } else { this.validateKey(mskey); } this.keysInQuery.push(mskey); </text><text x="0" y="1265"  fill="rgb(245 245 245)">} } private validateOrder(q: any): void { if (Array.isArray(q)) { throw new Insigh</text><text x="246" y="1265"  fill="rgb(255 255 255)">t</text><text x="249" y="1265"  fill="rgb(157 157 157)">E</text><text x="252" y="1265"  fill="rgb(45 45 45)">rr</text><text x="258" y="1265"  fill="rgb(49 49 49)">or();</text><text x="273" y="1265"  fill="rgb(50 50 50)"> </text><text x="276" y="1265"  fill="rgb(48 48 48)">}</text><text x="279" y="1265"  fill="rgb(36 36 36)"> </text><text x="282" y="1265"  fill="rgb(33 33 33)">e</text><text x="285" y="1265"  fill="rgb(34 34 34)">lse if (typeof q === &quot;st</text><text x="357" y="1265"  fill="rgb(35 35 35)">r</text><text x="360" y="1265"  fill="rgb(47 47 47)">i</text><text x="363" y="1265"  fill="rgb(50 50 50)">ng&quot;) { </text><text x="384" y="1265"  fill="rgb(31 31 31)">i</text><text x="387" y="1265"  fill="rgb(132 132 132)">f</text><text x="390" y="1265"  fill="rgb(249 249 249)"> </text><text x="393" y="1265"  fill="rgb(246 246 246)">(</text><text x="396" y="1265"  fill="rgb(245 245 245)">!this.key</text><text x="423" y="1265"  fill="rgb(255 255 255)">s</text><text x="426" y="1265"  fill="rgb(166 166 166)">I</text><text x="429" y="1265"  fill="rgb(41 41 41)">n</text><text x="432" y="1265"  fill="rgb(44 44 44)">Q</text><text x="435" y="1265"  fill="rgb(49 49 49)">uery</text><text x="447" y="1265"  fill="rgb(45 45 45)">.</text><text x="450" y="1265"  fill="rgb(38 38 38)">i</text><text x="453" y="1265"  fill="rgb(152 152 152)">n</text><text x="456" y="1265"  fill="rgb(255 255 255)">c</text><text x="459" y="1265"  fill="rgb(246 246 246)">l</text><text x="462" y="1265"  fill="rgb(245 245 245)">udes(q)) { throw n</text><text x="516" y="1265"  fill="rgb(246 246 246)">e</text><text x="519" y="1265"  fill="rgb(251 251 251)">w</text><text x="522" y="1265"  fill="rgb(164 164 164)"> </text><text x="525" y="1265"  fill="rgb(46 46 46)">I</text><text x="528" y="1265"  fill="rgb(48 48 48)">n</text><text x="531" y="1265"  fill="rgb(49 49 49)">sight</text><text x="546" y="1265"  fill="rgb(34 34 34)">E</text><text x="549" y="1265"  fill="rgb(162 162 162)">r</text><text x="552" y="1265"  fill="rgb(255 255 255)">r</text><text x="555" y="1265"  fill="rgb(247 247 247)">o</text><text x="558" y="1265"  fill="rgb(245 245 245)">r(); } } else { if (!q.</text><text x="627" y="1265"  fill="rgb(246 246 246)">d</text><text x="630" y="1265"  fill="rgb(255 255 255)">i</text><text x="633" y="1265"  fill="rgb(251 251 251)">r</text><text x="636" y="1265"  fill="rgb(100 100 100)"> </text><text x="639" y="1265"  fill="rgb(31 31 31)">|</text><text x="642" y="1265"  fill="rgb(48 48 48)">|</text><text x="645" y="1265"  fill="rgb(49 49 49)"> !q.key</text><text x="666" y="1265"  fill="rgb(44 44 44)">s</text><text x="669" y="1265"  fill="rgb(80 80 80)"> </text><text x="672" y="1265"  fill="rgb(235 235 235)">|</text><text x="675" y="1265"  fill="rgb(255 255 255)">|</text><text x="678" y="1265"  fill="rgb(244 244 244)"> </text><text x="681" y="1265"  fill="rgb(245 245 245)">Object.keys(q).length !=</text><text x="753" y="1265"  fill="rgb(255 255 255)">=</text><text x="756" y="1265"  fill="rgb(200 200 200)"> </text><text x="759" y="1265"  fill="rgb(61 61 61)">2</text><text x="762" y="1265"  fill="rgb(39 39 39)">)</text><text x="765" y="1265"  fill="rgb(49 49 49)"> { th</text><text x="780" y="1265"  fill="rgb(28 28 28)">r</text><text x="783" y="1265"  fill="rgb(112 112 112)">o</text><text x="786" y="1265"  fill="rgb(251 251 251)">w </text><text x="792" y="1265"  fill="rgb(245 245 245)">new InsightErr</text><text x="834" y="1265"  fill="rgb(249 249 249)">or</text><text x="840" y="1265"  fill="rgb(138 138 138)">(</text><text x="843" y="1265"  fill="rgb(34 34 34)">)</text><text x="846" y="1265"  fill="rgb(49 49 49)">; } i</text><text x="861" y="1265"  fill="rgb(47 47 47)">f</text><text x="864" y="1265"  fill="rgb(50 50 50)"> </text><text x="867" y="1265"  fill="rgb(188 188 188)">(</text><text x="870" y="1265"  fill="rgb(252 252 252)">q</text><text x="873" y="1265"  fill="rgb(245 245 245)">.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys: any = q.keys; if (!Arra</text><text x="0" y="1270"  fill="rgb(245 245 245)">y.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey </text><text x="246" y="1270"  fill="rgb(255 255 255)">o</text><text x="249" y="1270"  fill="rgb(152 152 152)">f</text><text x="252" y="1270"  fill="rgb(43 43 43)"> </text><text x="255" y="1270"  fill="rgb(45 45 45)">k</text><text x="258" y="1270"  fill="rgb(49 49 49)">eys) { </text><text x="279" y="1270"  fill="rgb(45 45 45)">i</text><text x="282" y="1270"  fill="rgb(44 44 44)">f (!this.keysInQuery.inclu</text><text x="360" y="1270"  fill="rgb(42 42 42)">des(an</text><text x="378" y="1270"  fill="rgb(40 40 40)">y</text><text x="381" y="1270"  fill="rgb(26 26 26)">k</text><text x="384" y="1270"  fill="rgb(57 57 57)">e</text><text x="387" y="1270"  fill="rgb(199 199 199)">y</text><text x="390" y="1270"  fill="rgb(252 252 252)">)</text><text x="393" y="1270"  fill="rgb(245 245 245)">) { throw </text><text x="423" y="1270"  fill="rgb(255 255 255)">n</text><text x="426" y="1270"  fill="rgb(166 166 166)">e</text><text x="429" y="1270"  fill="rgb(41 41 41)">w</text><text x="432" y="1270"  fill="rgb(44 44 44)"> </text><text x="435" y="1270"  fill="rgb(49 49 49)">Insi</text><text x="447" y="1270"  fill="rgb(45 45 45)">g</text><text x="450" y="1270"  fill="rgb(38 38 38)">h</text><text x="453" y="1270"  fill="rgb(152 152 152)">t</text><text x="456" y="1270"  fill="rgb(255 255 255)">E</text><text x="459" y="1270"  fill="rgb(246 246 246)">r</text><text x="462" y="1270"  fill="rgb(245 245 245)">ror(); } } } } pub</text><text x="516" y="1270"  fill="rgb(246 246 246)">l</text><text x="519" y="1270"  fill="rgb(251 251 251)">i</text><text x="522" y="1270"  fill="rgb(164 164 164)">c</text><text x="525" y="1270"  fill="rgb(46 46 46)"> </text><text x="528" y="1270"  fill="rgb(48 48 48)">v</text><text x="531" y="1270"  fill="rgb(49 49 49)">alida</text><text x="546" y="1270"  fill="rgb(34 34 34)">t</text><text x="549" y="1270"  fill="rgb(162 162 162)">e</text><text x="552" y="1270"  fill="rgb(255 255 255)">W</text><text x="555" y="1270"  fill="rgb(247 247 247)">h</text><text x="558" y="1270"  fill="rgb(245 245 245)">ere(q: any): void { if </text><text x="627" y="1270"  fill="rgb(253 253 253)">(</text><text x="630" y="1270"  fill="rgb(255 255 255)">A</text><text x="633" y="1270"  fill="rgb(190 190 190)">r</text><text x="636" y="1270"  fill="rgb(71 71 71)">r</text><text x="639" y="1270"  fill="rgb(39 39 39)">a</text><text x="642" y="1270"  fill="rgb(49 49 49)">y.isArra</text><text x="666" y="1270"  fill="rgb(47 47 47)">y</text><text x="669" y="1270"  fill="rgb(55 55 55)">(</text><text x="672" y="1270"  fill="rgb(145 145 145)">q</text><text x="675" y="1270"  fill="rgb(245 245 245)">)</text><text x="678" y="1270"  fill="rgb(255 255 255)">)</text><text x="681" y="1270"  fill="rgb(245 245 245)"> { throw new InsightErro</text><text x="753" y="1270"  fill="rgb(255 255 255)">r</text><text x="756" y="1270"  fill="rgb(200 200 200)">(</text><text x="759" y="1270"  fill="rgb(61 61 61)">)</text><text x="762" y="1270"  fill="rgb(39 39 39)">;</text><text x="765" y="1270"  fill="rgb(49 49 49)"> } el</text><text x="780" y="1270"  fill="rgb(28 28 28)">s</text><text x="783" y="1270"  fill="rgb(112 112 112)">e</text><text x="786" y="1270"  fill="rgb(251 251 251)"> {</text><text x="792" y="1270"  fill="rgb(245 245 245)"> if (Object.ke</text><text x="834" y="1270"  fill="rgb(249 249 249)">ys</text><text x="840" y="1270"  fill="rgb(138 138 138)">(</text><text x="843" y="1270"  fill="rgb(34 34 34)">q</text><text x="846" y="1270"  fill="rgb(49 49 49)">).len</text><text x="861" y="1270"  fill="rgb(47 47 47)">g</text><text x="864" y="1270"  fill="rgb(50 50 50)">t</text><text x="867" y="1270"  fill="rgb(188 188 188)">h</text><text x="870" y="1270"  fill="rgb(252 252 252)"> </text><text x="873" y="1270"  fill="rgb(245 245 245)">!== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void { if (Object.keys(q).l</text><text x="0" y="1275"  fill="rgb(245 245 245)">ength !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)</text><text x="246" y="1275"  fill="rgb(255 255 255)">[</text><text x="249" y="1275"  fill="rgb(159 159 159)">0</text><text x="252" y="1275"  fill="rgb(46 46 46)">]</text><text x="255" y="1275"  fill="rgb(45 45 45)">;</text><text x="258" y="1275"  fill="rgb(49 49 49)"> let </text><text x="273" y="1275"  fill="rgb(50 50 50)">v</text><text x="276" y="1275"  fill="rgb(49 49 49)">a</text><text x="279" y="1275"  fill="rgb(34 34 34)">l</text><text x="282" y="1275"  fill="rgb(29 29 29)">ue: any = Object.values(q)[0]; </text><text x="375" y="1275"  fill="rgb(27 27 27)">s</text><text x="378" y="1275"  fill="rgb(30 30 30)">w</text><text x="381" y="1275"  fill="rgb(81 81 81)">i</text><text x="384" y="1275"  fill="rgb(202 202 202)">t</text><text x="387" y="1275"  fill="rgb(255 255 255)">c</text><text x="390" y="1275"  fill="rgb(247 247 247)">h</text><text x="393" y="1275"  fill="rgb(245 245 245)"> (key) { c</text><text x="423" y="1275"  fill="rgb(255 255 255)">a</text><text x="426" y="1275"  fill="rgb(166 166 166)">s</text><text x="429" y="1275"  fill="rgb(41 41 41)">e</text><text x="432" y="1275"  fill="rgb(44 44 44)"> </text><text x="435" y="1275"  fill="rgb(49 49 49)">&quot;AND</text><text x="447" y="1275"  fill="rgb(45 45 45)">&quot;</text><text x="450" y="1275"  fill="rgb(38 38 38)">:</text><text x="453" y="1275"  fill="rgb(152 152 152)"> </text><text x="456" y="1275"  fill="rgb(255 255 255)">c</text><text x="459" y="1275"  fill="rgb(246 246 246)">a</text><text x="462" y="1275"  fill="rgb(245 245 245)">se &quot;OR&quot;: this.vali</text><text x="516" y="1275"  fill="rgb(246 246 246)">d</text><text x="519" y="1275"  fill="rgb(251 251 251)">a</text><text x="522" y="1275"  fill="rgb(164 164 164)">t</text><text x="525" y="1275"  fill="rgb(46 46 46)">e</text><text x="528" y="1275"  fill="rgb(48 48 48)">A</text><text x="531" y="1275"  fill="rgb(49 49 49)">NDOR(</text><text x="546" y="1275"  fill="rgb(34 34 34)">v</text><text x="549" y="1275"  fill="rgb(162 162 162)">a</text><text x="552" y="1275"  fill="rgb(255 255 255)">l</text><text x="555" y="1275"  fill="rgb(247 247 247)">u</text><text x="558" y="1275"  fill="rgb(245 245 245)">e); break; case &quot;NOT&quot;</text><text x="621" y="1275"  fill="rgb(244 244 244)">:</text><text x="624" y="1275"  fill="rgb(255 255 255)"> t</text><text x="630" y="1275"  fill="rgb(156 156 156)">h</text><text x="633" y="1275"  fill="rgb(40 40 40)">i</text><text x="636" y="1275"  fill="rgb(37 37 37)">s</text><text x="639" y="1275"  fill="rgb(51 51 51)">.</text><text x="642" y="1275"  fill="rgb(49 49 49)">validateN</text><text x="669" y="1275"  fill="rgb(43 43 43)">O</text><text x="672" y="1275"  fill="rgb(28 28 28)">T</text><text x="675" y="1275"  fill="rgb(110 110 110)">(</text><text x="678" y="1275"  fill="rgb(240 240 240)">v</text><text x="681" y="1275"  fill="rgb(255 255 255)">a</text><text x="684" y="1275"  fill="rgb(246 246 246)">l</text><text x="687" y="1275"  fill="rgb(244 244 244)">u</text><text x="690" y="1275"  fill="rgb(245 245 245)">e); break; case &quot;GT&quot;:</text><text x="753" y="1275"  fill="rgb(255 255 255)"> </text><text x="756" y="1275"  fill="rgb(200 200 200)">c</text><text x="759" y="1275"  fill="rgb(61 61 61)">a</text><text x="762" y="1275"  fill="rgb(39 39 39)">s</text><text x="765" y="1275"  fill="rgb(49 49 49)">e &quot;LT</text><text x="780" y="1275"  fill="rgb(28 28 28)">&quot;</text><text x="783" y="1275"  fill="rgb(112 112 112)">:</text><text x="786" y="1275"  fill="rgb(251 251 251)"> c</text><text x="792" y="1275"  fill="rgb(245 245 245)">ase &quot;EQ&quot;: this</text><text x="834" y="1275"  fill="rgb(249 249 249)">.v</text><text x="840" y="1275"  fill="rgb(138 138 138)">a</text><text x="843" y="1275"  fill="rgb(34 34 34)">l</text><text x="846" y="1275"  fill="rgb(49 49 49)">idate</text><text x="861" y="1275"  fill="rgb(47 47 47)">G</text><text x="864" y="1275"  fill="rgb(50 50 50)">T</text><text x="867" y="1275"  fill="rgb(188 188 188)">L</text><text x="870" y="1275"  fill="rgb(252 252 252)">T</text><text x="873" y="1275"  fill="rgb(245 245 245)">EQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw new InsightError(); } }</text><text x="0" y="1280"  fill="rgb(245 245 245)"> } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw </text><text x="246" y="1280"  fill="rgb(255 255 255)">n</text><text x="249" y="1280"  fill="rgb(171 171 171)">e</text><text x="252" y="1280"  fill="rgb(50 50 50)">w</text><text x="255" y="1280"  fill="rgb(44 44 44)"> </text><text x="258" y="1280"  fill="rgb(49 49 49)">Insig</text><text x="273" y="1280"  fill="rgb(44 44 44)">h</text><text x="276" y="1280"  fill="rgb(56 56 56)">t</text><text x="279" y="1280"  fill="rgb(144 144 144)">E</text><text x="282" y="1280"  fill="rgb(166 166 166)">r</text><text x="285" y="1280"  fill="rgb(159 159 159)">ror(); } this.validateFilter(</text><text x="372" y="1280"  fill="rgb(158 158 158)">v</text><text x="375" y="1280"  fill="rgb(155 155 155)">a</text><text x="378" y="1280"  fill="rgb(174 174 174)">l</text><text x="381" y="1280"  fill="rgb(238 238 238)">u</text><text x="384" y="1280"  fill="rgb(255 255 255)">e</text><text x="387" y="1280"  fill="rgb(246 246 246)">)</text><text x="390" y="1280"  fill="rgb(245 245 245)">; } private</text><text x="423" y="1280"  fill="rgb(255 255 255)"> </text><text x="426" y="1280"  fill="rgb(166 166 166)">v</text><text x="429" y="1280"  fill="rgb(41 41 41)">a</text><text x="432" y="1280"  fill="rgb(44 44 44)">l</text><text x="435" y="1280"  fill="rgb(49 49 49)">idat</text><text x="447" y="1280"  fill="rgb(45 45 45)">e</text><text x="450" y="1280"  fill="rgb(38 38 38)">I</text><text x="453" y="1280"  fill="rgb(152 152 152)">S</text><text x="456" y="1280"  fill="rgb(255 255 255)">(</text><text x="459" y="1280"  fill="rgb(246 246 246)">v</text><text x="462" y="1280"  fill="rgb(245 245 245)">alue: any): void {</text><text x="516" y="1280"  fill="rgb(246 246 246)"> </text><text x="519" y="1280"  fill="rgb(251 251 251)">i</text><text x="522" y="1280"  fill="rgb(164 164 164)">f</text><text x="525" y="1280"  fill="rgb(46 46 46)"> </text><text x="528" y="1280"  fill="rgb(48 48 48)">(</text><text x="531" y="1280"  fill="rgb(49 49 49)">typeo</text><text x="546" y="1280"  fill="rgb(34 34 34)">f</text><text x="549" y="1280"  fill="rgb(162 162 162)"> </text><text x="552" y="1280"  fill="rgb(255 255 255)">v</text><text x="555" y="1280"  fill="rgb(247 247 247)">a</text><text x="558" y="1280"  fill="rgb(245 245 245)">lue !== &quot;object&quot;) { </text><text x="618" y="1280"  fill="rgb(244 244 244)">t</text><text x="621" y="1280"  fill="rgb(255 255 255)">h</text><text x="624" y="1280"  fill="rgb(248 248 248)">r</text><text x="627" y="1280"  fill="rgb(132 132 132)">o</text><text x="630" y="1280"  fill="rgb(30 30 30)">w</text><text x="633" y="1280"  fill="rgb(39 39 39)"> </text><text x="636" y="1280"  fill="rgb(51 51 51)">n</text><text x="639" y="1280"  fill="rgb(49 49 49)">ew </text><text x="648" y="1280"  fill="rgb(50 50 50)">Ins</text><text x="657" y="1280"  fill="rgb(49 49 49)">ight</text><text x="669" y="1280"  fill="rgb(50 50 50)">E</text><text x="672" y="1280"  fill="rgb(43 43 43)">r</text><text x="675" y="1280"  fill="rgb(20 20 20)">r</text><text x="678" y="1280"  fill="rgb(88 88 88)">o</text><text x="681" y="1280"  fill="rgb(231 231 231)">r</text><text x="684" y="1280"  fill="rgb(255 255 255)">(</text><text x="687" y="1280"  fill="rgb(247 247 247)">)</text><text x="690" y="1280"  fill="rgb(245 245 245)">; } if (Object.keys(v</text><text x="753" y="1280"  fill="rgb(255 255 255)">a</text><text x="756" y="1280"  fill="rgb(200 200 200)">l</text><text x="759" y="1280"  fill="rgb(61 61 61)">u</text><text x="762" y="1280"  fill="rgb(39 39 39)">e</text><text x="765" y="1280"  fill="rgb(49 49 49)">).len</text><text x="780" y="1280"  fill="rgb(28 28 28)">g</text><text x="783" y="1280"  fill="rgb(112 112 112)">t</text><text x="786" y="1280"  fill="rgb(251 251 251)">h </text><text x="792" y="1280"  fill="rgb(245 245 245)">!== 1) { throw</text><text x="834" y="1280"  fill="rgb(249 249 249)"> n</text><text x="840" y="1280"  fill="rgb(138 138 138)">e</text><text x="843" y="1280"  fill="rgb(34 34 34)">w</text><text x="846" y="1280"  fill="rgb(49 49 49)"> Insi</text><text x="861" y="1280"  fill="rgb(47 47 47)">g</text><text x="864" y="1280"  fill="rgb(50 50 50)">h</text><text x="867" y="1280"  fill="rgb(188 188 188)">t</text><text x="870" y="1280"  fill="rgb(252 252 252)">E</text><text x="873" y="1280"  fill="rgb(245 245 245)">rror(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw ne</text><text x="0" y="1285"  fill="rgb(245 245 245)">w InsightError(); } else { let idstring: string = skey[0]; let sfield: string = sk</text><text x="246" y="1285"  fill="rgb(255 255 255)">e</text><text x="249" y="1285"  fill="rgb(191 191 191)">y</text><text x="252" y="1285"  fill="rgb(56 56 56)">[</text><text x="255" y="1285"  fill="rgb(42 42 42)">1</text><text x="258" y="1285"  fill="rgb(49 49 49)">]; le</text><text x="273" y="1285"  fill="rgb(45 45 45)">t</text><text x="276" y="1285"  fill="rgb(42 42 42)"> </text><text x="279" y="1285"  fill="rgb(210 210 210)">s</text><text x="282" y="1285"  fill="rgb(255 255 255)">tr: any = Object.values(value)[0]</text><text x="381" y="1285"  fill="rgb(248 248 248)">;</text><text x="384" y="1285"  fill="rgb(244 244 244)"> </text><text x="387" y="1285"  fill="rgb(245 245 245)">if (typeof s</text><text x="423" y="1285"  fill="rgb(255 255 255)">t</text><text x="426" y="1285"  fill="rgb(166 166 166)">r</text><text x="429" y="1285"  fill="rgb(41 41 41)"> </text><text x="432" y="1285"  fill="rgb(44 44 44)">!</text><text x="435" y="1285"  fill="rgb(49 49 49)">== &quot;</text><text x="447" y="1285"  fill="rgb(45 45 45)">s</text><text x="450" y="1285"  fill="rgb(38 38 38)">t</text><text x="453" y="1285"  fill="rgb(152 152 152)">r</text><text x="456" y="1285"  fill="rgb(255 255 255)">i</text><text x="459" y="1285"  fill="rgb(246 246 246)">n</text><text x="462" y="1285"  fill="rgb(245 245 245)">g&quot;) { throw new In</text><text x="516" y="1285"  fill="rgb(246 246 246)">s</text><text x="519" y="1285"  fill="rgb(251 251 251)">i</text><text x="522" y="1285"  fill="rgb(164 164 164)">g</text><text x="525" y="1285"  fill="rgb(46 46 46)">h</text><text x="528" y="1285"  fill="rgb(48 48 48)">t</text><text x="531" y="1285"  fill="rgb(49 49 49)">Error</text><text x="546" y="1285"  fill="rgb(34 34 34)">(</text><text x="549" y="1285"  fill="rgb(162 162 162)">)</text><text x="552" y="1285"  fill="rgb(255 255 255)">;</text><text x="555" y="1285"  fill="rgb(247 247 247)"> </text><text x="558" y="1285"  fill="rgb(245 245 245)">} else { if ((str.s</text><text x="615" y="1285"  fill="rgb(244 244 244)">l</text><text x="618" y="1285"  fill="rgb(255 255 255)">i</text><text x="621" y="1285"  fill="rgb(243 243 243)">c</text><text x="624" y="1285"  fill="rgb(107 107 107)">e</text><text x="627" y="1285"  fill="rgb(23 23 23)">(</text><text x="630" y="1285"  fill="rgb(42 42 42)">1</text><text x="633" y="1285"  fill="rgb(51 51 51)">,</text><text x="636" y="1285"  fill="rgb(49 49 49)"> -1</text><text x="645" y="1285"  fill="rgb(52 52 52)">)</text><text x="648" y="1285"  fill="rgb(47 47 47)">.</text><text x="651" y="1285"  fill="rgb(25 25 25)">i</text><text x="654" y="1285"  fill="rgb(32 32 32)">n</text><text x="657" y="1285"  fill="rgb(50 50 50)">cl</text><text x="663" y="1285"  fill="rgb(49 49 49)">ude</text><text x="672" y="1285"  fill="rgb(51 51 51)">s</text><text x="675" y="1285"  fill="rgb(48 48 48)">(</text><text x="678" y="1285"  fill="rgb(21 21 21)">&quot;</text><text x="681" y="1285"  fill="rgb(70 70 70)">*</text><text x="684" y="1285"  fill="rgb(213 213 213)">&quot;</text><text x="687" y="1285"  fill="rgb(255 255 255)">)</text><text x="690" y="1285"  fill="rgb(246 246 246)">)</text><text x="693" y="1285"  fill="rgb(245 245 245)"> || !this.validateId</text><text x="753" y="1285"  fill="rgb(255 255 255)">s</text><text x="756" y="1285"  fill="rgb(200 200 200)">t</text><text x="759" y="1285"  fill="rgb(61 61 61)">r</text><text x="762" y="1285"  fill="rgb(39 39 39)">i</text><text x="765" y="1285"  fill="rgb(49 49 49)">ng(id</text><text x="780" y="1285"  fill="rgb(28 28 28)">s</text><text x="783" y="1285"  fill="rgb(112 112 112)">t</text><text x="786" y="1285"  fill="rgb(251 251 251)">ri</text><text x="792" y="1285"  fill="rgb(245 245 245)">ng) || !this.s</text><text x="834" y="1285"  fill="rgb(249 249 249)">fi</text><text x="840" y="1285"  fill="rgb(138 138 138)">e</text><text x="843" y="1285"  fill="rgb(34 34 34)">l</text><text x="846" y="1285"  fill="rgb(49 49 49)">ds.in</text><text x="861" y="1285"  fill="rgb(47 47 47)">c</text><text x="864" y="1285"  fill="rgb(50 50 50)">l</text><text x="867" y="1285"  fill="rgb(188 188 188)">u</text><text x="870" y="1285"  fill="rgb(252 252 252)">d</text><text x="873" y="1285"  fill="rgb(245 245 245)">es(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value: any): void { if (typ</text><text x="0" y="1290"  fill="rgb(245 245 245)">eof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightErro</text><text x="246" y="1290"  fill="rgb(249 249 249)">r</text><text x="249" y="1290"  fill="rgb(227 227 227)">(</text><text x="252" y="1290"  fill="rgb(67 67 67)">)</text><text x="255" y="1290"  fill="rgb(38 38 38)">;</text><text x="258" y="1290"  fill="rgb(49 49 49)"> } let</text><text x="276" y="1290"  fill="rgb(29 29 29)"> </text><text x="279" y="1290"  fill="rgb(151 151 151)">m</text><text x="282" y="1290"  fill="rgb(253 253 253)">k</text><text x="285" y="1290"  fill="rgb(248 248 248)">e</text><text x="288" y="1290"  fill="rgb(245 245 245)">y: string[] = Object.keys(value)[0].split(&quot;_&quot;</text><text x="423" y="1290"  fill="rgb(255 255 255)">)</text><text x="426" y="1290"  fill="rgb(166 166 166)">;</text><text x="429" y="1290"  fill="rgb(41 41 41)"> </text><text x="432" y="1290"  fill="rgb(44 44 44)">i</text><text x="435" y="1290"  fill="rgb(49 49 49)">f (m</text><text x="447" y="1290"  fill="rgb(45 45 45)">k</text><text x="450" y="1290"  fill="rgb(38 38 38)">e</text><text x="453" y="1290"  fill="rgb(152 152 152)">y</text><text x="456" y="1290"  fill="rgb(255 255 255)">.</text><text x="459" y="1290"  fill="rgb(246 246 246)">l</text><text x="462" y="1290"  fill="rgb(245 245 245)">ength !== 2) { thr</text><text x="516" y="1290"  fill="rgb(246 246 246)">o</text><text x="519" y="1290"  fill="rgb(251 251 251)">w</text><text x="522" y="1290"  fill="rgb(164 164 164)"> </text><text x="525" y="1290"  fill="rgb(46 46 46)">n</text><text x="528" y="1290"  fill="rgb(48 48 48)">e</text><text x="531" y="1290"  fill="rgb(49 49 49)">w Ins</text><text x="546" y="1290"  fill="rgb(34 34 34)">i</text><text x="549" y="1290"  fill="rgb(162 162 162)">g</text><text x="552" y="1290"  fill="rgb(255 255 255)">h</text><text x="555" y="1290"  fill="rgb(247 247 247)">t</text><text x="558" y="1290"  fill="rgb(245 245 245)">Error(); } else { </text><text x="612" y="1290"  fill="rgb(246 246 246)">l</text><text x="615" y="1290"  fill="rgb(255 255 255)">e</text><text x="618" y="1290"  fill="rgb(231 231 231)">t</text><text x="621" y="1290"  fill="rgb(84 84 84)"> </text><text x="624" y="1290"  fill="rgb(14 14 14)">i</text><text x="627" y="1290"  fill="rgb(43 43 43)">d</text><text x="630" y="1290"  fill="rgb(51 51 51)">s</text><text x="633" y="1290"  fill="rgb(49 49 49)">tri</text><text x="642" y="1290"  fill="rgb(50 50 50)">n</text><text x="645" y="1290"  fill="rgb(38 38 38)">g</text><text x="648" y="1290"  fill="rgb(29 29 29)">:</text><text x="651" y="1290"  fill="rgb(114 114 114)"> </text><text x="654" y="1290"  fill="rgb(84 84 84)">s</text><text x="657" y="1290"  fill="rgb(28 28 28)">t</text><text x="660" y="1290"  fill="rgb(46 46 46)">r</text><text x="663" y="1290"  fill="rgb(50 50 50)">i</text><text x="666" y="1290"  fill="rgb(49 49 49)">ng </text><text x="675" y="1290"  fill="rgb(51 51 51)">=</text><text x="678" y="1290"  fill="rgb(50 50 50)"> </text><text x="681" y="1290"  fill="rgb(24 24 24)">m</text><text x="684" y="1290"  fill="rgb(56 56 56)">k</text><text x="687" y="1290"  fill="rgb(190 190 190)">e</text><text x="690" y="1290"  fill="rgb(255 255 255)">y</text><text x="693" y="1290"  fill="rgb(247 247 247)">[</text><text x="696" y="1290"  fill="rgb(245 245 245)">0]; let mfield: str</text><text x="753" y="1290"  fill="rgb(255 255 255)">i</text><text x="756" y="1290"  fill="rgb(200 200 200)">n</text><text x="759" y="1290"  fill="rgb(61 61 61)">g</text><text x="762" y="1290"  fill="rgb(39 39 39)"> </text><text x="765" y="1290"  fill="rgb(49 49 49)">= mke</text><text x="780" y="1290"  fill="rgb(28 28 28)">y</text><text x="783" y="1290"  fill="rgb(112 112 112)">[</text><text x="786" y="1290"  fill="rgb(251 251 251)">1]</text><text x="792" y="1290"  fill="rgb(245 245 245)">; let num: any</text><text x="834" y="1290"  fill="rgb(249 249 249)"> =</text><text x="840" y="1290"  fill="rgb(138 138 138)"> </text><text x="843" y="1290"  fill="rgb(34 34 34)">O</text><text x="846" y="1290"  fill="rgb(49 49 49)">bject</text><text x="861" y="1290"  fill="rgb(47 47 47)">.</text><text x="864" y="1290"  fill="rgb(50 50 50)">v</text><text x="867" y="1290"  fill="rgb(188 188 188)">a</text><text x="870" y="1290"  fill="rgb(252 252 252)">l</text><text x="873" y="1290"  fill="rgb(245 245 245)">ues(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.</text><text x="0" y="1295"  fill="rgb(245 245 245)">includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: an</text><text x="249" y="1295"  fill="rgb(252 252 252)">y</text><text x="252" y="1295"  fill="rgb(102 102 102)">)</text><text x="255" y="1295"  fill="rgb(40 40 40)">:</text><text x="258" y="1295"  fill="rgb(48 48 48)"> </text><text x="261" y="1295"  fill="rgb(49 49 49)">void </text><text x="276" y="1295"  fill="rgb(41 41 41)">{</text><text x="279" y="1295"  fill="rgb(89 89 89)"> </text><text x="282" y="1295"  fill="rgb(238 238 238)">i</text><text x="285" y="1295"  fill="rgb(253 253 253)">f</text><text x="288" y="1295"  fill="rgb(245 245 245)"> (!Array.isArray(value) || value.length &lt; 1) </text><text x="423" y="1295"  fill="rgb(255 255 255)">{</text><text x="426" y="1295"  fill="rgb(166 166 166)"> </text><text x="429" y="1295"  fill="rgb(41 41 41)">t</text><text x="432" y="1295"  fill="rgb(44 44 44)">h</text><text x="435" y="1295"  fill="rgb(49 49 49)">row </text><text x="447" y="1295"  fill="rgb(45 45 45)">n</text><text x="450" y="1295"  fill="rgb(38 38 38)">e</text><text x="453" y="1295"  fill="rgb(152 152 152)">w</text><text x="456" y="1295"  fill="rgb(255 255 255)"> </text><text x="459" y="1295"  fill="rgb(246 246 246)">I</text><text x="462" y="1295"  fill="rgb(245 245 245)">nsightError(); } f</text><text x="516" y="1295"  fill="rgb(246 246 246)">o</text><text x="519" y="1295"  fill="rgb(251 251 251)">r</text><text x="522" y="1295"  fill="rgb(164 164 164)"> </text><text x="525" y="1295"  fill="rgb(46 46 46)">(</text><text x="528" y="1295"  fill="rgb(48 48 48)">l</text><text x="531" y="1295"  fill="rgb(49 49 49)">et in</text><text x="546" y="1295"  fill="rgb(34 34 34)">n</text><text x="549" y="1295"  fill="rgb(162 162 162)">e</text><text x="552" y="1295"  fill="rgb(255 255 255)">r</text><text x="555" y="1295"  fill="rgb(247 247 247)">O</text><text x="558" y="1295"  fill="rgb(245 245 245)">bject of value) {</text><text x="609" y="1295"  fill="rgb(249 249 249)"> </text><text x="612" y="1295"  fill="rgb(255 255 255)">t</text><text x="615" y="1295"  fill="rgb(210 210 210)">h</text><text x="618" y="1295"  fill="rgb(74 74 74)">i</text><text x="621" y="1295"  fill="rgb(17 17 17)">s</text><text x="624" y="1295"  fill="rgb(44 44 44)">.</text><text x="627" y="1295"  fill="rgb(51 51 51)">v</text><text x="630" y="1295"  fill="rgb(49 49 49)">ali</text><text x="639" y="1295"  fill="rgb(50 50 50)">d</text><text x="642" y="1295"  fill="rgb(34 34 34)">a</text><text x="645" y="1295"  fill="rgb(30 30 30)">t</text><text x="648" y="1295"  fill="rgb(143 143 143)">e</text><text x="651" y="1295"  fill="rgb(253 253 253)">F</text><text x="654" y="1295"  fill="rgb(228 228 228)">i</text><text x="657" y="1295"  fill="rgb(94 94 94)">l</text><text x="660" y="1295"  fill="rgb(26 26 26)">t</text><text x="663" y="1295"  fill="rgb(44 44 44)">e</text><text x="666" y="1295"  fill="rgb(51 51 51)">r</text><text x="669" y="1295"  fill="rgb(49 49 49)">(in</text><text x="678" y="1295"  fill="rgb(50 50 50)">ne</text><text x="684" y="1295"  fill="rgb(26 26 26)">r</text><text x="687" y="1295"  fill="rgb(46 46 46)">O</text><text x="690" y="1295"  fill="rgb(172 172 172)">b</text><text x="693" y="1295"  fill="rgb(255 255 255)">j</text><text x="696" y="1295"  fill="rgb(251 251 251)">e</text><text x="699" y="1295"  fill="rgb(244 244 244)">c</text><text x="702" y="1295"  fill="rgb(245 245 245)">t); } } private v</text><text x="753" y="1295"  fill="rgb(255 255 255)">a</text><text x="756" y="1295"  fill="rgb(200 200 200)">l</text><text x="759" y="1295"  fill="rgb(61 61 61)">i</text><text x="762" y="1295"  fill="rgb(39 39 39)">d</text><text x="765" y="1295"  fill="rgb(49 49 49)">ateId</text><text x="780" y="1295"  fill="rgb(28 28 28)">s</text><text x="783" y="1295"  fill="rgb(112 112 112)">t</text><text x="786" y="1295"  fill="rgb(251 251 251)">ri</text><text x="792" y="1295"  fill="rgb(245 245 245)">ng(idstring: s</text><text x="834" y="1295"  fill="rgb(249 249 249)">tr</text><text x="840" y="1295"  fill="rgb(138 138 138)">i</text><text x="843" y="1295"  fill="rgb(34 34 34)">n</text><text x="846" y="1295"  fill="rgb(49 49 49)">g): b</text><text x="861" y="1295"  fill="rgb(47 47 47)">o</text><text x="864" y="1295"  fill="rgb(50 50 50)">o</text><text x="867" y="1295"  fill="rgb(188 188 188)">l</text><text x="870" y="1295"  fill="rgb(252 252 252)">e</text><text x="873" y="1295"  fill="rgb(245 245 245)">an { if (this.idInQuery.length === 0) { for (let insightDataset of this.allInsightDataset) { if (i</text><text x="0" y="1300"  fill="rgb(245 245 245)">nsightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.</text><text x="249" y="1300"  fill="rgb(254 254 254)">k</text><text x="252" y="1300"  fill="rgb(161 161 161)">i</text><text x="255" y="1300"  fill="rgb(37 37 37)">n</text><text x="258" y="1300"  fill="rgb(49 49 49)">d === </text><text x="276" y="1300"  fill="rgb(48 48 48)">I</text><text x="279" y="1300"  fill="rgb(42 42 42)">n</text><text x="282" y="1300"  fill="rgb(185 185 185)">s</text><text x="285" y="1300"  fill="rgb(255 255 255)">i</text><text x="288" y="1300"  fill="rgb(245 245 245)">ghtDatasetKind.Courses) { this.mfields = this</text><text x="423" y="1300"  fill="rgb(255 255 255)">.</text><text x="426" y="1300"  fill="rgb(166 166 166)">c</text><text x="429" y="1300"  fill="rgb(41 41 41)">o</text><text x="432" y="1300"  fill="rgb(44 44 44)">u</text><text x="435" y="1300"  fill="rgb(49 49 49)">rsem</text><text x="447" y="1300"  fill="rgb(45 45 45)">f</text><text x="450" y="1300"  fill="rgb(38 38 38)">i</text><text x="453" y="1300"  fill="rgb(154 154 154)">e</text><text x="456" y="1300"  fill="rgb(255 255 255)">l</text><text x="459" y="1300"  fill="rgb(246 246 246)">d</text><text x="462" y="1300"  fill="rgb(245 245 245)">s; this.sfields = </text><text x="516" y="1300"  fill="rgb(246 246 246)">t</text><text x="519" y="1300"  fill="rgb(251 251 251)">h</text><text x="522" y="1300"  fill="rgb(164 164 164)">i</text><text x="525" y="1300"  fill="rgb(46 46 46)">s</text><text x="528" y="1300"  fill="rgb(48 48 48)">.</text><text x="531" y="1300"  fill="rgb(49 49 49)">cours</text><text x="546" y="1300"  fill="rgb(34 34 34)">e</text><text x="549" y="1300"  fill="rgb(162 162 162)">s</text><text x="552" y="1300"  fill="rgb(255 255 255)">f</text><text x="555" y="1300"  fill="rgb(247 247 247)">i</text><text x="558" y="1300"  fill="rgb(245 245 245)">elds; } else { </text><text x="603" y="1300"  fill="rgb(244 244 244)">t</text><text x="606" y="1300"  fill="rgb(250 250 250)">h</text><text x="609" y="1300"  fill="rgb(255 255 255)">i</text><text x="612" y="1300"  fill="rgb(191 191 191)">s</text><text x="615" y="1300"  fill="rgb(64 64 64)">.</text><text x="618" y="1300"  fill="rgb(28 28 28)">m</text><text x="621" y="1300"  fill="rgb(48 48 48)">f</text><text x="624" y="1300"  fill="rgb(51 51 51)">i</text><text x="627" y="1300"  fill="rgb(49 49 49)">el</text><text x="633" y="1300"  fill="rgb(50 50 50)">ds</text><text x="639" y="1300"  fill="rgb(28 28 28)"> </text><text x="642" y="1300"  fill="rgb(39 39 39)">=</text><text x="645" y="1300"  fill="rgb(160 160 160)"> </text><text x="648" y="1300"  fill="rgb(255 255 255)">t</text><text x="651" y="1300"  fill="rgb(253 253 253)">h</text><text x="654" y="1300"  fill="rgb(255 255 255)">i</text><text x="657" y="1300"  fill="rgb(237 237 237)">s</text><text x="660" y="1300"  fill="rgb(110 110 110)">.</text><text x="663" y="1300"  fill="rgb(22 22 22)">r</text><text x="666" y="1300"  fill="rgb(38 38 38)">o</text><text x="669" y="1300"  fill="rgb(52 52 52)">o</text><text x="672" y="1300"  fill="rgb(49 49 49)">mmf</text><text x="681" y="1300"  fill="rgb(50 50 50)">i</text><text x="684" y="1300"  fill="rgb(49 49 49)">e</text><text x="687" y="1300"  fill="rgb(32 32 32)">l</text><text x="690" y="1300"  fill="rgb(36 36 36)">d</text><text x="693" y="1300"  fill="rgb(157 157 157)">s</text><text x="696" y="1300"  fill="rgb(255 255 255)">; </text><text x="702" y="1300"  fill="rgb(244 244 244)">t</text><text x="705" y="1300"  fill="rgb(245 245 245)">his.sfields = th</text><text x="753" y="1300"  fill="rgb(255 255 255)">i</text><text x="756" y="1300"  fill="rgb(200 200 200)">s</text><text x="759" y="1300"  fill="rgb(61 61 61)">.</text><text x="762" y="1300"  fill="rgb(39 39 39)">r</text><text x="765" y="1300"  fill="rgb(49 49 49)">oomsf</text><text x="780" y="1300"  fill="rgb(28 28 28)">i</text><text x="783" y="1300"  fill="rgb(112 112 112)">e</text><text x="786" y="1300"  fill="rgb(251 251 251)">ld</text><text x="792" y="1300"  fill="rgb(245 245 245)">s; } return tr</text><text x="834" y="1300"  fill="rgb(249 249 249)">ue</text><text x="840" y="1300"  fill="rgb(138 138 138)">;</text><text x="843" y="1300"  fill="rgb(34 34 34)"> </text><text x="846" y="1300"  fill="rgb(49 49 49)">} } r</text><text x="861" y="1300"  fill="rgb(47 47 47)">e</text><text x="864" y="1300"  fill="rgb(50 50 50)">t</text><text x="867" y="1300"  fill="rgb(188 188 188)">u</text><text x="870" y="1300"  fill="rgb(252 252 252)">r</text><text x="873" y="1300"  fill="rgb(245 245 245)">n false; } else { return this.idInQuery.includes(idstring); } } public getIdInQuery(): string[] { </text><text x="0" y="1305"  fill="rgb(245 245 245)">return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError</text><text x="249" y="1305"  fill="rgb(252 252 252)">}</text><text x="252" y="1305"  fill="rgb(226 226 226)"> </text><text x="255" y="1305"  fill="rgb(63 63 63)">f</text><text x="258" y="1305"  fill="rgb(41 41 41)">r</text><text x="261" y="1305"  fill="rgb(50 50 50)">o</text><text x="264" y="1305"  fill="rgb(49 49 49)">m &quot;./</text><text x="279" y="1305"  fill="rgb(39 39 39)">I</text><text x="282" y="1305"  fill="rgb(78 78 78)">I</text><text x="285" y="1305"  fill="rgb(233 233 233)">n</text><text x="288" y="1305"  fill="rgb(255 255 255)">s</text><text x="291" y="1305"  fill="rgb(244 244 244)">i</text><text x="294" y="1305"  fill="rgb(245 245 245)">ghtFacade&quot;; export default class QueryValid</text><text x="423" y="1305"  fill="rgb(255 255 255)">a</text><text x="426" y="1305"  fill="rgb(165 165 165)">t</text><text x="429" y="1305"  fill="rgb(40 40 40)">o</text><text x="432" y="1305"  fill="rgb(44 44 44)">r</text><text x="435" y="1305"  fill="rgb(49 49 49)"> { p</text><text x="447" y="1305"  fill="rgb(45 45 45)">r</text><text x="450" y="1305"  fill="rgb(38 38 38)">i</text><text x="453" y="1305"  fill="rgb(152 152 152)">v</text><text x="456" y="1305"  fill="rgb(255 255 255)">a</text><text x="459" y="1305"  fill="rgb(245 245 245)">te readonly coursem</text><text x="516" y="1305"  fill="rgb(246 246 246)">f</text><text x="519" y="1305"  fill="rgb(251 251 251)">i</text><text x="522" y="1305"  fill="rgb(164 164 164)">e</text><text x="525" y="1305"  fill="rgb(46 46 46)">l</text><text x="528" y="1305"  fill="rgb(48 48 48)">d</text><text x="531" y="1305"  fill="rgb(49 49 49)">s: st</text><text x="546" y="1305"  fill="rgb(34 34 34)">r</text><text x="549" y="1305"  fill="rgb(162 162 162)">i</text><text x="552" y="1305"  fill="rgb(255 255 255)">n</text><text x="555" y="1305"  fill="rgb(247 247 247)">g</text><text x="558" y="1305"  fill="rgb(245 245 245)">[] = [&quot;avg&quot;, &quot;</text><text x="600" y="1305"  fill="rgb(244 244 244)">p</text><text x="603" y="1305"  fill="rgb(253 253 253)">a</text><text x="606" y="1305"  fill="rgb(255 255 255)">s</text><text x="609" y="1305"  fill="rgb(171 171 171)">s</text><text x="612" y="1305"  fill="rgb(44 44 44)">&quot;</text><text x="615" y="1305"  fill="rgb(31 31 31)">,</text><text x="618" y="1305"  fill="rgb(50 50 50)"> </text><text x="621" y="1305"  fill="rgb(49 49 49)">&quot;fa</text><text x="630" y="1305"  fill="rgb(50 50 50)">i</text><text x="633" y="1305"  fill="rgb(51 51 51)">l</text><text x="636" y="1305"  fill="rgb(25 25 25)">&quot;</text><text x="639" y="1305"  fill="rgb(49 49 49)">,</text><text x="642" y="1305"  fill="rgb(181 181 181)"> </text><text x="645" y="1305"  fill="rgb(255 255 255)">&quot;</text><text x="648" y="1305"  fill="rgb(248 248 248)">a</text><text x="651" y="1305"  fill="rgb(245 245 245)">ud</text><text x="657" y="1305"  fill="rgb(255 255 255)">i</text><text x="660" y="1305"  fill="rgb(250 250 250)">t</text><text x="663" y="1305"  fill="rgb(127 127 127)">&quot;</text><text x="666" y="1305"  fill="rgb(20 20 20)">,</text><text x="669" y="1305"  fill="rgb(34 34 34)"> </text><text x="672" y="1305"  fill="rgb(52 52 52)">&quot;</text><text x="675" y="1305"  fill="rgb(49 49 49)">year</text><text x="687" y="1305"  fill="rgb(50 50 50)">&quot;</text><text x="690" y="1305"  fill="rgb(36 36 36)">]</text><text x="693" y="1305"  fill="rgb(25 25 25)">;</text><text x="696" y="1305"  fill="rgb(139 139 139)"> </text><text x="699" y="1305"  fill="rgb(253 253 253)">p</text><text x="702" y="1305"  fill="rgb(255 255 255)">r</text><text x="705" y="1305"  fill="rgb(245 245 245)">ivate readonly c</text><text x="753" y="1305"  fill="rgb(255 255 255)">o</text><text x="756" y="1305"  fill="rgb(200 200 200)">u</text><text x="759" y="1305"  fill="rgb(61 61 61)">r</text><text x="762" y="1305"  fill="rgb(39 39 39)">s</text><text x="765" y="1305"  fill="rgb(49 49 49)">esfie</text><text x="780" y="1305"  fill="rgb(28 28 28)">l</text><text x="783" y="1305"  fill="rgb(112 112 112)">d</text><text x="786" y="1305"  fill="rgb(251 251 251)">s:</text><text x="792" y="1305"  fill="rgb(245 245 245)"> string[] = [&quot;</text><text x="834" y="1305"  fill="rgb(249 249 249)">de</text><text x="840" y="1305"  fill="rgb(138 138 138)">p</text><text x="843" y="1305"  fill="rgb(34 34 34)">t</text><text x="846" y="1305"  fill="rgb(49 49 49)">&quot;, &quot;i</text><text x="861" y="1305"  fill="rgb(47 47 47)">d</text><text x="864" y="1305"  fill="rgb(50 50 50)">&quot;</text><text x="867" y="1305"  fill="rgb(188 188 188)">,</text><text x="870" y="1305"  fill="rgb(252 252 252)"> </text><text x="873" y="1305"  fill="rgb(245 245 245)">&quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; </text><text x="0" y="1310"  fill="rgb(245 245 245)">private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name</text><text x="249" y="1310"  fill="rgb(247 247 247)">&quot;</text><text x="252" y="1310"  fill="rgb(254 254 254)">,</text><text x="255" y="1310"  fill="rgb(162 162 162)"> </text><text x="258" y="1310"  fill="rgb(26 26 26)">&quot;</text><text x="261" y="1310"  fill="rgb(50 50 50)">ad</text><text x="267" y="1310"  fill="rgb(49 49 49)">dres</text><text x="279" y="1310"  fill="rgb(48 48 48)">s</text><text x="282" y="1310"  fill="rgb(30 30 30)">&quot;</text><text x="285" y="1310"  fill="rgb(98 98 98)">,</text><text x="288" y="1310"  fill="rgb(246 246 246)"> </text><text x="291" y="1310"  fill="rgb(255 255 255)">&quot;</text><text x="294" y="1310"  fill="rgb(244 244 244)">t</text><text x="297" y="1310"  fill="rgb(245 245 245)">ype&quot;, &quot;furniture&quot;, &quot;hre</text><text x="366" y="1310"  fill="rgb(246 246 246)">f</text><text x="369" y="1310"  fill="rgb(253 253 253)">&quot;</text><text x="372" y="1310"  fill="rgb(255 255 255)">]</text><text x="375" y="1310"  fill="rgb(249 249 249)">;</text><text x="378" y="1310"  fill="rgb(245 245 245)"> private readon</text><text x="423" y="1310"  fill="rgb(255 255 255)">l</text><text x="426" y="1310"  fill="rgb(167 167 167)">y</text><text x="429" y="1310"  fill="rgb(41 41 41)"> </text><text x="432" y="1310"  fill="rgb(44 44 44)">m</text><text x="435" y="1310"  fill="rgb(49 49 49)">toke</text><text x="447" y="1310"  fill="rgb(47 47 47)">n</text><text x="450" y="1310"  fill="rgb(32 32 32)">:</text><text x="453" y="1310"  fill="rgb(137 137 137)"> </text><text x="456" y="1310"  fill="rgb(255 255 255)">s</text><text x="459" y="1310"  fill="rgb(246 246 246)">t</text><text x="462" y="1310"  fill="rgb(245 245 245)">ring[] = [&quot;MAX&quot;, &quot;</text><text x="516" y="1310"  fill="rgb(246 246 246)">M</text><text x="519" y="1310"  fill="rgb(251 251 251)">I</text><text x="522" y="1310"  fill="rgb(164 164 164)">N</text><text x="525" y="1310"  fill="rgb(46 46 46)">&quot;</text><text x="528" y="1310"  fill="rgb(48 48 48)">,</text><text x="531" y="1310"  fill="rgb(49 49 49)"> &quot;AVG</text><text x="546" y="1310"  fill="rgb(34 34 34)">&quot;</text><text x="549" y="1310"  fill="rgb(162 162 162)">,</text><text x="552" y="1310"  fill="rgb(255 255 255)"> </text><text x="555" y="1310"  fill="rgb(247 247 247)">&quot;</text><text x="558" y="1310"  fill="rgb(245 245 245)">SUM&quot;]; privat</text><text x="597" y="1310"  fill="rgb(244 244 244)">e</text><text x="600" y="1310"  fill="rgb(253 253 253)"> </text><text x="603" y="1310"  fill="rgb(255 255 255)">r</text><text x="606" y="1310"  fill="rgb(148 148 148)">e</text><text x="609" y="1310"  fill="rgb(30 30 30)">a</text><text x="612" y="1310"  fill="rgb(33 33 33)">d</text><text x="615" y="1310"  fill="rgb(51 51 51)">o</text><text x="618" y="1310"  fill="rgb(49 49 49)">nly</text><text x="627" y="1310"  fill="rgb(50 50 50)"> </text><text x="630" y="1310"  fill="rgb(49 49 49)">m</text><text x="633" y="1310"  fill="rgb(22 22 22)">s</text><text x="636" y="1310"  fill="rgb(64 64 64)">t</text><text x="639" y="1310"  fill="rgb(206 206 206)">o</text><text x="642" y="1310"  fill="rgb(255 255 255)">k</text><text x="645" y="1310"  fill="rgb(247 247 247)">e</text><text x="648" y="1310"  fill="rgb(245 245 245)">n: </text><text x="657" y="1310"  fill="rgb(244 244 244)">s</text><text x="660" y="1310"  fill="rgb(253 253 253)">t</text><text x="663" y="1310"  fill="rgb(255 255 255)">r</text><text x="666" y="1310"  fill="rgb(148 148 148)">i</text><text x="669" y="1310"  fill="rgb(30 30 30)">n</text><text x="672" y="1310"  fill="rgb(33 33 33)">g</text><text x="675" y="1310"  fill="rgb(51 51 51)">[</text><text x="678" y="1310"  fill="rgb(49 49 49)">] = </text><text x="690" y="1310"  fill="rgb(52 52 52)">[</text><text x="693" y="1310"  fill="rgb(43 43 43)">&quot;</text><text x="696" y="1310"  fill="rgb(23 23 23)">C</text><text x="699" y="1310"  fill="rgb(115 115 115)">O</text><text x="702" y="1310"  fill="rgb(241 241 241)">U</text><text x="705" y="1310"  fill="rgb(255 255 255)">N</text><text x="708" y="1310"  fill="rgb(244 244 244)">T</text><text x="711" y="1310"  fill="rgb(245 245 245)">&quot;]; private id</text><text x="753" y="1310"  fill="rgb(255 255 255)">I</text><text x="756" y="1310"  fill="rgb(200 200 200)">n</text><text x="759" y="1310"  fill="rgb(61 61 61)">Q</text><text x="762" y="1310"  fill="rgb(39 39 39)">u</text><text x="765" y="1310"  fill="rgb(49 49 49)">ery: </text><text x="780" y="1310"  fill="rgb(28 28 28)">s</text><text x="783" y="1310"  fill="rgb(112 112 112)">t</text><text x="786" y="1310"  fill="rgb(251 251 251)">ri</text><text x="792" y="1310"  fill="rgb(245 245 245)">ng[]; // make </text><text x="834" y="1310"  fill="rgb(249 249 249)">su</text><text x="840" y="1310"  fill="rgb(138 138 138)">r</text><text x="843" y="1310"  fill="rgb(34 34 34)">e</text><text x="846" y="1310"  fill="rgb(49 49 49)"> the </text><text x="861" y="1310"  fill="rgb(47 47 47)">q</text><text x="864" y="1310"  fill="rgb(50 50 50)">u</text><text x="867" y="1310"  fill="rgb(188 188 188)">e</text><text x="870" y="1310"  fill="rgb(252 252 252)">r</text><text x="873" y="1310"  fill="rgb(245 245 245)">y only has one id private keysInQuery: string[]; // all keys appeared in columns after being valid</text><text x="0" y="1315"  fill="rgb(245 245 245)">ated private transformationKey: string[]; // keys appeared in transformation, if th</text><text x="249" y="1315"  fill="rgb(244 244 244)">e</text><text x="252" y="1315"  fill="rgb(254 254 254)">r</text><text x="255" y="1315"  fill="rgb(249 249 249)">e</text><text x="258" y="1315"  fill="rgb(97 97 97)"> </text><text x="261" y="1315"  fill="rgb(21 21 21)">i</text><text x="264" y="1315"  fill="rgb(50 50 50)">s </text><text x="270" y="1315"  fill="rgb(49 49 49)">a t</text><text x="279" y="1315"  fill="rgb(50 50 50)">r</text><text x="282" y="1315"  fill="rgb(45 45 45)">a</text><text x="285" y="1315"  fill="rgb(21 21 21)">n</text><text x="288" y="1315"  fill="rgb(89 89 89)">s</text><text x="291" y="1315"  fill="rgb(222 222 222)">f</text><text x="294" y="1315"  fill="rgb(255 255 255)">o</text><text x="297" y="1315"  fill="rgb(252 252 252)">r</text><text x="300" y="1315"  fill="rgb(248 248 248)">m</text><text x="303" y="1315"  fill="rgb(247 247 247)">a</text><text x="306" y="1315"  fill="rgb(245 245 245)">tion private a</text><text x="348" y="1315"  fill="rgb(246 246 246)">l</text><text x="351" y="1315"  fill="rgb(247 247 247)">l</text><text x="354" y="1315"  fill="rgb(248 248 248)">I</text><text x="357" y="1315"  fill="rgb(249 249 249)">n</text><text x="360" y="1315"  fill="rgb(251 251 251)">s</text><text x="363" y="1315"  fill="rgb(255 255 255)">i</text><text x="366" y="1315"  fill="rgb(252 252 252)">g</text><text x="369" y="1315"  fill="rgb(214 214 214)">h</text><text x="372" y="1315"  fill="rgb(193 193 193)">t</text><text x="375" y="1315"  fill="rgb(235 235 235)">D</text><text x="378" y="1315"  fill="rgb(254 254 254)">a</text><text x="381" y="1315"  fill="rgb(246 246 246)">t</text><text x="384" y="1315"  fill="rgb(245 245 245)">aset: Insight</text><text x="423" y="1315"  fill="rgb(255 255 255)">D</text><text x="426" y="1315"  fill="rgb(179 179 179)">a</text><text x="429" y="1315"  fill="rgb(48 48 48)">t</text><text x="432" y="1315"  fill="rgb(42 42 42)">a</text><text x="435" y="1315"  fill="rgb(49 49 49)">set[]</text><text x="450" y="1315"  fill="rgb(26 26 26)">;</text><text x="453" y="1315"  fill="rgb(108 108 108)"> </text><text x="456" y="1315"  fill="rgb(255 255 255)">p</text><text x="459" y="1315"  fill="rgb(252 252 252)">r</text><text x="462" y="1315"  fill="rgb(245 245 245)">ivate mfields: str</text><text x="516" y="1315"  fill="rgb(246 246 246)">i</text><text x="519" y="1315"  fill="rgb(251 251 251)">n</text><text x="522" y="1315"  fill="rgb(164 164 164)">g</text><text x="525" y="1315"  fill="rgb(46 46 46)">[</text><text x="528" y="1315"  fill="rgb(48 48 48)">]</text><text x="531" y="1315"  fill="rgb(49 49 49)">; pri</text><text x="546" y="1315"  fill="rgb(34 34 34)">v</text><text x="549" y="1315"  fill="rgb(162 162 162)">a</text><text x="552" y="1315"  fill="rgb(255 255 255)">t</text><text x="555" y="1315"  fill="rgb(247 247 247)">e</text><text x="558" y="1315"  fill="rgb(245 245 245)"> sfields: str</text><text x="597" y="1315"  fill="rgb(255 255 255)">i</text><text x="600" y="1315"  fill="rgb(249 249 249)">n</text><text x="603" y="1315"  fill="rgb(124 124 124)">g</text><text x="606" y="1315"  fill="rgb(19 19 19)">[</text><text x="609" y="1315"  fill="rgb(35 35 35)">]</text><text x="612" y="1315"  fill="rgb(52 52 52)">;</text><text x="615" y="1315"  fill="rgb(49 49 49)"> co</text><text x="624" y="1315"  fill="rgb(50 50 50)">n</text><text x="627" y="1315"  fill="rgb(44 44 44)">s</text><text x="630" y="1315"  fill="rgb(19 19 19)">t</text><text x="633" y="1315"  fill="rgb(83 83 83)">r</text><text x="636" y="1315"  fill="rgb(228 228 228)">u</text><text x="639" y="1315"  fill="rgb(255 255 255)">c</text><text x="642" y="1315"  fill="rgb(248 248 248)">t</text><text x="645" y="1315"  fill="rgb(244 244 244)">o</text><text x="648" y="1315"  fill="rgb(245 245 245)">r(in</text><text x="660" y="1315"  fill="rgb(244 244 244)">s</text><text x="663" y="1315"  fill="rgb(253 253 253)">i</text><text x="666" y="1315"  fill="rgb(255 255 255)">g</text><text x="669" y="1315"  fill="rgb(171 171 171)">h</text><text x="672" y="1315"  fill="rgb(42 42 42)">t</text><text x="675" y="1315"  fill="rgb(32 32 32)">D</text><text x="678" y="1315"  fill="rgb(50 50 50)">a</text><text x="681" y="1315"  fill="rgb(49 49 49)">tase</text><text x="693" y="1315"  fill="rgb(52 52 52)">t</text><text x="696" y="1315"  fill="rgb(45 45 45)">s</text><text x="699" y="1315"  fill="rgb(21 21 21)">:</text><text x="702" y="1315"  fill="rgb(91 91 91)"> </text><text x="705" y="1315"  fill="rgb(222 222 222)">I</text><text x="708" y="1315"  fill="rgb(255 255 255)">n</text><text x="711" y="1315"  fill="rgb(245 245 245)">sightDataset[]</text><text x="753" y="1315"  fill="rgb(255 255 255)">)</text><text x="756" y="1315"  fill="rgb(200 200 200)"> </text><text x="759" y="1315"  fill="rgb(61 61 61)">{</text><text x="762" y="1315"  fill="rgb(39 39 39)"> </text><text x="765" y="1315"  fill="rgb(49 49 49)">this.</text><text x="780" y="1315"  fill="rgb(28 28 28)">i</text><text x="783" y="1315"  fill="rgb(112 112 112)">d</text><text x="786" y="1315"  fill="rgb(251 251 251)">In</text><text x="792" y="1315"  fill="rgb(245 245 245)">Query = []; th</text><text x="834" y="1315"  fill="rgb(249 249 249)">is</text><text x="840" y="1315"  fill="rgb(138 138 138)">.</text><text x="843" y="1315"  fill="rgb(34 34 34)">k</text><text x="846" y="1315"  fill="rgb(49 49 49)">eysIn</text><text x="861" y="1315"  fill="rgb(47 47 47)">Q</text><text x="864" y="1315"  fill="rgb(50 50 50)">u</text><text x="867" y="1315"  fill="rgb(188 188 188)">e</text><text x="870" y="1315"  fill="rgb(252 252 252)">r</text><text x="873" y="1315"  fill="rgb(245 245 245)">y = []; this.transformationKey = []; this.allInsightDataset = insightDatasets; } public validate(q</text><text x="0" y="1320"  fill="rgb(245 245 245)">: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (l</text><text x="255" y="1320"  fill="rgb(255 255 255)">e</text><text x="258" y="1320"  fill="rgb(226 226 226)">t</text><text x="261" y="1320"  fill="rgb(71 71 71)"> </text><text x="264" y="1320"  fill="rgb(21 21 21)">k</text><text x="267" y="1320"  fill="rgb(45 45 45)">e</text><text x="270" y="1320"  fill="rgb(51 51 51)">y</text><text x="273" y="1320"  fill="rgb(49 49 49)"> of</text><text x="282" y="1320"  fill="rgb(50 50 50)"> </text><text x="285" y="1320"  fill="rgb(44 44 44)">O</text><text x="288" y="1320"  fill="rgb(20 20 20)">b</text><text x="291" y="1320"  fill="rgb(61 61 61)">j</text><text x="294" y="1320"  fill="rgb(149 149 149)">e</text><text x="297" y="1320"  fill="rgb(219 219 219)">c</text><text x="300" y="1320"  fill="rgb(248 248 248)">t</text><text x="303" y="1320"  fill="rgb(253 253 253)">.</text><text x="306" y="1320"  fill="rgb(255 255 255)">ke</text><text x="312" y="1320"  fill="rgb(254 254 254)">y</text><text x="315" y="1320"  fill="rgb(252 252 252)">s</text><text x="318" y="1320"  fill="rgb(251 251 251)">(</text><text x="321" y="1320"  fill="rgb(250 250 250)">q)) </text><text x="333" y="1320"  fill="rgb(251 251 251)">{</text><text x="336" y="1320"  fill="rgb(252 252 252)"> </text><text x="339" y="1320"  fill="rgb(253 253 253)">i</text><text x="342" y="1320"  fill="rgb(255 255 255)">f (</text><text x="351" y="1320"  fill="rgb(253 253 253)">k</text><text x="354" y="1320"  fill="rgb(248 248 248)">e</text><text x="357" y="1320"  fill="rgb(241 241 241)">y</text><text x="360" y="1320"  fill="rgb(206 206 206)"> </text><text x="363" y="1320"  fill="rgb(159 159 159)">!</text><text x="366" y="1320"  fill="rgb(105 105 105)">=</text><text x="369" y="1320"  fill="rgb(57 57 57)">=</text><text x="372" y="1320"  fill="rgb(39 39 39)"> </text><text x="375" y="1320"  fill="rgb(83 83 83)">&quot;</text><text x="378" y="1320"  fill="rgb(201 201 201)">O</text><text x="381" y="1320"  fill="rgb(255 255 255)">P</text><text x="384" y="1320"  fill="rgb(247 247 247)">T</text><text x="387" y="1320"  fill="rgb(244 244 244)">I</text><text x="390" y="1320"  fill="rgb(245 245 245)">ONS&quot; &amp;&amp; key</text><text x="423" y="1320"  fill="rgb(255 255 255)"> </text><text x="426" y="1320"  fill="rgb(212 212 212)">!</text><text x="429" y="1320"  fill="rgb(60 60 60)">=</text><text x="432" y="1320"  fill="rgb(36 36 36)">=</text><text x="435" y="1320"  fill="rgb(50 50 50)"> </text><text x="438" y="1320"  fill="rgb(49 49 49)">&quot;WHE</text><text x="450" y="1320"  fill="rgb(41 41 41)">R</text><text x="453" y="1320"  fill="rgb(47 47 47)">E</text><text x="456" y="1320"  fill="rgb(191 191 191)">&quot;</text><text x="459" y="1320"  fill="rgb(255 255 255)"> &amp;</text><text x="465" y="1320"  fill="rgb(252 252 252)">&amp;</text><text x="468" y="1320"  fill="rgb(250 250 250)"> ke</text><text x="477" y="1320"  fill="rgb(251 251 251)">y</text><text x="480" y="1320"  fill="rgb(253 253 253)"> </text><text x="483" y="1320"  fill="rgb(255 255 255)">!</text><text x="486" y="1320"  fill="rgb(249 249 249)">=</text><text x="489" y="1320"  fill="rgb(244 244 244)">=</text><text x="492" y="1320"  fill="rgb(245 245 245)"> &quot;TRANSF</text><text x="516" y="1320"  fill="rgb(246 246 246)">O</text><text x="519" y="1320"  fill="rgb(251 251 251)">R</text><text x="522" y="1320"  fill="rgb(164 164 164)">M</text><text x="525" y="1320"  fill="rgb(46 46 46)">A</text><text x="528" y="1320"  fill="rgb(48 48 48)">T</text><text x="531" y="1320"  fill="rgb(49 49 49)">IONS&quot;</text><text x="546" y="1320"  fill="rgb(34 34 34)">)</text><text x="549" y="1320"  fill="rgb(162 162 162)"> </text><text x="552" y="1320"  fill="rgb(255 255 255)">{</text><text x="555" y="1320"  fill="rgb(247 247 247)"> </text><text x="558" y="1320"  fill="rgb(245 245 245)">throw new I</text><text x="591" y="1320"  fill="rgb(246 246 246)">n</text><text x="594" y="1320"  fill="rgb(255 255 255)">s</text><text x="597" y="1320"  fill="rgb(235 235 235)">i</text><text x="600" y="1320"  fill="rgb(108 108 108)">g</text><text x="603" y="1320"  fill="rgb(21 21 21)">h</text><text x="606" y="1320"  fill="rgb(39 39 39)">t</text><text x="609" y="1320"  fill="rgb(52 52 52)">E</text><text x="612" y="1320"  fill="rgb(49 49 49)">rro</text><text x="621" y="1320"  fill="rgb(51 51 51)">r</text><text x="624" y="1320"  fill="rgb(40 40 40)">(</text><text x="627" y="1320"  fill="rgb(26 26 26)">)</text><text x="630" y="1320"  fill="rgb(105 105 105)">;</text><text x="633" y="1320"  fill="rgb(235 235 235)"> </text><text x="636" y="1320"  fill="rgb(255 255 255)">}</text><text x="639" y="1320"  fill="rgb(246 246 246)"> </text><text x="642" y="1320"  fill="rgb(244 244 244)">}</text><text x="645" y="1320"  fill="rgb(245 245 245)"> this.</text><text x="663" y="1320"  fill="rgb(244 244 244)">v</text><text x="666" y="1320"  fill="rgb(250 250 250)">a</text><text x="669" y="1320"  fill="rgb(255 255 255)">l</text><text x="672" y="1320"  fill="rgb(189 189 189)">i</text><text x="675" y="1320"  fill="rgb(61 61 61)">d</text><text x="678" y="1320"  fill="rgb(28 28 28)">a</text><text x="681" y="1320"  fill="rgb(49 49 49)">t</text><text x="684" y="1320"  fill="rgb(50 50 50)">e</text><text x="687" y="1320"  fill="rgb(49 49 49)">Whe</text><text x="696" y="1320"  fill="rgb(51 51 51)">r</text><text x="699" y="1320"  fill="rgb(44 44 44)">e</text><text x="702" y="1320"  fill="rgb(19 19 19)">(</text><text x="705" y="1320"  fill="rgb(74 74 74)">q</text><text x="708" y="1320"  fill="rgb(210 210 210)">.</text><text x="711" y="1320"  fill="rgb(255 255 255)">W</text><text x="714" y="1320"  fill="rgb(248 248 248)">H</text><text x="717" y="1320"  fill="rgb(244 244 244)">E</text><text x="720" y="1320"  fill="rgb(245 245 245)">RE); if (q.</text><text x="753" y="1320"  fill="rgb(255 255 255)">T</text><text x="756" y="1320"  fill="rgb(200 200 200)">R</text><text x="759" y="1320"  fill="rgb(61 61 61)">A</text><text x="762" y="1320"  fill="rgb(39 39 39)">N</text><text x="765" y="1320"  fill="rgb(49 49 49)">SFORM</text><text x="780" y="1320"  fill="rgb(28 28 28)">A</text><text x="783" y="1320"  fill="rgb(112 112 112)">T</text><text x="786" y="1320"  fill="rgb(251 251 251)">IO</text><text x="792" y="1320"  fill="rgb(245 245 245)">NS) { this.val</text><text x="834" y="1320"  fill="rgb(249 249 249)">id</text><text x="840" y="1320"  fill="rgb(138 138 138)">a</text><text x="843" y="1320"  fill="rgb(34 34 34)">t</text><text x="846" y="1320"  fill="rgb(49 49 49)">eTran</text><text x="861" y="1320"  fill="rgb(47 47 47)">s</text><text x="864" y="1320"  fill="rgb(50 50 50)">f</text><text x="867" y="1320"  fill="rgb(188 188 188)">o</text><text x="870" y="1320"  fill="rgb(252 252 252)">r</text><text x="873" y="1320"  fill="rgb(245 245 245)">mations(q.TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public validateTransformations(q:</text><text x="0" y="1325"  fill="rgb(245 245 245)"> any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; ||</text><text x="255" y="1325"  fill="rgb(246 246 246)"> </text><text x="258" y="1325"  fill="rgb(255 255 255)">O</text><text x="261" y="1325"  fill="rgb(216 216 216)">b</text><text x="264" y="1325"  fill="rgb(79 79 79)">j</text><text x="267" y="1325"  fill="rgb(16 16 16)">e</text><text x="270" y="1325"  fill="rgb(34 34 34)">c</text><text x="273" y="1325"  fill="rgb(50 50 50)">t</text><text x="276" y="1325"  fill="rgb(51 51 51)">.</text><text x="279" y="1325"  fill="rgb(49 49 49)">ke</text><text x="285" y="1325"  fill="rgb(50 50 50)">y</text><text x="288" y="1325"  fill="rgb(49 49 49)">s</text><text x="291" y="1325"  fill="rgb(33 33 33)">(</text><text x="294" y="1325"  fill="rgb(29 29 29)">q</text><text x="297" y="1325"  fill="rgb(61 61 61)">)</text><text x="300" y="1325"  fill="rgb(111 111 111)">.</text><text x="303" y="1325"  fill="rgb(161 161 161)">l</text><text x="306" y="1325"  fill="rgb(204 204 204)">e</text><text x="309" y="1325"  fill="rgb(229 229 229)">n</text><text x="312" y="1325"  fill="rgb(237 237 237)">g</text><text x="315" y="1325"  fill="rgb(242 242 242)">t</text><text x="318" y="1325"  fill="rgb(247 247 247)">h</text><text x="321" y="1325"  fill="rgb(249 249 249)"> </text><text x="324" y="1325"  fill="rgb(251 251 251)">!</text><text x="327" y="1325"  fill="rgb(252 252 252)">=</text><text x="330" y="1325"  fill="rgb(249 249 249)">=</text><text x="333" y="1325"  fill="rgb(248 248 248)"> </text><text x="336" y="1325"  fill="rgb(243 243 243)">2</text><text x="339" y="1325"  fill="rgb(238 238 238)">)</text><text x="342" y="1325"  fill="rgb(232 232 232)"> </text><text x="345" y="1325"  fill="rgb(222 222 222)">{</text><text x="348" y="1325"  fill="rgb(196 196 196)"> </text><text x="351" y="1325"  fill="rgb(161 161 161)">t</text><text x="354" y="1325"  fill="rgb(121 121 121)">h</text><text x="357" y="1325"  fill="rgb(87 87 87)">r</text><text x="360" y="1325"  fill="rgb(53 53 53)">o</text><text x="363" y="1325"  fill="rgb(32 32 32)">w</text><text x="366" y="1325"  fill="rgb(26 26 26)"> </text><text x="369" y="1325"  fill="rgb(35 35 35)">n</text><text x="372" y="1325"  fill="rgb(38 38 38)">e</text><text x="375" y="1325"  fill="rgb(22 22 22)">w</text><text x="378" y="1325"  fill="rgb(56 56 56)"> </text><text x="381" y="1325"  fill="rgb(200 200 200)">I</text><text x="384" y="1325"  fill="rgb(254 254 254)">n</text><text x="387" y="1325"  fill="rgb(246 246 246)">s</text><text x="390" y="1325"  fill="rgb(245 245 245)">ightError()</text><text x="423" y="1325"  fill="rgb(247 247 247)">;</text><text x="426" y="1325"  fill="rgb(255 255 255)"> </text><text x="429" y="1325"  fill="rgb(102 102 102)">}</text><text x="432" y="1325"  fill="rgb(24 24 24)"> </text><text x="435" y="1325"  fill="rgb(49 49 49)">this.</text><text x="450" y="1325"  fill="rgb(51 51 51)">v</text><text x="453" y="1325"  fill="rgb(35 35 35)">a</text><text x="456" y="1325"  fill="rgb(62 62 62)">l</text><text x="459" y="1325"  fill="rgb(175 175 175)">i</text><text x="462" y="1325"  fill="rgb(237 237 237)">d</text><text x="465" y="1325"  fill="rgb(246 246 246)">a</text><text x="468" y="1325"  fill="rgb(251 251 251)">t</text><text x="471" y="1325"  fill="rgb(252 252 252)">e</text><text x="474" y="1325"  fill="rgb(249 249 249)">G</text><text x="477" y="1325"  fill="rgb(245 245 245)">R</text><text x="480" y="1325"  fill="rgb(238 238 238)">O</text><text x="483" y="1325"  fill="rgb(231 231 231)">U</text><text x="486" y="1325"  fill="rgb(252 252 252)">P(</text><text x="492" y="1325"  fill="rgb(244 244 244)">q</text><text x="495" y="1325"  fill="rgb(245 245 245)">.GROUP)</text><text x="516" y="1325"  fill="rgb(246 246 246)">;</text><text x="519" y="1325"  fill="rgb(251 251 251)"> </text><text x="522" y="1325"  fill="rgb(164 164 164)">t</text><text x="525" y="1325"  fill="rgb(46 46 46)">h</text><text x="528" y="1325"  fill="rgb(48 48 48)">i</text><text x="531" y="1325"  fill="rgb(49 49 49)">s.val</text><text x="546" y="1325"  fill="rgb(34 34 34)">i</text><text x="549" y="1325"  fill="rgb(162 162 162)">d</text><text x="552" y="1325"  fill="rgb(255 255 255)">a</text><text x="555" y="1325"  fill="rgb(247 247 247)">t</text><text x="558" y="1325"  fill="rgb(245 245 245)">eAPPLY(q.</text><text x="585" y="1325"  fill="rgb(244 244 244)">A</text><text x="588" y="1325"  fill="rgb(247 247 247)">P</text><text x="591" y="1325"  fill="rgb(255 255 255)">P</text><text x="594" y="1325"  fill="rgb(221 221 221)">L</text><text x="597" y="1325"  fill="rgb(90 90 90)">Y</text><text x="600" y="1325"  fill="rgb(26 26 26)">)</text><text x="603" y="1325"  fill="rgb(44 44 44)">;</text><text x="606" y="1325"  fill="rgb(51 51 51)"> </text><text x="609" y="1325"  fill="rgb(49 49 49)">} p</text><text x="618" y="1325"  fill="rgb(52 52 52)">r</text><text x="621" y="1325"  fill="rgb(36 36 36)">i</text><text x="624" y="1325"  fill="rgb(27 27 27)">v</text><text x="627" y="1325"  fill="rgb(127 127 127)">a</text><text x="630" y="1325"  fill="rgb(243 243 243)">t</text><text x="633" y="1325"  fill="rgb(255 255 255)">e</text><text x="636" y="1325"  fill="rgb(245 245 245)"> validateGR</text><text x="669" y="1325"  fill="rgb(249 249 249)">O</text><text x="672" y="1325"  fill="rgb(255 255 255)">U</text><text x="675" y="1325"  fill="rgb(207 207 207)">P</text><text x="678" y="1325"  fill="rgb(71 71 71)">(</text><text x="681" y="1325"  fill="rgb(18 18 18)">q</text><text x="684" y="1325"  fill="rgb(45 45 45)">:</text><text x="687" y="1325"  fill="rgb(51 51 51)"> </text><text x="690" y="1325"  fill="rgb(49 49 49)">any</text><text x="699" y="1325"  fill="rgb(50 50 50)">)</text><text x="702" y="1325"  fill="rgb(46 46 46)">:</text><text x="705" y="1325"  fill="rgb(25 25 25)"> </text><text x="708" y="1325"  fill="rgb(58 58 58)">v</text><text x="711" y="1325"  fill="rgb(199 199 199)">o</text><text x="714" y="1325"  fill="rgb(255 255 255)">i</text><text x="717" y="1325"  fill="rgb(251 251 251)">d</text><text x="720" y="1325"  fill="rgb(244 244 244)"> </text><text x="723" y="1325"  fill="rgb(245 245 245)">{ if (!Arr</text><text x="753" y="1325"  fill="rgb(255 255 255)">a</text><text x="756" y="1325"  fill="rgb(200 200 200)">y</text><text x="759" y="1325"  fill="rgb(61 61 61)">.</text><text x="762" y="1325"  fill="rgb(39 39 39)">i</text><text x="765" y="1325"  fill="rgb(49 49 49)">sArra</text><text x="780" y="1325"  fill="rgb(28 28 28)">y</text><text x="783" y="1325"  fill="rgb(112 112 112)">(</text><text x="786" y="1325"  fill="rgb(251 251 251)">q)</text><text x="792" y="1325"  fill="rgb(245 245 245)"> || q.length &lt;</text><text x="834" y="1325"  fill="rgb(249 249 249)"> 1</text><text x="840" y="1325"  fill="rgb(138 138 138)">)</text><text x="843" y="1325"  fill="rgb(34 34 34)"> </text><text x="846" y="1325"  fill="rgb(49 49 49)">{ thr</text><text x="861" y="1325"  fill="rgb(47 47 47)">o</text><text x="864" y="1325"  fill="rgb(50 50 50)">w</text><text x="867" y="1325"  fill="rgb(188 188 188)"> </text><text x="870" y="1325"  fill="rgb(252 252 252)">n</text><text x="873" y="1325"  fill="rgb(245 245 245)">ew InsightError(); // q should be an object, and should has at least one element } for (let key of</text><text x="0" y="1330"  fill="rgb(245 245 245)"> q) { this.validateKey(key); this.transformationKey.push(key); // if the key is valid, </text><text x="261" y="1330"  fill="rgb(255 255 255)">p</text><text x="264" y="1330"  fill="rgb(228 228 228)">u</text><text x="267" y="1330"  fill="rgb(114 114 114)">s</text><text x="270" y="1330"  fill="rgb(27 27 27)">h</text><text x="273" y="1330"  fill="rgb(20 20 20)"> </text><text x="276" y="1330"  fill="rgb(40 40 40)">i</text><text x="279" y="1330"  fill="rgb(52 52 52)">t </text><text x="285" y="1330"  fill="rgb(50 50 50)">t</text><text x="288" y="1330"  fill="rgb(49 49 49)">o </text><text x="294" y="1330"  fill="rgb(46 46 46)">t</text><text x="297" y="1330"  fill="rgb(36 36 36)">r</text><text x="300" y="1330"  fill="rgb(23 23 23)">a</text><text x="303" y="1330"  fill="rgb(27 27 27)">n</text><text x="306" y="1330"  fill="rgb(43 43 43)">s</text><text x="309" y="1330"  fill="rgb(64 64 64)">f</text><text x="312" y="1330"  fill="rgb(88 88 88)">o</text><text x="315" y="1330"  fill="rgb(105 105 105)">r</text><text x="318" y="1330"  fill="rgb(117 117 117)">m</text><text x="321" y="1330"  fill="rgb(122 122 122)">a</text><text x="324" y="1330"  fill="rgb(129 129 129)">t</text><text x="327" y="1330"  fill="rgb(130 130 130)">i</text><text x="330" y="1330"  fill="rgb(123 123 123)">o</text><text x="333" y="1330"  fill="rgb(119 119 119)">n</text><text x="336" y="1330"  fill="rgb(107 107 107)">K</text><text x="339" y="1330"  fill="rgb(94 94 94)">e</text><text x="342" y="1330"  fill="rgb(73 73 73)">y</text><text x="345" y="1330"  fill="rgb(55 55 55)"> </text><text x="348" y="1330"  fill="rgb(40 40 40)">}</text><text x="351" y="1330"  fill="rgb(26 26 26)"> </text><text x="354" y="1330"  fill="rgb(22 22 22)">}</text><text x="357" y="1330"  fill="rgb(30 30 30)"> </text><text x="360" y="1330"  fill="rgb(39 39 39)">p</text><text x="363" y="1330"  fill="rgb(45 45 45)">r</text><text x="366" y="1330"  fill="rgb(50 50 50)">i</text><text x="369" y="1330"  fill="rgb(51 51 51)">v</text><text x="372" y="1330"  fill="rgb(53 53 53)">at</text><text x="378" y="1330"  fill="rgb(8 8 8)">e</text><text x="381" y="1330"  fill="rgb(55 55 55)"> </text><text x="384" y="1330"  fill="rgb(230 230 230)">v</text><text x="387" y="1330"  fill="rgb(255 255 255)">a</text><text x="390" y="1330"  fill="rgb(245 245 245)">lidateKey(ke</text><text x="426" y="1330"  fill="rgb(253 253 253)">y</text><text x="429" y="1330"  fill="rgb(204 204 204)">:</text><text x="432" y="1330"  fill="rgb(45 45 45)"> </text><text x="435" y="1330"  fill="rgb(29 29 29)">s</text><text x="438" y="1330"  fill="rgb(53 53 53)">t</text><text x="441" y="1330"  fill="rgb(50 50 50)">r</text><text x="444" y="1330"  fill="rgb(49 49 49)">ing</text><text x="453" y="1330"  fill="rgb(51 51 51)">)</text><text x="456" y="1330"  fill="rgb(34 34 34)">:</text><text x="459" y="1330"  fill="rgb(33 33 33)"> </text><text x="462" y="1330"  fill="rgb(75 75 75)">v</text><text x="465" y="1330"  fill="rgb(110 110 110)">o</text><text x="468" y="1330"  fill="rgb(128 128 128)">i</text><text x="471" y="1330"  fill="rgb(130 130 130)">d</text><text x="474" y="1330"  fill="rgb(122 122 122)"> </text><text x="477" y="1330"  fill="rgb(112 112 112)">{</text><text x="480" y="1330"  fill="rgb(92 92 92)"> </text><text x="483" y="1330"  fill="rgb(66 66 66)">l</text><text x="486" y="1330"  fill="rgb(149 149 149)">e</text><text x="489" y="1330"  fill="rgb(253 253 253)">t</text><text x="492" y="1330"  fill="rgb(249 249 249)"> </text><text x="495" y="1330"  fill="rgb(245 245 245)">splitte</text><text x="516" y="1330"  fill="rgb(246 246 246)">d</text><text x="519" y="1330"  fill="rgb(251 251 251)">K</text><text x="522" y="1330"  fill="rgb(164 164 164)">e</text><text x="525" y="1330"  fill="rgb(46 46 46)">y</text><text x="528" y="1330"  fill="rgb(48 48 48)">:</text><text x="531" y="1330"  fill="rgb(49 49 49)"> stri</text><text x="546" y="1330"  fill="rgb(34 34 34)">n</text><text x="549" y="1330"  fill="rgb(162 162 162)">g</text><text x="552" y="1330"  fill="rgb(255 255 255)">[</text><text x="555" y="1330"  fill="rgb(247 247 247)">]</text><text x="558" y="1330"  fill="rgb(245 245 245)"> = key.s</text><text x="582" y="1330"  fill="rgb(244 244 244)">p</text><text x="585" y="1330"  fill="rgb(249 249 249)">l</text><text x="588" y="1330"  fill="rgb(255 255 255)">i</text><text x="591" y="1330"  fill="rgb(209 209 209)">t</text><text x="594" y="1330"  fill="rgb(66 66 66)">(</text><text x="597" y="1330"  fill="rgb(24 24 24)">&quot;</text><text x="600" y="1330"  fill="rgb(47 47 47)">_</text><text x="603" y="1330"  fill="rgb(50 50 50)">&quot;</text><text x="606" y="1330"  fill="rgb(49 49 49)">);</text><text x="612" y="1330"  fill="rgb(50 50 50)"> </text><text x="615" y="1330"  fill="rgb(53 53 53)">i</text><text x="618" y="1330"  fill="rgb(32 32 32)">f</text><text x="621" y="1330"  fill="rgb(27 27 27)"> </text><text x="624" y="1330"  fill="rgb(148 148 148)">(</text><text x="627" y="1330"  fill="rgb(255 255 255)">s</text><text x="630" y="1330"  fill="rgb(252 252 252)">p</text><text x="633" y="1330"  fill="rgb(245 245 245)">littedKey.len</text><text x="672" y="1330"  fill="rgb(246 246 246)">g</text><text x="675" y="1330"  fill="rgb(255 255 255)">t</text><text x="678" y="1330"  fill="rgb(228 228 228)">h</text><text x="681" y="1330"  fill="rgb(79 79 79)"> </text><text x="684" y="1330"  fill="rgb(15 15 15)">!</text><text x="687" y="1330"  fill="rgb(44 44 44)">=</text><text x="690" y="1330"  fill="rgb(51 51 51)">=</text><text x="693" y="1330"  fill="rgb(49 49 49)"> 2)</text><text x="702" y="1330"  fill="rgb(50 50 50)"> {</text><text x="708" y="1330"  fill="rgb(29 29 29)"> </text><text x="711" y="1330"  fill="rgb(45 45 45)">t</text><text x="714" y="1330"  fill="rgb(185 185 185)">h</text><text x="717" y="1330"  fill="rgb(255 255 255)">r</text><text x="720" y="1330"  fill="rgb(251 251 251)">o</text><text x="723" y="1330"  fill="rgb(244 244 244)">w</text><text x="726" y="1330"  fill="rgb(245 245 245)"> new Insi</text><text x="753" y="1330"  fill="rgb(255 255 255)">g</text><text x="756" y="1330"  fill="rgb(200 200 200)">h</text><text x="759" y="1330"  fill="rgb(61 61 61)">t</text><text x="762" y="1330"  fill="rgb(39 39 39)">E</text><text x="765" y="1330"  fill="rgb(49 49 49)">rror(</text><text x="780" y="1330"  fill="rgb(28 28 28)">)</text><text x="783" y="1330"  fill="rgb(112 112 112)">;</text><text x="786" y="1330"  fill="rgb(251 251 251)"> }</text><text x="792" y="1330"  fill="rgb(245 245 245)"> if (!(this.va</text><text x="834" y="1330"  fill="rgb(249 249 249)">li</text><text x="840" y="1330"  fill="rgb(138 138 138)">d</text><text x="843" y="1330"  fill="rgb(34 34 34)">a</text><text x="846" y="1330"  fill="rgb(49 49 49)">teIds</text><text x="861" y="1330"  fill="rgb(47 47 47)">t</text><text x="864" y="1330"  fill="rgb(50 50 50)">r</text><text x="867" y="1330"  fill="rgb(188 188 188)">i</text><text x="870" y="1330"  fill="rgb(252 252 252)">n</text><text x="873" y="1330"  fill="rgb(245 245 245)">g(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1</text><text x="0" y="1335"  fill="rgb(245 245 245)">])))) { throw new InsightError(); } } private validateAPPLY(q: any): void { if (!Array.</text><text x="261" y="1335"  fill="rgb(244 244 244)">i</text><text x="264" y="1335"  fill="rgb(253 253 253)">s</text><text x="267" y="1335"  fill="rgb(255 255 255)">A</text><text x="270" y="1335"  fill="rgb(184 184 184)">r</text><text x="273" y="1335"  fill="rgb(82 82 82)">r</text><text x="276" y="1335"  fill="rgb(26 26 26)">a</text><text x="279" y="1335"  fill="rgb(23 23 23)">y</text><text x="282" y="1335"  fill="rgb(34 34 34)">(</text><text x="285" y="1335"  fill="rgb(47 47 47)">q</text><text x="288" y="1335"  fill="rgb(53 53 53)">)</text><text x="291" y="1335"  fill="rgb(51 51 51)">)</text><text x="294" y="1335"  fill="rgb(50 50 50)"> </text><text x="297" y="1335"  fill="rgb(51 51 51)">{</text><text x="300" y="1335"  fill="rgb(52 52 52)"> </text><text x="303" y="1335"  fill="rgb(48 48 48)">t</text><text x="306" y="1335"  fill="rgb(38 38 38)">h</text><text x="309" y="1335"  fill="rgb(30 30 30)">r</text><text x="312" y="1335"  fill="rgb(26 26 26)">o</text><text x="315" y="1335"  fill="rgb(25 25 25)">w</text><text x="318" y="1335"  fill="rgb(23 23 23)"> ne</text><text x="327" y="1335"  fill="rgb(22 22 22)">w</text><text x="330" y="1335"  fill="rgb(23 23 23)"> </text><text x="333" y="1335"  fill="rgb(24 24 24)">In</text><text x="339" y="1335"  fill="rgb(26 26 26)">s</text><text x="342" y="1335"  fill="rgb(29 29 29)">i</text><text x="345" y="1335"  fill="rgb(33 33 33)">g</text><text x="348" y="1335"  fill="rgb(40 40 40)">h</text><text x="351" y="1335"  fill="rgb(48 48 48)">t</text><text x="354" y="1335"  fill="rgb(53 53 53)">E</text><text x="357" y="1335"  fill="rgb(52 52 52)">rror</text><text x="369" y="1335"  fill="rgb(44 44 44)">(</text><text x="372" y="1335"  fill="rgb(32 32 32)">)</text><text x="375" y="1335"  fill="rgb(20 20 20)">;</text><text x="378" y="1335"  fill="rgb(28 28 28)"> </text><text x="381" y="1335"  fill="rgb(114 114 114)">/</text><text x="384" y="1335"  fill="rgb(237 237 237)">/</text><text x="387" y="1335"  fill="rgb(251 251 251)"> </text><text x="390" y="1335"  fill="rgb(245 245 245)">q should be </text><text x="426" y="1335"  fill="rgb(244 244 244)">a</text><text x="429" y="1335"  fill="rgb(255 255 255)">n</text><text x="432" y="1335"  fill="rgb(176 176 176)"> </text><text x="435" y="1335"  fill="rgb(40 40 40)">a</text><text x="438" y="1335"  fill="rgb(25 25 25)">r</text><text x="441" y="1335"  fill="rgb(48 48 48)">r</text><text x="444" y="1335"  fill="rgb(53 53 53)">a</text><text x="447" y="1335"  fill="rgb(50 50 50)">y</text><text x="450" y="1335"  fill="rgb(49 49 49)">, </text><text x="456" y="1335"  fill="rgb(52 52 52)">a</text><text x="459" y="1335"  fill="rgb(44 44 44)">n</text><text x="462" y="1335"  fill="rgb(29 29 29)">d</text><text x="465" y="1335"  fill="rgb(24 24 24)"> </text><text x="468" y="1335"  fill="rgb(23 23 23)">s</text><text x="471" y="1335"  fill="rgb(22 22 22)">h</text><text x="474" y="1335"  fill="rgb(23 23 23)">o</text><text x="477" y="1335"  fill="rgb(24 24 24)">u</text><text x="480" y="1335"  fill="rgb(26 26 26)">l</text><text x="483" y="1335"  fill="rgb(24 24 24)">d</text><text x="486" y="1335"  fill="rgb(22 22 22)"> </text><text x="489" y="1335"  fill="rgb(183 183 183)">h</text><text x="492" y="1335"  fill="rgb(255 255 255)">a</text><text x="495" y="1335"  fill="rgb(246 246 246)">v</text><text x="498" y="1335"  fill="rgb(245 245 245)">e at l</text><text x="516" y="1335"  fill="rgb(246 246 246)">e</text><text x="519" y="1335"  fill="rgb(251 251 251)">a</text><text x="522" y="1335"  fill="rgb(165 165 165)">s</text><text x="525" y="1335"  fill="rgb(47 47 47)">t</text><text x="528" y="1335"  fill="rgb(48 48 48)"> </text><text x="531" y="1335"  fill="rgb(49 49 49)">one e</text><text x="546" y="1335"  fill="rgb(35 35 35)">l</text><text x="549" y="1335"  fill="rgb(163 163 163)">e</text><text x="552" y="1335"  fill="rgb(255 255 255)">m</text><text x="555" y="1335"  fill="rgb(247 247 247)">e</text><text x="558" y="1335"  fill="rgb(245 245 245)">nt } for</text><text x="582" y="1335"  fill="rgb(250 250 250)"> </text><text x="585" y="1335"  fill="rgb(255 255 255)">(</text><text x="588" y="1335"  fill="rgb(189 189 189)">l</text><text x="591" y="1335"  fill="rgb(47 47 47)">e</text><text x="594" y="1335"  fill="rgb(25 25 25)">t</text><text x="597" y="1335"  fill="rgb(50 50 50)"> a</text><text x="603" y="1335"  fill="rgb(49 49 49)">pp</text><text x="609" y="1335"  fill="rgb(50 50 50)">l</text><text x="612" y="1335"  fill="rgb(51 51 51)">y</text><text x="615" y="1335"  fill="rgb(29 29 29)">r</text><text x="618" y="1335"  fill="rgb(38 38 38)">u</text><text x="621" y="1335"  fill="rgb(171 171 171)">l</text><text x="624" y="1335"  fill="rgb(255 255 255)">e</text><text x="627" y="1335"  fill="rgb(251 251 251)"> </text><text x="630" y="1335"  fill="rgb(244 244 244)">o</text><text x="633" y="1335"  fill="rgb(245 245 245)">f q) { if (Arr</text><text x="675" y="1335"  fill="rgb(244 244 244)">a</text><text x="678" y="1335"  fill="rgb(255 255 255)">y</text><text x="681" y="1335"  fill="rgb(241 241 241)">.</text><text x="684" y="1335"  fill="rgb(101 101 101)">i</text><text x="687" y="1335"  fill="rgb(22 22 22)">s</text><text x="690" y="1335"  fill="rgb(43 43 43)">A</text><text x="693" y="1335"  fill="rgb(51 51 51)">r</text><text x="696" y="1335"  fill="rgb(49 49 49)">ray(</text><text x="708" y="1335"  fill="rgb(52 52 52)">a</text><text x="711" y="1335"  fill="rgb(36 36 36)">p</text><text x="714" y="1335"  fill="rgb(35 35 35)">p</text><text x="717" y="1335"  fill="rgb(161 161 161)">l</text><text x="720" y="1335"  fill="rgb(255 255 255)">y</text><text x="723" y="1335"  fill="rgb(249 249 249)">r</text><text x="726" y="1335"  fill="rgb(244 244 244)">u</text><text x="729" y="1335"  fill="rgb(245 245 245)">le) || O</text><text x="753" y="1335"  fill="rgb(255 255 255)">b</text><text x="756" y="1335"  fill="rgb(201 201 201)">j</text><text x="759" y="1335"  fill="rgb(62 62 62)">e</text><text x="762" y="1335"  fill="rgb(39 39 39)">c</text><text x="765" y="1335"  fill="rgb(49 49 49)">t.key</text><text x="780" y="1335"  fill="rgb(28 28 28)">s</text><text x="783" y="1335"  fill="rgb(113 113 113)">(</text><text x="786" y="1335"  fill="rgb(251 251 251)">ap</text><text x="792" y="1335"  fill="rgb(245 245 245)">plyrule).lengt</text><text x="834" y="1335"  fill="rgb(249 249 249)">h </text><text x="840" y="1335"  fill="rgb(139 139 139)">&gt;</text><text x="843" y="1335"  fill="rgb(34 34 34)"> </text><text x="846" y="1335"  fill="rgb(49 49 49)">1) { </text><text x="861" y="1335"  fill="rgb(47 47 47)">t</text><text x="864" y="1335"  fill="rgb(51 51 51)">h</text><text x="867" y="1335"  fill="rgb(189 189 189)">r</text><text x="870" y="1335"  fill="rgb(252 252 252)">o</text><text x="873" y="1335"  fill="rgb(245 245 245)">w new InsightError(); } let applykey: string = Object.keys(applyrule)[0]; let criteria = applyrule</text><text x="0" y="1340"  fill="rgb(245 245 245)">[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this.transformationKe</text><text x="264" y="1340"  fill="rgb(244 244 244)">y</text><text x="267" y="1340"  fill="rgb(251 251 251)">.</text><text x="270" y="1340"  fill="rgb(255 255 255)">i</text><text x="273" y="1340"  fill="rgb(243 243 243)">n</text><text x="276" y="1340"  fill="rgb(182 182 182)">c</text><text x="279" y="1340"  fill="rgb(104 104 104)">l</text><text x="282" y="1340"  fill="rgb(49 49 49)">u</text><text x="285" y="1340"  fill="rgb(26 26 26)">d</text><text x="288" y="1340"  fill="rgb(23 23 23)">e</text><text x="291" y="1340"  fill="rgb(32 32 32)">s</text><text x="294" y="1340"  fill="rgb(39 39 39)">(</text><text x="297" y="1340"  fill="rgb(42 42 42)">a</text><text x="300" y="1340"  fill="rgb(46 46 46)">p</text><text x="303" y="1340"  fill="rgb(48 48 48)">p</text><text x="306" y="1340"  fill="rgb(50 50 50)">l</text><text x="309" y="1340"  fill="rgb(52 52 52)">y</text><text x="312" y="1340"  fill="rgb(51 51 51)">key)</text><text x="324" y="1340"  fill="rgb(50 50 50)">) </text><text x="330" y="1340"  fill="rgb(51 51 51)">{ th</text><text x="342" y="1340"  fill="rgb(52 52 52)">r</text><text x="345" y="1340"  fill="rgb(51 51 51)">o</text><text x="348" y="1340"  fill="rgb(50 50 50)">w</text><text x="351" y="1340"  fill="rgb(47 47 47)"> </text><text x="354" y="1340"  fill="rgb(43 43 43)">n</text><text x="357" y="1340"  fill="rgb(39 39 39)">e</text><text x="360" y="1340"  fill="rgb(35 35 35)">w</text><text x="363" y="1340"  fill="rgb(27 27 27)"> </text><text x="366" y="1340"  fill="rgb(21 21 21)">I</text><text x="369" y="1340"  fill="rgb(32 32 32)">n</text><text x="372" y="1340"  fill="rgb(57 57 57)">s</text><text x="375" y="1340"  fill="rgb(111 111 111)">i</text><text x="378" y="1340"  fill="rgb(190 190 190)">g</text><text x="381" y="1340"  fill="rgb(252 252 252)">h</text><text x="384" y="1340"  fill="rgb(253 253 253)">t</text><text x="387" y="1340"  fill="rgb(244 244 244)">E</text><text x="390" y="1340"  fill="rgb(245 245 245)">rror(); } thi</text><text x="429" y="1340"  fill="rgb(247 247 247)">s</text><text x="432" y="1340"  fill="rgb(255 255 255)">.</text><text x="435" y="1340"  fill="rgb(198 198 198)">t</text><text x="438" y="1340"  fill="rgb(74 74 74)">r</text><text x="441" y="1340"  fill="rgb(21 21 21)">a</text><text x="444" y="1340"  fill="rgb(26 26 26)">n</text><text x="447" y="1340"  fill="rgb(39 39 39)">s</text><text x="450" y="1340"  fill="rgb(45 45 45)">f</text><text x="453" y="1340"  fill="rgb(48 48 48)">o</text><text x="456" y="1340"  fill="rgb(49 49 49)">r</text><text x="459" y="1340"  fill="rgb(50 50 50)">m</text><text x="462" y="1340"  fill="rgb(52 52 52)">a</text><text x="465" y="1340"  fill="rgb(51 51 51)">t</text><text x="468" y="1340"  fill="rgb(50 50 50)">io</text><text x="474" y="1340"  fill="rgb(51 51 51)">nKe</text><text x="483" y="1340"  fill="rgb(54 54 54)">y</text><text x="486" y="1340"  fill="rgb(26 26 26)">.</text><text x="489" y="1340"  fill="rgb(88 88 88)">p</text><text x="492" y="1340"  fill="rgb(239 239 239)">u</text><text x="495" y="1340"  fill="rgb(251 251 251)">s</text><text x="498" y="1340"  fill="rgb(245 245 245)">h(appl</text><text x="516" y="1340"  fill="rgb(246 246 246)">y</text><text x="519" y="1340"  fill="rgb(251 251 251)">k</text><text x="522" y="1340"  fill="rgb(157 157 157)">e</text><text x="525" y="1340"  fill="rgb(39 39 39)">y</text><text x="528" y="1340"  fill="rgb(47 47 47)">)</text><text x="531" y="1340"  fill="rgb(48 48 48)">;</text><text x="534" y="1340"  fill="rgb(49 49 49)"> if</text><text x="543" y="1340"  fill="rgb(48 48 48)"> </text><text x="546" y="1340"  fill="rgb(27 27 27)">(</text><text x="549" y="1340"  fill="rgb(155 155 155)">A</text><text x="552" y="1340"  fill="rgb(254 254 254)">r</text><text x="555" y="1340"  fill="rgb(248 248 248)">r</text><text x="558" y="1340"  fill="rgb(245 245 245)">ay.isAr</text><text x="579" y="1340"  fill="rgb(248 248 248)">r</text><text x="582" y="1340"  fill="rgb(249 249 249)">a</text><text x="585" y="1340"  fill="rgb(161 161 161)">y</text><text x="588" y="1340"  fill="rgb(33 33 33)">(</text><text x="591" y="1340"  fill="rgb(26 26 26)">c</text><text x="594" y="1340"  fill="rgb(51 51 51)">r</text><text x="597" y="1340"  fill="rgb(50 50 50)">i</text><text x="600" y="1340"  fill="rgb(48 48 48)">ter</text><text x="609" y="1340"  fill="rgb(44 44 44)">i</text><text x="612" y="1340"  fill="rgb(24 24 24)">a</text><text x="615" y="1340"  fill="rgb(53 53 53)">)</text><text x="618" y="1340"  fill="rgb(193 193 193)"> </text><text x="621" y="1340"  fill="rgb(255 255 255)">|</text><text x="624" y="1340"  fill="rgb(251 251 251)">|</text><text x="627" y="1340"  fill="rgb(244 244 244)"> </text><text x="630" y="1340"  fill="rgb(245 245 245)">Object.keys(crit</text><text x="678" y="1340"  fill="rgb(244 244 244)">e</text><text x="681" y="1340"  fill="rgb(255 255 255)">r</text><text x="684" y="1340"  fill="rgb(246 246 246)">i</text><text x="687" y="1340"  fill="rgb(125 125 125)">a</text><text x="690" y="1340"  fill="rgb(28 28 28)">)</text><text x="693" y="1340"  fill="rgb(39 39 39)">.</text><text x="696" y="1340"  fill="rgb(48 48 48)">l</text><text x="699" y="1340"  fill="rgb(49 49 49)">eng</text><text x="708" y="1340"  fill="rgb(48 48 48)">t</text><text x="711" y="1340"  fill="rgb(52 52 52)">h</text><text x="714" y="1340"  fill="rgb(34 34 34)"> </text><text x="717" y="1340"  fill="rgb(25 25 25)">&gt;</text><text x="720" y="1340"  fill="rgb(132 132 132)"> </text><text x="723" y="1340"  fill="rgb(241 241 241)">1</text><text x="726" y="1340"  fill="rgb(250 250 250)">)</text><text x="729" y="1340"  fill="rgb(245 245 245)"> { throw</text><text x="753" y="1340"  fill="rgb(255 255 255)"> </text><text x="756" y="1340"  fill="rgb(194 194 194)">n</text><text x="759" y="1340"  fill="rgb(53 53 53)">e</text><text x="762" y="1340"  fill="rgb(37 37 37)">w</text><text x="765" y="1340"  fill="rgb(48 48 48)"> </text><text x="768" y="1340"  fill="rgb(49 49 49)">Ins</text><text x="777" y="1340"  fill="rgb(48 48 48)">i</text><text x="780" y="1340"  fill="rgb(23 23 23)">g</text><text x="783" y="1340"  fill="rgb(102 102 102)">h</text><text x="786" y="1340"  fill="rgb(249 249 249)">t</text><text x="789" y="1340"  fill="rgb(252 252 252)">E</text><text x="792" y="1340"  fill="rgb(245 245 245)">rror(); } let </text><text x="834" y="1340"  fill="rgb(250 250 250)">a</text><text x="837" y="1340"  fill="rgb(248 248 248)">p</text><text x="840" y="1340"  fill="rgb(130 130 130)">p</text><text x="843" y="1340"  fill="rgb(29 29 29)">l</text><text x="846" y="1340"  fill="rgb(48 48 48)">y</text><text x="849" y="1340"  fill="rgb(49 49 49)">tok</text><text x="858" y="1340"  fill="rgb(48 48 48)">e</text><text x="861" y="1340"  fill="rgb(46 46 46)">n</text><text x="864" y="1340"  fill="rgb(42 42 42)">:</text><text x="867" y="1340"  fill="rgb(182 182 182)"> </text><text x="870" y="1340"  fill="rgb(252 252 252)">s</text><text x="873" y="1340"  fill="rgb(245 245 245)">tring = Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(</text><text x="0" y="1345"  fill="rgb(245 245 245)">applytoken)) { throw new InsightError(); } let key: string[] = criteria[applytoken].split</text><text x="267" y="1345"  fill="rgb(244 244 244)">(</text><text x="270" y="1345"  fill="rgb(245 245 245)">&quot;</text><text x="273" y="1345"  fill="rgb(255 255 255)">_&quot;</text><text x="279" y="1345"  fill="rgb(245 245 245)">)</text><text x="282" y="1345"  fill="rgb(216 216 216)">;</text><text x="285" y="1345"  fill="rgb(166 166 166)"> </text><text x="288" y="1345"  fill="rgb(116 116 116)">i</text><text x="291" y="1345"  fill="rgb(83 83 83)">f</text><text x="294" y="1345"  fill="rgb(55 55 55)"> </text><text x="297" y="1345"  fill="rgb(39 39 39)">(</text><text x="300" y="1345"  fill="rgb(31 31 31)">k</text><text x="303" y="1345"  fill="rgb(26 26 26)">e</text><text x="306" y="1345"  fill="rgb(27 27 27)">y</text><text x="309" y="1345"  fill="rgb(29 29 29)">.</text><text x="312" y="1345"  fill="rgb(31 31 31)">length !==</text><text x="342" y="1345"  fill="rgb(29 29 29)"> </text><text x="345" y="1345"  fill="rgb(27 27 27)">2</text><text x="348" y="1345"  fill="rgb(25 25 25)">)</text><text x="351" y="1345"  fill="rgb(29 29 29)"> </text><text x="354" y="1345"  fill="rgb(37 37 37)">{</text><text x="357" y="1345"  fill="rgb(49 49 49)"> </text><text x="360" y="1345"  fill="rgb(68 68 68)">t</text><text x="363" y="1345"  fill="rgb(96 96 96)">h</text><text x="366" y="1345"  fill="rgb(131 131 131)">r</text><text x="369" y="1345"  fill="rgb(179 179 179)">o</text><text x="372" y="1345"  fill="rgb(224 224 224)">w</text><text x="375" y="1345"  fill="rgb(248 248 248)"> </text><text x="378" y="1345"  fill="rgb(255 255 255)">n</text><text x="381" y="1345"  fill="rgb(253 253 253)">e</text><text x="384" y="1345"  fill="rgb(244 244 244)">w</text><text x="387" y="1345"  fill="rgb(245 245 245)"> InsightError(</text><text x="429" y="1345"  fill="rgb(244 244 244)">)</text><text x="432" y="1345"  fill="rgb(250 250 250)">;</text><text x="435" y="1345"  fill="rgb(255 255 255)"> </text><text x="438" y="1345"  fill="rgb(234 234 234)">}</text><text x="441" y="1345"  fill="rgb(158 158 158)"> </text><text x="444" y="1345"  fill="rgb(89 89 89)">i</text><text x="447" y="1345"  fill="rgb(51 51 51)">f</text><text x="450" y="1345"  fill="rgb(32 32 32)"> </text><text x="453" y="1345"  fill="rgb(26 26 26)">(</text><text x="456" y="1345"  fill="rgb(29 29 29)">t</text><text x="459" y="1345"  fill="rgb(31 31 31)">his.mto</text><text x="480" y="1345"  fill="rgb(28 28 28)">k</text><text x="483" y="1345"  fill="rgb(24 24 24)">e</text><text x="486" y="1345"  fill="rgb(32 32 32)">n</text><text x="489" y="1345"  fill="rgb(119 119 119)">.</text><text x="492" y="1345"  fill="rgb(242 242 242)">i</text><text x="495" y="1345"  fill="rgb(251 251 251)">n</text><text x="498" y="1345"  fill="rgb(245 245 245)">cludes(</text><text x="519" y="1345"  fill="rgb(252 252 252)">a</text><text x="522" y="1345"  fill="rgb(175 175 175)">p</text><text x="525" y="1345"  fill="rgb(37 37 37)">p</text><text x="528" y="1345"  fill="rgb(24 24 24)">l</text><text x="531" y="1345"  fill="rgb(27 27 27)">y</text><text x="534" y="1345"  fill="rgb(28 28 28)">t</text><text x="537" y="1345"  fill="rgb(29 29 29)">o</text><text x="540" y="1345"  fill="rgb(27 27 27)">k</text><text x="543" y="1345"  fill="rgb(24 24 24)">e</text><text x="546" y="1345"  fill="rgb(26 26 26)">n</text><text x="549" y="1345"  fill="rgb(172 172 172)">)</text><text x="552" y="1345"  fill="rgb(255 255 255)">)</text><text x="555" y="1345"  fill="rgb(247 247 247)"> </text><text x="558" y="1345"  fill="rgb(245 245 245)">{ if (!</text><text x="579" y="1345"  fill="rgb(253 253 253)">(</text><text x="582" y="1345"  fill="rgb(211 211 211)">t</text><text x="585" y="1345"  fill="rgb(33 33 33)">h</text><text x="588" y="1345"  fill="rgb(7 7 7)">i</text><text x="591" y="1345"  fill="rgb(30 30 30)">s</text><text x="594" y="1345"  fill="rgb(29 29 29)">.</text><text x="597" y="1345"  fill="rgb(28 28 28)">v</text><text x="600" y="1345"  fill="rgb(29 29 29)">a</text><text x="603" y="1345"  fill="rgb(27 27 27)">l</text><text x="606" y="1345"  fill="rgb(25 25 25)">i</text><text x="609" y="1345"  fill="rgb(31 31 31)">d</text><text x="612" y="1345"  fill="rgb(84 84 84)">a</text><text x="615" y="1345"  fill="rgb(205 205 205)">t</text><text x="618" y="1345"  fill="rgb(255 255 255)">e</text><text x="621" y="1345"  fill="rgb(249 249 249)">I</text><text x="624" y="1345"  fill="rgb(244 244 244)">d</text><text x="627" y="1345"  fill="rgb(245 245 245)">string(key[0]) &amp;&amp; </text><text x="681" y="1345"  fill="rgb(244 244 244)">t</text><text x="684" y="1345"  fill="rgb(255 255 255)">h</text><text x="687" y="1345"  fill="rgb(251 251 251)">i</text><text x="690" y="1345"  fill="rgb(149 149 149)">s</text><text x="693" y="1345"  fill="rgb(43 43 43)">.</text><text x="696" y="1345"  fill="rgb(23 23 23)">m</text><text x="699" y="1345"  fill="rgb(25 25 25)">f</text><text x="702" y="1345"  fill="rgb(29 29 29)">ield</text><text x="714" y="1345"  fill="rgb(28 28 28)">s</text><text x="717" y="1345"  fill="rgb(6 6 6)">.</text><text x="720" y="1345"  fill="rgb(14 14 14)">i</text><text x="723" y="1345"  fill="rgb(181 181 181)">n</text><text x="726" y="1345"  fill="rgb(255 255 255)">c</text><text x="729" y="1345"  fill="rgb(245 245 245)">ludes(ke</text><text x="753" y="1345"  fill="rgb(254 254 254)">y</text><text x="756" y="1345"  fill="rgb(211 211 211)">[</text><text x="759" y="1345"  fill="rgb(60 60 60)">1</text><text x="762" y="1345"  fill="rgb(17 17 17)">]</text><text x="765" y="1345"  fill="rgb(26 26 26)">)</text><text x="768" y="1345"  fill="rgb(29 29 29)">))</text><text x="774" y="1345"  fill="rgb(28 28 28)"> </text><text x="777" y="1345"  fill="rgb(24 24 24)">{</text><text x="780" y="1345"  fill="rgb(14 14 14)"> </text><text x="783" y="1345"  fill="rgb(122 122 122)">t</text><text x="786" y="1345"  fill="rgb(254 254 254)">h</text><text x="789" y="1345"  fill="rgb(249 249 249)">r</text><text x="792" y="1345"  fill="rgb(245 245 245)">ow new Insight</text><text x="834" y="1345"  fill="rgb(248 248 248)">E</text><text x="837" y="1345"  fill="rgb(252 252 252)">r</text><text x="840" y="1345"  fill="rgb(148 148 148)">r</text><text x="843" y="1345"  fill="rgb(20 20 20)">o</text><text x="846" y="1345"  fill="rgb(24 24 24)">r</text><text x="849" y="1345"  fill="rgb(27 27 27)">(</text><text x="852" y="1345"  fill="rgb(29 29 29)">);</text><text x="858" y="1345"  fill="rgb(27 27 27)"> </text><text x="861" y="1345"  fill="rgb(24 24 24)">}</text><text x="864" y="1345"  fill="rgb(47 47 47)"> </text><text x="867" y="1345"  fill="rgb(198 198 198)">}</text><text x="870" y="1345"  fill="rgb(252 252 252)"> </text><text x="873" y="1345"  fill="rgb(245 245 245)">else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields</text><text x="0" y="1350"  fill="rgb(245 245 245)">.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightError(); } } } } pu</text><text x="276" y="1350"  fill="rgb(246 246 246)">b</text><text x="279" y="1350"  fill="rgb(252 252 252)">l</text><text x="282" y="1350"  fill="rgb(255 255 255)">i</text><text x="285" y="1350"  fill="rgb(254 254 254)">c</text><text x="288" y="1350"  fill="rgb(248 248 248)"> </text><text x="291" y="1350"  fill="rgb(237 237 237)">v</text><text x="294" y="1350"  fill="rgb(208 208 208)">a</text><text x="297" y="1350"  fill="rgb(177 177 177)">l</text><text x="300" y="1350"  fill="rgb(152 152 152)">i</text><text x="303" y="1350"  fill="rgb(129 129 129)">d</text><text x="306" y="1350"  fill="rgb(113 113 113)">a</text><text x="309" y="1350"  fill="rgb(98 98 98)">t</text><text x="312" y="1350"  fill="rgb(85 85 85)">e</text><text x="315" y="1350"  fill="rgb(83 83 83)">O</text><text x="318" y="1350"  fill="rgb(84 84 84)">ptions(</text><text x="339" y="1350"  fill="rgb(86 86 86)">q</text><text x="342" y="1350"  fill="rgb(95 95 95)">:</text><text x="345" y="1350"  fill="rgb(110 110 110)"> </text><text x="348" y="1350"  fill="rgb(125 125 125)">a</text><text x="351" y="1350"  fill="rgb(148 148 148)">n</text><text x="354" y="1350"  fill="rgb(172 172 172)">y</text><text x="357" y="1350"  fill="rgb(197 197 197)">)</text><text x="360" y="1350"  fill="rgb(226 226 226)">:</text><text x="363" y="1350"  fill="rgb(244 244 244)"> </text><text x="366" y="1350"  fill="rgb(249 249 249)">v</text><text x="369" y="1350"  fill="rgb(254 254 254)">o</text><text x="372" y="1350"  fill="rgb(255 255 255)">i</text><text x="375" y="1350"  fill="rgb(251 251 251)">d</text><text x="378" y="1350"  fill="rgb(246 246 246)"> </text><text x="381" y="1350"  fill="rgb(245 245 245)">{ let keys: any[]</text><text x="432" y="1350"  fill="rgb(244 244 244)"> </text><text x="435" y="1350"  fill="rgb(246 246 246)">=</text><text x="438" y="1350"  fill="rgb(255 255 255)"> </text><text x="441" y="1350"  fill="rgb(253 253 253)">O</text><text x="444" y="1350"  fill="rgb(243 243 243)">b</text><text x="447" y="1350"  fill="rgb(204 204 204)">j</text><text x="450" y="1350"  fill="rgb(159 159 159)">e</text><text x="453" y="1350"  fill="rgb(125 125 125)">c</text><text x="456" y="1350"  fill="rgb(98 98 98)">t</text><text x="459" y="1350"  fill="rgb(83 83 83)">.k</text><text x="465" y="1350"  fill="rgb(84 84 84)">eys(q</text><text x="480" y="1350"  fill="rgb(96 96 96)">)</text><text x="483" y="1350"  fill="rgb(122 122 122)">;</text><text x="486" y="1350"  fill="rgb(172 172 172)"> </text><text x="489" y="1350"  fill="rgb(238 238 238)">f</text><text x="492" y="1350"  fill="rgb(250 250 250)">o</text><text x="495" y="1350"  fill="rgb(245 245 245)">r (let k</text><text x="519" y="1350"  fill="rgb(248 248 248)">e</text><text x="522" y="1350"  fill="rgb(240 240 240)">y</text><text x="525" y="1350"  fill="rgb(175 175 175)"> </text><text x="528" y="1350"  fill="rgb(124 124 124)">o</text><text x="531" y="1350"  fill="rgb(109 109 109)">f</text><text x="534" y="1350"  fill="rgb(104 104 104)"> </text><text x="537" y="1350"  fill="rgb(105 105 105)">k</text><text x="540" y="1350"  fill="rgb(108 108 108)">e</text><text x="543" y="1350"  fill="rgb(122 122 122)">y</text><text x="546" y="1350"  fill="rgb(171 171 171)">s</text><text x="549" y="1350"  fill="rgb(238 238 238)">)</text><text x="552" y="1350"  fill="rgb(249 249 249)"> </text><text x="555" y="1350"  fill="rgb(245 245 245)">{ if (ke</text><text x="579" y="1350"  fill="rgb(248 248 248)">y</text><text x="582" y="1350"  fill="rgb(234 234 234)"> </text><text x="585" y="1350"  fill="rgb(166 166 166)">!</text><text x="588" y="1350"  fill="rgb(127 127 127)">=</text><text x="591" y="1350"  fill="rgb(112 112 112)">=</text><text x="594" y="1350"  fill="rgb(105 105 105)"> &quot;C</text><text x="603" y="1350"  fill="rgb(109 109 109)">O</text><text x="606" y="1350"  fill="rgb(123 123 123)">L</text><text x="609" y="1350"  fill="rgb(163 163 163)">U</text><text x="612" y="1350"  fill="rgb(231 231 231)">M</text><text x="615" y="1350"  fill="rgb(255 255 255)">N</text><text x="618" y="1350"  fill="rgb(247 247 247)">S</text><text x="621" y="1350"  fill="rgb(244 244 244)">&quot;</text><text x="624" y="1350"  fill="rgb(245 245 245)"> &amp;&amp; key !== &quot;ORDER&quot;) </text><text x="687" y="1350"  fill="rgb(254 254 254)">{</text><text x="690" y="1350"  fill="rgb(252 252 252)"> </text><text x="693" y="1350"  fill="rgb(194 194 194)">t</text><text x="696" y="1350"  fill="rgb(130 130 130)">h</text><text x="699" y="1350"  fill="rgb(110 110 110)">r</text><text x="702" y="1350"  fill="rgb(105 105 105)">o</text><text x="705" y="1350"  fill="rgb(106 106 106)">w n</text><text x="714" y="1350"  fill="rgb(111 111 111)">e</text><text x="717" y="1350"  fill="rgb(122 122 122)">w</text><text x="720" y="1350"  fill="rgb(155 155 155)"> </text><text x="723" y="1350"  fill="rgb(224 224 224)">I</text><text x="726" y="1350"  fill="rgb(250 250 250)">n</text><text x="729" y="1350"  fill="rgb(245 245 245)">sightErr</text><text x="753" y="1350"  fill="rgb(246 246 246)">o</text><text x="756" y="1350"  fill="rgb(248 248 248)">r</text><text x="759" y="1350"  fill="rgb(192 192 192)">(</text><text x="762" y="1350"  fill="rgb(130 130 130)">)</text><text x="765" y="1350"  fill="rgb(111 111 111)">;</text><text x="768" y="1350"  fill="rgb(105 105 105)"> </text><text x="771" y="1350"  fill="rgb(104 104 104)">}</text><text x="774" y="1350"  fill="rgb(107 107 107)"> </text><text x="777" y="1350"  fill="rgb(115 115 115)">}</text><text x="780" y="1350"  fill="rgb(151 151 151)"> </text><text x="783" y="1350"  fill="rgb(224 224 224)">t</text><text x="786" y="1350"  fill="rgb(251 251 251)">h</text><text x="789" y="1350"  fill="rgb(245 245 245)">is.validateColum</text><text x="837" y="1350"  fill="rgb(251 251 251)">n</text><text x="840" y="1350"  fill="rgb(233 233 233)">s</text><text x="843" y="1350"  fill="rgb(159 159 159)">(</text><text x="846" y="1350"  fill="rgb(118 118 118)">q</text><text x="849" y="1350"  fill="rgb(107 107 107)">.</text><text x="852" y="1350"  fill="rgb(104 104 104)">C</text><text x="855" y="1350"  fill="rgb(105 105 105)">O</text><text x="858" y="1350"  fill="rgb(110 110 110)">L</text><text x="861" y="1350"  fill="rgb(130 130 130)">U</text><text x="864" y="1350"  fill="rgb(186 186 186)">M</text><text x="867" y="1350"  fill="rgb(244 244 244)">N</text><text x="870" y="1350"  fill="rgb(247 247 247)">S</text><text x="873" y="1350"  fill="rgb(245 245 245)">); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColumns(q: any): void { if (!q </text><text x="0" y="1355"  fill="rgb(245 245 245)">|| q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (this.transformationKe</text><text x="285" y="1355"  fill="rgb(246 246 246)">y</text><text x="288" y="1355"  fill="rgb(248 248 248)">.</text><text x="291" y="1355"  fill="rgb(249 249 249)">l</text><text x="294" y="1355"  fill="rgb(251 251 251)">e</text><text x="297" y="1355"  fill="rgb(253 253 253)">n</text><text x="300" y="1355"  fill="rgb(254 254 254)">gt</text><text x="306" y="1355"  fill="rgb(255 255 255)">h</text><text x="309" y="1355"  fill="rgb(248 248 248)"> </text><text x="312" y="1355"  fill="rgb(239 239 239)">&gt; 0) { if</text><text x="339" y="1355"  fill="rgb(240 240 240)"> </text><text x="342" y="1355"  fill="rgb(247 247 247)">(</text><text x="345" y="1355"  fill="rgb(254 254 254)">!</text><text x="348" y="1355"  fill="rgb(255 255 255)">t</text><text x="351" y="1355"  fill="rgb(254 254 254)">h</text><text x="354" y="1355"  fill="rgb(253 253 253)">i</text><text x="357" y="1355"  fill="rgb(252 252 252)">s</text><text x="360" y="1355"  fill="rgb(250 250 250)">.</text><text x="363" y="1355"  fill="rgb(249 249 249)">t</text><text x="366" y="1355"  fill="rgb(247 247 247)">r</text><text x="369" y="1355"  fill="rgb(246 246 246)">a</text><text x="372" y="1355"  fill="rgb(245 245 245)">nsformationKey.includes</text><text x="441" y="1355"  fill="rgb(247 247 247)">(</text><text x="444" y="1355"  fill="rgb(249 249 249)">m</text><text x="447" y="1355"  fill="rgb(251 251 251)">s</text><text x="450" y="1355"  fill="rgb(253 253 253)">k</text><text x="453" y="1355"  fill="rgb(255 255 255)">e</text><text x="456" y="1355"  fill="rgb(249 249 249)">y</text><text x="459" y="1355"  fill="rgb(239 239 239)">)) { th</text><text x="480" y="1355"  fill="rgb(248 248 248)">r</text><text x="483" y="1355"  fill="rgb(255 255 255)">o</text><text x="486" y="1355"  fill="rgb(253 253 253)">w</text><text x="489" y="1355"  fill="rgb(248 248 248)"> </text><text x="492" y="1355"  fill="rgb(245 245 245)">new Insigh</text><text x="522" y="1355"  fill="rgb(247 247 247)">t</text><text x="525" y="1355"  fill="rgb(253 253 253)">E</text><text x="528" y="1355"  fill="rgb(255 255 255)">r</text><text x="531" y="1355"  fill="rgb(254 254 254)">r</text><text x="534" y="1355"  fill="rgb(251 251 251)">or</text><text x="540" y="1355"  fill="rgb(254 254 254)">(</text><text x="543" y="1355"  fill="rgb(255 255 255)">)</text><text x="546" y="1355"  fill="rgb(253 253 253)">;</text><text x="549" y="1355"  fill="rgb(247 247 247)"> </text><text x="552" y="1355"  fill="rgb(245 245 245)">} } else {</text><text x="582" y="1355"  fill="rgb(246 246 246)"> </text><text x="585" y="1355"  fill="rgb(253 253 253)">t</text><text x="588" y="1355"  fill="rgb(255 255 255)">hi</text><text x="594" y="1355"  fill="rgb(251 251 251)">s.v</text><text x="603" y="1355"  fill="rgb(254 254 254)">a</text><text x="606" y="1355"  fill="rgb(255 255 255)">l</text><text x="609" y="1355"  fill="rgb(253 253 253)">i</text><text x="612" y="1355"  fill="rgb(249 249 249)">d</text><text x="615" y="1355"  fill="rgb(246 246 246)">a</text><text x="618" y="1355"  fill="rgb(245 245 245)">teKey(mskey); } this.key</text><text x="690" y="1355"  fill="rgb(247 247 247)">s</text><text x="693" y="1355"  fill="rgb(252 252 252)">I</text><text x="696" y="1355"  fill="rgb(254 254 254)">n</text><text x="699" y="1355"  fill="rgb(255 255 255)">Q</text><text x="702" y="1355"  fill="rgb(251 251 251)">uery</text><text x="714" y="1355"  fill="rgb(254 254 254)">.</text><text x="717" y="1355"  fill="rgb(255 255 255)">p</text><text x="720" y="1355"  fill="rgb(254 254 254)">u</text><text x="723" y="1355"  fill="rgb(247 247 247)">s</text><text x="726" y="1355"  fill="rgb(245 245 245)">h(mskey); </text><text x="756" y="1355"  fill="rgb(246 246 246)">}</text><text x="759" y="1355"  fill="rgb(252 252 252)"> </text><text x="762" y="1355"  fill="rgb(255 255 255)">}</text><text x="765" y="1355"  fill="rgb(254 254 254)"> </text><text x="768" y="1355"  fill="rgb(251 251 251)">p</text><text x="771" y="1355"  fill="rgb(250 250 250)">r</text><text x="774" y="1355"  fill="rgb(252 252 252)">i</text><text x="777" y="1355"  fill="rgb(255 255 255)">v</text><text x="780" y="1355"  fill="rgb(254 254 254)">a</text><text x="783" y="1355"  fill="rgb(249 249 249)">t</text><text x="786" y="1355"  fill="rgb(245 245 245)">e validateOrder(q:</text><text x="840" y="1355"  fill="rgb(248 248 248)"> </text><text x="843" y="1355"  fill="rgb(254 254 254)">a</text><text x="846" y="1355"  fill="rgb(255 255 255)">n</text><text x="849" y="1355"  fill="rgb(253 253 253)">y</text><text x="852" y="1355"  fill="rgb(250 250 250)">)</text><text x="855" y="1355"  fill="rgb(251 251 251)">:</text><text x="858" y="1355"  fill="rgb(254 254 254)"> v</text><text x="864" y="1355"  fill="rgb(252 252 252)">o</text><text x="867" y="1355"  fill="rgb(246 246 246)">i</text><text x="870" y="1355"  fill="rgb(245 245 245)">d { if (Array.isArray(q)) { throw new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this</text><text x="0" y="1360"  fill="rgb(245 245 245)">.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q</text><text x="309" y="1360"  fill="rgb(246 246 246)">)</text><text x="312" y="1360"  fill="rgb(248 248 248)">.length !=</text><text x="342" y="1360"  fill="rgb(247 247 247)">=</text><text x="345" y="1360"  fill="rgb(245 245 245)"> 2) { throw new InsightError(); } if </text><text x="456" y="1360"  fill="rgb(246 246 246)">(</text><text x="459" y="1360"  fill="rgb(248 248 248)">q.dir !</text><text x="480" y="1360"  fill="rgb(246 246 246)">=</text><text x="483" y="1360"  fill="rgb(245 245 245)">= &quot;UP&quot; &amp;&amp; q.dir !</text><text x="534" y="1360"  fill="rgb(246 246 246)">==</text><text x="540" y="1360"  fill="rgb(245 245 245)"> &quot;DOWN&quot;) { throw n</text><text x="594" y="1360"  fill="rgb(246 246 246)">ew </text><text x="603" y="1360"  fill="rgb(245 245 245)">InsightError(); } let keys: any =</text><text x="702" y="1360"  fill="rgb(246 246 246)"> q.k</text><text x="714" y="1360"  fill="rgb(245 245 245)">eys; if (!Array.is</text><text x="768" y="1360"  fill="rgb(246 246 246)">Arr</text><text x="777" y="1360"  fill="rgb(245 245 245)">ay(keys) || keys.length &lt;</text><text x="852" y="1360"  fill="rgb(246 246 246)"> 1</text><text x="858" y="1360"  fill="rgb(245 245 245)">) { throw new InsightError(); } for (let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { th</text><text x="0" y="1365"  fill="rgb(245 245 245)">row new InsightError(); } } } } public validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Object.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let value: any = Object.values(q)[0]; switch (key)</text><text x="0" y="1370"  fill="rgb(245 245 245)"> { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } this.validateFilter(value); } pri</text><text x="0" y="1375"  fill="rgb(245 245 245)">vate validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { throw new InsightError(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let str: any = Object.values(value)[0]; if (type</text><text x="0" y="1380"  fill="rgb(245 245 245)">of str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !this.sfields.includes(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let mkey: string[] = Object.keys(value)[0].split</text><text x="0" y="1385"  fill="rgb(245 245 245)">(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num: any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: any): void { if (!Array.isArray(value) || value.length &lt;</text><text x="0" y="1390"  fill="rgb(245 245 245)"> 1) { throw new InsightError(); } for (let innerObject of value) { this.validateFilter(innerObject); } } private validateIdstring(idstring: string): boolean { if (this.idInQuery.length === 0) { for (let insightDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.kind === InsightDatasetKind.Courses) { this.mfields = </text><text x="0" y="1395"  fill="rgb(245 245 245)">this.coursemfields; this.sfields = this.coursesfields; } else { this.mfields = this.roommfields; this.sfields = this.roomsfields; } return true; } } return false; } else { return this.idInQuery.includes(idstring); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; export default class QueryV</text><text x="0" y="1400"  fill="rgb(245 245 245)">alidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] = [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private re</text><text x="0" y="1405"  fill="rgb(245 245 245)">adonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // make sure the query only has one id private keysInQuery: string[]; // all keys appeared in columns after being validated private transformationKey: string[]; // keys appeared in transformation, if there is a transformation private allInsightDataset: Ins</text><text x="0" y="1410"  fill="rgb(245 245 245)">ightDataset[]; private mfields: string[]; private sfields: string[]; constructor(insightDatasets: InsightDataset[]) { this.idInQuery = []; this.keysInQuery = []; this.transformationKey = []; this.allInsightDataset = insightDatasets; } public validate(q: any): void { if (!q || !q.WHERE || !q.OPTIONS) { throw new InsightError(); } for (let key of Object.keys(q)) { if (key !== &quot;OPTIONS&quot; &amp;&amp;</text><text x="0" y="1415"  fill="rgb(245 245 245)"> key !== &quot;WHERE&quot; &amp;&amp; key !== &quot;TRANSFORMATIONS&quot;) { throw new InsightError(); } } this.validateWhere(q.WHERE); if (q.TRANSFORMATIONS) { this.validateTransformations(q.TRANSFORMATIONS); } this.validateOptions(q.OPTIONS); } public validateTransformations(q: any): void { if (typeof q.GROUP === &quot;undefined&quot; || typeof q.APPLY === &quot;undefined&quot; || Object.keys(q).length !== 2) { throw new InsightErr</text><text x="0" y="1420"  fill="rgb(245 245 245)">or(); } this.validateGROUP(q.GROUP); this.validateAPPLY(q.APPLY); } private validateGROUP(q: any): void { if (!Array.isArray(q) || q.length &lt; 1) { throw new InsightError(); // q should be an object, and should has at least one element } for (let key of q) { this.validateKey(key); this.transformationKey.push(key); // if the key is valid, push it to transformationKey } } private validateK</text><text x="0" y="1425"  fill="rgb(245 245 245)">ey(key: string): void { let splittedKey: string[] = key.split(&quot;_&quot;); if (splittedKey.length !== 2) { throw new InsightError(); } if (!(this.validateIdstring(splittedKey[0]) &amp;&amp; (this.mfields.includes(splittedKey[1]) || this.sfields.includes(splittedKey[1])))) { throw new InsightError(); } } private validateAPPLY(q: any): void { if (!Array.isArray(q)) { throw new InsightError(); // q shoul</text><text x="0" y="1430"  fill="rgb(245 245 245)">d be an array, and should have at least one element } for (let applyrule of q) { if (Array.isArray(applyrule) || Object.keys(applyrule).length &gt; 1) { throw new InsightError(); } let applykey: string = Object.keys(applyrule)[0]; let criteria = applyrule[applykey]; if (applykey.length === 0 || applykey.includes(&quot;_&quot;) || this.transformationKey.includes(applykey)) { throw new InsightError();</text><text x="0" y="1435"  fill="rgb(245 245 245)"> } this.transformationKey.push(applykey); if (Array.isArray(criteria) || Object.keys(criteria).length &gt; 1) { throw new InsightError(); } let applytoken: string = Object.keys(criteria)[0]; if (!this.mtoken.includes(applytoken) &amp;&amp; !this.mstoken.includes(applytoken)) { throw new InsightError(); } let key: string[] = criteria[applytoken].split(&quot;_&quot;); if (key.length !== 2) { throw new Insight</text><text x="0" y="1440"  fill="rgb(245 245 245)">Error(); } if (this.mtoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; this.mfields.includes(key[1]))) { throw new InsightError(); } } else if (this.mstoken.includes(applytoken)) { if (!(this.validateIdstring(key[0]) &amp;&amp; (this.sfields.includes(key[1]) || this.mfields.includes(key[1])))) { throw new InsightError(); } } } } public validateOptions(q: any): void { let keys</text><text x="0" y="1445"  fill="rgb(245 245 245)">: any[] = Object.keys(q); for (let key of keys) { if (key !== &quot;COLUMNS&quot; &amp;&amp; key !== &quot;ORDER&quot;) { throw new InsightError(); } } this.validateColumns(q.COLUMNS); if (q.ORDER) { this.validateOrder(q.ORDER); } } private validateColumns(q: any): void { if (!q || q.length &lt; 1) { throw new InsightError(); } for (let mskey of q) { if (this.transformationKey.length &gt; 0) { if (!this.transformationKe</text><text x="0" y="1450"  fill="rgb(245 245 245)">y.includes(mskey)) { throw new InsightError(); } } else { this.validateKey(mskey); } this.keysInQuery.push(mskey); } } private validateOrder(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else if (typeof q === &quot;string&quot;) { if (!this.keysInQuery.includes(q)) { throw new InsightError(); } } else { if (!q.dir || !q.keys || Object.keys(q).length !== 2) { throw new Insigh</text><text x="0" y="1455"  fill="rgb(245 245 245)">tError(); } if (q.dir !== &quot;UP&quot; &amp;&amp; q.dir !== &quot;DOWN&quot;) { throw new InsightError(); } let keys: any = q.keys; if (!Array.isArray(keys) || keys.length &lt; 1) { throw new InsightError(); } for (let anykey of keys) { if (!this.keysInQuery.includes(anykey)) { throw new InsightError(); } } } } public validateWhere(q: any): void { if (Array.isArray(q)) { throw new InsightError(); } else { if (Objec</text><text x="0" y="1460"  fill="rgb(245 245 245)">t.keys(q).length !== 0) { this.validateFilter(q); } } } private validateFilter(q: any): void { if (Object.keys(q).length !== 1) { throw new InsightError(); } else { let key: string = Object.keys(q)[0]; let value: any = Object.values(q)[0]; switch (key) { case &quot;AND&quot;: case &quot;OR&quot;: this.validateANDOR(value); break; case &quot;NOT&quot;: this.validateNOT(value); break; case &quot;GT&quot;: case &quot;LT&quot;: case &quot;EQ&quot;: </text><text x="0" y="1465"  fill="rgb(245 245 245)">this.validateGTLTEQ(value); break; case &quot;IS&quot;: this.validateIS(value); break; default: throw new InsightError(); } } } private validateNOT(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } this.validateFilter(value); } private validateIS(value: any): void { if (typeof value !== &quot;object&quot;) { throw new InsightError(); } if (Object.keys(value).length !== 1) { t</text><text x="0" y="1470"  fill="rgb(245 245 245)">hrow new InsightError(); } let skey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (skey.length !== 2) { throw new InsightError(); } else { let idstring: string = skey[0]; let sfield: string = skey[1]; let str: any = Object.values(value)[0]; if (typeof str !== &quot;string&quot;) { throw new InsightError(); } else { if ((str.slice(1, -1).includes(&quot;*&quot;)) || !this.validateIdstring(idstring) || !th</text><text x="0" y="1475"  fill="rgb(245 245 245)">is.sfields.includes(sfield)) { throw new InsightError(); } } } } private validateGTLTEQ(value: any): void { if (typeof value !== &quot;object&quot; || Object.keys(value).length !== 1) { throw new InsightError(); } let mkey: string[] = Object.keys(value)[0].split(&quot;_&quot;); if (mkey.length !== 2) { throw new InsightError(); } else { let idstring: string = mkey[0]; let mfield: string = mkey[1]; let num:</text><text x="0" y="1480"  fill="rgb(245 245 245)"> any = Object.values(value)[0]; if ((typeof num !== &quot;number&quot;) || !this.validateIdstring(idstring) || !this.mfields.includes(mfield)) { throw new InsightError(); } } } private validateANDOR(value: any): void { if (!Array.isArray(value) || value.length &lt; 1) { throw new InsightError(); } for (let innerObject of value) { this.validateFilter(innerObject); } } private validateIdstring(idstrin</text><text x="0" y="1485"  fill="rgb(245 245 245)">g: string): boolean { if (this.idInQuery.length === 0) { for (let insightDataset of this.allInsightDataset) { if (insightDataset.id === idstring) { this.idInQuery.push(idstring); if (insightDataset.kind === InsightDatasetKind.Courses) { this.mfields = this.coursemfields; this.sfields = this.coursesfields; } else { this.mfields = this.roommfields; this.sfields = this.roomsfields; } retur</text><text x="0" y="1490"  fill="rgb(245 245 245)">n true; } } return false; } else { return this.idInQuery.includes(idstring); } } public getIdInQuery(): string[] { return this.idInQuery; } } import {InsightDataset, InsightDatasetKind, InsightError} from &quot;./IInsightFacade&quot;; export default class QueryValidator { private readonly coursemfields: string[] = [&quot;avg&quot;, &quot;pass&quot;, &quot;fail&quot;, &quot;audit&quot;, &quot;year&quot;]; private readonly coursesfields: string[] </text><text x="0" y="1495"  fill="rgb(245 245 245)">= [&quot;dept&quot;, &quot;id&quot;, &quot;instructor&quot;, &quot;title&quot;, &quot;uuid&quot;]; private readonly roommfields: string[] = [&quot;lat&quot;, &quot;lon&quot;, &quot;seats&quot;]; private readonly roomsfields: string[] = [&quot;fullname&quot;, &quot;shortname&quot;, &quot;number&quot; , &quot;name&quot;, &quot;address&quot;, &quot;type&quot;, &quot;furniture&quot;, &quot;href&quot;]; private readonly mtoken: string[] = [&quot;MAX&quot;, &quot;MIN&quot;, &quot;AVG&quot;, &quot;SUM&quot;]; private readonly mstoken: string[] = [&quot;COUNT&quot;]; private idInQuery: string[]; // m</text></svg>